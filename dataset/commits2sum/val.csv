commits,release
"Version bump (15.1)
Added more debug profile info and hidden esn
Update Polish strings

Update to the last database changes.
Fix esn key handshake on session initialization

In the many prevoius changes i made a mistake,
the esn after initialization should always be maintained
because the key handshake was created with that esn.
To keep in mind that however that the esn from the web login and
esn used locally are different.
Also there was a check for the change of esn in the login was incorrect.
Perform upgrade and configuration checks after login
Implemented create SQLite database
Deleted database files
Readded superclass methods to shared db class
Fix LibraryUpdateService at first run

At service very first run, settings.xml is not created yet and throws an error
""update_frequency = g.ADDON.getSettingInt('auto_update') TypeError: Invalid setting type""
If falkor cache profile list is empty do not delete profiles
Version bump (15.2)","Fixed key handshake at addon first run
Fixed library update service at first run
Local database now dynamically created by code
Profile data is not deleted if an problem occurred
Minor fixes"
"Update CHANGELOG.md
parser(ini): allow setting the section name

In an egg replacer putting `[]` will cause it to not be split at the first dot.

Before this change putting `""find"": { ""/Script/Engine.GameSession.MaxPlayers"": ""<DATA>"" }`
would make the section name `/Script/Engine` and the key `GameSession.MaxPlayers`.  After
this change, the same behavior occurs, but if you wrap the key in `[]` it will set the
section name properly, for example `""find"": { ""[/Script/Engine.GameSession].MaxPlayers"": ""<DATA>"" }`
would make the sesion name `/Script/Engine.GameSession` and the key `MaxPlayers`.

Closes https://github.com/pterodactyl/panel/issues/2533
replace deprecated ioutil function calls
change default version to be 'develop'
config: don't expand 'environment variables'

fixes https://github.com/pterodactyl/panel/issues/3692, again :)
run gofumpt
Update diagnostics command ()

Co-authored-by: Matthew Penner <me@matthewp.io>
ci: fix version replace and Docker version
ci: fix release version, again
RPM is now tracking v1.5.3 ()
Redacts redacted info from all ()
environment: allow overriding memory overhead; closes pterodactyl/panel ()
Don't turn SSL into lowercase ()
Server Event Optimizations ()
router: support the `Access-Control-Request-Private-Network` header ()
Update CHANGELOG.md
Use GID from config for container ()
server: ensure last lines are always logged","Fixed
Fixes SSL paths being improperly converted to lowercase in environments where the path is case-sensitive.
Fixes a memory leak due to the implemention of server event processing.
Changed
Selecting to redact information now redacts URLs from the log output when running the diagnostic command.
Added
Adds support for modifying the default memory overhead percentages in environments where the shipped values are not adequate.
Adds support for sending the Access-Control-Request-Private-Network header in environments where Wings will be accessed over a private network. This is defaulted to off.
SHA256 Checksum"
"Version bump (1.12.6) ()
Fix search by language
Fix missing/wrong MPD data
Version bump (1.12.7) ()","Fixed wrong/missing MPD data
Fixed bug in search by subtitle/audio language"
"Version bump (0.15.10)
Update README.md

*Updated logging instructions
Moved some imports inside func to speedup
Fixed SQLite thread error on py3

ProgrammingError:
SQLite objects created in a thread can only be used in that same thread.
The object was created in thread id 140332173866752 and this is thread
id 140333045176064.
Fixed decode on py3
Fixed default logging level
Print to the log the logging level if enabled
write dvhe codec for hevc-dv* (Dolby Vision) in manifest
Sync with My List only when enabled
Update fr translation
Update Dutch translation

This PR includes:
- Updates and fixes to Dutch translations
Version bump (0.15.11)","Fixed a critical error on auto-update
Fixed some error on py3
Fix to handle dolby vision on Kodi 19
Updated fr_fr, nl_nl translations
Minor fixes"
"v0.3.4
Update liquidjs dependancy
Fixes
Got 3 more skipped tests passing too!
Fixes
Add note about quoted/unquoted includes on liquid templates.
Automatic browsersync server reload if pathPrefix changes in config. All config changes _should_ happen transparently without requiring manual intervention.
Better handling of redirects (with cleanup)
Move browsersync stuff to EleventyServe class.
Check to make sure we have a path before we split it
Switch to an async file read
Fixes, wraps it all in a try catch.
Only browser-sync on --serve
Fix for .htaccess (all files starting with dot) in passthrough copies
make sure path exists when comparing isInclude, removes pify (superfluous with fs-extra)
Fixes
v0.3.5","Eleventy is a simpler Static Site Generator!
https://www.11ty.io/
Getting Started Quick Guide
Support Eleventy by starring us on GitHub! This will increase our project’s visibility on staticgen.com, a big giant list of static site generators.
Follow us on Twitter @​eleven_ty!
Changelog
Option to opt-out of automatic .gitignore ignores in Eleventy. Use eleventyConfig.setUseGitIgnore(false);:
Major semver update: Upgrades liquidjs to 4.0.0:
Fixes issue with using permalink in layout front matter.
Fixes issue with using collections and pagination together
Milestone
Bugs fixed in Milestone"
"Update CHANGELOG.md
Support escaping dollar signs in the YAML config file; closes pterodactyl/panel
Close websocket connections and allow the client to re-connect on send errors; ref pterodactyl/panel
fix incorrect error handling logic when a JWT is created wrongly; closes pterodactyl/panel

Prior to this logic not only was the error response incorrect for events, but we registered event listeners before the authentication event; so if auth failed we flooded the socket with tons of output that was never going to be sent anyways.

This change now waits to register listeners until the socket is fully authenticated and we're guaranteed to have a token present.
Update CHANGELOG.md","Fixed
Fixes improper event registration and error handling during socket authentication that would cause the incorrect error message to be returned to the client, or no error in some scenarios. Event registration is now delayed until the socket is fully authenticated to ensure needless listeners are not registed.
Fixes dollar signs always being evaluated as environment variables with no way to escape them. They can now be escaped as $$ which will transform into a single dollar sign.
Changed
A websocket connection to a server will be closed by Wings if there is a send error encountered and the client will be left to handle reconnections, rather than simply logging the error and continuing to listen for new events.
SHA256 Checksum"
"Version bump (1.2.0)
Update README.md
Intercept missing library on linux
Catch possible error on rollback
Update README.md

New daily builds link
Added accept prop to endpoints config
Fixed double profile switch with autoselection

this also fix:
-case of ProfileMissing, when a profile is deleted and autoselection try
to login with it
-case of ProfileMissing, when open the addon and the profile set as active no more exists
-avoid performing switch profile when return to main menu from sub-menus
Add some falcor json graph helper functions
Revert accept attribute

no influence to the authurl issue
Add profilegate endpoint

to now only for take note
Add json graph optional param
Reviewed first access and profile switch

this is an attempt to reproduce more accurately the access and the profile switch,
in order to be able to find a solution to the http 401 error problem,
the situation has improved but in some cases the error still persist
Fixed unrelated pylint
On Kodi 19 makeLegalFilename is moved to xbmcvfs module
Fixed first param as list
Changed service address with 127.0.0.1 see note
Minor event data update
Fixed h265 video mediaflag
Fixed get_video_raw_data path request

cause of KeyError: u'videos' error when play videos
Init lenght more precise
Fixed conversion of protection data
Catch error 401 more deeply

the http 401 error seem apparently more complex
Fixed send signal to upnext

sending a signal to upnext addon with empty data will cause upnext to crash
this will be handled in the future upnext addon versions
Add CDN selection setting
Catch InputStreamHelper errors avoids confusing users

most of the time they think the problem is in this add-on
Add missing return
fix wrong timestamps in viewing activity
remove fractional seconds sent in logblobs
fix CacheMiss exception in StreamContinuityManager ()

* fix CacheMiss exception in StreamContinuityManager

* convert local variable to class
Reorganized service playback modules
Removed not needed imports
Set time limit for paused playback
Assign proper cdn id after ae8e17aea7478ba24c7281c10e4fe6b83cfebd69
Updated it translation
Try handle MSL error ""Email or password is incorrect""
Fixed password validity check regression
Updated german translation für v.1.2.1 ()

* Updated german translation for v. 1.2.1

See

* Updated german translation

* Fixed ""Open Connect CDN""

See
Version bump (1.2.1)","Reviewed access and profile selection to mitigate http error 401 (not resolved)
Add Open Connect CDN setting
Set time limit for paused playback
Fixed a issue caused wrong date in viewing activity
Fixed dash content protection data
Fixed a issue caused UpNext to crash
Fixed a issue caused KeyError when play videos
Fixed a issue caused TypeError on more addon rollback
Fixed a issue caused a double profile switch on selection
Fixed a issue caused slow playback video starts (on windows)
Fixed a issue caused missing of h265 media flag
Fixed broken ""force the update of my list"" context menu
Some changes for Kodi 19 due to API changes
Updated translations de, it
Other minor improvements/changes"
"v0.3.5
Fixes
Add some tests around
Fixes !!!!!!!!!!!!!!
Regression with data.page.url and data.page.outputPath for
Regressions around url and outputPath in collections
Better handling of vague indexOf errors when passing non-string values to url filter
Add tests and docs around existing support for JSON and JS front matter.
Moved documentation to 11ty.io/docs
Moved docs to 11ty.io
Add logo to README and keywords to package.json
Try to center the logo
Try for centering
Fixes
Comment
v0.3.6","Eleventy is a simpler Static Site Generator!
https://www.11ty.io/
Documentation
Support Eleventy by starring us on GitHub! This will increase our project’s visibility on staticgen.com, a big giant list of static site generators.
Follow us on Twitter @​eleven_ty!
Changelog
Fix issue with cascade of template and directory data files (template values should override directory values, the reverse was happening)
url filter now accepts falsy values (improvement over vague indexOf errors before)
Fix for issue with pagination with aliasing and permalink slug filter
Better top level error handling (get rid of UnhandledPromiseRejectionWarning’s, especially with passthrough copy errors)
Milestone
Bugs fixed in v0.3.6 Milestone"
"Version bump (1.18.3) ()
Use single `viewableId` instead of list

This PR solves (or at least works around?) the issue described in and is inspired by the fixes posted there. I don't know whether this really fixes an underlying issue, but it at least gets playback working again for me.
Fixed tvshow.nfo not exported on library update
Sync translations with en
Update strings.po ()
JP/KR tranlsation (1.18.4) ()
Updated german translation for version 1.18.4 ()
Updated it translation
Version bump (1.18.4) ()","Fix error ""This title is not available to watch instantly"" when using MSL manifest v1
Fixed tvshow.nfo not exported on library auto-update
Update translations gl_es, jp, kr, de"
"Version bump (1.20.4) ()
Revert ""Replaced MSL idtoken auth with netflixid on android""

This reverts commit 906f5dd2406bab1f1756147fede35ca3b284bb10.

Website has fixed the bug
Handle ErrorMessage on display_error_info
Disabled update loco context on playback stop
Removed fetching of loco data

By testing seems the website now is able to auto update the category menu continue watching
Add uiVersion to event params
Pylint fixes
Update Simplified Chinese translation for 1.20.5 ()
update zh_TW language ()
Version bump (1.20.5) ()","NOTICE FOR ANDROID DEVICES: The website has fixed the recent bug for ""MSL: Email or password is incorrect"" error,
so video playback is now restored for all Android devices.
Disabled update loco context, is not more used to update watched status
Minor changes
Update translations zh_cn, zh_tw"
"Fix race condition with File#mkdirs ()
Remove annotations from a list with size greater than 1 while preserving the exising formatting in RemoveAnnotationVisitor. fixes. ()
Added check for empty leadingAnnotations in visitClassDec of RemoveAnnotationVisitor. fixes.
Append `.` to pck in longest common prefix in Autodetect#getPattern. Refactored rewriteImportLayout test to reflect changes. fixes ()
Fixes","Fixes:
Remove annotations from a list with size greater than 1.
RemoveAnnotation throws index out of bounds if a leading annotation doesn't exist
OrderImports sets blocks with common packages to all others.
JavaVisitor#visitMethodDeclaration doesn't visit annotations on the name prefix."
"Fix AddGradleEnterpriseTest to account for minor version upgrades
Added support for empty json files.
Converted JsonParserTest from kotlin to java and updated with RewriteTest.
fixes
Maven credentials in the execution context were being incorrectly ignored. Fixes
Fix license.
Updated parent scope detection to handle java records in the RemoveUnusedLocalVariables recipe.
fixes
Updated parent scope detection to handle java records in the RenameLocalVariablesToCamelCase recipe.
fixes
Remove buildSrc in favor of a plugin built separately ()
Do not call JavaType$Class#getKind() on null object in BlockStatementTemplateGenerator.
fixes
Set group to org.openrewrite, add shadow plugin to rewrite-gradle
Add AutoCRLF and EOL to GitProvenance
Reproducer for ChangeType on private inner class creates import statements that fails to compile ()
Disabled test to reproduce issue 2521 in ChangeTypeTest.
FindDependency doesn't attempt to match configuration when configuration is blank
ChangeDependency* reacts to blank configuration options correctly
Fix import
FindDependency now supports glob (Gradle)
Add `visitValue` to PropertyVisitor ()

Co-authored-by: Tyler Van Gorder <tkvangorder@users.noreply.github.com>
Also type-attribute Gradle's defunct 'runtime' configuration to facilitate migration and modernization of old build files
Do not import classes that are declared in the CU in the ChangeType recipe. ()

fixes.
Updated parent scope detection to check for java records in RenamePrivateFieldsToCamelCase.
fixes
Yaml parsing of arrays test
added FindProperties.find
Convert rewrite-xml tests to Java/RewriteTest. Deprecate XmlRecipeTest
Convert rewrite-proto tests to Java/RewriteTest. Deprecate ProtoRecipeTest
Convert rewrite-properties tests to Java/RewriteTest. Deprecate PropertiesRecipeTest
Add Set range support and find wrapper recipe ()
Added Properties.Comment.Delimiter to distinguish between comments delimited by `#` or `!`.
fixes
Make `FinalizeLocalVariables` aware of non-modifying unary operators ()

The non-modifying unary operators (`-`, `+`, `~`, and `!`) must not prevent a local variable from being made final.
Preserve the source code delimiter of property entries in PropertiesParser. ()

* Preserve the source code delimiter of property entries in PropertiesParser.
Updated PropertiesPrinter.
Added Option to AddProperty to set the delimiter.
fixes

* Updated rewrite-gradle recipes that add property entries.

* Updated ActivateStyle.
Polish. Removed unused imports in FindProperty.
Replaced getMarkers().searchResult() with SearchResult.found(..)
Add description to all projects, it is a required field when publishing
Disable annotation parameter default value type information until we can figure out how to do it correctly
Finish disabling java type mapping annotaiton default values
Enable package private SourceFile path renames in ChangeType.
fixes
Add the Gradle testRuntime configuration ()
Add metedata plugin to bom project","What's Changed
JSON parser doesn't support empty JSON files
Remove buildSrc in favor of a plugin built separately by @jkschneider in
RemoveUnusedLocalVariables doesn't correctly handle records
NPE in BlockStatementTemplateGenerator
Add AutoCRLF and EOL to GitProvenance cb44631
ChangeDependency* reacts to blank configuration options correctly 1f9e170
FindDependency doesn't attempt to match configuration when the configuration is blank ab9d3d2
FindDependency now supports glob (Gradle) a3b9752
Reproducer for ChangeType on private inner class creates import state… by @ge0ffrey in
Add visitValue() to PropertyVisitor by @tkvangorder in
Added FindProperties.find() 114051c
Do not import classes that are declared in the CU in the ChangeType recipe. by @traceyyoshima in
Add Set range support and find wrapper recipe by @shanman190 in
Make FinalizeLocalVariables aware of non-modifying unary operators by @knutwannheden in
Preserve the source code delimiter of property entries in PropertiesParser by @traceyyoshima in
Full Changelog: v7.34.0...v7.34.1"
"Add async modifier for use in kotlin/python/etc
enhancement: improve CompareEnumsWithEqualityOperator to support unwrap parentheses
Ensure that non-fatal groovy parser warnings do not show up as parse failures
Suppress any exceptions which might pop up from closing jgit","What's Changed
Ensure that non-fatal groovy parser warnings do not show up as parse failures by @sambsnyd in cb7a700
Suppress any exceptions when closing jgit by @sambsnyd in 93ab5a0
Improve CompareEnumsWithEqualityOperator to support unwrapping parentheses by @kunli2 in 1520590
Full Changelog: v7.37.0...v7.37.1"
"Remove deprecated `kind` argument from `jnp.sort` and `jnp.argsort`.

PiperOrigin-RevId: 631429900
Add optional size argument to jnp.compress & jnp.extract.
Fixed Mosaic GPU build following
Updated the Pallas GPU lowering to work with older jaxlib versions

Triton changed the signatures of LoadOp and DotOp upstream, and the lowering
code was not ready to handle both old and new signatures.
Minor doc fix to `jaxpr.rst`

Update the written description of the example `jaxpr` to match the given snippet of code.
Skip float64 test_nextafter on TPU
Handle ellipsis `...` in `_attempt_rewriting_take_via_slice`.

Previously `model['some_array'][:,0,0,:]` would generate a `slice`, while `model['some_array'][...,0,0,:]` would generate a `gather`. Now both of these generate `slice` eqns.

PiperOrigin-RevId: 631469837
jax.numpy: better docs for matmul-like functions
Finish jax and jaxlib 0.4.27 release

PiperOrigin-RevId: 631486157
CI: fix typo in workflow
CHANGELOG: move change from 0.4.27 to 0.4.28
The Bazel version used in JAX is bumped from 6.1.2 to 6.5.0.

The update is needed for Windows/Clang builds and for the future hermetic CUDA implementation.

PiperOrigin-RevId: 631519200
Implement jnp.linalg.multi_dot using opt_einsum
Recommend the plugin in the CUDA installation instructions.

PiperOrigin-RevId: 631555876
Bump minimum jaxlib version to 0.4.27

xla_extension_version is 261 and mlir_api_version is 56

PiperOrigin-RevId: 631579739
[Pallas] Fix some typos.

PiperOrigin-RevId: 631592201
[jax:mosaic-gpu] FragmentedArray can do tiled load.

PiperOrigin-RevId: 631611060
Update XLA dependency to use revision
http://github.com/openxla/xla/commit/c6df436f9e3d2a706a3a9595e37224276fb6013b.

PiperOrigin-RevId: 631629197
Enable logging_test on all CI platforms.

Should catch issues like https://github.com/google/jax/issues/21121
Switch Windows jobs to use Clang.

Remove the experimental/trial Clang job.

PiperOrigin-RevId: 631814321
Removed stale version guards and try/except blocks from Pallas GPU

They are unnecessary now that the minimum jaxlib version is 0.4.27.
Cleanup second registration of custom_partitioning callbacks now that
the jaxlib version has been bumped.

PiperOrigin-RevId: 631852273
Refactor pipeline emitter API.

Building on enrique's work, this CL refactors the emit_pipeline abstraction:
1) factors out the VMEM double-buffering bookkeeping into a helper class.
2) concentrate the intricate copy/wait scheduling logic into one place inside a scheduler helper
while allowing manual overrides, callbacks don't control scheduling anymore, rather we have
explicit loop scheduling.
3) minimize callbacks and simplify the ""defaults"" for fusing pipelines together.

Examples of fully overlapped versions of latency- and throughput- optimized AG-matmuls and
matmul-RSs are included in new tests.

PiperOrigin-RevId: 631865641
Update XLA dependency to use revision
http://github.com/openxla/xla/commit/68b17a8571f197676ea07479637da1546b3b501d.

PiperOrigin-RevId: 631874377
Removed get_compute_capability from jax.experimental.pallas.gpu

Compute capability is available as a `str` attribute on a GPU device since
jaxlib 0.4.26.
Renamed is_device_gpu_at_least to is_cuda_compute_capability_at_least

This makes it clear that the predicate is only supposed to be used for NVidia
GPUs at the moment.
Generic reduce window jvp

The problem is that we want to generically jvp and tranpose over any reduction_fn. Jax already handles some of the hard parts for us, namely, ensuring that the user provided fn is jax capturable. All that is left then, is to write a jvp and tranpose fn that utilize the jax utils correctly.

However, this is not so straightforward because in order to get the transpose of a reduction window, we need to be able to use both the tangents and primals. The current reduce_fn operates on (x, y) - but we actually need is, under jvp, to operate on `(x_primal, y_primal, x_tangent, y_tangent)`. In turn, this means we need to push down notions of a jvp-specific reduction_fn (captured via the usual machinery of as_fun `as_fun(jvp_fn(closed(user_reduction_jaxp)))`).

For the jvp fn, we stack the primal operand and the tangent operand together, and we stack their respective initial values together - this means a good deal of changes to safety checks and assurances downstream (as well as unpacking) as the shape of the operand has changed from [K,...Kt] to [K, ...Kt, 2] where the last dim is the stacked primal and tangent values.

In following CLs, we will add (1) re-entrant/recursive is_jvp and (2) transposition

PiperOrigin-RevId: 631916764
jnp.einsum: improve documentation
TST: fix Lpmn test for new scipy
Reverts 1956ff7d7b73794012fece2d8452e097196587fc

PiperOrigin-RevId: 631974751
[XLA:Python] Fix a memory corruption bug in the tp_name attribute of ArrayImpl and PjitFunction for Python 3.10 or earlier.

This works around https://github.com/python/cpython/issues/89478, which was fixed in Python 3.11.

PiperOrigin-RevId: 631984256
Update XLA dependency to use revision
http://github.com/openxla/xla/commit/4872030c44e20556efdfea47829d942985e0ccf1.

PiperOrigin-RevId: 631997979
jnp.linalg.multi_dot: use optimize='auto'
Reenable examples_test in Bazel build.

Fix bitrot.

This test was disabled years ago because it was slow, but it isn't any more.

PiperOrigin-RevId: 632138101
Update the multi-process note in pjit's docstring

PiperOrigin-RevId: 632160561
jnp.linalg: add precision & preferred_element_type to dot-like functions
Update XLA dependency to use revision
http://github.com/openxla/xla/commit/d60579f54a0b6c37d1caf11dc3eb34488cf6922a.

PiperOrigin-RevId: 632232639
Prepare 0.4.28 release.","Bug fixes
Reverted a change to make_jaxpr that was breaking Equinox ().
Deprecations & removals
The kind argument to jax.numpy.sort and jax.numpy.argsort
is now removed. Use stable=True or stable=False instead.
Removed get_compute_capability from the jax.experimental.pallas.gpu
module. Use the compute_capability attribute of a GPU device, returned
by jax.devices or jax.local_devices, instead.
Changes
The minimum jaxlib version of this release is 0.4.27."
"FindTags throws ClassCastException (fixes)
Add MemberReference to MethodMatcher ()
Add overloaded constructor to `AddProperty`. Fixes
Ensure JavaType.Method's primary constructor is the Jackson @JsonCreater
Any source applicable tests should be ANDed together not ORed / fixes
Any source applicable tests should be ANDed together not ORed / fixes
Fix broken test","What's Changed
Add MemberReference to MethodMatcher by @JLLeitschuh in
Any source applicable tests should be applied together as a logical and instead of a logical or
Add overloaded constructor in AddProperty to maintain backward compatibility
Ensure JavaType.Method primary constructor is the Jackson @JsonCreater a252912
Full Changelog: v7.34.2...v7.34.3"
"Refactor JAX CPU kernels to make them usable from C++.

Most of the work here is porting the LAPACK interface from Cython to plain C++. This is something I wanted to do anyway to make use of C++ templating facilities: the code is noticeably shorter in C++.

This change removes the only use of Cython in JAX. It also removes the need for a build-time dependency on Scipy, which we only needed for Cython cimport reasons.

When using C++, we most likely do not want to fetch LAPACK and BLAS kernels from Python. Therefore we add another option: we define the LAPACK functions we need using weak symbols where supported; the user can then simply link against LAPACK to provide the necessary symbols.

Added a jaxlib:cpu_kernels module to facilitate using the JAX CPU kernels from C++.

PiperOrigin-RevId: 394705605
jnp.isclose/jnp.allclose: require array inputs
[sparse] add BCOO._unbatch() utility
[sparse] add BCOO._dedupe() method
Update the readme to reflect that Cuda 10.1 and cuda 11.0 support is dropped.

PiperOrigin-RevId: 394772160
Delete Cuda 10.2 release and continuous builds.

PiperOrigin-RevId: 394772236
added pjit tuorial colab
[sparse] add support for sparse-sparse matrix products
[sparse]: fix corner case in BCOO validation
lax.numpy: require arraylike inputs throughout
added pjit tuorial colab
add markdown version
Remove stderr blocks
sync md file
don't use top-level headings
Use the raw C API for ShardedDeviceArray.

It's similar than PyBuffer.

PiperOrigin-RevId: 395058367
Use the raw C API for ShardedDeviceArray.

It's similar than PyBuffer.

PiperOrigin-RevId: 395071943
Fix argument names for jnp.ndarray.clip and deprecate the old ones
hook up xla initial style translation rule for linear_call_p
Ensure that named axes consistently refer to global axis sizes in xmap

Fixes.

PiperOrigin-RevId: 395210686
Implement 'reflect' and 'mirror' padding modes for scipy.ndimage.map_coordinates
Don't cast out_axis_resources to a tuple automatically

It's confusing and makes it impossible to specify non-trivial pytrees of
out_axis_resources for functions that return lists. Also extend the error
messages to be less confusing and hint at potential fixes.

PiperOrigin-RevId: 395246450
Move ShardedDeviceArray & PmapFunction to the raw C API and implement pickling/unpickling.

PiperOrigin-RevId: 395256774
Unpin the tpu_driver version used for Cloud TPU Colabs.

This reverts https://github.com/google/jax/pull/6942. The nightly appears to work again, and we wanna pick up new fixes and improvements.
expose random key array type

This is meant to allow for downstream type annotations and checking
(e.g. via `isinstance`).
Uploaded smaller images
handle dropped output values in the sparse interpreter
avoid constvar conversion when closing a sparse jaxpr
Remove axis name from named_shape when unmapping avals

Even though `vmap` and `pmap` don't use avals with names, the batching infrastructure
is used to implement xmap and pjit. So while we keep the introduction of names carefully
scoped, forgetting to remove them at the right points leads to extremely confusing errors.

PiperOrigin-RevId: 395423006
Drop support for the deprecated StreamExecutor CPU backend.

The TFRT backend is better and there's no reason to keep the StreamExecutor backend around any longer.

PiperOrigin-RevId: 395455049
Add a @jit decorator around jnp.linspace.

Don't test integer dtype values. The exact rounding semantics may be quite sensitive to, e.g., jit compilation, and this is not something end users should be relying on. Simplify implementation to only use version that gets the endpoints correct.

Use the same approach NumPy does to ensure the endpoint is included when endpoint=True: explicitly set the endpoint.

Various minor cleanups.
Move contents of jax.api_util to jax._src.api_util and add a forwarding shim.

One of many changes to codify the set of exported symbols in the jax.* namespace.

PiperOrigin-RevId: 395484706
New lowering APIs for pjit

This is the first in a series of refactoring patches that add the new AOT APIs
to all JIT-like transforms in JAX. I'm sending this early, because I expect that
it will come in handy when adding reverse-mode AD support for pjit.

PiperOrigin-RevId: 395510449
Use shorter variable names in lax.py.

In the implementation of gather/scatter, use `indices` instead of `start_indices` and `scatter_indices`. Cleanup only; no functional changes intended.
[JAX] Include the function name in the error message when hash/equality of a static argument fails.

PiperOrigin-RevId: 395550728
Move implementation of jax.flatten_util to jax._src.flatten_util. Add a jax.flatten_util shim.

Change as part of cleaning up the jax.* namespace.

PiperOrigin-RevId: 395551093
added images for pjit tutorial
delete images
added first img
added all imgs
add space
Add more @jit decorators to jax.numpy functions.

PiperOrigin-RevId: 395687875
Combine initial_style_batchers with collective_rules
Add new lowering APIs for jit

PiperOrigin-RevId: 395779305
not exclude 08-pjit.md
removing ipynb in format
Cache used_axis_names calls for jaxprs

All control-flow primitives are `AxisPrimitive`s now, which means that we're doing
lots of those used-names traversals during dispatch and they can be expensive!
This adds caching to try to lower the cost of that change.

PiperOrigin-RevId: 395921887
Remove some debug print statements left in lax_numpy.
Fix performance degradation due to repeated aval creation.
Fix error when printing a DeviceArray without an aval.

PiperOrigin-RevId: 395946904
Avoid accidental on-device array creation in _reduction_init_val.

Revert changes to _reduction_init_val, which is carefully crafted to use classic NumPy functions so lax can pattern match on the reducer monoid.

Instead, don't call _reduction_init_val on the initial argument from NumPy, which might well be a traced value.

PiperOrigin-RevId: 395947318
Add new lowering APIs for xmap

PiperOrigin-RevId: 395950859
make PRNGKeyArray.shape a property, add tests for it and for disallowed addition
docs: remove application tutorials
flip lower bits to derive seeds for the custom test PRNG

Changing bits, instead of incrementing, fixes an inherited test that seeds
with a maximum-valued numpy.uint64.

PiperOrigin-RevId: 396061086
[jax2tf] Fix stale comments
Relax test tolerance for a lax_test.py test.

This test fails on CPU with a very low probability.
Also improve printing of the test name.
Replace uses of jax.partial with functools.partial, in preparation for removing jax.partial.

jax.partial is an alias for functools.partial, and functools.partial is a Python standard library API. There's no need for jax to export this function.

PiperOrigin-RevId: 396370975
Expose allow_spmd_sharding_propagation_to_output in Python

We need to set this option to support reverse-mode AD of pjit in JAX.

PiperOrigin-RevId: 396400683
Use jax.* APIs rather than api.* names in tests.

Tests should use our own public APIs where they exist.
Add PEP484-compatible export for jax and its subpackages
Add `jnp.get_printoptions` and `jnp.printoptions`.

`jnp.set_printoptions` already exists but other printing utilities do not.

`jnp.get_printoptions` forwards `numpy.get_printoptions`.
`jnp.printoptions` forwards `numpy.printoptions`.
Add precision param for pdot
Switch internal users of jax.ops.index_... to use x.at[x].set() APIs.
handle linear custom_jvp functions
ppermute: avoid passing lists of indices to jnp.take
Switch internal users of jax.util.partial to use functools.partial.
Add a note about Google Colab setup

User must run `jax.tools.colab_tpu.setup_tpu()`
Feat: scipy.stats.nbinom implementation

fix: increasing tolerance check for testNBinomLogPmf in scipy_stats_test.py
add a test for linear_call with jit
[call_tf] Fix bug when calling TF functions with variables in a jit context.

The code was assuming that the `.captured_inputs` of a function are
variables in the same order as `.variables`. This seems to not be
true. Lookup variables now by handle.
jnp.take: require array argument (but not indices) to be arraylike
DOC: add brief comments to example in README
Remove export of jax.lax.partial.
Fix package exports
[jax2tf] Document an expected error when saving converted functions

If the JAX function is not reverse-mode differentiable (e.g., lax.while_loop) then
it should be converted without gradients, or saved without gradients.
Update docs for nan checker and tfds example.
Add Changelog for jax v0.2.21 development
jnp.array: raise TypeError on boolean scalar indices
fix html formatting of markdown
bazelrc changes for building Cuda 11.4 wheels with cudnn 8.2

PiperOrigin-RevId: 397088624
jax.numpy: add wrapper for np.insert
Fix for singleton axis name in `axis_index_translation_rule`
Remove jax.api.

Functions exported as jax.api were aliases for names in jax.*. Use the jax.* names instead.
DOC: add missing jax.numpy functions
jnp.insert: use broadcast_shapes
Update changelog for several recent PRs
Check presence of __jax_array__ in _arraylike before calling it in isscalar
Update developer.md
[host_callback] Fix an assertion failure for grad(remat(host_callback))

Fixes:
Add flags to configure the cuda_compute_capability and rocm_amd_targets
Reflected the opinions from the reviewer.
tweak cuda/rocm targets

Closes.
Remove jax.partial from the JAX API.

Use functools.partial instead.
Make sure that xmap raises a clear error when using an undefined resource name

PiperOrigin-RevId: 397762568
Add the equation source context in jaxpr_subcomp.

Improves tracebacks if XLA translation fails.
Remove jax.util.partial.
convolutions: use flip() to clean up reverse-indexing
Attempt to land https://github.com/google/jax/pull/6400 again.

This PR changes `jax.numpy.array()` to avoid creating any on-device arrays during tracing. As a consequence, calls to `jnp.array()` in a traced context, such as `jax.jit` will always be staged into the trace.

This change may break code that depends on the current (undocumented and unintentional) behavior of `jnp.array()` to perform shape or index calculations that must be known statically (at trace time). The workaround for such cases is to use classic NumPy to perform shape/index calculations.

PiperOrigin-RevId: 398008511
Turn jnp.ndarray into a true abstract base class.

Make all JAX array types instances of jnp.ndarray.
Remove np.ndarray from jnp.ndarray.
Remove a stale comment.
[sparse]: fix fromdense JIT code path
mark custom derivative calls as API boundaries for stack trace filtering
[jax2tf] Minor updates to the jax2tf examples documentation
Apply review suggestions
Reenable indexing TPU tests that pass at HEAD.
Merge static indexing forward and gradient test cases.

I'm not entirely clear why these were separate in the first place, and everything seems to work fine if we merge them. Possibly the two were separate because of unimplemented cases that have subsequently been implemented.
Add traceback to Graph Tensor runtime error and update error message.

PiperOrigin-RevId: 398256308
Fix wrong dtype output from indexing with an empty slice.

Fix test failures in lax_numpy_indexing_test for complex64 pow() scatters.

The existing tests actually catch both of these bugs, but only when run with a sufficiently high number of test cases.
Add atol and rtol arguments to jtu._CheckAgainstNumpy().

Prefer atol and rtol if they are provided.
Use traced identity in jacobian std_basis
disable pytype on custom derivative calls

Method decorator seems to interfere with pytype relating the typevar
in the return value annotation to its appearance in the enclosing
class.
Move contents of jax.lib to jax._src.lib.

Add shim libraries for functions exported from jax.lib that other code seems to use in practice.

PiperOrigin-RevId: 398471863
[jax2tf] Ensure that shared constants in JAX are shared also in the converted function

Fixes:
Create 0.2.21 jax release

PiperOrigin-RevId: 398528427","New features:
Added jax.numpy.insert implementation ( ).
Breaking Changes
jax.api has been removed. Functions that were available as jax.api.*
were aliases for functions in jax.*; please use the functions in
jax.* instead.
jax.partial, jax.lax.partial, and jax.util.partial were accidental
exports that have now been removed. Use functools.partial from the Python
standard library instead.
Boolean scalar indices now raise a TypeError; previously this silently
returned wrong results ( ).
Many more jax.numpy functions now require array-like inputs, and will error
if passed a list ( ).
See  for a discussion of the rationale behind this change.
When inside a transformation such as jax.jit, jax.numpy.array always
stages the array it produces into the traced computation. Previously
jax.numpy.array would sometimes produce a on-device array, even under
a jax.jit decorator. This change may break code that used JAX arrays to
perform shape or index computations that must be known statically; the
workaround is to perform such computations using classic NumPy arrays
instead.
jnp.ndarray is now a true base-class for JAX arrays. In particular, this
means that for a standard numpy array x, isinstance(x, jnp.ndarray) will
now return False ()."
"update version and changelog for pypi
support key array pickling

Involves:
* a weaker notion of equality on key element types
* avoiding jitted functions as PRNG impl fields
Throw error when 64-bit dtypes used incorrectly in `jax.pure_callback`
Add `__hash__` and `__eq__` to PmapSharding

PiperOrigin-RevId: 471356052
[jax2tf] add a new test for jax2tf gda test.

Now it cover the test using gda as jax function input.

PiperOrigin-RevId: 471365834
Add fast path args to Array similar to GDA to speed up initialization and other operations like calculating indices and addressable_device_assignment.

This is important because looping over 1000s of devices is extremely expensive during runtime and throttles the performance (all these optimizations were applied to GDA when integrating it into PAX and are applicable to Array as well). This will also be helpful for single-controller environments.

Also even hashing and __eq__ checks when you have 1000s of devices is going to be slow and will show up in xprof as a slowdown (I have seen this before).

PiperOrigin-RevId: 471366295
Add support to handle arbitrary shardings to KeyArray. Resolve all the TODOs that were created before.

Co-authored-by: Roy Frostig <frostig@google.com>
PiperOrigin-RevId: 471443690
require scalar key arrays when seeding, splitting, and folding

Recent changes to RNG internals actually make it easier for us to
render these operations batch-polymorphic. However, any existing use
of these in a non-scalar way suggests incorrect usage, since they were
scalar-only before (albeit imperfectly guarded as such).
[sparse] add sparse support for dynamic_slice
Use lowering as impl rule for `pure_callback`
Enable cuBLASLt by default in XLA for most matmuls

Enable cuBLASLt by default in XLA with two exceptions. First, the current XLA implementation using cublasLt does not yet support int8 gemms. Second, the cublasLt api does not support a certain dimension size larger than a specific value; in this case we fallback to legacy cublas. This change makes a modification so that we prefer to do the cublaslt gemm operation in place when fusing with a bias add. Updated JAX test precision for new matmul results.

PiperOrigin-RevId: 471661566
docstring for `jax.stages.Wrapped`
write and generate package API documentation for `jax.stages`
Make `__iter__` of `Array` behave like DA when there is a SingleDeviceSharding and like SDA when there is a non-trivial sharding.

This is important because when `Array` contains more than 1 shard, each shard can be on a different device and those things need to be preserved when iterating over `Array`.

PiperOrigin-RevId: 471695841
Improves quickdraw example in jax2tf
Rolling back due to breaking tests

PiperOrigin-RevId: 471847099
write in-process AOT walkthrough doc
mention AOT readiness in changelog
Add benchmarks for jax.Array

PiperOrigin-RevId: 471889808
Allow get_aval to work on ShapeDtypeStruct

This is necessary to be able to call jit(f).lower(ShapeDtypeStruct(...) when
--jax_dynamic_shapes is on. The code in partial_eval.infer_lambda_input_type
calls get_aval.
Show link to GitHub repo in navbar
[jax2tf] Refactor top-level jax2tf.convert

There are several goals for this refactoring:
  * improve the readability of the code: more helper functions, move big
    nested functions to top-level make make it obvious what are the
    data dependencies
  * try to be more systematic about naming: JAX entities end with _jax
    and TF entities with _tf. This is helpful because in several cases
    one function has to operate with both kinds of entities.
  * the main goal is to enable fixing the experimental_native_lowering
    for pjit. For that (future) work, we want to pass JAX callables
    to _interpret_fun_jax, rather than linear_util.WrappedFun. Then
    we can use the standard AOT APIs.
Update jax/experimental/jax2tf/jax2tf.py

Co-authored-by: Marc van Zee <marcvanzee@gmail.com>
Internal change

PiperOrigin-RevId: 472301936
Fix NaNs in the gradient of jnp.interp when the spline being interpolated into contains the same knot coordinate twice.

PiperOrigin-RevId: 472333594
[jax2tf] Rewrites `converters_eval` framework.

Resulting table: https://github.com/google/jax/blob/ebdfb60ee89f53736c9a83147e358d750da96f98/jax/experimental/jax2tf/g3doc/convert_models_results.md

* Makes testing models more similar to testing primitives: Moves the framework into `jax2tf/tests`, the main file to call now is `model_test.py` and the models themselves are now in `model_harness.py`.

* Moves the g3doc to `jax2tf/g3doc`

* Simplifies conversion and testing logic.

* Adds more converters and improves the output in the g3doc.

* Fixes various bugs in the conversion. The errors shown now are all problems with the actual converters.

PiperOrigin-RevId: 472437502
[jax2tf] Refactor top-level jax2tf.convert

There are several goals for this refactoring:
  * improve the readability of the code: more helper functions, move big
    nested functions to top-level to make make it obvious what are the
    data dependencies
  * try to be more systematic about naming: JAX entities end with _jax
    and TF entities with _tf. This is helpful because in several cases
    one function has to operate with both kinds of entities.
  * the main goal is to enable fixing the experimental_native_lowering
    for pjit. For that (future) work, we want to pass JAX callables
    to _interpret_fun_jax, rather than linear_util.WrappedFun. Then
    we can use the standard AOT APIs.

This was initially reviewed and submitted as,
but was rolled back due to test failures.
Fix some cases where deserialization hangs:

* Make sure to release the semaphore in the dtype!=None case.
* If chunks are too large to _ever_ acquire the semaphore, immediately raise an
  error.

PiperOrigin-RevId: 472496109
Use reduce_window for faster cumulative reductions on small inputs on GPU.

On GPU, reduce_window is executed in a single fusion and associative_scan
is split into multiple to materialize intermediate calculations.
On small inputs reduce_window is faster being a single fusion,
but on larger ones is slower because of O(n^2) complexity.
The conservative value of the threshold to choose between the two algorithms was obtained by benchmarking.
cumred_tpu_impl was renamed into cumred_reduce_window_impl to reflect that it is useful not only on TPUs.

PiperOrigin-RevId: 472504553
Add partial_eval_custom rule for `for_loop`
Fix NaNs in the gradient of jnp.interp when the spline being interpolated into contains knots that are small and nearby.

PiperOrigin-RevId: 472511203
Add pytest marker inside the test only if pytest is present in the env
DCE jaxpr and trivial_jaxpr support for lower_sharding_computation

Co-authored-by: Matthew Johnson <mattjj@google.com>
PiperOrigin-RevId: 471274989
Avoid direct references to jax._src.

jax._src will be removed from the JAX namespace shortly.

PiperOrigin-RevId: 472566026
fix bugs, infeed/outfeed must be considered effectful

Co-authored-by: Yash Katariya <yashkatariya@google.com>
Co-authored-by: Sharad Vikram <sharad.vikram@gmail.com>
[jax2tf] Refactor the experimental_native_lowering path in jax2tf

This is part of a suite of refactorings aimed towards supporting
pjit by jax2tf experimental_native_lowering. The goal here is
to remove many references to internal JAX core APIs, and instead
use the AOT APIs: jax.jit(func_jax).lower(*args).

Only the experimental_native_lowering behavior should be affected.
[jax2tf] Updates convert_models_results.md table

I was generating the table with an old version of `tf-nightly`, which caused many more failures for TFLite.

PiperOrigin-RevId: 472676935
[jax2tf] Rename models_test.py, since it is not  a test

With the current name the file is scanned when doing `pytest .../jax2tf/tests` and this leads to a number of errors.

PiperOrigin-RevId: 472696561
Use MLIR bytecode when passing IR to backends.

MLIR bytecode is more compact to represent and should be faster to generate and parse.

PiperOrigin-RevId: 472701621
Roll forward: Upgrade logistic into a primitive.

Unlike the previous attempt, we don't try to use mhlo.logistic as the lowering of the new primitive yet. Instead, we lower to the old implementation of `expit`. This means that this change should be a no-op numerically and we can work on changing its implementation in a subsequent change.

PiperOrigin-RevId: 472705623
Rollback of: Breaks internal target with `NotImplementedError: Differentiation rule for 'assert' not implemented`

PiperOrigin-RevId: 472709946
Raises a warning if Math is done on Arrays that are not fully addressable.

The point of this is to warn users about a possible footgun as the computation needs to be executed in the same order on every process.

PiperOrigin-RevId: 472759199
Revert: Use MLIR bytecode when passing IR to backends.

MLIR bytecode is more compact to represent and should be faster to generate and parse.

This change broke at least one downstream test.

PiperOrigin-RevId: 472781103
For execute_sharded_on_local_devices, the overload that takes PyBuffers should take precedence during overload resolution.

PyBuffer is still the default types used and it is assumed in some places in python frontend. It will be unexpected and cause errors later when an empty arg list is passed and the overload that takes PyShardedBuffer is chosen.

This change also removes __getitem__ from PyShardedBuffer to avoid implicit conversion from PyShardedBuffer to List[PyBuffer::object], and adds implicit conversion from List[PyBuffer::object] to PyShardedBuffer.

PiperOrigin-RevId: 472811325
[PJRT:C] Control whether to call wrapped C++ PJRT client directly with a global variable `kPjRtCApiBypass`.

Default value of `kPjRtCApiBypass` is false.

PiperOrigin-RevId: 472847147
Add missing Google-internal option to jax_test
Ignore the mypy errors.
roll back breakage

PiperOrigin-RevId: 472949225
Checkify: add jvp rule for assert_p.

PiperOrigin-RevId: 472961963
Split State effect into Read/Write/Accum effects and tie them to Ref avals
Reapply: Use MLIR bytecode when passing IR to backends.

MLIR bytecode is more compact to represent and should be faster to generate and parse.

The previous attempt at this change broke for 0D convolutions. JAX was not ensuring that the padding attribute had the correct [N, 2] shape when N was 0.

PiperOrigin-RevId: 472991661
Fix Forward. The fix is on the user's end. Original PR: https://github.com/google/jax/pull/12217

Co-authored-by: Matthew Johnson <mattjj@google.com>
Co-authored-by: Yash Katariya <yashkatariya@google.com>
PiperOrigin-RevId: 472999907
Rollforward of

PiperOrigin-RevId: 473002040
Use `value` instead of `ValueOrDie`.

PiperOrigin-RevId: 473011038
Add sound loop invariance detection
Add a test for jnp.array(..., copy=True) for Array.

PiperOrigin-RevId: 473041718
[xla:jitrt] Enable serializing GPU executable for JAX

Serialization is enabled only if JitRt is enabled.

PiperOrigin-RevId: 473047031
Try Cuda 11.2 build in presubmit for GPU. Presubmit uses 11.2 and CI uses 11.1

PiperOrigin-RevId: 473071603
Bump the minimum jaxlib version to 0.3.15.
Introduce class PyArray that contains the data members of python Array.

A few key methods is implemented in C++ while the rest are still implmemented in python and added to the class later. A class decorator, @use_cpp_array, is added to add python methods to xc.Array.

PiperOrigin-RevId: 473075244
Drop support for non-MLIR modules in compile().

I can't think of any reason why we still support anything else here.
Support deserializing from non-chunked storage such as tensorstore.array.

PiperOrigin-RevId: 473080245
add _device attribute to PRNGKeyArray so that computation follows key placement

unrelated: remove some redundant hasattr + try / except AttributeError
Enable `testArrayCopy` now that its fixed.

PiperOrigin-RevId: 473088085
Add a github presubmit build which runs with jax.Array flag enabled for OSS coverage.

PiperOrigin-RevId: 473100614
[dynamic-shapes] add basic vmap-of-indexing support

The main changes here are only indirectly related to gather: we just had to
update some other rules (e.g. for comparison, and squeeze) for a simple
dynamic-batch-shape gather to work.

I also skipped two tests and deleted some old dynamic shape slicing logic
because we want to handle that differently. We didn't have to do that removal
in this PR, but it's just convenient given I'm looking at indexing again.
[Rollback] Add a github presubmit build which runs with jax.Array flag enabled for OSS coverage.

PiperOrigin-RevId: 473161716
Minimally support the `backend` argument on `jit` in the jax.Array path.

This means that only a single device is allowed to flow through this path. This is a compromise i.e. it will support the existing codepaths but won't support sharded arrays to go through this path and encourage users to use other well supported techniques.

PiperOrigin-RevId: 473162167
[jax2tf] Updates to the documentation

One change I made throughout is to use the verb lower instead of
convert when refering to what jax2tf does. This is more accurate,
because what is happening is that the lowering to HLO is replaced
with a lowering to TF ops. Some users were confused by the use
of the verb convert as suggesting some sort of source-to-source
translation of JAX programs to TF, which sounds very complicated
and risky.
[jax2tf] Fixes a bug in gather (enable_xla=False)

For batched gather, we only support 1 batch dimension in the output. but in this case we were only collapsing a single dimension. However, if there are multiple `collapsed_slice_dims`, all of them should be collapsed. We can simply solve this by reshaping to the desired output shape.

PiperOrigin-RevId: 473182794
Remove jax._src from JAX namespace.

This is a JAX-internal name and not subject to any deprecation policy. Please avoid the use of JAX-internal functions outside JAX.

PiperOrigin-RevId: 473243243
lax.broadcast_shapes: clearer error for incompatible shapes
Show the correct sharding in `is_compatible_aval` error in `MeshPspecSharding` when created via `_from_parsed_pspec`. Preserve the original PartitionSpec from ParsedPartitionSpec if it exists, else calculate it.

PiperOrigin-RevId: 473267905
jax.Array: support fast path for lax.transpose & lax.squeeze

As part of this change, I created a helper function so that the logic of type checking is
in a single location. Eventually we can replace this helper function with appropriate
isinstance() checks using the APIs described in.
Enabled cpp_jit test with Array now that Array is in C++. Also check for the unsafe_buffer_pointer in the trivial_computation tests rather than an identity check. Also set the array priority to 100 and that makes the float0 test pass.

PiperOrigin-RevId: 473323695
Add pmap benchmarks using jax.Array

PiperOrigin-RevId: 473325120
Make `__getitem__` work for PmapSharding just like SDA works. DA is already covered with the current implementation.

Added TODOs to take fast path for indices wherever it is possible to do that. If a correct index is passed during getitem and if that index exists on `Array`, then the fast path is taken (see the test in this CL).

PiperOrigin-RevId: 473342504
Remove the jax_array disables from call_tf_test.py. They work now.

PiperOrigin-RevId: 473352068
Minimally support `device` argument on `jit` in the `jax.Array` path

This means that only a single device is allowed to flow through this path. This is a compromise i.e. it will support the existing codepaths but won't support sharded arrays to go through this path and encourage users to use other well supported techniques like using device_put explicitly instead of relying on `jit` to do that for you.

PiperOrigin-RevId: 473373822
Skip the infeed test since its failing on GPU with jax at HEAD and latest jaxlib on pypi

PiperOrigin-RevId: 473400592
Bounce to host for any sharding that's not PmapSharding or a sharding with a single device for `__iter__` and `__getitem__`.

PiperOrigin-RevId: 473402857
Increase the GPU shard count to 40 since its timing out every once in a while in kokoro.

PiperOrigin-RevId: 473617463
[jax2tf] Disable some tests for experimental_native_lowering

PiperOrigin-RevId: 473667029
jax._src/typing: add basic types
use jax._src.typing in lax.py & a few other places
[sparse] Lower batch-mode bcoo_dot_genernal to cusparseSpMM.

PiperOrigin-RevId: 473777597
jax.lax: ensure GatherDimensionNumbers contains tuples for hashability
ensure_index: raise better error for traced inputs
Add a MLIR constant handler for GDA.

PiperOrigin-RevId: 473848126
Split for_loop_test out of lax_control_flow_test

PiperOrigin-RevId: 473848277
jax.test_util: add capture_stdout context manager
Add jax.print_environment_info()
JEP 12049: Type Annotation Roadmap
Bump shards on for_loop_test

PiperOrigin-RevId: 474038276
Use cases_from_list to subsample enumerated cases in for_loop_test

PiperOrigin-RevId: 474093596
Add typing_test.py
Add support for closing over `Ref`s in nested for loops
jax_array_test: set config once & fix X64 failure
Delete soft_pmap as it has no users. Please use `pjit` or `xmap` if you do want soft_pmap.

`jax.soft_pmap` is undocumented. If it were documented, a deprecation period would have been provided.

PiperOrigin-RevId: 474145090
[dynamic-shapes] enable basic einsum support, following jax2tf shape polys
Use C++ Array in pmap path and move PmapSharding to cpp

PiperOrigin-RevId: 474151089
skip some for_loop test cases on gpu due to flakey timeouts

PiperOrigin-RevId: 474168747
Add a jit decorator to comparison operators.

We had previously omitted jit because of https://github.com/google/jax/issues/6713, but concrete remat no longer exists.

PiperOrigin-RevId: 474309905
Make nested xmap work with Arrays and GDA (in single process).

PiperOrigin-RevId: 474323667
Internal change

PiperOrigin-RevId: 474331907
Change TensorFlow to depend on StableHLO instead of vendoring it

This makes handling TensorFlow's dependency on StableHLO consistent with handling other TensorFlow's dependencies. For example, LLVM goes into //third_party/llvm, and so should StableHLO.

Users of tensorflow/tensorflow (e.g. JAX) need to change Bazel builds, replacing `@org_tensorflow//tensorflow/compiler/xla/mlir_hlo/stablehlo` with `@stablehlo//`. Nothing else changes, e.g. C++ includes, C++ usage, Python bindings and Python usage all stay the same. Example: https://github.com/google/jax/pull/12174.

Users of tensorflow/mlir-hlo are unaffected thanks to the awesome power of Copybara. There are minor changes in the StableHLO part of MLIR-HLO caused by the fact that the StableHLO repository and the vendored StableHLO inside tensorflow/tensorflow have diverged a little bit (e.g. Markdown formatting is slightly different between repositories because I didn't have the time to propagate these changes) and now they have been forced to converge, but these changes won't affect the behavior of neither CMake nor Bazel builds of MLIR-HLO.

Moving forward, contributions to StableHLO will only be possible through openxla/stablehlo. This is because tensorflow/tensorflow no longer vendors StableHLO. (tensorflow/mlir-hlo still does, but it's readonly).

PiperOrigin-RevId: 474360128
add paper link about grad-relu-at-zero
Change case of typing.Dtype -> typing.DType

This follows the convention used in numpy.typing.DType.
[typing] clear up logic in scatter_update

Static type checkers do not parse deeply enough to know that by line 182
bucket_size cannot by None; branching on an explicit None check is easier
to follow (even for human readers)
jax.Array: add issubclass test analogous to existing DeviceArray test.
Implement unrolling for for_loop
[jax] Update expected error message in preparation for new XLA:GPU runtime

PiperOrigin-RevId: 474458551
Enable the debugging_primitives pjit(xmap) case. Also don't check for sharding mismatch when the array is not committed. Check the device assignment only for committed arrays.

PiperOrigin-RevId: 474598597
Remove the optional OpSharding typehint from XLACompatibleSharding

PiperOrigin-RevId: 474598756
Adjust tolerance for lu test in preparation for XLA switch from cublas to cublasLt

PiperOrigin-RevId: 474618770
JAX implementation of scipy.stats.multinomial pmf & logpmf

Co-authored-by: harryjulian <harry.julian@peak.ai>
Some miscellaneous changes to make tests pass when jax.Array is enabled by default.

1. Add `device_buffer` and `device_buffers` fields to Array as a backwards compatible change for DA and SDA.
2. Support PartitionSpecs as input to in_axis_resources and out_axis_resources when jax_array is enabled as a backwards compatible change since all user code uses this currently. Create a MeshPspecSharding internally.
3. Some tests changes to make them pass

PiperOrigin-RevId: 474642889
tests: fix is_valid_shape() function
Fix and add test for weakref_lru_cache asan issue.

PiperOrigin-RevId: 474684516
Mark multiprocess_gpu_test as manual to skip it in OSS

PiperOrigin-RevId: 474806518
Pass device_assignment to ShardingContext instead of first_sharding which contains partitioning of an input too.

It does not make sense to pass how an input is partitioned to ShardingContext because you can have `n` inputs all partitioned in a different way but all of them should have the same device_assignment. This follows SPMDAxisContext too.

PiperOrigin-RevId: 474808207
Set the sharding of uncommitted single device sharding Arrays correctly and fix some miscellaneous tests with Array too. Enable pjit_test and xmap_test with Array too (all of them are mechanical changes).

PiperOrigin-RevId: 474858389
Silence some pytype errors.

PiperOrigin-RevId: 474898625
Skip remote_transfer_test because Array does not have the xla_shape method since its deprecated.

PiperOrigin-RevId: 474913967
Add `Array` counterparts to the serialization_test.py and disable the GDA tests if jax_array is enabled.

PiperOrigin-RevId: 474944400
Fix the bug where the indices returned from `_get_input_metadata` were of length equal to the length of global devices but should have been the length of local devices instead. `shard_args` only deals with local devices and indices.

Also, enable multihost pjit_test.py with Array.

PiperOrigin-RevId: 475044692
Remove fast_path_args from Array and add `id` checks to Sharding's `__eq__` method as a fast shortcut.

Also the C++ pjit path should help optimize the dispatch path.

PiperOrigin-RevId: 475163903
Bump XLA version.
multiprocess_gpu_test: kill open subprocesses to avoid warning
docs: avoid deprecated matplotlib axis creation
Add function to visualize `Sharding`s
[typing] overloaded type declaration for variadic lax.sort
Only copy_to_device if the indices match. Otherwise reshard the array if its uncommitted. This is important where you have 1 process per device.

PiperOrigin-RevId: 475418561
Limit console width for visualize_sharding
Add support for pmap sharding
Make the gda and xmap sharding check work generally by checking the OpSharding protos.

PiperOrigin-RevId: 475560097
Tracer: add missing __round__ and __reversed__ methods
Update JEP-12049 implementation discussion
Checkify: support batched while.
Update pjit_test to skip GDA tests with Array is enabled.

PiperOrigin-RevId: 475684445
Fix linker error due to chlo and stablehol symbols are not exported in mlir dll
Switch from experimental_strict_action_env to incompatible_strict_action_env to avoid deprecation warning
Disable tests under sanitizers that are timing out in CI.

PiperOrigin-RevId: 475839926
Flip default value of jax_unique_mhlo_module_names to False.

This should help avoid unnecessary cache misses.

PiperOrigin-RevId: 475852954
Add many args benchmark for jax.Array

PiperOrigin-RevId: 475853211
[XLA:GPU] Allow simplifying lowering-precision-conversions by default

This might lead to the output having higher precision than specified by HLO.

PiperOrigin-RevId: 475889141
[typing] add class-level declarations of Array members.

This fixes some pytype errors associated with the changes in
Temporarily skip LaxBackedNumpyTests.testUnwrap on gpu to unblock jaxlib build

PiperOrigin-RevId: 475970440
Add addressable_data to Array (similar to GDA) to aid in transition and also in auto spmd partitioner mode, always convert to MeshPspecSharding.

PiperOrigin-RevId: 475972534
Implement pjit fast path in cpp for jax.Array inputs

PiperOrigin-RevId: 475988677
Don't tuple arguments passed to XLA:CPU

This is not needed and tuples are being avoided when possible for new code.

This is tested by CPPJitTest.test_jit_with_many_args_works in jax/tests:api_test_cpu

PiperOrigin-RevId: 476032228
Make `jit(f).lower(*args)` go via lower_sharding_computation when `jax_array` is enabled.

PiperOrigin-RevId: 476148608
[ROCM] Update Dockerfil.rocm to Ubuntu20
Disable tests that timeout in debug mode in CI

PiperOrigin-RevId: 476157051
Add generic interface for auto initialization of distributed JAX service

* Also add slurm cluster support
Change JAX's copyright attribution from ""Google LLC"" to ""The JAX Authors."".

See https://opensource.google/documentation/reference/releasing/contributions#copyright for more details.

PiperOrigin-RevId: 476167538
Fix example in `pjit` docstring
[array] full_like: only match sharding if shape==None
Add inspect_array_sharding, enabling looking at shardings in pjit-ted functions

PiperOrigin-RevId: 476237731
Update debugging docs to have sharding visualization
[sparse] Move `_bcoo_nse` to sparse util.

PiperOrigin-RevId: 476263483
removed repeated nan_to_num in docs
Improve documentation for unique_indices.
Checkify: misc improvements.

- err.throw == check_error(err) -> meaning they have the same behavior
  under checkify now
- ""divided by zero"" -> ""division by zero""
- add validation that check_error only takes args of type Error
Fix xla extension version test in debugging.py

The custom call partitioner callback was not present in version 94 but is present in version 95.
Convert the devices in the `Mesh` constructor to a numpy array if its a list, tuple, etc.

PiperOrigin-RevId: 476380496
Fix the asan failure in pjit_test_cpu build target

PiperOrigin-RevId: 476382929
Fix copyright attribution for some newly added files.

PiperOrigin-RevId: 476390902
Modify CorrCoef test to not rely on floating poing representation of 1/3

The operation computed an average while using the dimension of size 3. This is then changed to multiplying by 1/3 with compilers, but 1/3 cannot be represented perfectly. That made this test case rely on a very precise result from an unrepresentable calculation.

PiperOrigin-RevId: 476391389
Allow transpose axes to be negative to match (undocumented) NumPy behavior
Update the `_check_special` code to not use xla_shape since its deprecated and does not work with Array.

PiperOrigin-RevId: 476422732
Add regression test for lax.rev simplification error

PiperOrigin-RevId: 476430486
add multihost pjit tests
fix leak checker internal error

The issue was that partial_eval.py's _memoize, used in custom_jvp, was made
into an identity function by enabling config.jax_check_tracer_leaks (from
references to the main trace (needed for the jvp_jaxpr thunk) and hence trigger
the leak checker (which would see if any references to the main trace persisted
after finishing tracing of the user function).

But after, the leak checker should only trigger when actual Tracers are
leaked. So disabling the memoization when jax_check_tracer_leaks is no longer
active shouldn't be necessary. (These PR numbers seem out of order! We're not
sure why.)

Co-authored-by: Sharad Vikram <sharad.vikram@gmail.com>
Return single device Arrays from `.device_buffer` and `.device_buffers`.

PiperOrigin-RevId: 476449591
fix typo in test
Fix jnp.unwrap() test failures on GPU.

A recent XLA change allows XLA to use excess precision on GPU, which caused CompileAndCheck to report noticeable numerical changes for bfloat16.

In passing, also enable the comparison against NumPy test for bfloat16 by using a wrapper function.

PiperOrigin-RevId: 476494989
Only look at hlo_modules for output sharding if there is more than 1 device because if there is only 1 device, the spmd partitioner won't run.

PiperOrigin-RevId: 476497929
- Wraps calls to lax.xeinsum and _einsum in a named call with their 'spec', the string specifying the computation. Makes xprof traces more interpretable.

PiperOrigin-RevId: 476796185
Wrap multiprocess test popen() uses in a context manager.

Ensures that resources from popen() are cleaned up.
Jax and jaxlib 0.3.18 release candidate.
Add initial jax.Array base class for instance checks & annotation
Lowerable checks!!
Remove unused _remat_static_argnums import.
lowerable errors behind a config flag.","GitHub commits.
Changes
Ahead-of-time lowering and compilation functionality (tracked in
{jax-issue}) is stable and public. See the
overview and the API docs
for {mod}jax.stages.
Introduced {class}jax.Array, intended to be used for both isinstance checks
and type annotations for array types in JAX. Notice that this included some subtle
changes to how isinstance works for {class}jax.numpy.ndarray for jax-internal
objects, as {class}jax.numpy.ndarray is now a simple alias of {class}jax.Array.
Breaking changes
jax._src is no longer imported into the from the public jax namespace.
This may break users that were using JAX internals.
jax.soft_pmap has been deleted. Please use pjit or xmap instead.
jax.soft_pmap is undocumented. If it were documented, a deprecation period
would have been provided."
"More data in FindParseFailures ()
Update java-categories.yml
SearchResult is now final
[Rewrite8 migration]Add recipe to migrate JavaTemplate to rewrite8
Add license headers
[rewrite8 migration]Make MigrateMarkersSearchResult works again
Add support for instanceof to groovy parser
Add recipe UpdateMovedPackageClassName to update class fqn after moving it to a new package
[rewrite8 migration] Add a recipe to update referencing package name for the recipes moved to rewrite-static-analysis
[rewrite8 migration] Add handling of removed TreeVisitor#doAfterVisit(Recipe)
Fix/yaml encoding ()

* fix: use StringReader without explicit encoding ()

* fix: handle InputStream with try-resource ()
Update Gradle Enterprise plugin to 3.13.3 ()
TypeUtils#isOfType infinite recursion ()
Tweak style autodetect ()
Java import autodetect extracts import package name (and other stats) eagerly
Do not throw when visiting a block not contained in a method declaration
[Rewrite8 migration]polish and add examples
[Rewrite8 migration] Add recipe to handle moved recipe in yaml file && polish && more tests
fix: Scan ScanningRecipes too when scanning jars ()
Avoid duplicate recipe loads
License headers
Fix UpdateStaticAnalysisPackageTest","What's Changed
Fix/yaml encoding by @thomaszub in
Update Gradle Enterprise plugin to 3.13.3 by @jprinet in
TypeUtils#isOfType infinite recursion by @jkschneider in
Tweak style autodetect by @sambsnyd in
fix: Scan ScanningRecipes too when scanning jars by @kmccarp in
New Contributors
@jprinet made their first contribution in
Full Changelog: v8.1.1...v8.1.2"
"Add placeholder to keep space between Groovy String curly braces ()
Remove Analysis Code From Rewrite ()

* Remove Analysis Code From Rewrite

Signed-off-by: Jonathan Leitschuh <Jonathan.Leitschuh@gmail.com>

* Empty to retrigger CI run

Signed-off-by: Jonathan Leitschuh <Jonathan.Leitschuh@gmail.com>

---------

Signed-off-by: Jonathan Leitschuh <Jonathan.Leitschuh@gmail.com>
Add exception for `J.EnumValueSet` to `WrappingAndBracesTest`

Since the individual enum constants own the prefix, the `J.EnumValueSet` doesn't have any.

Fixes:
`ReplaceConstantWithAnotherConstant` should keep static imports ()

To minimize the diff and maintain the original coding style the `ReplaceConstantWithAnotherConstant` recipe should replace static imports of the constant with another static import for the new constant and update `J.Identifier` references accordingly.

Co-authored-by: Tim te Beek <tim@moderne.io>
Correct marker computation for replace, if present
Support G.GString types in ChangeDependencyGroupId

Fixes gh-3239
Support G.GString types in ChangeDependencyArtifactId

Fixes gh-3240
Polish
Add support for G.GString matching when adding dependencies

Fixes gh-3209
Reproducer for Gradle change dependency ignores platform ()

* Reproducer for Gradle change dependency ignores platform

* Add support for Gradle platform dependency updates

Fixes gh-3227

---------

Co-authored-by: Shannon Pamperl <shanman190@gmail.com>
Support 21-ea as value for java.version in JavaParser ()

For https://github.com/openrewrite/rewrite/issues/3170
fix: parse environment properties in maven repositories ()

* fix: parse environment properties in maven repositories

Fixes

* Make resolveEnvironmentPropertyName private

* Correctly resolve `password` instead of username field

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Fixes RenamePropertyKey and ChangePropertyValue running together ()

* Fixes RenamePropertyKey and ChangePropertyValue running together don't work as expected

* Update rewrite-maven/src/test/java/org/openrewrite/maven/RenamePropertyKeyTest.java

* Update rewrite-maven/src/test/java/org/openrewrite/maven/RenamePropertyKeyTest.java
Fix NoClassDefFoundError in RewriteTest on jgit diff() ()

Fixes https://github.com/openrewrite/rewrite/issues/3243
Improve accuracy and performance of template matching

`J.SwitchExpression` and `J.TypeCast` now also implement `TypedTree` so that they can be matched against a `JavaTemplate`.

Also make sure to not match any `J.Empty` against a template parameter placeholder.
Feature/gradle/enhance update java compatibility ()

* Rename ChangeJavaCompatibility => UpdateJavaCompatibility

* Add more capabilities for updating Gradle Java compatibility

* Apply formatter

* Add several combination tests to ensure robustness

* Add a few more variation tests and fix a bug with string styling

* Lowercase source and target enum values

* Have Option valid values match enum case

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Co-authored-by: Tim te Beek <timtebeek@gmail.com>
Handle assignments in Gradle extra properties ()
JavaParser classpath from byte array has issue with default package ()

* JavaParser classpath from byte array has issue with default package

For https://github.com/openrewrite/rewrite/issues/3222

* Add missing licences
Suppress exceptions in Autodetect to prevent it from dying on some kotlin sources
Fix AddGradleEnterpriseMavenExtension running on Windows
Add options to the Add Gradle Enterprise Maven recipe ()

* Add options to the Add Gradle Enterprise Maven recipe

* Apply formatter

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Invalid Javadoc should remain unchanged ()

Co-authored-by: Michael Duerig <michael.duerig@magnolia-cms.com>
Support default package in `JavaParser.Builder.classpath(byte[][])` ()

Fixes

Sets package to """" for classes in default package, not identical to class name.
Compare XML tag names for equality ()

Fixes
fix: skip blocked repository ()

* fix: skip blocked repository

* temp: add temporary commit with a limit

* Slight polish

---------

Co-authored-by: Tim te Beek <tim@moderne.io>","What's Changed
Remove Analysis Code From Rewrite by @JLLeitschuh in
ReplaceConstantWithAnotherConstant should keep static imports by @knutwannheden in
Reproducer for Gradle change dependency ignores platform by @ge0ffrey in
Support 21-ea as value for java.version in JavaParser by @timtebeek in
fix: parse environment properties in maven repositories by @yeikel in
Fixes RenamePropertyKey and ChangePropertyValue running together by @ge0ffrey in
Fix NoClassDefFoundError in RewriteTest on jgit diff() by @timtebeek in
Feature/gradle/enhance update java compatibility by @shanman190 in
Handle assignments in Gradle extra properties by @shanman190 in
JavaParser classpath from byte array has issue with default package by @timtebeek in
Add options to the Add Gradle Enterprise Maven recipe by @alextu in
Invalid Javadoc should remain unchanged by @mduerig in
Support default package in JavaParser.Builder.classpath(byte[][]) by @timtebeek in
Compare XML tag names for equality by @timtebeek in
fix: skip blocked repository by @yeikel in
Full Changelog: v7.40.7...v7.40.8"
"Use an immutable tagged version of the Docker CLI container
First implementation of nuclei segmentation CLI
Fix bug in MaxClustering

Before modifying input argument a copy of it must be made
Added nuclei segmentation to server/slicer_cli_list.json
Using regionprops to stuff needed to generate annotations for nuclei
Finished adding code for generating annotations for each nucleus
style fix
Specify .anot extension for annotation file in xmlspec of Nuclei segmentation
Removed print statement in rest_slicer_cli.pu
Create BinaryMixtureCut.py

Performs a graph cut optimization to generate a binary mask from a probabilistic image model.
Create PoissonMixture.py

Generates a foreground/background mixture model for integer valued images.
Update __init__.py

Added 'BinaryMixtureCut' and 'PoissonMixture'.
Update PoissonMixture.py

Updated docstring to fix cut & paste error.
Update BinaryMixtureCut.py

Fixed error in edge weight calculation. Also improved handling of default values for 'Sigma' depending on class of 'I'.
Update BinaryMixtureCut.py

Added missing square operator in edge weight numerator calculation.
Fixed a bug in MaxClustering
Fixed bugs in NucleiSegmentation CLI
Bump commit hash of girder, girder_worker, and large_image
BUG: Use json.loads to decode json value in _getParamCommandLineValue
Added FeatureExtraction.xml for CLI
Added feature extraction to server/slicer_cli_list.json
JSON encode values passed back to the server
Updated FeatureExtraction.py removed a hard-coded cropping
Updated FeatureExtraction.py removed hard-coded parameters and followed NucleiSegmentation processing
Updated FeatureExtraction.py removed hard-coded parameters and followed NucleiSegmentation processing
Updated FeatureExtraction.xml added grouped parameters
Catch exceptions generated in _getParamCommandLineValue and print a user friendly error
Fix a bug in exception handling of _getParamCommandLineValue
Upgrade requirements for upstream packages
Upgrade Travis to fix an issue with PhantomJS install
Fix bugs and add reference to input image in xmlspec of annotation file
BUG: Make centroid three-dimensional by adding zero for z-coord
Disabling BinaryMixtureCut until we get pygco installed
Bump version of ctk_cli to 1.3.1 to expose reference field of file parameter
git clone install ctk_cli until new changes become available on pypi
Change rest end point code to pass reference imageid and userid for files
Fixed bugs in NucleiSegmentation CLI
Enabling docker in .travis.yml
Install ctk_cli 1.3.1 using my binstar channel until available on pypi
Merge two RUN commands in Dockerfile
Fix style errors
Fix style error","This release includes two new CLIs
FeatureExtraction
NucleiSegmentation
It also includes changes to the automatic rest end-point generation code to pass on additional information (reference image itemId and userId) to the girder_worker binding spec for output files that specify the reference attribute in their xml spec."
"Update conf.py
Add a console entry point. ()

Closes.","What's Changed
Add a console entry point. by @manthey in
Full Changelog: v1.3.4...v1.3.5"
"Change opencv-python to opencv-python-headless ()

* Don't require mapnik or GDAL and use opencv-python-headless

* Use GitHub's Python.gitignore template

* Revert changes to large-image in setup.py
Update tissue_detection.py
Simplify the Dockerfile.

Before, this was based on the dsarchive/base_docker_image, which greatly
sped up building the docker image when we built all dependencies in the
docker.  Since all of the complex dependencies are now available as
wheels, this no longer has much advantage.

We can install fewer system packages, which shrinks the size of the
docker a small amount.

We can more easily be explicit about the version of Python we want to
use.  Here it has been changed to 3.8.

As a starting point, if you need a newer version of cuda, that can more
easily be changed, too.

Additionally, dockcross now support s Python 3.9, but we can't build
with it yet.
Fix build for CI. ()
Update config.yml
BUG: Fix merge_colinear ()

* BUG: Fix merge_colinear

* DOC: fix comment
Fix tests. ()

Some package has changed how rounding or decoding images works,
resulting in some minor variations that affected the tests.  Adjust
tests to reflect this change.

This also switches to always downloading regions for tests as png rather
than jpeg.
Switch publishing gh-pages to Circle-CI. ()

This removes the travis CI as that is no longer free and doesn't add any
particular value over Circle.
Test in Python 3.9. ()

This had to wait for several packages to have a 3.9 wheel
(opencv-python-headless and shapely).

This moves the wheels to use manylinux2014.","Notes
This will be the last version to support Python 2.7 and 3.5."
"Update preconditions hint in yaml recipes ()
Migrate single-source applicability tests to preconditions ()

Co-authored-by: Tim te Beek <tim@moderne.io>
Prevent NPE as reported due to null normalized repository ()

Possibly due to mirrors applied with property placeholders
Don't use static import on collision with local method ()

If a class declares a method with the same name as a candidate for a static import, then that will always lead to compile errors if the static import is applied. Therefore the recipe must check for not having any similarly named method locally.
Fix plain text parser failing to consider the path ""README.md"" as being matched by a pattern like ""**/README.md""
Handle `JavaType.Intersection` in `DefaultJavaTypeSignatureBuilder` ()

Fixes:","What's Changed
Migrate single-source applicability tests to preconditions by @knutwannheden in
Prevent NPE as reported due to null normalized repository by @timtebeek in
Don't use static import on collision with local method by @Bananeweizen in
Handle JavaType.Intersection in DefaultJavaTypeSignatureBuilder by @knutwannheden in
Full Changelog: v8.9.6...v8.9.7"
"Flip equals to prevent NPE for nullable plugin.groupId
Switch to Objects.equals for null safe plugin comparison
Add recipe `AddLiteralMethodArgument` ()

* Add recipe `AddLiteralMethodArgument`

This recipe finds a method and adds a literal argument at the specified index.

* Use `valid` to validate  type option

Co-authored-by: Tim te Beek <tim@moderne.io>

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Fall back to  default groupId when comparing plugins

Fixes openrewrite/rewrite-maven-plugin
As per https://github.com/openrewrite/rewrite-maven-plugin/issues/745#issuecomment-1966447178
Get tools compiling again
Get tools compiling
Guard against NPE in MavenVisitor#visitPlugin","What's Changed
Add recipe AddLiteralMethodArgument by @pstreef in
Guard against NPE in MavenVisitor#visitPlugin by @jkschneider in  e2a8cb8
Full Changelog: v8.18.1...v8.18.2"
"Fix parsing of Groovy sources containing extra parentheses on Java 8
refactor: Update Gradle wrapper

Use this link to re-run the recipe: https://app.moderne.io/recipes/org.openrewrite.gradle.UpdateGradleWrapper?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
Add whitespace validation to RewriteTest
Changes packaging only if it matches provided packaging ()
chore: Delete unused .github/workflows/dependency-check.yml

Use this link to re-run the recipe: https://app.moderne.io/recipes/org.openrewrite.DeleteSourceFiles?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
`MergeYaml` should only make changes when required
Decouple UpdateGradleWrapperTest from project Gradle version
Resolve unrelated test failures and add disabled dedicated test
Drop UseJavaParserBuilderInJavaTemplate following
Another trailing comma parser error with arrays
Use `Tree.randomId()` to construct LST elements, not `UUID.randomUUID()` ()

* Added recipe for modifying references to 'UUID.randomUUID()' to 'Tree.randomId()', and test

* Changed the recipe so that it only changes UUID.randomID() to Tree.randomId() only when it is used as a parameter in an LST constructor.

* Modified the recipe as instructed. Improved the test statements

* Apply suggestions from code review

* Adopt review suggestions

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Fix cast exception in UseTreeRandomId

IntelliJ extract method failed me. :/
Document non-whitespace semicolon after class

As discovered on https://github.com/openrewrite/rewrite-spring/commit/7fd47ab78835cc7c1ac824cb0c563a59e6bf32c1
refactor: Remove `public` visibility of JUnit 5 tests

Use this link to re-run the recipe: https://app.moderne.io/recipes/org.openrewrite.java.testing.cleanup.TestsShouldNotBePublic?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
refactor: Remove `test` prefix from JUnit 5 tests

Use this link to re-run the recipe: https://app.moderne.io/recipes/org.openrewrite.java.testing.cleanup.RemoveTestPrefix?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
refactor: Remove unused imports ()

Use this link to re-run the recipe: https://app.moderne.io/recipes/org.openrewrite.java.RemoveUnusedImports?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
Limit RecipeEqualsAndHashCodeCallSuper to recipes and callSuper ()
Submit dependency graph to GitHub after publish ()

As per https://github.com/gradle/actions/blob/main/dependency-submission/README.md

Could help us both to analyze dependencies and get insight into dependents.
- https://github.com/openrewrite/rewrite-docs/issues/131
Add support for adding JavaCompatibility statements where missing to `UpdateJavaCompatibility` recipe ()
Trim out some redundant tests
Polish
Fix AddProperty insertion point not properly taking comments into account
Less than 100 response status implies bad connection ()

* Zero or lower response code should not be treated as an existing server

* Less than 100 response code should not be treated as an existing server","What's Changed
Changes packaging only if it matches provided packaging by @ammachado in
Use Tree.randomId() to construct LST elements, not UUID.randomUUID() by @TheMarvelFan in
refactor: Remove unused imports by @timtebeek in
Limit RecipeEqualsAndHashCodeCallSuper to Recipe and callSuper by @timtebeek in
Submit dependency graph to GitHub after publish by @timtebeek in
Add support for adding JavaCompatibility statements where missing to … by @krlittle in
Less than 100 response status implies bad connection by @pstreef in
New Contributors
@krlittle made their first contribution in
Full Changelog: v8.15.1...v8.15.2
What's Changed
Changes packaging only if it matches provided packaging by @ammachado in
Use Tree.randomId() to construct LST elements, not UUID.randomUUID() by @TheMarvelFan in
refactor: Remove unused imports by @timtebeek in
Limit RecipeEqualsAndHashCodeCallSuper to Recipe and callSuper by @timtebeek in
Submit dependency graph to GitHub after publish by @timtebeek in
Add support for adding JavaCompatibility statements where missing to … by @krlittle in
Less than 100 response status implies bad connection by @pstreef in
New Contributors
@krlittle made their first contribution in
Full Changelog: v8.15.1...v8.15.2"
"Added recipe options as JSON to FindRecipes. ()

* Added recipe options as JSON to FindRecipes.

* Use Jackson to construct JSON to deal with escaping

---------

Co-authored-by: Knut Wannheden <knut@moderne.io>
Include tools in build.
[TypeUtils.findOverridenMethod] Skip found methods with default access and not same package ()

* fix[TypeUtils.findOverridenMethod]: skip found methods with default access and different package

* Apply suggestions from code review

* Add test and simplify logic for override check

---------

Co-authored-by: Tim te Beek <timtebeek@gmail.com>
Co-authored-by: Tim te Beek <tim@moderne.io>
Minor fix in FindRecipes to prevent unexpected reported errors.
Disable nested jar scanning in `dependenciesFromClasspath()`

Nested jar scanning is currently not supported and is thus explicitly disabled in `JavaParser#dependenciesFromClasspath()` so that it doesn't end up causing exceptions (due to missing `FileSystems#newFileSystem()` call).","What's Changed
Fix problem caused by nested jar scanning in tests: 6fbb85d
[TypeUtils.findOverridenMethod] Skip found methods with default access and not same package by @joteri in
New Contributors
@joteri made their first contribution in
Full Changelog: v8.7.3...v8.7.4"
"Update json parser to support multiple-bytes-unicodes ()

* Update json parser to support multiple-bytes-unicodes
Recipes must be public to be loaded by ClasspathScanningLoader","What's changed
Recipes must be public to be loaded by ClasspathScanningLoader (avoids attempted classloads of Recipe$Noop, etc.)"
"Strengthen override method determination for generic parameters ()
Do not add constraints inside version J.MethodInvocations part of the constraint itself. ()

* Added test to showcase issue

* Do not update version method in constraints with a new constraint

Closes

---------

Co-authored-by: Jente Sondervorst <jente.sondervorst@colruytgroup.com>
refactor: OpenRewrite best practices ()

Use this link to re-run the recipe: https://app.moderne.io/recipes/builder/BftezDRNh?organizationId=T3BlblJld3JpdGU%3D

Co-authored-by: Moderne <team@moderne.io>
Correct `AnnotationMatcher` calls
Only consider specified configurations for UpgradeTransitiveDependencyVersion created constraints if these are mentioned. ()

Co-authored-by: Jente Sondervorst <jente.sondervorst@colruytgroup.com>
Replaced early exit logic for versions using property values with property resolution, allowing dependencies/plugins using redundant property versions to correctly be removed. ()","What's Changed
Do not add constraints inside version J.MethodInvocations part of the constraint itself. by @Jenson3210 in
refactor: OpenRewrite best practices by @timtebeek in
Only consider specified configurations for UpgradeTransitiveDependencies created constraints by @Jenson3210 in
Add Property Resolution to RemoveRedundantDependencyVersions by @ryan-hudson in
Full Changelog: v8.27.3...v8.27.4"
"chore(release): 1.7.4 [skip ci]

## [1.7.4](https://github.com/iamkun/dayjs/compare/v1.7.3...v1.7.4) (2018-07-11)

### Bug Fixes

* update set week logic ([60b6325](https://github.com/iamkun/dayjs/commit/60b6325)), closes [](https://github.com/iamkun/dayjs/issues/276)
Update README.md
Update README.md
Add romanian locale
fix german locale
Implements isBetween plugin
Sets testURL in jest config for resolve issue with failing tests
Changes logic of isBetween
Now it works with non dayjs-like arguments and not depends on order of input
Prettify isBetween output
fix: add isBetween API & update

update german locale, add romanian locale
chore(release): 1.7.5 [skip ci]

## [1.7.5](https://github.com/iamkun/dayjs/compare/v1.7.4...v1.7.5) (2018-08-10)

### Bug Fixes

* add isBetween API & update ([b5fc3d1](https://github.com/iamkun/dayjs/commit/b5fc3d1))","Bug Fixes
add isBetween API & update (b5fc3d1)"
"chore(release): 1.9.5 [skip ci]

## [1.9.5](https://github.com/iamkun/dayjs/compare/v1.9.4...v1.9.5) (2020-11-05)

### Bug Fixes

* customParseFormat plugin supports parsing localizedFormats  ([](https://github.com/iamkun/dayjs/issues/1110)) ([402b603](https://github.com/iamkun/dayjs/commit/402b603aa3ee4199786950bc88b3fdc6b527aa35))
* fix customParseFormat plugin parse meridiem bug ([](https://github.com/iamkun/dayjs/issues/1169)) ([9e8f8d9](https://github.com/iamkun/dayjs/commit/9e8f8d96c69d557f4d267f42567c25ae9e7ab227)), closes [](https://github.com/iamkun/dayjs/issues/1168)
* fix devHelper error in umd bundle in browser ([](https://github.com/iamkun/dayjs/issues/1165)) ([d11b5ee](https://github.com/iamkun/dayjs/commit/d11b5ee7dc11af671355f65ccda00f6ba42cc725))
* fix utc plugin diff bug in DST ([](https://github.com/iamkun/dayjs/issues/1171)) ([f8da3fe](https://github.com/iamkun/dayjs/commit/f8da3fe7e50c84c0502bf5be0b364910922dbd79)), closes [](https://github.com/iamkun/dayjs/issues/1097) [](https://github.com/iamkun/dayjs/issues/1021)
* isoWeek plugin type ([](https://github.com/iamkun/dayjs/issues/1177)) ([c3d0436](https://github.com/iamkun/dayjs/commit/c3d0436b06f74989e3a2c751a5d170f8072c4aad))
* update localeData plugin to support meridiem ([](https://github.com/iamkun/dayjs/issues/1174)) ([fdb09e4](https://github.com/iamkun/dayjs/commit/fdb09e4074cc7e8f6196846f18d3566c1f9e8fcd)), closes [](https://github.com/iamkun/dayjs/issues/1172)
* update timezone plugin parse Date instance / timestamp logic & remove useless test ([](https://github.com/iamkun/dayjs/issues/1183)) ([a7f858b](https://github.com/iamkun/dayjs/commit/a7f858bb70ad81f718ba35c479e84b54eace48b2))
fix: Update lv (Latvian) locale relative time ()
fix: fix customParseFormat plugin parsing date bug ()

fix
chore(release): 1.9.6 [skip ci]

## [1.9.6](https://github.com/iamkun/dayjs/compare/v1.9.5...v1.9.6) (2020-11-10)

### Bug Fixes

* fix customParseFormat plugin parsing date bug ([](https://github.com/iamkun/dayjs/issues/1198)) ([50f05ad](https://github.com/iamkun/dayjs/commit/50f05ad3addf27827c5657ae7519514e40d9faec)), closes [](https://github.com/iamkun/dayjs/issues/1194)
* Update lv (Latvian) locale relative time ([](https://github.com/iamkun/dayjs/issues/1192)) ([6d6c684](https://github.com/iamkun/dayjs/commit/6d6c6841b13ba4f7e69de92caf132a3592c5253a))","Bug Fixes
fix customParseFormat plugin parsing date bug () (50f05ad), closes
Update lv (Latvian) locale relative time () (6d6c684)"
"ceph: re-enable config overrides for osds

The Ceph config overrides in the release-1.1 branch require
merging the overrides from /etc/ceph/ceph.conf into the generated ceph.conf.
This is different from the master branch where the osd configuration
has changed such that the overrides will automatically be picked up
from /etc/ceph/ceph.conf.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
Revert ""ceph: osd remove --conf flag""

The --conf flag is necessary in the release-1.1 branch. Due to changes
in master that have not been backported, this flag is not needed there.

This reverts commit 9b614df49004457468cce058b0574791f192ddbb.
Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
build: set the v1.1.4 release tag

With the v1.1.4 patch release we need to set the new tag in the
deployment manifests and documentation.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.1.4 is a patch release limited in scope and focusing on bug fixes. Note that release v1.1.3 was skipped.
Ceph
OSD config overrides were ignored for some upgraded OSDs (, @leseb)
Enable restoring a cluster after disaster recovery (, @travisn)
Enable upgrade of OSDs configured on PVCs (, @sp98)
Automatically removing OSDs requires setting: removeOSDsIfOutAndSafeToRemove(, @rohgupta)
Rework csi keys and secrets to use minimal privileges (, @leseb)
Expose OSD prepare pod resource limits (, @leseb)
Minimum K8s version for running OSDs on PVCs is 1.13 (, @sp98)
Add 'rgw.buckets.non-ec' to list of RGW metadataPools (, @OwenTuz)
Hide wrong error for clusterdisruption controller (, @leseb)
Multiple integration test fixes to improve CI stability (, @travisn)
Detect mount fstype more accurately in the flex driver (, @leseb)
Do not override mgr annotations (, @leseb)
Add OSDs to proper buckets in crush hierarchy with topology awareness (, @mateuszlos)
More robust removal of cluster finalizer (, @travisn)
Take activeStandby into account for the CephFileSystem disruption budget (, @rohantmp)
Update the CSI CephFS registration directory name (, @Madhu-1)
Fix incorrect Ceph CSI doc links (, @binoue)
Remove decimal places for osdMemoryTargetValue monitoring setting (, @eknudtson)
Relax pre-requisites for external cluster to allow connections to Luminous (, @leseb)
Avoid nodes getting stuck in OrchestrationStatusStarting during OSD config (, @mantissahz)
Make metrics and liveness port configurable (, @Madhu-1)
Correct system namespace for CSI driver settings during upgrade (, @Madhu-1)
Other
Proper owner references for garbage collection for yugabytedb, minio, & cockroachdb (, @travisn)"
"ceph: keyring: stop using auid 0

This setting is long gone in Ceph and not used anymore, so let's not
create it for new cluster.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 5a2cd41d25c2e0bdf3d8c89ea3d739783ade4c39)
ceph: stop creating initial crushmap

This commit does:

* remove dead code SetCrushTunables()
* stop creating initial crushmap

There is no need to create an initial crushmap, since Ceph natively does
that for us.
We don't delete the existing configmap containing the initial crush map
of already deployed cluster, perhaps people are using for whatever
reason. It does not harm to keep it around.

Closes: https://github.com/rook/rook/issues/3138
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit ccf21100074766c64071ba3a89b187914e41dc39)
ceph: adjust M-to-Mi rounding in PV creation

Example of failure scenarios:

   - requested PVC 500M = 500,000,000 bytes
   - PV is created as:
        (500M / 2**20)Mi = ""476""Mi
        But 476Mi = 476 * 2**20 = 499122176 < 500M

From the k8s documentation:

   Claims will remain unbound indefinitely if a matching volume does not
   exist. Claims will be bound as matching volumes become available. For
   example, a cluster provisioned with many 50Gi PVs would not match a
   PVC requesting 100Gi. The PVC can be bound when a 100Gi PV is added
   to the cluster.

which is inline with the behavior observed in which a 500M PVC is never
bound. However, the documentation also states:

   If a PV was dynamically provisioned for a new PVC, the loop will
   always bind that PV to the PVC. Otherwise, the user will always get
   at least what they asked for

which suggests that an _explicit_ binding can be created, and perhaps
something has changed with respect to this binding that has caused the
failures in newer versions of k8s.

fixes:
fixes:

Signed-off-by: Noah Watkins <noahwatkins@gmail.com>
(cherry picked from commit e7ae2b6abd7bf7859893849b9678dafa5c535f68)
ceph: rgw: set proper port syntax on beast

The beast fronted configuration for rgw is quite different than civetweb
so we adapted the construct of the arg line based on that configuration
requirement.

Closes: https://github.com/rook/rook/issues/3411
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 7d54cac453ebd7ed715377310b21013e1f29779e)
tests: ensure cluster does not exist before starting a test

The CI instances are not always being properly cleaned up
between runs. This is an attempt to get the tests
to ensure a clean install before proceeding with the test.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit ef9dc0be749a5cf5c5fbb9b516955070af82131a)
Update the yaml and doc versions to v1.0.4 for the release

Signed-off-by: travisn <tnielsen@redhat.com>","Rook v1.0.4 is a patch release limited in scope and focusing on bug fixes.
Improvements
Ceph
RGW: Set proper port syntax for beast in nautilus deployments (, @leseb)
Stop creating initial crushmap to avoid incorrect crush map warning (, @leseb)
Use correct rounding of PV size for binding of PVCs (for example G or Gi) (, @noahdesu)"
"chore(release): 1.9.7 [skip ci]

## [1.9.7](https://github.com/iamkun/dayjs/compare/v1.9.6...v1.9.7) (2020-12-05)

### Bug Fixes

* add duration.format to format a Duration ([](https://github.com/iamkun/dayjs/issues/1202)) ([9a859a1](https://github.com/iamkun/dayjs/commit/9a859a147ba223a1eeff0f2bb6f33d97e0ccc6c7))
* Add function handling for relativeTime.future and relativeTime.past ([](https://github.com/iamkun/dayjs/issues/1197)) ([ef1979c](https://github.com/iamkun/dayjs/commit/ef1979ce85c61fe2d759ef3c37cb6aaf2358094f))
* avoid install installed plugin ([](https://github.com/iamkun/dayjs/issues/1214)) ([a92eb6c](https://github.com/iamkun/dayjs/commit/a92eb6c4dc1437ec920e69484d52984f5921a8ea))
* avoid memory leak after installing a plugin too many times ([b8d2e32](https://github.com/iamkun/dayjs/commit/b8d2e32a9eb59661a7ed6200daa070687becaebd))
* fix diff bug when UTC plugin enabled ([](https://github.com/iamkun/dayjs/issues/1201)) ([9544ed2](https://github.com/iamkun/dayjs/commit/9544ed2a6c466b8308d26b33a388a6737435a1f4)), closes [](https://github.com/iamkun/dayjs/issues/1200)
* fix startOf/endOf bug in timezone plugin ([](https://github.com/iamkun/dayjs/issues/1229)) ([eb5fbc4](https://github.com/iamkun/dayjs/commit/eb5fbc4c7d1b62a8615d2f263b404a9515d8e15c))
* fix utc plugin diff edge case ([](https://github.com/iamkun/dayjs/issues/1187)) ([971b3d4](https://github.com/iamkun/dayjs/commit/971b3d40b4c9403165138f1034e2223cd97c3abf))
* update customParseFormat plugin to parse 2-digit offset ([](https://github.com/iamkun/dayjs/issues/1209)) ([b56936a](https://github.com/iamkun/dayjs/commit/b56936ab77b8f6289a1b77d49307b495c4bf9f91)), closes [](https://github.com/iamkun/dayjs/issues/1205)
* Update timezone plugin type definition ([](https://github.com/iamkun/dayjs/issues/1221)) ([34cfb92](https://github.com/iamkun/dayjs/commit/34cfb920b9653ad44d4b31fe49e533692a3ce01b))
fix: update zh-cn locale definition of noon  ()

Changed the definition of “中午”(noon), which is between 11am to 13pm.
test: update zh-cn locale test
fix: update zh locale meridiem ""noon""
fix: fix Ukrainian [uk] locale typo
fix: update Hebrew [he] locale for double units ()
chore(release): 1.9.8 [skip ci]

## [1.9.8](https://github.com/iamkun/dayjs/compare/v1.9.7...v1.9.8) (2020-12-27)

### Bug Fixes

* fix Ukrainian [uk] locale typo ([1605cc0](https://github.com/iamkun/dayjs/commit/1605cc0f6fe0e9c46a92d529bc9cd6e130432337))
* update Hebrew [he] locale for double units ([](https://github.com/iamkun/dayjs/issues/1287)) ([1c4b0da](https://github.com/iamkun/dayjs/commit/1c4b0da1468522e59dc9ee646d10dd2b31477d99))
* update zh locale meridiem ""noon"" ([0e7ff3d](https://github.com/iamkun/dayjs/commit/0e7ff3dd29ca3aed85cb76dfcb8298d326e26542))
* update zh-cn locale definition of noon  ([](https://github.com/iamkun/dayjs/issues/1278)) ([d5930b9](https://github.com/iamkun/dayjs/commit/d5930b96ff884f4176ca3fcb1bc95e8f1ec75c71))","Bug Fixes
fix Ukrainian [uk] locale typo (1605cc0)
update Hebrew [he] locale for double units () (1c4b0da)
update zh locale meridiem ""noon"" (0e7ff3d)
update zh-cn locale definition of noon  () (d5930b9)"
"fix slack links

Signed-off-by: Bassam Tabbara <bassam@upbound.io>
(cherry picked from commit ddcbc97e81e4aa89d32e53049235d6f8449cbea3)
Add ENV flag for selinux labeling

Signed-off-by: Timothy Allen <kex.allen13@gmail.com>
(cherry picked from commit ae46f31882708d114190b5d30dc339337739088f)
Correctly set secretkey from mountSecretKey param

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 2e12167d82db4894bd150e5ae3d4949d465f5917)
fix for enabling tls on rados gateway s3 api:

this mounts secret as volume to rgw container
this adds certificate path to init container

Signed-off-by: Jack Lauritsen <jack.lauritsen@teradata.com>
(cherry picked from commit ea3e0fca26acf1578bf5e6b0dc4b67a1f94bae1c)
ceph: support custom dashboard port

Signed-off-by: Noah Watkins <noahwatkins@gmail.com>
(cherry picked from commit e66ad7463b2988a0843065cec399ab3006c8942e)
ceph: support dashboard ssl on/off

fixes:

cherry-pick notes: fixed whitespace in PendingReleaseNotes.md

Signed-off-by: Noah Watkins <noahwatkins@gmail.com>
(cherry picked from commit e9a9509313b2cc3434e2876ac814e5171f9b4b6a)
set mgr privs for access to the rbd mirroring settings

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 9afbe36ae698787245ad2eaa61bf923fc5c74047)
Changing timeout for dpkg unlock for Ubuntu GCE CI/CD systems

Signed-off-by: Christopher P. Maher <chris@mahercode.io>
(cherry picked from commit 19d953d51f986f63dea9be1a9555f28c159eb8b7)
allow disabling of fsGroup in the flex driver

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit bd25630d917c0f68d2f275c99bd3a34870b10419)
exec: interleave stdout/stderr logging

The io.MultiReader(r1, r2) reads r1 until EOF before moving on to r2.
When used for stdout/stderr stderr will not be written to the log until
stdout reaches EOF. This patch reads stderr in a go routine so that the
two streams can be interleaved properly.

Fixes:

Signed-off-by: Noah Watkins <noahwatkins@gmail.com>
(cherry picked from commit fbb56c41ed2c89e5fdc7178ea55e7c27ae1daff2)
use rook v0.9.2 and ceph v13.2.4 for the sample image tags

Signed-off-by: travisn <tnielsen@redhat.com>","Rook v0.9.2 is a patch release limited in scope and focusing on bug fixes.
Improvements
Ceph
Correctly capture and log the stderr output from child processes (, @noahdesu)
Allow disabling setting fsgroup when mounting a volume (, @travisn)
Allow configuration of SELinux relabeling (, @allen13)
Correctly set the secretKey used for cephfs mounts (, @galexrt)
Set ceph-mgr privileges to prevent the dashboard from failing on rbd mirroring settings (, @travisn)
Correctly configure the ssl certificate for the RGW service (, @syncroswitch)
Allow configuration of the dashboard port (, @noahdesu)
Allow disabling of ssl on the dashboard (, @noahdesu)
General
Increase timeout for starting GCE instances (, @Defilan)
Fix the links to Slack (, @bassam)"
"ceph: set osd mem target correctly

Previously, the value was set to commonArgs, resulting in dead code,
since common arg isn't used after the append.

Signed-off-by: Odin Ugedal <odin@ugedal.com>
(cherry picked from commit 0e73bbe2f3f3718ad8b0df709a01f178c0122fe9)
ceph: properly propagate errors when deleting mds

When deleting mds deployment the error is logged, but not propagated
further down (it always returns nil). The two places using the function
checks the error, and acts upon it.

Signed-off-by: Odin Ugedal <odin@ugedal.com>
(cherry picked from commit 43baf63b86e5eee9b9058bc5ca228029b54c2651)
mgr: set public-addr flag for MGR

This fixes that the MGR is binding to the gateway IP instead of the
actual Pod IP, as seen in.
When hostNetwork: true is set the public-addrr is not set so custom
network configs can be used.

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 6daf4087c794b90bf504bc8e7ffe04a0594f6df7)
ceph: remove default database size for OSDs

Since Rook is no longer creating partitions and leaving all that
work to ceph-volume, we should let ceph-volume choose the defaults
for the database size and use the max available. The default of 20GB
in fact doesn't even make sense since Ceph will only use the first 3GB
of that size and the other 17GB was wasted.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit b8e5e56dc137af7d2acc5c00922661f8983aef25)
set image version in manifests to v1.0.6

Signed-off-by: travisn <tnielsen@redhat.com>","Rook v1.0.6 is a patch release limited in scope and focusing on bug fixes.
Improvements
Ceph
Set public-addr flag for MGR (, @galexrt)
Remove the 20GB default for OSD db size and allow ceph-volume to use all available space (, @travisn)
Correctly set osd mem target for init-ed clusters (, @odinuge)
Properly propagate errors when deleting mds deployment (, @odinuge)"
"ceph: add external support for objectstoreuser

Now, the object store user is capable of creating s3 users on an
external Ceph cluster.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 84d1e28c9925f54013bf3ec325b2d4444aad060f)
ceph: small user delete refactor

Do not return error code, interpret it directly, put the error as part
of the output on failures.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 5f74e493efebaf56e16aa8868639152d1cb424a2)
ceph: added CephClusterReadOnly alert and updated utilization alerts

Added a new critical alert CephClusterReadOnly which notifies when the cluster becomes read-only
Updated the warning and critical alert to accomodate the new alert

Closes: BZ1809248
Signed-off-by: Anmol Sachan <anmol13694@gmail.com>
(cherry picked from commit 7cebf15a7ded3ba3e56e3892ad2549347edbd963)
ceph: fix the test of OSD

Fix the following bugs.

- CephVersion is not back to Octopus
- `cephadm' here is called with three arguments,
  ""info --query=property <devname>"". We should use 'args[2]' instead.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit e2df534abec834d842c18c59abd0df87c029e594)
ceph: fix ignoring device specification with non-kname

Partition's DevLinks are empty in osd-prepare-pod. So, the device
specification with non-kname, for example devicePathFilter, doesn't
work.

Closes: https://github.com/rook/rook/issues/5504

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit f65bb923ed9da75aa5af5902b4c0ad386596c2d3)
ceph: updated PVC utilizaztion alerts

Updated warning and critical alerts for all the PVC's created by rook-ceph provisioners. Added the recommendation to expand the PVCs.

Closes: BZ1849717
Signed-off-by: Anmol Sachan <anmol13694@gmail.com>
ceph: save mon config even if failed to remove dead mon

During mon failover if the mon fails to be removed, the new mon
config was not being saved. The mon removal anyway is not retried
if it fails, so it should make a best effort to remove all the
resources related to the mon, and then always update the mon
config after the failover.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 0be6fdfa2d28a78347075c06975911f74e9a87fe)
ceph: during mon failover remove the backing pvc

If the mon is backed by a pvc, ensure the pvc is deleted when
the mon is failed over. The pvc is being left in a bound state
even though it will no longer be used in the cluster.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 1d370b1314a1b9c28ec90b788b136c03bd9bdc40)
ceph: fix exec output

The previous code was overriding the content of `out`, now we just
return after the error.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit fa32f5323de9f927d91b642088d26679681d99ed)
ceph: fix GetUser

Stop check for the output, but read it instead.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 1efd490900a1937e2d60d9c9e0a5ab0676142c91)
ceph: force delete stuck mons in every reconcile

The stuck mons were only being force deleted in the mon health checker.
After an operator restart, the health check may not be executed
for 20 minutes until after the timeout during the main reconcile
which is holding onto a lock for mon reconcile. Now the stuck mon
will be deleted during the reconcile as well.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 99f17d3a337239462e46e53aa7569d8f73882270)
ceph: fix the wrong document of tuneDeviceClass

The tuning parameter of slow device is defined as ""tuneDeviceClass"".
However, it's written in the document as ""tuneSlowDeviceClass"".

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
build: set manifest versions to v1.3.7

Set manifest versions to v1.3.7 for the release

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.3.7 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Force delete stuck mons in every reconcile instead of only in the health check (, @travisn)
During mon failover remove the backing pvc (, @travisn)
Fix for the devicePathFilter during OSD creation (, @satoru-takeuchi)
External support for object store users (, @leseb)
Added warning and critical alerts for all the Ceph PVCs (, @anmolsachan)
Added CephClusterReadOnly alert and updated utilization alerts (, @anmolsachan)
Cassandra
Update base image to alpine:3.12 (, @galexrt)"
"chore(release): 1.8.27 [skip ci]

## [1.8.27](https://github.com/iamkun/dayjs/compare/v1.8.26...v1.8.27) (2020-05-14)

### Bug Fixes

* Add Kinyarwanda (rw) locale ([](https://github.com/iamkun/dayjs/issues/903)) ([f355235](https://github.com/iamkun/dayjs/commit/f355235a836540d77880959fb1b614c87e9f7b3e))
* Add plugin objectSupport ([](https://github.com/iamkun/dayjs/issues/887)) ([52dfb13](https://github.com/iamkun/dayjs/commit/52dfb13a6b84f0a753cc5761192b92416f440961))
* Add Turkmen (tk) locale ([](https://github.com/iamkun/dayjs/issues/893)) ([a9ca8dc](https://github.com/iamkun/dayjs/commit/a9ca8dcbbd0964c5b9abb4e8a2d620c983cf091a))
* Fix CustomParseFormat plugin set locale error ([](https://github.com/iamkun/dayjs/issues/896)) ([8035c8a](https://github.com/iamkun/dayjs/commit/8035c8a760549b631252252718db3cdc4ab2f68f))
* Fix locale month function bug ([](https://github.com/iamkun/dayjs/issues/908)) ([bf347c3](https://github.com/iamkun/dayjs/commit/bf347c36e401f50727fb5afcc537497b54b90d6b))
* Update CustomParseFormat plugin to support Array formats ([](https://github.com/iamkun/dayjs/issues/906)) ([97856c6](https://github.com/iamkun/dayjs/commit/97856c603ef5fbbeb1cf8a42387479e56a77dbe8))
fix: Update Ukrainian (uk) locale monthFormat and monthStandalone ()
fix: Fix CustomParseFormat plugin month index error ()

fix
chore(release): 1.8.28 [skip ci]

## [1.8.28](https://github.com/iamkun/dayjs/compare/v1.8.27...v1.8.28) (2020-05-28)

### Bug Fixes

* Fix CustomParseFormat plugin month index error ([](https://github.com/iamkun/dayjs/issues/918)) ([fa2ec7f](https://github.com/iamkun/dayjs/commit/fa2ec7fcb980dcd2c7498dafe2f9ca2e52d735cf)), closes [](https://github.com/iamkun/dayjs/issues/915)
* Update Ukrainian (uk) locale monthFormat and monthStandalone ([](https://github.com/iamkun/dayjs/issues/899)) ([a08756e](https://github.com/iamkun/dayjs/commit/a08756e80bd1d7126fca28c5ad9e382613fc86c4))","Bug Fixes
Fix CustomParseFormat plugin month index error () (fa2ec7f), closes
Update Ukrainian (uk) locale monthFormat and monthStandalone () (a08756e)"
"Mgr: fix prometheus annotations

This fixes https://github.com/rook/rook/issues/3204

Move prometheus Annoation logic before Deployment is initialized,
otherwise, podSpec is not uptodate

Signed-off-by: Dinar Valeev <k0da@opensuse.org>
Improve update 0.9 to 1.0 docs

 - Changed an instruction that used vi to a kubectl scale command

Signed-off-by: Danilo Riecken <danilo.riecken@teralytics.net>
Make the ownerreference name match the cluster name referenced

In order to cleanup all cluster resources in case of cluster deletion
all resources have an ownerreference to the cluster crd instance.
Because the name of the reference was incorrectly set to the name of the
namespace the cluster resources can unintentionally be deleted by the
kubernetes garbage collector after a kubernetes cluster anomaly.

Signed-off-by: René Kalff <r.kalff@intermax.nl>
(cherry picked from commit 25780878ebee5b1326c550b15fe06390c2e7f181)
Update the yaml and doc version to v1.0.5 for the release

Signed-off-by: travisn <tnielsen@redhat.com>","Rook v1.0.5 is a patch release limited in scope and focusing on bug fixes.
Improvements
Ceph
Set owner references properly to avoid unexpected K8s garbage collection (, @renekalff)
Add prometheus annotations properly to mgr deployment (, @k0da)"
"chore(release): 1.8.17 [skip ci]

## [1.8.17](https://github.com/iamkun/dayjs/compare/v1.8.16...v1.8.17) (2019-11-06)

### Bug Fixes

* Fix set utcOffset in utc mode ([d148115](https://github.com/iamkun/dayjs/commit/d148115dad8f1a5afc0a64e9b8163dfeba4616b6))
* Update advancedFormat plugin to support w ww wo week tokens … ([](https://github.com/iamkun/dayjs/issues/678)) ([26cfa63](https://github.com/iamkun/dayjs/commit/26cfa63a524b803f7966dac5464f9cbf8f63387e)), closes [](https://github.com/iamkun/dayjs/issues/676)
* Update ka locale weekdays ([f8ca3d4](https://github.com/iamkun/dayjs/commit/f8ca3d4ba1d3cbe41613d3909c0627935a51a0c4))
* Update nb locale ([](https://github.com/iamkun/dayjs/issues/679)) ([1063b0e](https://github.com/iamkun/dayjs/commit/1063b0e1b5c19a1354d233cc0f21438e7073233a))
* Update Polish locale (pl)([](https://github.com/iamkun/dayjs/issues/713)) ([30d2f02](https://github.com/iamkun/dayjs/commit/30d2f026b47188833a4f44fee4bab52467d4a718))
* Update Ukrainian locale (uk) ([](https://github.com/iamkun/dayjs/issues/710)) ([360161c](https://github.com/iamkun/dayjs/commit/360161cac75f597fdd51d9d1ff138601282a1b4b))
* UTC plugin set utcOffset value ([](https://github.com/iamkun/dayjs/issues/668)) ([8877883](https://github.com/iamkun/dayjs/commit/88778838e71dd309e79cd1a8094d5bea36ca3390))
fix: Update Italian locale (it) ()
fix: Update locale (fa) ()
fix: Update locale (zh-cn) ()
fix: Update locale (zh-cn) meridiem ()
fix: Update Swedish locale (sv) fix ordinal error ()

fix
fix(): Add missing locale type definition ()
fix: Update LocaleData plugin to support dayjs().longDateFormat() ()

fix
fix: Update Mongolian (mn) locale relativeTime ()
fix: Fix .locale() handel unsupported locale
chore(release): 1.8.18 [skip ci]

## [1.8.18](https://github.com/iamkun/dayjs/compare/v1.8.17...v1.8.18) (2019-12-18)

### Bug Fixes

* Add missing locale type definition ([](https://github.com/iamkun/dayjs/issues/716)) ([cde5d0b](https://github.com/iamkun/dayjs/commit/cde5d0b91be7b2f5f3098de4aa0b9a4f0f28ea5c))
* Fix .locale() handel unsupported locale ([78ec173](https://github.com/iamkun/dayjs/commit/78ec173fcecc1299516ab7b44f4554d431b4b2fd))
* Update Italian locale (it) ([](https://github.com/iamkun/dayjs/issues/727)) ([5b53e98](https://github.com/iamkun/dayjs/commit/5b53e98c0a3ba0eb9573a9c77caeb907439be9e7))
* Update locale (fa) ([](https://github.com/iamkun/dayjs/issues/733)) ([9ad2e47](https://github.com/iamkun/dayjs/commit/9ad2e47e0569b23991bb0d5578f49c792c12df08))
* Update locale (zh-cn) ([](https://github.com/iamkun/dayjs/issues/706)) ([e31e544](https://github.com/iamkun/dayjs/commit/e31e54414fb90e1f54da13a117748ba37f52645d))
* Update locale (zh-cn) meridiem ([](https://github.com/iamkun/dayjs/issues/735)) ([15d1b81](https://github.com/iamkun/dayjs/commit/15d1b813e7faf5a1f9d1ea6fc673fd27ac49d8b1))
* Update LocaleData plugin to support dayjs().longDateFormat() ([](https://github.com/iamkun/dayjs/issues/734)) ([aa0f210](https://github.com/iamkun/dayjs/commit/aa0f210a1e3c4f6aba61c3b96f9eb445b43a33f0)), closes [](https://github.com/iamkun/dayjs/issues/680)
* Update Mongolian (mn) locale relativeTime ([](https://github.com/iamkun/dayjs/issues/753)) ([6d51435](https://github.com/iamkun/dayjs/commit/6d51435092c0c94d8e50256d3f0f058cdd15febe))
* Update Swedish locale (sv) fix ordinal error ([](https://github.com/iamkun/dayjs/issues/745)) ([49670d5](https://github.com/iamkun/dayjs/commit/49670d5ae31e4e21636cc5a8bfe35fef0f6d9e4a)), closes [](https://github.com/iamkun/dayjs/issues/743)","Bug Fixes
Add missing locale type definition () (cde5d0b)
Fix .locale() handel unsupported locale (78ec173)
Update Italian locale (it) () (5b53e98)
Update locale (fa) () (9ad2e47)
Update locale (zh-cn) () (e31e544)
Update locale (zh-cn) meridiem () (15d1b81)
Update LocaleData plugin to support dayjs().longDateFormat() () (aa0f210), closes
Update Mongolian (mn) locale relativeTime () (6d51435)
Update Swedish locale (sv) fix ordinal error () (49670d5), closes"
"docs: update docs and yaml to v0.6.0
Unmarshal volume plugin dir from kubelet config response for 1.8

(cherry picked from commit faa2baee4b06b2384b8c41e6a7705f0c3b55176e)
tests: integration test for flexvolume path discovery

(cherry picked from commit 8ef8718efb237d205af37fd51e5c71543da02374)
tests: use a non default volume plugin dir path for k8s 1.8

(cherry picked from commit de7e6dbd56cfbf74f0e3a680c0434f6deb2fa92b)
Add existence checks for FlexVolume on Delete

This is a rather noisesome way of checking something which will only
happen during legacy conversion, so this may not be a desirable patch.

(cherry picked from commit 39e68a3c2b420f0b8b1abe46c101f966297a1a66)
rgw: skip deleting root pool when there are multiple object stores

(cherry picked from commit e7bd52a19935ea76f190c2a2e5e35eab03768e12)
docs: add replica count param to client walkthrough

(cherry picked from commit 825cc5b4706c09bf57dad1cc56ebd231acc8cee4)
api: recreate mon endpoint watcher when the result channel is closed

(cherry picked from commit 9da4d286d2be8ad58bc2c04195745eb1150dba62)
Ensuring volume lock is released when the same pod is requesting it

There is a case where a pod is trying to request a volume
attachment after the previous attachment failed. However even though this is
the same pod as the original attachment request, its UID could be different. This is normally caused when
the user manually deletes the pod and recreate it again. The name will be the same but the ID will be different

fixes https://github.com/rook/rook/issues/1214

(cherry picked from commit c1882d4760f5148d7c66dd4303e0990d5f6bfcfd)","Rook v0.6.1 is a patch release limited in scope and focusing on bug fixes.
Improvements
Non-default locations in Kubernetes 1.8 for the volume plugin directory will now correctly be discovered by the rook agents (@jbw976)
Fixed an issue where the rook-api pod would over time begin to consume 100% CPU (@jbw976)
Deletion of an object store will now be scoped to just the specified object store (@travisn)
Volume attachment locks will be cleaned up appropriately when a volume fails to attach for a pod and then the pod is deleted and recreated (@kokhang)
The dynamic volume provisioner in the Rook Operator no longer encounters a panic when a volume from before v0.6.0 is encountered (@Ulexus)"
"chore(release): 1.11.11 [skip ci]

## [1.11.11](https://github.com/iamkun/dayjs/compare/v1.11.10...v1.11.11) (2024-04-28)

### Bug Fixes

* day of week type literal ([](https://github.com/iamkun/dayjs/issues/2630)) ([f68d73e](https://github.com/iamkun/dayjs/commit/f68d73efe562fdedd9e288ecb0ce6565e602f507))
* improve locale ""zh-hk"" format and meridiem ([](https://github.com/iamkun/dayjs/issues/2419)) ([a947a51](https://github.com/iamkun/dayjs/commit/a947a5171aad5695eaf593bc95fe073de0f0894a))
* Update 'da' locale to match correct first week of year ([](https://github.com/iamkun/dayjs/issues/2592)) ([44b0936](https://github.com/iamkun/dayjs/commit/44b0936ad709212b63e48672d8b9c225e2c3b830))
* update locale Bulgarian monthsShort Jan ([](https://github.com/iamkun/dayjs/issues/2538)) ([f0c9a41](https://github.com/iamkun/dayjs/commit/f0c9a41c6ec91528f3790e442b0c5dff15a4e640))
fix: Add NegativeYear Plugin support  ()
chore: Update README.md
chore: update doc demo
fix: Improve typing for min/max plugin ()

No null if at least one date is passed; only null if explicitly no dates are passed.

Co-authored-by: iamkun <kunhello@outlook.com>
chore: Update README.md
chore: update demo
chore: update demo
fix: Fix zero offset issue when use tz with locale ()

* test: add test case for tz with locale

* fix: set utc as false if $offset is 0
fix: add UTC support to negativeYear plugin ()
fix: timezone plugin currect parse UTC tz ()
chore: added README translation for Swahili speakers ()
chore: rm useless import
chore(release): 1.11.12 [skip ci]

## [1.11.12](https://github.com/iamkun/dayjs/compare/v1.11.11...v1.11.12) (2024-07-18)

### Bug Fixes

* Add NegativeYear Plugin support  ([](https://github.com/iamkun/dayjs/issues/2640)) ([6a42e0d](https://github.com/iamkun/dayjs/commit/6a42e0d7398639238f575d51287daaf4d495a2a3))
* add UTC support to negativeYear plugin ([](https://github.com/iamkun/dayjs/issues/2692)) ([f3ef705](https://github.com/iamkun/dayjs/commit/f3ef705613af83333fe132b470896a65e12f31b0))
* Fix zero offset issue when use tz with locale ([](https://github.com/iamkun/dayjs/issues/2532)) ([d0e6738](https://github.com/iamkun/dayjs/commit/d0e6738a66e1b65d3706aad2f9168ebb43d4f887))
* Improve typing for min/max plugin ([](https://github.com/iamkun/dayjs/issues/2573)) ([4fbe94a](https://github.com/iamkun/dayjs/commit/4fbe94aaba8c815a42cf4d23dabac918ec50e68c))
* timezone plugin currect parse UTC tz ([](https://github.com/iamkun/dayjs/issues/2693)) ([b575c81](https://github.com/iamkun/dayjs/commit/b575c81a8c9c85c7a0baf6f608a12f9d3ba95bd1))","Bug Fixes
Add NegativeYear Plugin support  () (6a42e0d)
add UTC support to negativeYear plugin () (f3ef705)
Fix zero offset issue when use tz with locale () (d0e6738)
Improve typing for min/max plugin () (4fbe94a)
timezone plugin currect parse UTC tz () (b575c81)"
"Ceph: Filesystem Pool Size are ignored

The old Filesystem's pool is not getting updated when changed with the new File system.
So, we added two helper functions namely generateDataPoolNames and generateMetaDataPoolName  that will generate the names of the pools and then change those pool's values using the SetPoolSize method.

Signed-off-by: RAJAT SINGH <rajasing@redhat.com>
(cherry picked from commit 013c5bbac37abf9925ee7684e5bfe42c6c234b89)
Ceph: revert mgr to minimal privilege

mgr should only include ""mon allow profile mgr"" instead
of ""mon allow *""

Fixes:
Reverts:
Signed-off-by: Umanga Chapagain <chapagainumanga@gmail.com>
(cherry picked from commit 362a9c78e0d7e30eaaf6098d81ba0fd5bc20bd9b)
ceph: update status on current version of resources

When updating the status on resources sometimes the update fails due to
the resource being an outdated version. This frequently occurs when
the same reconcile loop updates the status multiple times, or the finalizer
is added, or some other update to the resource. Upon the next reconcile
the error would generally go away since the status or finalizer didn't
need to be updated multiple times. But now the error is not expected
since the controller will retrieve the latest version of the resource
immediately before attempting to update it.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 269cfe1199ac6c1b99dae407482aa8eb0d96d74e)
ceph: skip reconcile events where the spec not updated

The controllers should ignore events for status updates. The reconcile
only needs to happen when the spec is updated or the resource is marked
for deletion. Otherwise, the controllers may stay in an update loop as
the reconcile events are triggered again every time there is a status
update during the reconcile.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ff1ab64d8d00b10455983b22d2fce7e8f3da2b30)
ceph: helm add default value for the `nodeSelector`

Without the default value helm does not have chance
to infer the field type and fails during type check
when custom `nodeSelector` value is specified;

Closes: https://github.com/rook/rook/issues/5236
Signed-off-by: Ivan Kurnosov <zerkms@zerkms.com>
(cherry picked from commit b5e1e9f7e24d8b6101a788d4d84287e6345eac45)
doc: fix link in k8s-pre-reqs page

This fixes a markdwon link on the k8s-pre-reqs doc page.

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit edd272a7f131026f9576e3eb36612dd86191f6da)
Ceph: PV provisioning fails upon upgrade

CSI CephFS provisioner fails to provision a Persistent Volume after upgrading from Rook Ceph Operator 1.1.2 to 1.1.7.
This issue can be fixed by removing givePoolAppTag function whenever there is an appName cephFs.

Signed-off-by: RAJAT SINGH <rajasing@redhat.com>
(cherry picked from commit bb79f7bc2c44f56ef04518e89441db47786c1a22)
ceph: reduce verbose logging for ok-to-stop failures

When a daemon is not safe-to-stop the operator will print the full
stack trace rather than a simple error message that the daemon
cannot be stopped.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 668bca27b1781b4352d78ff873061a4ce37d2f58)
ceph: document example for skipping osd creation

When an OSD has been previously configured with ceph-volume, the
OSD will be skipped on the next installation if the device is not
fully wiped. Added an example to the docs to detect this case.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 4060167852c853c5efc1422c899caff271db2990)
Ceph: Update Helm Chart documentation

Add <unreachableNodeTolerationSeconds> parameter to Helm chart documentation

Signed-off-by: Juan Miguel Olmo Martínez <jolmomar@redhat.com>
(cherry picked from commit 08821f1d6107c440f3e5fea794bd99cffaf05d4c)
build: codegen needs to copy to pkg subfolder

The codegen output is moving the apis and client folders to the root
folder instead of under pkg.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit c2878f693ea0651ede90bf9da9d30cdf7e78baa6)
PSP: Add seccomp annotations

This commit adds seccomp annotations to the PSP shipped with Rook
Operator. In this way the operator when deployed will be more secure and
will only be allowed the syscalls defined the runtime's seccomp profile.

Signed-off-by: Suraj Deshmukh <surajd.service@gmail.com>
(cherry picked from commit 2f6205b2f64bc8ec4b860f78c1ff0ae0c8637eb3)
ceph: Add requireSafeReplicaSize in CephObjectStore CRD

Add requireSafeReplicaSize field in CephObjectStore CRD.

Closes: https://github.com/rook/rook/issues/5260
Signed-off-by: zoetrope <a.ikezoe@gmail.com>
(cherry picked from commit f00092de73c9836899186799fe67d6a6aae2e297)
ceph: add requireSafeReplicaSize to CRD

add requireSafeReplicaSize field to CRD in upgrade-from-v1.2-crds.yaml and ceph_manifets.go

Signed-off-by: zoetrope <a.ikezoe@gmail.com>
(cherry picked from commit babb55cc15ca108fd9bc5453746a62e1f1aa5c1c)
ceph: update defaults to the ceph v14.2.9 release

With the release of ceph v14.2.9 we set the default examples to this version.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 348690ea644808a8acc08ea564f25f425a9a9e25)
ceph: configure mgr modules in parallel of osds

The mgr modules take some time to configure during every reconcile loop.
The OSDs were waiting until the mgr module config was completed. Since
the mgr module config is optional or at least not critical to the rest
of the reconcile we can do it in parallel.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 9634574d5b1b0374ff165723094c9d8db5aa2bd0)
ceph: stop potential secret leak

If cluster info is not fully initialized we could leak some of the ceph
secrets in the operator logs.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 58b7b1e012f083c43d32305ff853c06c470b85c5)
ceph: make admin key optional for external cluster

Currently, we need to configure the Ceph external Admin keyi
in the Rook deployment to be able to connect to an external Ceph cluster.
If we wanted to run in a multi-tenant fashion
were several K8s/Rook clusters wanted to connect to the same external ceph cluster,
each K8s deployment would have the access to the External Ceph Admin key
and could potentially access or delete the Data
from pools that belong to other k8s/Rook Clusters.

Now the admin key is optional but the helper script create-external-cluster-resources.sh
will help create the necessary keys/users to connect to that cluster.

Closes: https://github.com/rook/rook/issues/4917 and https://github.com/rook/rook/pull/5227
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 7c994441c3a96e8071ee4fc8703b2e0a6c1d6844)
ceph: allow toolbox script to skip watching mons

The toolbox script is used for configuring the toolbox. If the
mons are to fail over while the toolbox is running, the new
list of mons needs to be updated. However, if run temporarily
as a one-time job, the script only needs to initialize the
ceph.conf and then exit.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit c024f01d9a7f74aa5b561a1b0925e5c443c48bdc)
docs: fix secret env keys on ObjectBucketClaim

The documentation on the Ceph ObjectBucketClaim CRD
erroneously states that the generated Secret resource
contains keys `ACCESS_KEY_ID`, `SECRET_ACCESS_KEY`.

According to ceph-object.md, and when mounting the secret
into a container via secretRef, or inspecting it with kubectl,
the variables have an `AWS_` prefix.
Like so: `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`.

This commit adds the `AWS_` prefix to both keys.

Signed-off-by: Richard Patel <me@terorie.dev>
(cherry picked from commit 66feafa9a5e85b6feeacf22815e4fa3f4e6289f3)
ceph: lookup of the cluster cannot rely on namespace name

The name of a CephCluster is commonly the same as the namespace,
but not always. When looking up the ceph cluster we can look for
the first one in the namespace rather than requiring the name
to be the same as the namespace.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 8d72e788c1ac844388f74e9d914cadccf50edeeb)
CSI: update cephcsi to v2.1.0

cephcsi v2.1.0 is released and doesnot need any deployment
template changes. This PR updates the cephcsi image
version to v2.1.0

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 5684c4cc373ead1abe159a7bf38e46ab158b1d66)
ceph: restore the cluster-test.yaml example

The cluster-test.yaml example is useful for small test clusters
where only one mon is required and certain settings can be disabled
when not running in production.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 9d01f92d2cc487481b369f07589774f7676f452e)
ceph: update helm chart manifests

Currently, helm chart is little outdated and has differences with
example/common.yaml.
This commit modifies both manifests to use same resources.

Signed-off-by: binoue <banji-inoue@cybozu.co.jp>
(cherry picked from commit 18cde4596c3cf37b5250a97fc57eec35dd5803c8)
ceph: metadatadevice to not be added to osd data device list

When the metadataDevice is specified, it was a regression that it was
being interpreted also as a data device. ceph-volume was failing
when the metadataDevice was added as both a data and metadata device.
So we ensure it is not added to the list of data devices.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 99dc363ab6e0b9386a5a33726fe68a482683f0fc)
release: set the manifest versions to v1.3.2

With the latest patch release we set the manifest version to v1.3.2

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.3.2 is a patch release limited in scope and focusing on bug fixes.
Ceph
MetadataDevice was failing the OSD creation (, @travisn)
Helm chart updates to be in sync with yaml manifests (, @binoue)
Update Ceph CSI driver to v2.1.0 (, @Madhu-1)
Restore the cluster-test.yaml example (, @travisn)
Properly reconcile CephCluster if named differently from namespace (, @travisn)
Enable running a toolbox job with the toolbox script (, @travisn)
Remove need for admin key for external cluster configuration (, @leseb)
Configure mgr modules in parallel of OSD reconcile (, @travisn)
Set default manifests to configure Ceph v14.2.9 (, @travisn)
Add requireSafeReplicaSize in CephObjectStore CRD (, @zoetrope)
Add seccomp annotations to the PSP (, @surajssd)
Revert mgr keyring to minimal privilege (, @umangachapagain)
Codegen needs to copy to pkg subfolder (, @travisn)
CephFS provisioner fails to provision a Persistent Volume after upgrading (, @rajatsingh25aug)
Add default value for the nodeSelector in the helm chart (, @zerkms)
Skip reconcile events where the spec is not updated (, @travisn)
Add support for updating filesystem pool replicated size (, @rajatsingh25aug)
Docs: Troubleshooting an OSD that can't be created on a previously configured device (, @travisn)
Docs: Fix secret env keys on ObjectBucketClaim (, @terorie)"
"chore(release): 1.11.0 [skip ci]

# [1.11.0](https://github.com/iamkun/dayjs/compare/v1.10.8...v1.11.0) (2022-03-14)

### Bug Fixes

* Add Kirundi (rn) locale ([](https://github.com/iamkun/dayjs/issues/1793)) ([74e5247](https://github.com/iamkun/dayjs/commit/74e5247227a779fffde39bdfcd1ee19911496709))
* add missing date shorthand D type definition ([](https://github.com/iamkun/dayjs/issues/1752)) ([b045baf](https://github.com/iamkun/dayjs/commit/b045baf1646a81f7e4f446f355d02d5fb0ef4aa7))
* Add relative time to Galician (gl) and fix ordinals ([](https://github.com/iamkun/dayjs/issues/1800)) ([dcbf170](https://github.com/iamkun/dayjs/commit/dcbf1708400624addfbddbc71e0f6a9ac15fa961))
* update German locales (de-at, de-ch) ([](https://github.com/iamkun/dayjs/issues/1775)) ([f9055a7](https://github.com/iamkun/dayjs/commit/f9055a77bf3d84c575e5fcf99e21611138ba64d7))
* update Icelandic [is] locale relativeTime config ([](https://github.com/iamkun/dayjs/issues/1796)) ([76f9e17](https://github.com/iamkun/dayjs/commit/76f9e1756de7e99c01e471dab30ea074b9ec9629))
* Update index.d.ts note ([](https://github.com/iamkun/dayjs/issues/1716)) ([5a108ff](https://github.com/iamkun/dayjs/commit/5a108ff3159c53fd270ea7638f33c35c934d6457))
* Update locale German [de] monthsShort ([](https://github.com/iamkun/dayjs/issues/1746)) ([4a7b7d0](https://github.com/iamkun/dayjs/commit/4a7b7d07c885bb9338514c234dbb708e24e9863e))
* update meridiem function to Kurdish (ku) locale ([](https://github.com/iamkun/dayjs/issues/1725)) ([efd3904](https://github.com/iamkun/dayjs/commit/efd3904ff8cbf0a4fc064911dda76fc86b669f7b))
* update updateLocal plugin typescript types ([](https://github.com/iamkun/dayjs/issues/1692)) ([c7a3f73](https://github.com/iamkun/dayjs/commit/c7a3f73064dbb63b4d365b2ad4c792f075f4d8d8))

### Features

* Fallback to language only locale + support uppercase locales ([](https://github.com/iamkun/dayjs/issues/1524)) ([9138dc2](https://github.com/iamkun/dayjs/commit/9138dc28206875372da4fb74c64716437cd11b95))
chore(release): 1.11.1 [skip ci]

## [1.11.1](https://github.com/iamkun/dayjs/compare/v1.11.0...v1.11.1) (2022-04-15)

### Bug Fixes

* add Bengali (Bangladesh) [bn-bd] locale ([](https://github.com/iamkun/dayjs/issues/1806)) ([840ed76](https://github.com/iamkun/dayjs/commit/840ed76eedc085afefc4dedd05f31d44196b63b0))
* refactor replace deprecated String.prototype.substr() ([](https://github.com/iamkun/dayjs/issues/1836)) ([627fa39](https://github.com/iamkun/dayjs/commit/627fa393e4daf83c92431162dbe18534b23fcbae))
* Update German [de] locale, adds the abbreviations for month including a . in the end, as in September -> Sept. ([](https://github.com/iamkun/dayjs/issues/1831)) ([4e2802c](https://github.com/iamkun/dayjs/commit/4e2802cc3bec2941ffb737a15fb531c90951eafe))
* update Italian (Switzerland) [it-ch] locale relativeTime ([](https://github.com/iamkun/dayjs/issues/1829)) ([8e6d11d](https://github.com/iamkun/dayjs/commit/8e6d11d053393d97bee1ba411adb2d82de1a58c4))
* update Kurdish [ku] locale strings and formatted output contains non-standard kurdish characters ([](https://github.com/iamkun/dayjs/issues/1848)) ([a597d0b](https://github.com/iamkun/dayjs/commit/a597d0b1b8dd28e626f8c59d326622088f7b51e7))
* update locale bo [Tibetan]: corrected the orders in formats ([](https://github.com/iamkun/dayjs/issues/1823)) ([e790516](https://github.com/iamkun/dayjs/commit/e79051617af6787358f6c9b5443d987b8b53a9e1))","Bug Fixes
add Bengali (Bangladesh) [bn-bd] locale () (840ed76)
refactor replace deprecated String.prototype.substr() () (627fa39)
Update German [de] locale, adds the abbreviations for month including a . in the end, as in September -> Sept. () (4e2802c)
update Italian (Switzerland) [it-ch] locale relativeTime () (8e6d11d)
update Kurdish [ku] locale strings and formatted output contains non-standard kurdish characters () (a597d0b)
update locale bo [Tibetan]: corrected the orders in formats () (e790516)"
"nfs: do not restrict search domain to localhost

Adding the search domain localhost causes lookup failures.

Many DNS servers have a wildcard entry *.localhost which returns
127.0.0.1. Adding a ""search localhost"" to resolv.conf appends a
"".localhost"" for every host lookup for which the DNS server returns
127.0.0.1 which causes failures further down the execution path.

example: with localhost in the search domains
 # ping google.com
PING google.com.localhost (127.0.0.1) 56(84) bytes of data.
64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.071 ms

Closes: https://github.com/rook/rook/issues/11870
Signed-off-by: Sachin Prabhu <sprabhu@redhat.com>
(cherry picked from commit 08d83a33cde7f8788920edb00464e15e3d6b396a)
nfs: set nsswitch.conf to lookup local files

When using sssd, the /etc/nsswitch.conf should also include local files
for lookups. This is required when looking up uid 0 and the root user
which are not handled by ldap or other sources.

Closes: https://github.com/rook/rook/issues/11925
Signed-off-by: Sachin Prabhu <sprabhu@redhat.com>
(cherry picked from commit d3636aaf3e65781d9d6008f001abe8a542430579)
docs: mention about reconciliation issue in hpa docs

During reconciliation of cephobjectstore, Rook operator resets the value
of replica count by the HPA and HPA brings back it up when it notices
the desired count for replica change.

Signed-off-by: Jiffin Tony Thottan <jthottan@redhat.com>
(cherry picked from commit 823c06da44749732c1ae1fe940a2969c1430a165)
core: disable exporter service

Create the exporter service only if exporter pods are created.
Signed-off-by: avanthakkar <avanjohn@gmail.com>
(cherry picked from commit 32b2445ee4f7e4dddb589f522ee301670b7d88d4)
helm: add an ingress for ceph-objectores

Signed-off-by: Cyril Jouve <jv.cyril@gmail.com>
(cherry picked from commit 100f8c1320693b24329cd948c2f99d2a8370c548)
core: skip OBC and Notification controllers

Skip running Object Bucket and Object bucket notification
controllers based on env variable.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit e87338fbc48ca564929feb5dc3097fdaf8f69e34)
external: check for pool and cluster name is provided

While adding the support for dot and special rbd pools
the check for pool and cluster name check was removed,
Adding it back as it is needed
https://github.com/rook/rook/pull/12056

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit e02942ab779f5307c2e1b675289f16900341302b)
docs: clarify docs for wording or obsolete info

Update the getting started guide, prereqs, architecture,
and other basic docs with more concise wording and removed
some obsolete information. Some links are removed so they
don't distract the user from reading the critical information
that we are conveying in the rook docs.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit ecdeb7aa9f39299c8389ed41d2a238c59cc01b31)
ci: disable multi-cluster-mirroring

till we didn't resolve the multi-cluster-mirroring ci issue
lets keep it disable

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 423ad93fc080fdf355e446fc918cf357b354342a)
mgr: fix ceph dashboard login issue

Dashboard ac-user-create cmd was taking more time
then the usual ceph command to run,
So increased the timeout to run the cmd, and
now dashboard admin user is sucessfully created

Closes: https://github.com/rook/rook/issues/12113
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit ed61d25fc3800005dc714475523fa42b660d25fe)
test: add multus validation test routine to rook binary

Add a more involved multus validation test to the Rook binary. Because
this is intended to be end-user runnable, make sure operator-only
commands are hidden.

Build this into the rook binary instead of creating a separate binary
for ease, and because any binary built with the kube api becomes 40+
megabytes. We save quite a bit of space by including this in the Rook
binary, which is good for keeping container layers as small as possible.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 0f6e7ee921e98776c31b4b0912e69f093caeccfc)
core: update k8s module to lastet version

updating k8s dependencies like clien-go and
others to v0.26.4

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit ad068d966a9e63f8e1c8724bb8106c5683ef3aef)
nfs: pare down config file volume sources

Pare down the available volume sources for NFS config files so that the
CRD isn't unnecessarily huge. This allows us to recommend
`kubectl apply` again in the upgrade doc.

Size of the NFS CRD is reduced by approximately 60%.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 6500c11d57707f740808021ad83bb542ad2d3fe4)
build: update patch version to v1.11.5

For the patch release the docs and examples are updated to
v1.11.5

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.11.5 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
mgr: Retry creating ceph dashboard credentials (, @parth-gr)
nfs: Reduce size CephNFS CRD from unnecessary file volume sources (, @BlaineEXE)
core: Update k8s API references to more recent version (, @subhamkrai)
test: Add multus validation test routine to rook binary (, @BlaineEXE)
external: check that the pool and cluster name is provided (, @parth-gr)
core: Skip OBC controllers if not needed based (, @sp98)
Add an ingress for Ceph object stores (, @jouve)
core: Disable the exporter service (, @avanthakkar)
nfs: Fixes for mounting CephNFS using Kerberos auth (, @spuiuk)"
"core: use ROOK_CEPH_MON_HOST from config store in OSD pods too

Signed-off-by: avanthakkar <avanjohn@gmail.com>

Volume ""ceph-daemons-sock-dir"" is coming empty in case if dataDirHostPath,
which is the case for osd onPVC. Fix the volume creation by using the
ceph cluster spec dataDirHostPath, which allows to run socket commands
on osd containers.

(cherry picked from commit 541d091f9c71f17c59ff3c9a998ff3016c7ec7b2)
docs: update external cluster docs

1) removed the supported version column

2) updated the doc with support for v2 port an helm installation

3) Add support for rgw objectuser creation

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 56cd431377857a4e3f741cec9bc63c60c45485ad)
mgr: removing unnecessary rook-ceph-mgr rbac entries

These rbac changes were introduced as part of PR to enable
sidecar accessing mgr pods but in fact they are not necessary
as rook-ceph-mgr role had already the ability to update pods

Closes: https://github.com/rook/rook/issues/12336

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 08754f61976c9e20856b195032861ba6ec621cf8)
core: typo in logs to print fullname of CephCluster

printing namespace along with name would make debugging easier

Signed-off-by: Tarun Gupta Akirala <takirala@users.noreply.github.com>
(cherry picked from commit df0ce26923fa3f126de048564d67f90f50566071)
docs: prevent to delete other clusters data on cluster deletion

Current cluster teardown document assumes that there is only one
Rook/Ceph cluster. If not, the instruction written in this document
might delete the data of other clusters.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 20b7a30ca66cc95a001318ac00a8d806a187c1d1)
docs: update the integration test guide

The integration test guide is updated to be more accurate
and provide more hints that the CI is the recommended
place to troubleshoot the integration tests

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit fa5b758f9edeef0b7d62bb760b7b40ab194fcc84)
nfs: set correct kerberos domain in /etc/idmapd.conf

We add a new field domainName to the Kerberos section. The field is used
to setup /etc/idmapd.conf with the domain name. This allows idmapper to
map to kerberos credential to the correct uid/gid.

We add Spec.Security.Kerberos.DomainName to the CRD

Signed-off-by: Sachin Prabhu <sprabhu@redhat.com>
(cherry picked from commit 8705f2b37e617e81d4245b1eed647ef6e0a16c6f)
pool: add .mgr pool to the stretch cluster examples

The stretch clusters must create pools with a pool spec
that is valid for the stretch scenario, with 4 replicas
and failure domain and sub failure domain as needed
to match the topology. Otherwise, ceph will create a
default .mgr pool which will have replica 3 which is
invalid for the stretch scenario.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 11d83bfbec493a653dafd5789d9ee8139fb4e5e7)
helm: add EC Block Pool config in helm chart

allow for EC Block Pool configurations to be defined in the rook-ceph-cluster Helm chart

Signed-off-by: Javier <sjavierlopez@gmail.com>
(cherry picked from commit f6816abc977539446e33ed6387203e84c1d98955)
docs: improve external doc format

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 9a92756830e7521d9b343bad276b97c30b5cfc3f)
docs: suggest qeumu driver for minikube on apple silicon

Apple silicon does not support hyperkit, and virtualbox does not support
Apple silicon (yet). Suggest the QEMU driver for development on MacOS
with Apple silicon.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit a57d972aa187d0ac76e1a87d40da4a9be81c127b)
docs: remove the line generated by gen-crd-api-reference-docs

removing the line added by gen-crd-api-reference-docs to avoid commit
specification.md with only the reference to the git commit

Signed-off-by: Javier <sjavierlopez@gmail.com>
(cherry picked from commit 9b3e5b10e774056cdd64811b56f515b2bffca2ea)
build: update release version to v1.11.8

For the patch release update the docs and example manifests
to v1.11.8

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.11.8 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
helm: add EC Block Pool config in helm chart (, @Javlopez)
pool: Add .mgr pool to the stretch cluster examples (, @travisn)
nfs: Add Spec.Security.Kerberos.DomainName to the CRD to configure /etc/idmapd.conf (, @spuiuk)
mgr: Removing unnecessary rook-ceph-mgr rbac entries (, @rkachach)
core: typo in logs to print fullname of CephCluster (, @takirala)
core: empty ceph-daemons-sock-dir for osd onPVC (, @avanthakkar)
docs: prevent to delete other clusters data on cluster deletion (, @satoru-takeuchi)
docs: improve external doc format (, @parth-gr)
docs: Suggest qemu driver for minikube on apple silicon (, @BlaineEXE)"
"external: create ceph cluster namespace

We need to create the namespace with the import script,
As per the documentation

The import script creates the secrets and
cm which is later used by the operator for cluster creation.

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit f9f880e52852d88a8d25819ba99c3a41c443965c)
docs: update the external doc format

Cephobjectstore is not formated correctly
https://rook.io/docs/rook/v1.12/CRDs/Cluster/external-cluster/#connect-to-an-external-object-store

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 8a445ef0cb784c415df777967c0710ebe851d28d)
ci: add detached mode in tmate

with detached mode, we don't need to wait for the
tests to complete. Now, we can get inside tmate before
the tests start and we can monitor the tests.

By default, this mode will wait at the end of the job for
a user to connect and then to terminate the tmate session.
If no user has connected within 10 minutes after the post-job step started,
it will terminate the tmate session and quit gracefully.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit f171e1c037626c58590fba1aae1d06ff2385fd8c)
build(deps): bump wagoid/commitlint-github-action from 5.4.1 to 5.4.3

Bumps [wagoid/commitlint-github-action](https://github.com/wagoid/commitlint-github-action) from 5.4.1 to 5.4.3.
- [Changelog](https://github.com/wagoid/commitlint-github-action/blob/master/CHANGELOG.md)
- [Commits](https://github.com/wagoid/commitlint-github-action/compare/v5.4.1...v5.4.3)

---
updated-dependencies:
- dependency-name: wagoid/commitlint-github-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
(cherry picked from commit d5f5f0b64ec8118a3a20038d894043894f5898eb)
object: update ceph cosi driver image to v0.1.1

Update the ceph cosi driver image to v0.1.1, so that it can
work on both amd and arm platforms.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 1bf33f125e156f4c81967a88e70aabb389c63591)
core: force delete rook-ceph-exporter pod

Force delete rook-ceph-exporter pod that is stuck in terminating
state due to unavailability of node.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit dd90ef5db24bdea0654ebf04fbf6044ab070fd78)
osd: configure backend store

Configure osd backend store from the cephCluster spec

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit c13d34f8d3d42eb4b9c474f0062dd6f7106c8c92)
object: do not add objectstore endpoint to zone when sync is disabled

Gateways that do not run the sync threads should not be accessible from one of
the Zone endpoint. If this is the case, the synchronization might stop working.

When the CephObjectStore has the option
`spec.gateway.disableMultisiteSyncTraffic` set to `true`, we must ensure that
the objectstore endpoint is not present in the Zone endpoint.

Signed-off-by: Lucas Henry <polyedre@disroot.org>
(cherry picked from commit 564afef4c7b1d8b6840a63917f42c69d68cc1cd9)
build: cosi driver is missing from olm list

adding cosi driver list in olm list as it is
being missed in csv crd list generated by
other project.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 884a5c1c1813dd8e4e15a13b187f76f4b9cc7387)
test: collect kube-system logs for debugging

added kube-system namespace also to collect
logs from to debug the smoke suite issue

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 0ed91458dc39f0a294fdc5a4e6d631e4b81192f9)
test: fix upgrade suite for 1.27.x version

the upgrade suite for version 1.27.x is failing
due
```
debug 2023-07-24T19:11:20.264+0000 7f3395a82c80 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 5% 4.4 GiB)
you may adjust 'mon data avail crit' to a lower value to make this go away (default: 5%)
```
so adding mon setting to start on `compact` also adding
other setting present in cluster-test.yaml.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit e8e8a4673ad364313a424100bf3149c59a809e39)
core: node fencing, skip pv when pv is not backed by csi

when node fencing is triggered and a negative case where
one deployment pod consuming pv not provisioned by csi
and another deployment pod with rbd rwo are on the same
node and node fencing is triggered.

In this case rook operator panics since it is trigger to get
field `pv.Spec.CSI.Driver` which will be nil.

Also, skip static pv as there is no `imageName` in the spec
rbd status command will fail.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 72386eb1d06cd7cf567ff020ac98af5c476efc4d)
nfs: mount krb5.conf and krb5.keytab in the sssd container

This will enable us to use GSSAPI in sssd for authentication when
connecting to the remote LDAP server.

Signed-off-by: Sachin Prabhu <sprabhu@redhat.com>
(cherry picked from commit 0a151e913d465c743aebd2bc35d01b7b7486ccfb)
nfs: fix null pointer deref in generateSssdSidecarResources()

0a151e913 results in a bug which causes null pointer dereference when
Kerberos is not setup. This causes a failure in Unit test
TestReconcileCephNFS_addSecurityConfigsToPod

Signed-off-by: Sachin Prabhu <sprabhu@redhat.com>
(cherry picked from commit 6cf4627ccd05ca90393c5e93bba8d91694fd6f11)
multus: revise kube config/client loading

The previous client loader routine assumed KUBECONFIG would be set in
CLI environments. Instead, now take this approach:

1. If KUBECONFIG is set, that is the de-facto override that informs the
   tool it is being run in a CLI environment.
2. Otherwise, try creating a client from the default kube config file.
3. If that fails, assume the tool is running in a Kubernetes Pod.

This will continue supporting dev/test environments so that building the
rook container is not necessary for development. It also allows support
for highly opinionated environments (like deployed by OpenShift CSVs)
where it's not possible to install the Rook operator without also
deploying a CephCluster.

Signed-off-by: Blaine Gardner <blaine.gardner@ibm.com>
(cherry picked from commit cc9514ad6ca417e20c2d7b9575ce8a8ca11f3ff8)
osd: use cp -a command for copying init-containers

remove copy-binaries cmd and related code

Signed-off-by: Sheetal Pamecha <spamecha@redhat.com>
(cherry picked from commit d86fa2abbc79c1ba0546d59c386f71602eef3679)
external: added an optional flag for enabling v2 mon port

Added a new flag `--v2-port-enable` to enable the v2 mon port.

Signed-off-by: Nikhil-Ladha <nikhilladha1999@gmail.com>
(cherry picked from commit 5daddbe379c4eb67b1c9637606aa2e696a8c8b90)
external: set RequireMsgr2 if v2 port is configured

Currently if we use the msgr2 port,
cs-cluster-config-json looks like
""monitors"":[""192.59.109.11:3300"",""192.59.109.13:6789"",""192.59.109.12:6789""]

The first monitor is passed by python script and rest are
Discovered by rook operator, so if the first mon is using the v2 port
lets update the other mons also by setting up the RequireMsgr2 flag

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 2c4897f88c41acace9465e54ff8251c044b43e27)
ci: allow commit prefixes for doc and tests

Allow for doc(s) and test(s) commit prefixes to be either
singular or plural. This is always a confusing point when
adding the commit prefix, so let's just allow both.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 3d7924dc2262d20320597b64078eee78ca68b010)
tests: toolbox uses same ceph image as the test

The test is currently only using the ceph version that is
included with toolbox.yaml, which may be different
from the version of the ceph cluster being tested.
Now the version will be replaced to match the desired
ceph test version.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 600068ea21447b0345c9a2033a21f82a799b8d65)
tests: multi cluster suite toolbox version

The toolbox image tag was always being set from
even when the image was not set in the test. If the image
is not set, skip replacing the image name to use the default
test version.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit c17724b536eaabb19be8d086eca9448ee29905fd)
docs: add note in upgrade guide about cephfs driver's breaking change

CephCSI CephFS introduced a breaking change in v3.9.0.
This commit adds a note in upgrade guide regarding the same.

refer: https://github.com/ceph/ceph-csi/blob/v3.9.0/docs/ \
       ceph-csi-upgrade.md/#upgrading-cephfs

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit a2113684e46c463f7f991ef97f570cc93ce44a78)
ci: run object suite in master and release branches

The object suite was being skipped in master and release
branches. Since the object suite was only running in PRs
it was not noticed if there were any issues in the master
branch or release branches. Now we run it in these branches
in addition to the PRs.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 8fd46a46d3a1be8d032acf02591779476c58fd3d)
build: update release version to v1.12.1

For the patch release update the examples and docs

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.12.1 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
docs: Add note in upgrade guide about cephfs driver's breaking change (, @Rakshith-R)
osd: Use cp -a command for copying init-containers binary (, @Sheetalpamecha)
external: added an optional flag for enabling v2 mon port (, @Nikhil-Ladha)
external: set RequireMsgr2 if v2 port is configured (, @parth-gr)
multus: Revise kube config/client loading (, @BlaineEXE)
nfs: Fix null pointer deref in generateSssdSidecarResources() (, @spuiuk)
external: Create cluster namespace for the external cluster (, @parth-gr)
object: Update ceph COSI driver image to v0.1.1 (, @thotz)
object: Do not add objectstore endpoint to zone when sync is disabled (, @polyedre)
nfs: mount krb5.conf and krb5.keytab in the sssd container (, @spuiuk)
core: Force delete rook-ceph-exporter pod on a down node (, @sp98)
rbd: Skip PV during node fencing when PV is not backed by Ceph-CSI (, @subhamkrai)
build: COSI driver is missing from OLM list (, @subhamkrai)
ci: add detached mode in tmate (, @subhamkrai)"
"ci: update mon_data_avail_warn percentage

I see the mon_data_avail_warn is set to 500M
but acording to ceph doc this should be in percentage
And by default this percentage is 30%,
So re assigned to 10% for the CI

Closes: https://github.com/rook/rook/issues/11130
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit d392129cdde8a17e02b7d48b6bf88bebd90a4e9f)
docs: document expectations for releases

The release schedule and maintenance approach has been
left as undefined until now to give flexibility to the
maintainers to release as needed. The community is
asking for clarity around the planned release schedule
so it is time to document the procedures.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit fc035c7a5bf1871aaf6d2fba3a49f22705f02d29)
docs: add point about physical disks visualization in dashboard

New point to explain when is available this information in the Ceph dashboard

Signed-off-by: Juan Miguel Olmo Martínez <jolmomar@redhat.com>
(cherry picked from commit 1ee481cf432547bd2819ae1f96c0ba3b50ea9ce0)
operator: don't remove existing pools for mgr/prometheus/rbd_stats_pools

Rook currently knows rbd pools only if they defined through CephBlockPool, so it overrides the config
mgr/prometheus/rbd_stats_pools which may have already been set for pools external to Rook. Check config
before running set command and if there some existing pools append them to enableStatsForCephBlockPools.

Signed-off-by: Avan Thakkar <athakkar@redhat.com>
(cherry picked from commit e8b74207dd051829f18b7924412b1d449cd71fb5)
core: increase liveness probe timeout to 5s

stability issues have been observed with 1s.
socket latency is expected whenever CPUs are
under minor pressure. Increasing value to
5s should cover most small-medium scale envs.

Resolves BZ: 2126566

Signed-off-by: Randy J. Martinez <randy@cephtips.com>
(cherry picked from commit ac9df66b761bd76bfe54f385805a5c6736511bd6)
osd: osdSafeToDestroy check should be after osd out

currently, osdSafeToDestroy check is done before
marking osd out which prevents ceph from rebalancing.
With this changes, we are moving check for
osdSafeToDestroy after osd is marked out.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 77f9e0d5b69c4a3880f82c905d8377e49e918f05)
csi: add setmetadata and clustername flag to omap

The omap generator sidecar is the one who
sets the pvc name and clustername in the metadata
if the pv is re-attached to a new pvc or if the
clustername changes, for that reason we need to
set these flags on the omap generator sidecar
also.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit ffdfeb5becb1181ab6c6401d117fa0ef478d2dbd)
external: fix endpoint_dial check for rgw endpoint

the validate rgw endpoint tls cert returns the certificate instead
of returning whether it exist or not,
So updatd the flow how to use it

Closes: https://github.com/rook/rook/issues/11060
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit fb7b67c3f421a5d8427b859b660adf5970867ef3)
core: enabling logCollector by default for coredump

enabling logCollector by default will enable the coredump
generation in case a process terminates with a segmentation fault.

Signed-off-by: gauravsitlani <gauravsitlani@riseup.net>
(cherry picked from commit cc02399c4cbcaf086eddf4025f1646711fc49600)
operator: remove obsolete flex driver properties

The flex driver was deprecated and fully purged long ago,
and now finally we are purging the related properties
from the operator deployment that are no longer applied
anywhere.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 67582fe0da10f0be15fc6513c507502400d6fccc)
csi: update csi to latest release

This updates the cephcsi to latest 3.7.2
release and also updates sidecar to the latest
release in some missing files.

Note:- sidecar images are upto date in most of
the places, in some places it was missing, This
PR updates it in missing place.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 729f2a8b324c1c0294f2bce0307d2687240244f5)
docs: updated note syntax in markdown files

The Note label is updated in several places in the docs for improved rendering.
Multiple markdown files have been updated.

Closes:

Signed-off-by: Yashasvi Chaurasia <yashasvi12977@gmail.com>
(cherry picked from commit 05e7ddc4cbbbcf0254ea2c42261e15c37bcf2f27)
docs: use krew restore-quorum command for disaster scenario

The new krew plugin command restore-quorum will automate the process
to restore quorum from a single healthy mon. No longer do we need
the absolutely tedious, messy, manual steps from the rook docs.
The krew plugin will take care of all the complexity automatically
as of the v0.4.0 release

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 3e60b95fd6c658868176d834c2ae3b52894e2d2c)
object: fix logic for rgw period commit detection

The `periodWillChange()` implementation to detect map keys to ignore.
Previously, we relied on the `GoString()` method to output the same
format always to determine the current path to the
map[string]interface{} node, but that may change depending on the underlying
implementation of go-cmp.

Instead, parse the go-cmp `Path` step by step and construct a JSON path
to the node in a stable format.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 53208307819fb3af10f71fe5c861109a51076a3f)
build: update the go modules to the latest

The security scan is failing due to a go dependency
so we update the go modules and all dependencies to
the latest available.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ba6adc60e1ab9304403606193124d9cd5e07b47e)
build: update release version to v1.10.4

For the patch release update the examples and docs to
v1.10.4

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.10.4 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
build: Update the go modules to the latest versions (, @travisn)
core: Enabling logCollector by default for coredump collection (, @gauravsitlani)
docs: Use Krew restore-quorum command for mon quorum disaster scenario (, @travisn)
csi: Update Ceph-CSI to v3.7.2 (, @Madhu-1)
operator: Remove obsolete flex driver properties (, @travisn)
csi: Add setmetadata and clustername flag to omap (, @Madhu-1)
external: Fix endpoint_dial check for rgw endpoint (, @parth-gr)
osd: During OSD purge mark the osd out before other checks (, @subhamkrai)
core: Increase liveness probe timeout to 5s (, @randymtz)
operator: Don't remove existing pools for mgr/prometheus/rbd_stats_pools (, @avanthakkar)
docs: Add point about physical disks visualization in dashboard (, @jmolmo)
docs: Document expectations for releases (, @travisn)
ci: Set mon_data_avail_warn percentage in test cluster to 10% (, @parth-gr)
object: Fix logic for rgw period commit detection (, @BlaineEXE)
ci: Enable more NFS tests in the CI (, @Rakshith-R)"
"osd: add kmip encryption support

The cluster-wide encryption feature now
supports KMIP (Key Management Interoperability Protocol)
kms.
KMIP is an extensible communication protocol that defines
message formats for the manipulation of cryptographic keys
on a key management server.

For more information, refer:
https://en.wikipedia.org/wiki/Key_Management_Interoperability_Protocol

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit f21c12234d88a0b438d725228e73319ed084dc9d)
docs: add doc for kmip encryption support

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 0ba2ab120687d015e4930ce915add00961446ad8)
docs: clarify storage prereqs in quickstart guide

The quickstart guide prerequisites have diverged from the storage
requirements on the prereqs doc page, now they are in sync again.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit d5f100def1b2576785dbae6d1a6d1b59245838d5)
csi: add topology provisioning support

This commit adds topology provisioning
support. This makes modification to rbac,
csi deployment and daemonset.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 3c5a2f41426790d5e356c9e27798dcc46f3648fc)
rgw: delete zone/pools for multisite configuation

Allow option to delete the zone/pools created by ceph object zone CR.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit c98628eb0fffdbd5d82b0b161bb25ac6673e88c5)
external: do not add info=read cap if ceph version doesn't support it

The rgw ip validation feature was needing to update the rgw user
cap to add info=read permission, but this permission is only backported
till ceph pacific, so we added a check that only add this cap
when ceph version support it,
But this cap was also adding with the other caps, so removed it from there
Now it will only add this cap if ceph version support it

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 54425803b6cb6fa1e0896cc1e81850631b02e15b)
ci: add debug flag to identify any failing yaml origin

Signed-off-by: Deepika Upadhyay <deepika@koor.tech>
(cherry picked from commit ccbff1be9507080640af673b848eeade453193e1)
pool: initialize only rbd application pools

`rbd pool init` cmd initializes pool for rbd images.
This commit makes modification to init only
rbd application pools, since it is not required
by other pools like "".nfs"","".mgr"" & ""mgr_devicehealth"".

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit c02f3194d14c26142c50dc6ed81aa438386fdff8)
build: update goceph module to v0.17

Updating go-ceph module into latest version v0.17

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit d3d760e90152011d3648918019728ed245e5a708)
monitoring: fix pool growth warning grouping

Predict linear will continue to predict on exporter data from old pods.
We can take the max value for every hour in the 2 day window before we
linearly predict to get the most conservative estimate. This will only
affect the hour in which a new mgr pod is started.

Fixes

Signed-off-by: Jamison Lofthouse <jamison.lofthouse@gmail.com>
(cherry picked from commit f553034351b81f6e2e83d7b61f24ff21c12a5d4e)
ci: disallow to create encrypted osd on lv

Rook doesn't support encrypted OSD on LV. Without disallowing
this configuration, ceph-volume results in failure.

Closes: https://github.com/rook/rook/issues/10782

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 7969450589c37ad5e23cc4ae848b6e8ae6fa8afb)
ci: disallow to create osd on lv with metadata by accident

OSD on LV with metadata device is not supported. So we once we made
a fix to disallow this configuration. However, it's insuffucient
because we forgot to reset `matched` flag.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 39cc6059f19c36761b8c0465a2b167d69a4c8b6e)
build: stop printing verbose rbac generation details

The rbac generation prints a lot of info that is not necessary
unless troubleshooting the rbac build, so we can comment it
out by default.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 839920ff804e86df1c602da14d5fba267babafbd)
nfs: add kerberos client security support

Add support for enabling kerberos for client authentication.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 005000212ced0dfbab1f34eaaacd79353cf93511)

# Conflicts:
#	design/ceph/ceph-nfs-ganesha.md
osd: disallow to create encrypted osd on partition

Rook doesn't support encrypted osd on partition. So we should
skip partitions as candidates of the new encrypted osds.

Closes: https://github.com/rook/rook/issues/10911

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 591fc5f68b8c597a17f7e765f298554bc2cc173f)
ci: update arm host to pick up correct self-hosted machine

The self-hosted arm64 machine has a new label ubuntu-20.04-arm64 to
avoid the conflict with other ubuntu-20.04 labels from
general github actions. We only want the daily arm job
to use the self-hosted runner.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 55c72a3674f15340d58c0f02757af3118850ebf4)
external: fix import errors for python2

remove duplicate import urllib.parse which is handled below
with try and except no need to import separately. Also, change
the way to get the python version.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 9a952df419f8d9273e695bff3557986f82e6e166)
docs: add upgrade steps for multi-tenant custer

Currently for external clustr multitenancy is only applicable for new
deployments, but adding doc change so multi-tenancy can be achieved for
upgraded cluster also

Closes: https://github.com/rook/rook/issues/10678
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 0ad1b52005abd2f83685a9503c39d318546556f9)
docs: add logical volume to storage options

Rook supports osd on logical volume in host-based clusters. Let's add it
to the list of valid device types.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit b52e6a0da8b7deeca0af346d348b8a68b30c6c79)
core: use assimilate-conf command to run commands

this commit uses the ceph feature assimilate-conf to set
multiple configurations for ceph global/pods at one file and
use that in command to set the required configuration in one
line command.
for example:
`ceph config assimilate-conf -i <input file> -o <output file>`

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit cfc5f19f927c534c787bb94ed0174dedb4d8e360)
ci: add mon_data_avail_warn to canary ci test

ceph cluster on ci mostly have health error
mon disk low on size,
so overriding the min aval capacity to 0 from 30% default so this
error can be removed

Closes: rook

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit df8493d77b0f6510faa1a58fce2af9f611a888b0)
build: fix intermittent gen-rbac failure

The crds generation for the helm crds is intermittently hitting a build
error due to multiple builds generating the crds at the same time.
We avoid this race condition by first writing the crds to a temp file
then move the file to the helm crd resources file.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 7863d3161c80e96f0370f0908f2ca657394078b9)
csi: customize plugin volumes and volumemounts

This option open-up volumes and volumemounts
for user customization of the rbd,cephfs,nfs
plugin daemonset.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 80a96f8f32f383f6d757888419a0d6ee79bf5975)
operator: silence 'cm is handled by another watcher' DEBUG messages

I guesstimate that around 50% of the operator log volume when set to log
level `DEBUG` are messages about cm's which aren't relevant to rook.

E.g.:

```
2022-09-16 23:03:05.430839 D | ceph-cluster-controller: hot-plug cm watcher: only reconcile on hot plug cm changes, this ""ingress-controller-leader"" cm is handled by another watcher
2022-09-16 23:03:05.643255 D | ceph-cluster-controller: hot-plug cm watcher: only reconcile on hot plug cm changes, this ""fleet-agent-lock"" cm is handled by another watcher
2022-09-16 23:03:05.799526 D | ceph-cluster-controller: hot-plug cm watcher: only reconcile on hot plug cm changes, this ""cattle-controllers"" cm is handled by another watcher
```

Yes, it is `DEBUG` and noise is expected. However, there is no message
about checking the status of the cm's rook actually needs to watch and
these messages don't seem very useful. I have been resorting to piping
the operators logs through `| grep -v 'hot-plug cm watcher'` to cut down
the noise.

Signed-off-by: Joshua Hoblitt <josh@hoblitt.com>
(cherry picked from commit 0763f91f93c6bff7f515517b0b9acf486eec0a1e)
docs: clarify Object Pool CRD is same as Block Pool CRD

Signed-off-by: Sheetal Pamecha <spamecha@redhat.com>
(cherry picked from commit 4dd8ee95204fa501a68e7296c8d42e5c5c36d011)
docs: fix indentation in CephCluster on PVC example yaml

Copy pasting current code block results in an YAML parsing error and
this change fixing that error by adding a space where its needed

Signed-off-by: Tarun Gupta Akirala <takirala@users.noreply.github.com>
(cherry picked from commit b068cba3dde232cc55462680a5e97c8a4d36bef1)
csi: make sure we reset CSIParam booleans to default

On removing or setting params to false in operator config map, make sure
to set CSIParam to their appropriate defaults, since we are not restarting the
operator we cannot just assume these params/variables/flags are defaulted,
everytime we need to makesure some defaults are specified.

This is what happens without these changes:
* Set CSI_ENABLE_METADATA to true, this will tune CSIParam.CSIEnableMetadata
  to true from false
* Create a PVC and check the metadata is added to the rbd/cephfs volumes
* Now Set CSI_ENABLE_METADATA to false, we assume CSIParam.CSIEnableMetadata
  will be set to false, but that is not happening because the earlier value
  of `CSIParam.CSIEnableMetadata = true` still persist.
  (we are not restarting operator to assume value of CSIParam.CSIEnableMetadata
   to be reset to false)

This happens with CSI_ENABLE_OMAP_GENERATOR and many other flags too,
fixing them all with these changes.

Thanks to Madhu for debugging the issue and testing it along.

Credit: Madhu Rajanna <madhupr007@gmail.com>
Signed-off-by: Prasanna Kumar Kalever <prasanna.kalever@redhat.com>
(cherry picked from commit bf3a3aa92ebe44ca6328a9735c495e434f198608)
nfs: fix nfs if multus is enabled

Closes: https://github.com/rook/rook/issues/10812
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit ddea97ebde633fe13c53be5d2e5faf8cb98b86e9)
core: update loadclusterInfo with multus check

if Multus is enabled the clusterinfo should be updated with
network as multus as to run the ceph cmds in remote
executor

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 26584fc6e5a7e01bfaa24e7bc3a5c9913f400a44)
ci: move to ubuntu 2004 completely

github-hosted runner ubuntu-18.04 will be removed by Dec. 1st, 2022.

https://github.blog/changelog/2022-08-09-github-actions-the-ubuntu-18-04-actions-runner-image-is-being-deprecated-and-will-be-removed-by-12-1-22/

So, let's change the all runnners to ubuntu-20.04.

We need to uninstall `snapd` because `snapd` prevents kernel from
unmounting `/mnt` completely.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 5c2d325cc40f23da6d1a2f59535f1bc7c00e372f)
osd: allow raw partitions to be picked up by discover daemon

Signed-off-by: dkeven <dkvvven@gmail.com>
(cherry picked from commit dc95af5c33f30f7541617c603f46745e57a1c988)
nfs: allow users to include additional files in the SSSD sidecar

The sssd.conf may refer to additional files, like a CA bundle or TLS
certificates. These files need to be made available in the SSSD sidecar.
With the new `sssdGenericFiles` reference to a VolumeSource and a
`MountPath`, a provided `sssd.conf` can use the additional files.

Signed-off-by: Niels de Vos <ndevos@redhat.com>
Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 79adad7dc09f1f9b0a9a9122ac1d9d049ce91e63)
build: update the release version to 1.10.2

For the patch release update the example manifests and docs
to v1.10.2

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.10.2 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
nfs: Allow users to include additional files in the SSSD sidecar (, @BlaineEXE)
osd: Allow raw partitions to be picked up by discover daemon (, @dkeven)
nfs: Fix nfs if multus is enabled (, @parth-gr)
csi: Ensure CSI settings are applied with each update to configmap (, @pkalever)
operator: Silence verbose watcher debug messages (, @jhoblitt)
csi: Customize plugin volumes and volumemounts (, @Madhu-1)
core: Use assimilate-conf command to run commands (, @subhamkrai)
external: Fix import errors for python2 (, @subhamkrai)
osd: Disallow to create encrypted osd on partition (, @satoru-takeuchi)
build: Stop printing verbose rbac generation details (, @travisn)
monitoring: Fix pool growth warning grouping (, @jdloft)
build: Update goceph module to v0.17 (, @thotz)
nfs: Add kerberos client security support (, @BlaineEXE)
ci:  Disallow to create encrypted osd on lv and osd on lv with metadata device (, @satoru-takeuchi)
pool: Initialize only rbd application pools (, @Rakshith-R)
csi: Add topology provisioning support (, @Rakshith-R)
external: Do not add info=read cap if ceph version doesn't support it (, @parth-gr)
rgw: Delete zone/pools for multisite configuration (, @thotz)
osd: Add kmip encryption support (, @Rakshith-R)
ci: Move to ubuntu 20.04 runner completely (, @satoru-takeuchi)
ci: Fix intermittent gen-rbac failure (, @travisn)"
"ceph: add ability to set resource limit for OSDs based on device classes

Currently it is not possible to set resource limits based on device classes
for different OSDs. Now adding an ability to use predefined keys for main
cluster spec Resource section to reflect resource limits for different OSDs
with different device classes.

Closes: https://github.com/rook/rook/issues/8007
Signed-off-by: Denis Egorenko <degorenko@mirantis.com>
ceph: add rbac for mgr to create service monitor

When there are two mgr daemons, a sidecar of the mgr will update the
service monitor depending on the active mgr daemon. When there is only
a single mgr, the operator will create the service monitor. Now, we
add rbac for the mgr to create these resources.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 66dba4fd411ffd7be4c7f3a3fbc5715ffc8ebf2c)
ceph: update csi sidecar images to latest release

This commit updates all the kubernetes sidecar
images to latest available release version.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 08997434ac5b9eaa7cac299dab5b429dd9ac9cd6)
ceph: remove --force when creating filesystem

we should not use --force when creating filesystem(fs)
as it will recreate fs which will leads to data loss
when `preserveFilesystemOnDelete` is set to 'true'.

this commit removes --force argument when create fs.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 5d5bdbbbdae0cf9e6af6c9b0e83d1d20d194e62b)
ceph: set device class for already present osd deployments

Add ability to set device class for existing osd deployments,
based on its crush map device class.

Related-Issue: rook
Signed-off-by: Denis Egorenko <degorenko@mirantis.com>
(cherry picked from commit 6dbb9026749c4da27ac678f12e97e3861daed731)
docs: clarify resource documentation

Move MDS related information from the Cluster to the Filesystem document.
Document how resource requests influence Ceph configuration keys.

Signed-off-by: Pedro Lopes <paol@draic.org>
(cherry picked from commit 9d4820ec56de8fd69bfbb39fcfd74fc4f5e9ee7a)
ceph: activate osd container should use correct dataDirHostPath

The active osd container was always using /var/lib/rook for the
configuration of the OSD. If the dataDirHostPath is anything other
than the default, the config would show up in the wrong place.
Changing this back to the dataDirHostPath does not appear to affect
any upgrade scenarios as the activate container will simply start
extracting the config to the correct place.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit dd3b4738bd6c16ec85b0f30b3f1ecd14da07bd57)
ceph: initialise httpclient for bucketchecker and objectstoreuser

For the TLS communication for AdminOps Api, httpclient is required and
filled with TLS certs, currently it is set to nil pointer in
`buckethealthchecker` and `cephobjectstoreuser`.

Thanks @Krast76 finding the issue even proposing the fix.

Fixes:
Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 867474e4055cc6006ac52c58497ba823f5e5e59f)
ceph: update cronjob from v1beta1 to v1

this commit update cronjob from v1beta1 to v1

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit f82fc46b9726ef1bfd2cc07bf83c03006d28e99a)
ceph: use cacert if no client cert/key are present

We have seen issues with fullchain.pem files containing one self-signed
certificate. At the same time, the failing configuration was not
providing any client certificates or keys.

The error from curl was `""self signed certificate in the chain""`.

The openssl binary is not available so we cannot even c_rehash the
certificate directory when using `--capath`, however this worked already
with a fully signed fullchain.pem along with a client certificate and
key. So we cannot only use `--cacert` which will break that use case.

This is becoming really obscur on why using `--cacert` solves this
problem. I just can't wait to use the `vault` binary, that's all I can
say...

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit eb0c986196833a63ea98692bd7a3925c93179bf8)
ceph: mons in stretch cluster assign to node

When the mons are using the dataDirHostPath and not a volumeClaimTemplate,
they need to be permanently assigned to a node. The node assignment
was missing in stretch clusters when the dataDirHostPath was being
used. This resulted in mons that were moving to other nodes for example
during a node drain, which would cause the mon to lose its backing store.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit a7066770f7cdf22c94c96b1a20d3b7d3a4c54a74)
core: sort multus annotation strings when applying

In pkg/operator/k8sutil/network.go:ApplyMultus(), sort the string
annotations before applying them so that Rook will avoid the situation
where a Deployment or Pod will need updated repeatedly even when no
Multus network configuration has changed.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 0b40faa79ca8e94c2d061dc719e9cd9127115591)
ceph: only require rgw-admin-ops user when an endpoint is provided

If there is no rgw endpoint provided, let's not try to create the user.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 7439c08b314660115ecf7805368bc0be280a152d)
ceph: read and validate CSI params in Go routine

This commit moves SetParams and ValidateCSIParam func
into go routine/lock, since it modifies/reads global CSIParam
variable.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 66c9ccab86bef57e761e4ea0a6bb8d01bfe50294)
ceph: do not leak key encryption key

When evaluating the potential ""warning"" key from the json output we were
not hiding stdout (1) from the output, so the key was leaked. Also the
warning check for the key was not perfect, it only checked for the
command to succeed, but we should introspect it since the ""warning"" key
is always present unlike the ""error"" one.
We now only print the warning or the error is present.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit bcd2511a7269ceb72c5c4a255fa760de85dea1e1)
ceph: run CLI output with Info logging

In e8f9cfcb714685d93017be279d9ffdfc3847acca, the logging was replaced by
Debug which is probably a mistake given the intent of the commit to
enable debug logging on the prepare job.
However, this code is only triggered when running a ceph-osd with the
rook binary, so we must run Info and run Debug since Debug is not
activated.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit da56354aa3c18ff3b88848aaea9c1849c79f18d5)
ceph: evict a mon if colocated with another mon

In a production cluster we never should have two mons running on
the same node. However, if two mons have ended up on the same node,
whether from a bug or some other unintentional event, the operator
will evict one of them and failover to a new mon. This only applies
when allowMultiplePerNode is false.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit b1c1e296ddb852711fbc43181745f5613a26d4c1)
ceph: update csi node-driver-registrar to latest release

This commit updates csi node-driver-registrar to latest
release v2.2.0.
https://github.com/kubernetes-csi/node-driver-registrar/releases

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 2baf50771e395da63e6398368b67a237b2c84776)
build: update release version to v1.6.6

For the patch release we update the example manifests

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.6.6 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Update csi sidecar images to latest release (, @Madhu-1)
Update csi node-driver-registrar to latest release (, @Rakshith-R)
Evict a mon if colocated with another mon (, @travisn)
Enable logging in legacy LVM OSD daemons (, @leseb)
Do not leak key encryption key to the log (, @leseb)
Read and validate CSI params in a goroutine (, @Rakshith-R)
Only require rgw-admin-ops user when an RGW endpoint is provided (, @leseb)
Avoid unnecessary OSD restarts when multus is configured (, @BlaineEXE)
Use cacert if no client cert/key are present for OSD encryption with Vault (, @leseb)
Mons in stretch cluster should be assigned to a node when using dataDirHostPath (, @travisn)
Support cronjob v1 for newer versions of K8s to avoid deprecated v1beta1 (, @subhamkrai)
Initialise httpclient for bucketchecker and objectstoreuse (, @thotz)
Activate osd container should use correct host path for config (, @travisn)
Set device class for already present osd deployments (, @degorenko)
No need for --force when creating filesystem (, @subhamkrai)
Expose enableCSIHostNetwork correctly in the helm chart (, @Madhu-1)
Add RBAC for mgr to create service monitor (, @travisn)
Update operator internal controller runtime and k8s reference version (, @subhamkrai)"
"docs: add jumbo frames note to common issues

Resolves

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 6c90d6687559adfda2e1e408cbc4fc3c1e7aa301)
build: update build to go v1.16.12

A Go net/http bug documented here
https://github.com/golang/go/issues/50058 could potentially affect users
who enable Rook's webhook.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
docs: add section for disruptionManagement (backport 9522)

Adding section `disruptionManagement` which was
removed unintentionally in PR 8381.

Signed-off-by: subhamkrai <srai@redhat.com>
osd: correct bluestore compression min blob size for ssd

Update bluestore compression min blob size for ssd to 8192.
It was typo which was added long time back.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit d87be97a50ef67c1696e96eb44ff06d624352d6e)
mgr: update services when active mgr changes

When the active mgr changes, there may be user-created services
that also need to have their selector updated to point to the
new active mgr. Now the operator will update any service in the
rook operator namespace that has the label app=rook-ceph-mgr
to point to the active mgr.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 11127f54ca6be21c93da16b664fc57058632f341)
build: update release version to v1.7.11

With the patch release the example manifests and docs are updated to v1.7.11

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.7.11 is a patch release limited in scope and focusing on small feature additions and bug fixes to the Ceph operator.
mgr: Update services with the app=rook-ceph-mgr label when the active Ceph mgr changes (, @travisn)
osd: Correct bluestore compression min blob size for ssd (, @subhamkrai)
build: Update to go v1.16.12 (, @BlaineEXE)"
"ci: use stringData instead of data for secret

The ""data"" field only accepts base64 strings and our env var is not. So
let's use stringData to prevent an error from the API server:

```
""v1"" cannot be handled as a Secret: illegal base64 data at input byte 29
```

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit edfd120d6aa41eac18d69e50d166e3d4bbb3c417)
core: append filesystem property on disk

When detecting the device property the filesystem was not passed but
used later to validate if the device should be taken or not. Now we read
the filesystem info from ""lsblk"" and populate it in the device type.

Closes: https://github.com/rook/rook/issues/9470
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 8c1bf0f3f0460e5fcb699d5c911978330cdc8729)
core: add more debug info to the prepare pod

When running the device property commands, let's also log their results
for better debugging/visibility.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 77b2e10c140e4b4dea44b7dc28900f6fb8f15258)
core: add mountpoint detection to the prepare pod

Amount various filters let's add a mountpoint property and skip the
device if its filesystem is mounted.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 8328ec6d313b20362d33031eb8d0c4992307b1ce)
osd: allow the osd to take a long time to start

The startup probe for the OSD has been too aggressive to kill the OSD
in case the OSD is taking some time to start. The OSD may be self-optimizing,
scrubbing, or some other internal operation before it is ready to start.
Rather than disable the startup probe completely, the default is now
to retry for two hours in case the OSD is performing those operations.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 28e721d8773187c4a8fa5bb2cbc87d6c87eb274b)
operator: set 'rook-version' in mon k/v store

Ceph upstream telemetry (which Rook users could optionally enable via
Ceph CLI or Dashboard) does not easily identify if a cluster is managed
by Rook. Identifying Rook clusters is possible only if users also enable
the rook mgr module, which is optional and not often used.

To get better upstream insights into Ceph clusters managed by Rook, set
a new 'rook-version' field in Ceph's generic k/v store. This field can
be used to determine if a cluster is managed by Rook by its presence.
It additionally provides information about the Rook version used to
manage the cluster, which is another piece of potentially useful
information.

Regarding Ceph cluster identification via telemetry:
Ceph telemetry is anonymous and uses a different ID from the Ceph
cluster ID. Identifying the Rook version in telemetry does not add
directly identifying information. Therefore, there should be little
risk that adding the Rook version field will decrease anonymity of Ceph
clusters via telemetry.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 94b622c3021bb1f8b83c6188e79930e34cf9e04b)

# Conflicts:
#	pkg/operator/ceph/cluster/cluster.go
operator: rename telemetry rook-version to rook/version

The Rook and Ceph teams settled on using slashes to separate Rook
telemetry items into a hierarchy in https://github.com/rook/rook/pull/10254.
Rename the config-key used to `rook/version`, and create a `telemetry`
package to define the telemetry key constants.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 6888d545d298ea450dd49f6267dafd7d8750df11)

# Conflicts:
#	pkg/operator/ceph/cluster/cluster.go
osd: remove broken argument

During the tini's binary removal you overlooked that scenario and
introduced a bug in the OSD startup line.
We were passing the binary path as an argument, which is obviously wrong
and makes the OSD crash at boot.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit f79de7d69aaef42ba4be95ab73ae8f31c1da2065)
build: disable docs build in 1.8 branch

With the full rework of the docs framework, we cannot support automated
updating of docs from branches where the doc framework has not been
backported. We are largely done with the 1.8 releases, so we can just
disable publishing the docs for the 1.8 branch. If further updates
are required in the docs, we can update the legacy docs directly in
the rook.github.io repo.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
build: update examples and base image to use ceph v16.2.9

In release 1.8, the operator base image has been changed to
ceph v16.2.9

Signed-off-by: parth-gr <paarora@redhat.com>
build: update release version to v1.8.10

For the patch release update the examples and docs to
v1.8.10

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.8.10 is a patch release limited in scope and focusing on small feature additions and bug fixes to the Ceph operator.
core: Improve detection of filesystem properties for disk in use (, @leseb)
osd: Remove broken argument for upgraded OSDs on PVCs in legacy lvm mode (, @leseb)
osd: Allow the osd to take two hours to start in case of ceph maintenance (, @travisn)
operator: Report telemetry 'rook/version' in mon store (, @BlaineEXE)"
"csi: fix stagingpath

Kubernetes 1.24 and newer use a different path for staging the volume.
That means the CSI-driver is requested to mount the volume at an other
location, compared to previous versions of Kubernetes.

The backward compatibility should be taken care by the CSI driver.

See-also: kubernetes/kubernetes
Signed-off-by: Prasanna Kumar Kalever <prasanna.kalever@redhat.com>
(cherry picked from commit 2627f32d51751279e871c027e5df85e91c4319f5)
mon: fix typo in log message for msgr2

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ecbc438d7a2759c3364a021fbba1180b4455b953)
mon: disable insecure global ids for new deployments

In new deployments we always want to disable the insecure global id.
If the mgr deployment is newly created, we know it's a new cluster
and the mons are in quorum, so we can go ahead and disable the
insecure global IDs.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 28957b3ff1f9f082a0c4a4fcfc3f5d525c811aa0)
helm: use correct namespace for provisioner in cephobjectstore template (fixes)

Signed-off-by: Markus Schmidleitner <markus.schmidleitner@ocilion.com>
(cherry picked from commit 36a93745553f624f92b0dfbe59f8492677635de7)
test: delete object sc before upgrade tests ()

Signed-off-by: Markus Schmidleitner <markus.schmidleitner@ocilion.com>
(cherry picked from commit 00689476df41e7e88003700fd4c8faddfff8c9bb)
docs: added upgrade note ()

Signed-off-by: Markus Schmidleitner <markus.schmidleitner@ocilion.com>
(cherry picked from commit 506c266f2f8384e3097f438bdfb0bd1ee8a746e4)
ci: rename TestCephSettings.EnableCSINFS to TestNFSCSI

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 928dd46593b248a7935edca37957b3e4b7c9864e)
ci: explain why ""nolock"" mountOption is needed for nfs

""nolock"" mountOptions has been added to prevent the following error in ci:
Output: mount.nfs: rpc.statd is not running but is required for remote locking.
mount.nfs: Either use '-o nolock' to keep locks local, or start statd.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 621dd2a15942701ec9f366388204acb0823870ff)
ci: skip nfs csi e2e to avoid flaky e2e

Skip nfs csi e2e until https://github.com/rook/rook/issues/10518
is resolved to avoid flakiness.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 16d34e142584b122e3bb282b0485098051ee3eba)
ci: make sure PVC is deleted before proceeding for file test

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 034c4756d3110269d2436243778cf8ec4a7ae212)
manifest: use `Recreate` strategy for operator upgrade

Use `Recreate` strategy instead of `RollingUpdate` for
rook-ceph-operator deployement upgrade

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit 693c2d9306514f4babeb688a8dd86f555cc6b69f)
docs: refactor cluster crd doc for subtopics

The cluster CR doc is extremely long and in need of refactoring.
Now we have four new sub-topics for a host-based cluster,
PVC-based cluster, stretch cluster, and an external cluster.
Each of those topics has its own description and examples.
The main cluster CR topic still contains the details about
all the possible cluster CR settings.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 34ca5d661bfa202d1a9071a43dec9fac308f4288)
csi: add support for subvolumegroup and rados namespace

Using subvolume group and rados namespace for external deployment
was complicated and not documented,
Automating the process for the users, so they just need to pass
the respective names by cli flag for creation

Closes: rook

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit c9a864ccdb683f45e231e10250e2b72eef44a654)
Signed-off-by: parth-gr <paarora@redhat.com>
helm: use recommended value for helm managed-by label

This changes the `app.kubernetes.io/managed-by` label to use the helm
`{{ .Release.Service }}` for it's value.
This is recommended by the Helm labels and annotations standard labels
doc page, see https://helm.sh/docs/chart_best_practices/labels/#standard-labels

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 455508ea149891752847e30bf90e6edeee8c7441)
build: set release version to v1.9.7

For the patch release the examples and documentation are updated
to v1.9.7.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.9.7 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
helm: Use recommended value for helm managed-by label (, @galexrt)
manifest: Use Recreate strategy for operator upgrade (, @sp98)
external: Add support for subvolumegroup and rados namespace (, @parth-gr)
docs: Refactor cluster crd doc for subtopics (, @travisn)
helm: use correct namespace for provisioner in cephobjectstore template (, @bitfisher)
mon: Disable insecure global ids immediately for new deployments (, @travisn)
csi: Update staging path to support K8s 1.24+ (, @pkalever)"
"docs: add details about HPA via KEDA

By default HPA can use details about memory or CPU consumption for
autoscaling, but also it can use custom metrics as well. There are alot
provides supports HPA via customer and one of them is KEDA project. Here
it is done with help of Prometheus Scaler

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit d32c837e35d679671d901e3fb4771d0903a68727)
monitoring: allow overriding monitoring labels

The templates for the mgr-generated ServiceMonitor and PrometheusRule objects included the labels
prometheus and team, making it impossible to override them as user.

This adds a new method `OverwriteApplyToObjectMeta` to pkg/apis/rook.io.Labels,
which, contrary to the existing `ApplyToObjectMeta` method, overwrites existing
labels.

Backport of PR
Signed-off-by: Mara Sophie Grosch <littlefox@lf-net.org>
nfs: only set the pool size when it exists

For CRD not using the new nfs spec that includes the pool settings,
applying the ""size"" property won't work since it is set to 0. The pool
still gets created but returns an error. The loop is re-queued but on
the second run the pool is detected so no further configuration is done.

Closes: https://github.com/rook/rook/issues/9205
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit c3accdcc3aa7b7900d3fbddcf9cd7e56d7c1206c)
nfs: always run default pool creation

Previously, if the pool was present we would not run the pool creation
again. This is a problem if the pool spec changes, the new settings will
never be applied.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit f3142847d391e075b59ab3a100227e74f57f2bcc)
monitoring: update label on prometheus resources

Updating the promethes reources (PrometheusRule and ServiceMonitor) is
done by fetching the current resource from the server and updating the
spec on it. This commit makes it also apply the labels, so users can
update them via rook CRDs.

Closes: https://github.com/rook/rook/issues/9241
Signed-off-by: Mara Sophie Grosch <littlefox@lf-net.org>
(cherry picked from commit 733878b1eb27dda0f9804d02ad7b5a2c3941cd85)
core: fix openshift security context

The MKNOD capability was missing and due to recent addition some pod now
only require this cap as well as privileged.
The cap must be explicitly exposed so it can be requested by a pod.

Closes: https://github.com/rook/rook/issues/9234
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit b38f430c261598f9bd87e865c4576e2053e8396b)
object: fix rgw ceph config

use Zone and ZoneGroup instead of storename for rgw_zone and rgw_zonegroup

Signed-off-by: Olivier Bouffet <olivier.bouffet@infomaniak.com>
osd: check if osd is ok-to-stop before removal

If multiple removal jobs are fired in parallel, there is a risk of
losing data since we will forcefully remove the OSD. It's also simply
true if a single OSD is not safe to destroy, there is also a risk of
data loss.

So now, we check if the OSD is safe-to-destroy first and then proceed.
The code waits forever and retries every minute unless the
--force-osd-removal flag is passed.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 7402c2cce681103248202e0d09f85d7cc1159642)
helm: allow further configurability of ingress version

The ingress api version changed when it went to v1, and this has caused some upheaval
throughout the kubernetes ecosystem. This commit uses a common method of deciding which
ingress api to use, and allows the optional override of the kubernetes version
presented to helm using the helm build-in capabilities.
also add an ingress into the helm integration tests so any regressions to how ingresses
are handled in the future are caught easier.

Closes

Signed-off-by: Tom Hellier <me@tomhellier.com>
(cherry picked from commit ba44602)
Signed-off-by: Tom Hellier <me@tomhellier.com>
cephfs-mirror: try to mitigate peer import error

Some users have reported issues while adding the token, this is not
always reproducable so perhaps it's a typo when importing the token and
adding trailing spaces.

Closes: https://github.com/rook/rook/issues/9151
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit d1cdba420a3bc2f717e989e946e13692051eac0d)
core: add the ability to execute ceph commands with a combined output

Sometimes Ceph uses a different standard output to return errors or
merges standard error to standard out. So let's allow some commands to
return both in the output.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 7f7a72d941a419329b194dc8018452684c6d7e14)
cephfs-mirror: use combined output to possibly catch peer import error

By adding a combined output to the executor we might be able to fetch more
error messages.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit d8a8b05c1f78a2906ab9e59e6843ab5cfb473324)
osd: update existing OSDs with deviceClass

If we apply useAllNodes to false for the current deployment,
the OSDs should get updated with the individual nodes values and config,
The deviceClass was not updating to the existing OSDs because there was
bug in the check.
The check osdInfo.DeviceClass == """" which should be
checked like this osdInfo.DeviceClass == ""None""

Updated the code so OSDs can make use of the devices present

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit cbe505d12221af6aeb2d23aa1e5b1892ad46e664)
build: add pv-migrator binary to rook image in 1.7.8 branch

Adding  add pv-migrator binary to rook image directly
in 1.7.8 branch as discussed.

Signed-off-by: subhamkrai <srai@redhat.com>
core: adding migrator.yaml for pv-migrator tool

Adding migrator.yaml file which will required
to run migrator pod.

Signed-off-by: subhamkrai <srai@redhat.com>
helm: addition of mountOptions into storage class configuration

It should be possible to configure the storage classs mount options, this follows
the helm code used by the ceph-csi project for their ceph-csi-rbd and ceph-csi-cephfs
helm charts.

Signed-off-by: Tom Hellier <me@tomhellier.com>
(cherry picked from commit caa2c8323b9c06a835b62ea022f9e2376110a1de)
helm: use a more explicit value for ingress

The networking.k8s.io/v1 api defines the backend differently
to networking.k8s.io/v1beta1 and extensions/v1beta1

(cherry picked from commit 2ca93e5)
Signed-off-by: Tom Hellier <me@tomhellier.com>
docs: add guide doc for flex migration

Adding guide doc for migrating rbd flexvolume to ceph-csi.

Signed-off-by: subhamkrai <srai@redhat.com>
docs: last nits of flex-migrator yaml

Missed few nits of flex-migrator,doing it here
as discussed.

Signed-off-by: subhamkrai <srai@redhat.com>
build: set the release version to v1.7.9

Update examples and documentation to v1.7.9.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>","Improvements
Rook v1.7.9 is a patch release limited in scope and focusing on small feature additions and bug fixes to the Ceph operator.
This release includes the new migration tool from flex to CSI. The conversion is required before clusters can be upgraded to v1.8 where flex volumes will not be supported.
docs: Guide for migrating from flex to csi volumes  (, @subhamkrai)
build: Add pv-migrator tool to rook image in 1.7.x branch (, @subhamkrai)
helm: Addition of mountOptions into storage class configuration (, @TomHellier)
osd: Update existing OSDs with deviceClass (, @parth-gr)
cephfs-mirror: Various fixes for random bootstrap peer import errors (, @leseb)
helm: Allow configurability of ingress version (, @TomHellier)
osd: Check if osd is safe-to-destroy before removal from the osd purge job (, @leseb)
object: Configure object store with correct zone name for multisite (, @olivierbouffet)
monitoring: Update label on prometheus resources (, @LittleFox94)
core: Add expected capabilities to OpenShift security context (, @leseb)
nfs: Only set the pool size when it exists and always run default pool creation for NFS (, @leseb)
monitoring: Allow overriding monitoring labels (, @LittleFox94)
helm: Use a more explicit value for ingress for K8s 1.18 (, @TomHellier)
object: Create system user with correct realm for external cluster (, @olivierbouffet)
docs: Add details about HPA via KEDA (, @thotz)"
"core: add func ExpandPVCIfRequired in k8sutil pkg

ExpandPVCIfRequired will expand PVC if and only if current PVC size is
less than the desired PVC size.

Signed-off-by: Nitin Goyal <nigoyal@redhat.com>
(cherry picked from commit 2e8f513197834ca1231f6b492cd6d661c7d89923)
ceph: expand Mon Pvc's

Expand Mon Pvc's if storage request has increased for the Mons in the
cephcluster crd.

Signed-off-by: Nitin Goyal <nigoyal@redhat.com>
(cherry picked from commit 3575c3bf7801e09507f2ee2bf9e83cd67035815f)
ceph: stop using updatePVCIfChanged and start using ExpandPVCIfRequired

delete updatePVCIfChanged method on ""Cluster"" from osd package and use
the common one ExpandPVCIfRequired from k8sutil pkg

Signed-off-by: Nitin Goyal <nigoyal@redhat.com>
(cherry picked from commit 99bc72d79f474a9e9f26cb1def1417ecce36f7b2)
docs: fix ceph pacific related descriptions

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit c8700bdae35a02827abdfb5596bbdd352b7a7956)
ceph: service server cert support for rgw

Service serving certificates are intended to applications that require
encryption in openshift. These certificates are issued as TLS web server
certificates. Currently RGW supports TLS authentication with help of
certs passed as secrets, in this case we add following details as
`service.annotations` in the Objectstore Gateway Spec :
```
service:
  annotations:
    service.beta.openshift.io/serving-cert-secret-name: <name for
autogenerated secret>
```

More details about service serving cert can be found at :
https://docs.openshift.com/container-platform/4.6/security/certificates/service-serving-certificate.html

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit aea21d9c84c35da3fbe711c0c551316b31c11fb7)
test: adding unit test for service serving cert

include unit tests for the new apis and functionality introduced by the feature
Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 809a8d174c5e6011dd9de0bedeeaf2ea5980e833)
docs: add documentation for service serving cert

Add necessary changes in object-openshift.yaml, ceph-object-store-crd.md for service serving cert support for RGW

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit af86fbed72d203658f9c62d0e11b90b655560157)
ceph: unity timeout values of commands

There is no strong reason to have different timeout values.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 709e8d5ba89eee84f6e7c853686524f66d2ffda3)
docs: workaround preserveUnknownFields upgrade

When upgrading Rook clusters created before v1.5,
`kubectl apply -f crds.yaml` fails due to the existence of
the usupported `spec.preserveUnknownFields`. Add text documenting how to
work around this issue in the Ceph upgrade docs.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit c90f3c3721b0e1a79ab969243f17788b10eca623)
ceph: moved multus support out of experimental

moved multus support out of experimental.

Signed-off-by: rohan47 <rohgupta@redhat.com>
(cherry picked from commit a654bc777b30281b7d3b32310a3993e8423906d5)
ceph: detect the osd topology affinity during upgrade

The nodeAffinity for portable OSDs is needed to ensure the OSDs are
tied to the same zone or other failure domain where the OSD was
prepared and where it is expected to run. During upgrade the topology
affinity was not being detected since the osd prepare job is skipped
in that case. Now the topology will be detected from the running
OSD daemon pod's node.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 08f896e8652910fc8ac2b8c81fb603d047610177)
docs: remove ""this is long video b""

On Node Port service section, output of the `kubectl -n rook-ceph get service` command had a unwanted string ""this is long video"" that I've removed it.

Signed-off-by: m.ghasempour <mso.ghasempour@digikala.com>
(cherry picked from commit 0b638c1c525e0840a2e25eb9e08ab6f5db8da430)
ceph: clarify log message to continue with upgrade if needed

The ceph upgrade blocks if the ceph heatlh is HEALTH_ERR. If the user
wants to force the upgrade despite the health error, they will need
to set skipUpgradeChecks: true in the cephcluster CR. This message
will hopefully make that setting more discoverable.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 6f61d95dc3812664033f3c5bab3e16d08aead78a)
ceph: add api to fetch cacert for RGW server

Rook operator sends S3 to RGW server for bucket operations performed by healthchecker,
bucketprovisioner etc. Add api to fetch cacert if the TLS enabled for RGW.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 7a5928d2c56729fdee6b88be46612a8ea80b4ce7)
ceph: support for OBC operations on enabled TLS RGW endpoint

OBC operations will fail if RGW only enabled HTTPS. With this change, OBC operations
will use needed TLS certs to succeed the operation.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit f9c7634d888ac75a986ac40dd519bf5fafa1f289)
ceph: ensure object store endpoint is initialized for user

when store.Status was not initialized it caused
crashes when assigning store.Status.Info[""endpoint""]
to objContext.Endpoint.

This commits makes sure store.Status is not Nil
before setting objContext.Endpoint and
objContext.SecureEndpoint in the ObjectStoreUser
controller.

Closes: https://github.com/rook/rook/issues/6916
Signed-off-by: Ali Maredia <amaredia@redhat.com>
(cherry picked from commit c9fee1f883c225b9f443e7426802e3fc2fe8fe7a)
ci: use latest pacific for mirroring test

So we can get https://github.com/ceph/ceph/pull/40985 and have a more
stable CI. Once v16.2.2 is released we can revert this.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 6a97721576e03f4ae361e3bac867002b3e344da5)
ceph: modify ValidateConnectionDetails() in kms

The ValidateConnectionDetails() contains `clusterSpec` assuming `SecuritySpec` only
part to `cephCluster` CRD. But we may need to validate same for `SecuritySpec` in
`cephObjectStore` CRD. Hence modifying the signature of the api.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 8e5c6c126c2f7a3c9cdc9551ea5ddad34b8f07ea)
ceph: check for kv engine version for SSE RGW

The ""https://docs.ceph.com/en/latest/radosgw/vault/"" says RGW supports only version v2 of
kv engine, so pod won't start if the admin didn't provide ""VAULT_BACKEND"" in security.kms.ConnectionDetails

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 3ef3e8b72e4ea768ab584214012f5312f993a193)
ceph: add security spec to object store spec

Add `SecuritySpec` to specify kms details for rgw in `ObjectStoreSpec` than using existing
`SecuritySpec` used for `ClusterSpec`. The vault secret engines conflict with OSD and RGW
kms encrytpion

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit a5a5661e5ffa88e9c9b40fb6456fa44104a5908c)
docs: update the vault kms documentation for RGW

This changes documentation from `ceph-cluster-crd.md` to `ceph-object-store-crd.md`.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 73b43c5e736b4f012cb866baae4f7d4a0260901a)
test: add seperate test for rgw vault integration

RGW supports only v2 version of kv engine, current integration test is written for kv v1,
hence seperating existing test into two.

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 3cacd8db32b711d8999969702550a909b85f35e4)
ceph: complete missing steps of upgrading mds

Upgrading mds requires extra steps than simply
replacing ceph image. see https://docs.ceph.com/en/latest/cephfs/upgrading/
for reference.

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
(cherry picked from commit 58f6b495af82826127830d12084f0016febfdcf9)

# Conflicts:
#	PendingReleaseNotes.md
ceph: reset max_mds and allow_standby_replay in deferred function

set fsPreparedForUpgrade to true for upgrading mds, to
make sure that max_mds is set back to active count
after all mds agent gets upgraded

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
(cherry picked from commit 81f888260be2515aea86515fd78445ca28c44036)
ceph: make sure standbys are stopped

wait and make sure standbys are stopped before
continuing to upgrade the primary mds daemon.

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
(cherry picked from commit 41f775ec17c59b0551490bd0c1a7d99d2f289aaf)

# Conflicts:
#	PendingReleaseNotes.md
docs: add static pv and static pvc creation info

This commit adds information about static pv and static pvc
creation and links a document with more information.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit e88bff4afd2b95193da3b5341fa55eae3e75e9c5)
docs: common-issue link updated in ceph-upgrade doc

The ceph-common-issue doc link in ceph-upgrade document was broken
Fixed the link by changing the directory path

Closes: https://github.com/rook/rook/issues/7794
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 78f5a2495d8d3fda789014db26413cc7b941db18)
ceph: upgrade mds fix typos

fix some nits on error wraps and logging

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
(cherry picked from commit 21bb12a20da911c064e309edc7b3505e749d411c)
core: persist VolumeClaimTemplate metadtata

Allow metadata on VolumeClaimTemplates in StorageClassDeviceSets to be
persisted. The latest changes to controller-gen allows us to embed
objectmeta for embedded types.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit d260b81e97ba11a6e85b50dba00fbc8f062f6be1)
ceph: add phase to cephfilesystems crd

add a Phase to columns that should be printed

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
(cherry picked from commit e1fd23933f955dd1c789c33c3e3ac0d18a9237c6)
ceph: allow null values for pool settings

The schema in v1.6 is more strict and we are seeing errors in the csv
upgrades where nullable values are not allowed for the pool settings.
We now allow the nullable settings again to fix the upgrade scenario.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit f22d8d4dc94ce0f73599aa84493017a058dd1caa)

# Conflicts:
#	cluster/examples/kubernetes/ceph/crds.yaml
ceph: fix external mode setup

Because of the recent CRD changes made, the mon count had a minimum of
1, making the configuration of the external cluster impossible. The
operator would fail to add the finalizer:

```
2021-04-29 16:57:38.429451 E | ceph-cluster-controller: failed to reconcile. failed to add finalizer: failed to add finalizer ""cephcluster.ceph.rook.io"" on ""test-external"": CephCluster.ceph.rook.io ""test-external"" is invalid: spec.mon.count: Invalid value: 0: spec.mon.count in body should be greater than or equal to 1
```

We now fixed the CRD as well as adding the CR status.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 15a12577f56e448d43b5988b5357121a5a5f7353)
ceph: remove unused volumesource schema from cephcluster

The VolumeSource type was only used internally when loading
the storageClassDeviceSets. The volumeSource element is never
expected to be specified in the CephCluster CR, so it is now
removed from the schema. The VolumeSource type is renamed to
deviceSet for clarity.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ce50eb240794e1f8a2a494e75d853444009cb8e8)
ceph: set the device class on raw mode osds

The deviceClass was only being set for LVM mode OSDs and was
missed for the raw mode for non-PVC. Now the deviceClass will be set
for all expected scenarios.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit d5374f11a10abc0e41ce7b06e641d037bede20e9)
ceph: update snapshot APIs from v1beta1 to v1

This commit updates external-snapshotter version to
v4.0.0 which supports snapshots v1.
Rook now defaults to enabling RBD and CephFS snapshotter
for K8s >= v1.17 and disabling it for K8s <= v1.16.
Supporting changes in documents and examples yaml files
are made.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 7987e1b8a2ae6e68100b77d3f2427caba8e39166)
ceph: retry once before mon failover if mon pod is unscheduled

Events like node drain can take more than 10-15 minutes. If the node is not update the default monTimeOut of 10 minutes, then rook will attempt to fail over the mon. This failover won't work as the node is still down.
This PR retries once before the mon failover if the mon pod is not scheduled

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit f38829b57d0c14e28a203a8b7dd4325036d03eaf)
ceph: update images to v16.2.2

Ceph v16.2.2 is released with dated tag v16.2.2-20210505. Update Ceph
images to match with or without date as appropriate.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 5245ceaf06a17f5cea6fe2ca8eb14c7eb53c2078)
ceph: update erasure coded profile command

currently, recreating erasure codedpPool with
different Settings show error and creation
failed.

Adding `--force` to the erasure coded profile
command works file with above condition.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 0ef7308d74b66f9a64ca9ad5426c3756cf447209)
ceph: preserve volume claim template annotations during upgrade

The upgrade of the csv is failing to the latest schema when
the crushDeviceClass is specified and when the volumeClaimTemplate
annotations do not preserve the unknown fields. To fix the upgrade,
we preserve the fields even though it should not be necessary
from the strict schema.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 08d720f450cdaa3dc62b8562868e7cadc45033ce)
ceph: fix intermittent volume unit test

The unit test TestConfigureCVDevices was failing intermittently
due to comparing the first element of the slice of two elements.
The slice ordering is not guaranteed, which caused a failure
intermittently. The test only compares the critical values in the test
and no need to check elements of the slice.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 55dc1d2ba546975895b2805e48bd51a2365bc64b)
build: fix sed command for linux

The following command ended up being missinterpreted on linux,
generating a wrong file named ceph.clusterserviceversion.yaml'\''
with broken quotes.
Making it an array ensures the command and the args are parsed
correctly. Tested on both linux and macos.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 49f2f0b441a3b835b180bcd4ef8fc3cc9209067e)
build: fix parallel build

We now the generate the CRDs as well as the CSV on a single GOARCH only:
amd64. This helps us avoiding builds colliding with each others.

Closes: https://github.com/rook/rook/issues/7655
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 0f7128ece9af055989f6e3ef240ac950f748c450)
ceph: allow setting primary-affinity to osd

A user with unbalanced system (e.g., some OSDs use a partition which
resides on a device along-side OS partition) may want to have a
fine-grained control on the overall load of specific OSD. While osd
weight affects write-load, primary-affinity affects read-load.

This patch allow user to define osd's primary-affinity (similar to
'DeviceClass' and 'InitialWeight'), which is sent to the osd (via mon)
as part of deployment sequence, using 'ceph osd primary-affinity' command.

Valid values are within the range [0.0, 1.0). If not set, default value
is 1.

ROOK issue: https://github.com/rook/rook/issues/7773

Signed-off-by: Shachar Sharon <ssharon@redhat.com>
(cherry picked from commit 2a3cfc693b51409d407d1d7391424006c124181d)
core: enhancement in debug logs

When DEBUG logging is enabled in the operator, there are a number of overwhelming messages in the log that are very overwhelming and don't seem useful, which makes debug mode difficult to use
Updated and Cutted down the messages that are not useful in debug mode

Closes: https://github.com/rook/rook/issues/7499
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit bb23622b72b639ea992613d271ae5ea7b97a3da5)
ceph: multicluster test cleanup of external cluster first

The multicluster test was never removing the finalizer of the external
cluster since the core cluster was being removed first. Now we remove
the external cluster first to ensure the finalizer will be removed
properly instead of forcefully by the test.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 2b2a1f66c42fe049900437d09b397c45be849942)
ceph: run ceph tests in jenkins if requested

If the [test ceph] text is included in the PR description,
go ahead and run the ceph tests in Jenkins instead of always
skipping them

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 5a8b8c7217971f75348e7f0f36e2abb06e4943b6)
build: set the patch release to v1.6.2

Update the release version and example manifests to v1.6.2

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.6.2 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Set base Ceph operator image and example deployments to v16.2.2 (, @BlaineEXE)
Update snapshot APIs from v1beta1 to v1 (, @Rakshith-R)
Documentation for creating static PVs (, @Rakshith-R)
Allow setting primary-affinity for the OSD (, @synarete)
Remove unneeded debug log statements (, @parth-gr)
Preserve volume claim template annotations during upgrade (, @travisn)
Allow re-creating erasure coded pool with different settings (, @subhamkrai)
Double mon failover timeout during a node drain (, @sp98)
Remove unused volumesource schema from CephCluster CRD (, @travisn)
Set the device class on raw mode osds (, @travisn)
External cluster schema fix to allow not setting mons (, @leseb)
Add phase to the CephFilesystem CRD (, @jshen28)
Generate full schema for volumeClaimTemplates in the CephCluster CRD (, @BlaineEXE)
Automate upgrades for the MDS daemon to properly scale down and scale up (, @jshen28)
Add Vault KMS support for object stores (, @thotz)
Ensure object store endpoint is initialized when creating an object user (, @alimaredia)
Support for OBC operations when RGW is configured with TLS (, @thotz)
Preserve the OSD topology affinity during upgrade for clusters on PVCs (, @travisn)
Unify timeouts for various Ceph commands (, @satoru-takeuchi)
Allow setting annotations on RGW service (, @thotz)
Expand PVC size of mon daemons if requested (, @iamniting)"
"ci: enable snyk flag not to build vcs

The snyk check is failing because the -buildvcs flag
is defaulting to true. Let's disable this flag to
get the check passing.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 9197966ed4c8686050c3157025c9ad7d7b975417)
core: on crash pod ensure rook version label is not set

ceph crash pod gets rook version label added unintentionally, which is only for deployment label.
changes include:
1, make a copy of the labels for pod spec from deployment labels just before adding rook version label.
2, add unit test to make sure it works as designed.
This fix along with pr 11674 is to stop ceph daemons pod restarting unnecessarily after upgrading rook operator.

Signed-off-by: Ben Gao <bengao168@msn.com>
(cherry picked from commit ed6ed25257364f81ce9176123b6cb1bd9f85c368)
docs: change old version hint in docs

Resolves https://github.com/rook/rook.github.io/issues/144

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit a5131d730906ef652f2f8bb3ee0501985b589ddb)
file: check if fs exists before checking dependencies

Signed-off-by: zhucan <zhucan.k8s@gmail.com>
(cherry picked from commit 46c2bef9bc30cadd392a8a2478f913057ad63e8a)
object: make OBC genUserID unique across clusters

Rook's implementation of OBC's GenerateUserID could generate colliding
user IDs for multisite clusters where each site is configured with the
same namespace/name of CephObjectStore. Add the Ceph cluster FSID to the
generated name to ensure the names won't conflict for multiple sites.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 2733375ca4effcb4a5132aaf5471cd837bde9b2c)
docs: fix documentation indentation

It seems that this `deviceFilter` list item is indented too far.

This PR deindents it one level.

Signed-off-by: AJ Schmidt <ajs4392@gmail.com>
(cherry picked from commit da0ed4d21f96ed1e5fd7cc6ba5a9c039c3723f23)
manifest: add missing quote

Signed-off-by: Vincent Kling <v.kling@vinniict.nl>
(cherry picked from commit bd857cc5c5225eb1c9e9350d1a9503921cfff015)
ci: update golangci lint version

The golangci-lint ci action is failing in the 1.10
branch because it needed to be updated to the latest
version.

Signed-off-by: travisn <tnielsen@redhat.com>
ci: update golangci-lint version as it fails for some k8s version in 1.10

Closes: https://github.com/rook/rook/issues/11896

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 8e317ee074bd0cf6555b7c42e6403f713325cfb7)
Signed-off-by: parth-gr <paarora@redhat.com>
ci: fix golangci-lint issue in 1.10 specific which are already done in 1.11

Signed-off-by: parth-gr <paarora@redhat.com>
osd: handle global or node-local device class configuration correctly

Rook uses global or node-local device class configuration if device-level
configurations doesn't exist. However, after introducing device-class
level resource configuration, rook set the default value of device class.
So global or node-level device class configuration has never been used
after that.

Closes: https://github.com/rook/rook/issues/11871
Closes: https://github.com/rook/rook/issues/11826

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 3e34ebeff84c9aa2a5dec9e89076f20784e2230c)
build: update the release version to v1.10.13

For the patch release update the docs and examples to
v1.10.13.

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.10.13 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
osd: Handle global or node-local device class configuration correctly (, @satoru-takeuchi)
manifest: Add missing quote (, @DjVinnii)
object: Make OBC genUserID unique across clusters (, @BlaineEXE)
file: Check if the filesystem exists before checking dependencies (, @zhucan)
core: On crash pod ensure rook version label is not set (, @gaord)"
"mgr: role rook-ceph-mgr is lack of patch verb to compete ceph request

ceph orch command uses patch method to update cephcluster. Adding patch to verbs list of rook-ceph-mgr(Role) to make it work. It was allright with deploy/charts/rook-ceph-cluster/charts/library/templates/_cluster-role.tpl to justify the changes quite a bit.

Signed-off-by: Ben Gao <bengao168@msn.com>
(cherry picked from commit 84296a997ae0b8bf008e08e534748f7608992299)
external: dont do rgw validation if python version < 3

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit def9fd9056013be53dedd4c38ead34706aa49521)
csi: add default version to images if it is missing

Rook will now append internal default versions to custom
csi image variables passed down if version is missing in
them.
This will enable users using their private registries to
just pass different image names while rook takes care
of adding default versions to them.

Resolves:

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 12fd87f40b33b687109a211bcf6ab60b151090e5)
core: fix CephFS status updates

CephFS object fails to do a initial status update.
Operator shows the following error message in logs,

'Error while updation: Operation cannot be fulfilled on
cephfilesystems.ceph.rook.io ""myfs"": the object has been
modified; please apply your changes to the latest version
and try again'

Function 'updateStatus' now returns the new/updated
CephFilesystem object if successfully updated or nil.

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 7e87c67536917a0ea6f0dbe3b18e54d34ff64f4c)
docs: add export path example for NFS CSI

Add an example of getting the export path for an NFS PVC to the NFS CSI
docs.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 935b1375900e9b72eb364383e2b1eb0289e398d9)
operator: fix webhook loggin during deletion

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 30f21e4e7f41fda0d556aa017ad3daab2bd34d1b)
docs: fix lint error in doc generating python code

The latest python black stable release started flagging a newline
between a function `def` and the function body. Remove said newline.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 19fb3869903c6a6534beab8160698bc8e95dd14c)
helm: document installing different types of CephClusters

currently helm has only the config of cephclusterSpec
for a converged cluster, document installing pvc based,
strech based , external based cluster

Closes: https://github.com/rook/rook/issues/11480
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 20d7c00f60287b2431c50abb2c13731bd48cca9e)
docs: fix formatting issues

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 8b6dbdc14d27b83cd4740fd217c58fecfc8605f3)
docs: fixing build instructions

Adding instructions to fetch the tags as they are used during
the build process. The current instructions only require the
user to clone the project which results in build errors later
on.

Closes: https://github.com/rook/rook/issues/11619
Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit bf15617b7ffb7b4e84faf3021a7ee901a2e5e01f)
mds: support mds with multus

to support mds with multus, we don't need
to add `--public-adr`, if multus is selected as
the network in cephCluster CR.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit a1a127f6ba7068b18f93d542272440732e51facb)
docs: add glossary page

Signed-off-by: gauravsitlani <gauravsitlani@riseup.net>
(cherry picked from commit 71c5969758f3db85a7582a9bc72f3e1bbdddbb43)
test: change ceph version of osd on pvc canary test to avoid failures

This is to fix the following CI failure.

ci: Canary tests on PVCs are failing when creating OSDs
https://github.com/rook/rook/pull/11600

We set the version of Ceph used for OSD on PVC to v16. It's the moving
target and was recently changed the target version. The new version
has a regression which results in the failure
of `ceph-volume raw prepare`. Although this will be fixed in Ceph
by the following PR, it's not backported to Quincy yet.

ceph-volume: fix a bug in lsblk_all()
https://github.com/ceph/ceph/pull/49171

Let's change the version to v17.2.3, which is the latest version
without the above-mentioned regression of Ceph.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit f19c77a6fbc564b2727120989b89bc326ebef3fa)
helm: add labels and annotations to config overrides configmap

The default configmap does not have any labels or annotations
applied. If the helm chart is later updated to configure the
ceph config overrides, the configmap will fail to be created
by the chart since it doesn't have the needed label and helm
annotations so helm will know it can take over the resource
management.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ab3209c1401d2f6b4ec2d08a5bcb438f584f86a0)
rgw: handle insecure flag skip for object bucket notification in the tls config

Signed-off-by: Liang Zheng <zhengliang0901@gmail.com>
(cherry picked from commit c0c4c3033455cdf7c4dfe34e3287abf1188db16c)
build: update the release version to v1.10.11

For the patch release update the docs and example manifests to
v1.10.11

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.10.11 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
rgw: Handle insecure flag skip for object bucket notification in the tls config (, @microyahoo)
operator: Fix webhook logging during deletion (, @subhamkrai)
helm: Add labels and annotations to config overrides configmap (, @travisn)
ci: Change ceph version of osd on pvc canary test to avoid failures (, @satoru-takeuchi)
mds: Support the Shared filesystem with multus (, @subhamkrai)
docs: Add glossary page (, @gauravsitlani)
docs: Add export path example for NFS CSI (, @BlaineEXE)
file: Retry CephFS Status updates (, @aruniiird)
csi: add default version to images if it is missing (, @Rakshith-R)
external: Skip RGW validation for python version 2 (, @parth-gr)
mgr: Add patch verb to RBAC for completing ceph requests in orch module (, @gaord)"
"core: unset all encryption configuration before setting

if the configuration is already set in the ceph
database, using `ceph config assimilate-conf`
will add the key and value if its missing but
it wont update the value if the key is already
present, To fix this problem we can remove the
key and add all the configurations once again.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 1139cefc94fa7a646f14fbbcf9f43468cdb1693b)
docs: update documentation for CRDs

update generation of documents for CRDs automatically

Signed-off-by: Javier <sjavierlopez@gmail.com>
(cherry picked from commit 4ef2c43b5557d5c40b4c42268b4b29e7ef9b14ee)
operator: fix package logger name for rookcli

Name was accidentally modified in PR.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit d38d4d7d1e7d44fd1c70aff2d0dcdc332832c1ba)
external: fix rgw multisite config check

the check validate_rgw_multisite was always checking for realm
updated it to check the specific config

fixed validate_rgw_endpoint pool validation

added missing realm zonegroup and zone while interacting with user resources

Co-authored-by: Sergio Pérez Fernández <sergioperez794@gmail.com>
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit c50c308abea7068545bfdf50ab52341b45371bb7)
operator: validate multus validation networks in cli

Even though this is validated in the validation process, validating in
the cli gives better user feedback and doesn't spam the user with
suggestions for the failure that aren't relevant.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 60bf33f39c6855368ec08dd3114d9a7a267424d0)
osd: allow to use filter device

this feature is to allow the use of filters using the deviceFilter flag
by skipping devices that do not match the filter

Closes:
Signed-off-by: Javier <sjavierlopez@gmail.com>
(cherry picked from commit 884d5e985545aecf9ad7a4c1d93cac651e3f888b)
test: increase integration-test timeout

increase timeouts in order to allow to have ready all the resources and
avoid failures in some pipelines due timeout

Closes:
Signed-off-by: Javier <sjavierlopez@gmail.com>
(cherry picked from commit cd711414bbd552837d1d10a04417b8a1a2208ce7)
operator: use KUBECONFIG context for cli if present

Use contents of KUBECONFIG var for creating Kubernetes client interface
if its present. This allows running rook CLI commands locally for
quicker development iteration.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit b72761c1a1974fd1fe00e3ac4522b3b464192ad1)
core: disable controller runtime metrics server

As we are not using the controller runtime
metrics we dont even need to start the server
as its just uses extra resouces and its not
much useful.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 6f30700f5e9c5f58fb4cfbd5686bf3ce37695bc8)
mgr: using dynamic mgr_role label to implement mgr HA

Closes: https://github.com/rook/rook/issues/11844

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit f00bd790a89ad9d81d7a3fc7810b8aed21bd679e)
mgr: default to active mgr label

The active and standby labels are updated on the mgr pods
by the mgr sidecar. In the case of a single mgr, there is
not sidecar, so the dashboard and other mgr services were
not available when there was a single mgr. Now the mgr
pod will default to the active mgr status label so that
the single mgr case will succeed. In the case of two mgrs,
the sidecar will immediately update the standby mgr to
remove the active status label.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 1fa3c5ae183383a411a0cfc325038459b4142989)
monitoring: configurable option to disable prometheus metrics

The prometheus mgr module and ceph exporter can now be optionally
disabled by the monitoring.metricsDisabled setting in the
CephCluster CR. These will not be disabled by default, rather
than the mgr module being disabled by default from v1.11.4.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 92a0ab37e3c19b444ab64dd4a80875883834f68a)
helm: servicemonitor for rook-ceph csi drivers

the ServiceMonitor depends on:
* monitoring.enabled (availability of prometheus-operator)
* csi.serviceMonitor.enabled, to create the ServiceMonitor
* csi.enableGrpcMetrics and csi.enableLiveness to enable their
  respective endpoints in the ServiceMonitor

Signed-off-by: Cyril Jouve <jv.cyril@gmail.com>
(cherry picked from commit 6b0a8cadfc4fcfb51f6f60937563f0128e7e12d7)
core: add termination grace period for exporter pods

Shorten the termination time for exporter pod before it
gets deleted to avoid crashing of pod.
Signed-off-by: avanthakkar <avanjohn@gmail.com>
(cherry picked from commit 8a8eb863d0465209c366cdeb36f95cd489a5480f)
monitoring: no service monitor by default for exporter

The exporter is enabled by default, but the service monitor
can only be enabled if prometheus CRDs are available. The
monitoring.enabled must be set to true as the flag that
prometheus is available and the service monitor should
be created.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 1b80767877ecff1772d5c733367ecd16b0f1a29e)
docs: update ruleNamesapce to rulesNamespaceOverride

there were some places where rulenamesapce was present updated to rulesNamespaceOverride

Closes: rook
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 060bd00281172e4763c3c3cb14cc421d78d2b01e)
external: fix rgw check if no multisite flag is passed

if there is no multisite config pass, it will still checks for
the zones and zones group and not able to query anything

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit ec2681f82b0d9767283140113a73b79ce7740a13)
osd: supoprt expand lvm osd on pvc

The expansion of OSD on PVC is only supported in raw mode OSD.
It's nice to support lvm mode osd too.

Closes: https://github.com/rook/rook/issues/10835

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 13e4464fed972069c0dacfad562545532666dbbf)
build: update release version to v1.11.6

For the patch release update the docs and example manifests
to v1.11.6

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.11.6 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
osd: Support expanding lvm osd on pvc (, @satoru-takeuchi)
monitoring: Skip creating the service monitor for the exporter if monitoring is not enabled (, @travisn)
docs: Generate documentation for CRDs (, @Javlopez)
core: Add termination grace period for exporter pods (, @avanthakkar)
csi: servicemonitor for rook-ceph csi drivers (, @jouve)
monitoring: Configurable option to disable prometheus metrics (, @travisn)
mgr: Default to active mgr label if only one mgr is running (, @travisn)
osd: Allow scanning devices with filter (, @Javlopez)
core: Disable controller runtime metrics server (, @Madhu-1)
mgr: Use mgr_role dynamic label to tag the active ceph manager (, @rkachach)
operator: use KUBECONFIG context for cli if present (, @BlaineEXE)
external: fix rgw multisite config check (, @parth-gr)
operator: validate multus validation networks in cli (, @BlaineEXE)
operator: Fix package logger name for rookcli (, @BlaineEXE)
ceph: Unset the encryption configuration before updating the setting (, @Madhu-1)"
"core: on crash pod ensure rook version label is not set

ceph crash pod gets rook version label added unintentionally, which is only for deployment label.
changes include:
1, make a copy of the labels for pod spec from deployment labels just before adding rook version label.
2, add unit test to make sure it works as designed.
This fix along with pr 11674 is to stop ceph daemons pod restarting unnecessarily after upgrading rook operator.

Signed-off-by: Ben Gao <bengao168@msn.com>
(cherry picked from commit ed6ed25257364f81ce9176123b6cb1bd9f85c368)
osd: add container ports only if mcs is enabled

Add container ports for OSD container only when multi cluster service is
enabled in the cluster spec.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit 12bbc9b1a8a1eb20bba09ad5a602c98f73db6b46)
docs: change old version hint in docs

Resolves https://github.com/rook/rook.github.io/issues/144

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit a5131d730906ef652f2f8bb3ee0501985b589ddb)
file: check if fs exists before checking dependencies

Signed-off-by: zhucan <zhucan.k8s@gmail.com>
(cherry picked from commit 46c2bef9bc30cadd392a8a2478f913057ad63e8a)
external: add realm support for external cluster

if a cluster won't use the deafult realm and try to
execute the python script it will fail to vaildate rgw
as the rgw-admin-user would be created on default realm
So creating user in specific realm if the realm name is passed

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 96ea7817f8160067788bf71c844da378c9775d11)
object: make OBC genUserID unique across clusters

Rook's implementation of OBC's GenerateUserID could generate colliding
user IDs for multisite clusters where each site is configured with the
same namespace/name of CephObjectStore. Add the Ceph cluster FSID to the
generated name to ensure the names won't conflict for multiple sites.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 2733375ca4effcb4a5132aaf5471cd837bde9b2c)
ci: fix multus ci

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit d983f3620e97ab360e476b16d462fe617173a4f8)
manifest: fix whitespace issues

Signed-off-by: gauravsitlani <gauravsitlani@riseup.net>
(cherry picked from commit 75ec7bffc0980224461bf146894d2256f3c2242c)
docs: fix documentation indentation

It seems that this `deviceFilter` list item is indented too far.

This PR deindents it one level.

Signed-off-by: AJ Schmidt <ajs4392@gmail.com>
(cherry picked from commit da0ed4d21f96ed1e5fd7cc6ba5a9c039c3723f23)
ci: fix fs multicluster mirroring

Signed-off-by: gauravsitlani <gauravsitlani@riseup.net>
(cherry picked from commit 88df0d879408df5a7e047b6140df0c8a6a80226d)
monitoring: remove alerts that don't apply to rook

When the alerts were updated from the ceph repo, the cephadm
alerts were removed, now we also remove two other alerts that
don't apply to rook clusters. The pool growth warning alert
and prometheus job missing alerts need to be removed
as also seen in https://github.com/rook/rook/pull/10109.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit fd25eeecf129debc7c3a457e5171d9c42938d19d)
Revert ""mgr: wait for the mgr pod to be running""

This reverts commit 4d1017f80508c227f8955d0cf8063b43ebe4690b.

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit c31832095d23f579400183d4f8a79b16d3a0b9e6)
Revert ""ci: fix MultiClusterDeploySuite CI""

This reverts commit b4644289783a437241fea4eaac7906ea11a1ce85.

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 0c652d28e2809e4228dd161c739861cc440357d1)
Revert ""mgr: addressing review comments""

This reverts commit 9f37439a07b7d6ffed668ea93d096460155baffb.

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit adc79d4ee412388d23114a602cd4228746087956)
Revert ""mgr: remove mgr sidecar""

This reverts commit ff75ec96b7af164027da51bd8e865a8247ff9000.

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 456a0c328c25f44170727936219cfa75dbcbaa58)
Revert ""mgr: use k8s readiness probe to implement mgr HA""

This reverts commit dc76f81feaf3bc7a2a87f2cdbe006355050a14a9.

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 0ae7867dd1e19b1ca3e8d6d63d68d2957d8795e9)
core: add env var to exporter for ceph config

The exporter requires the mon config and keyring.
Use the CEPH_ARGS env var to specify the config
instead of expecting a ceph.conf to be generated
by another component on the host path.

Co-Authored-By: Travis Nielsen <tnielsen@redhat.com>
Signed-off-by: Avan Thakkar <athakkar@redhat.com>
(cherry picked from commit b6013d9b11208046e63f6f1a80acb0df5a1383c1)
build: update release version to v1.11.1

For the patch release the examples and docs are updated
to v1.11.1

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.11.1 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
ceph: Fix host networking by only adding OSD ports when required for multi-cluster config (, @sp98)
core: Ceph exporter requires ceph config where OSDs are not running (, @avanthakkar)
monitoring: Remove prometheus alerts that don't apply to rook (, @travisn)
mgr: Revert readiness probe and go back to the original sidecar HA implementation (, @rkachach)
manifest: Align whitespace in example cluster.yaml (, @gauravsitlani)
external: Add realm support for external cluster (, @parth-gr)
object: Make OBC genUserID unique across clusters (, @BlaineEXE)
file: Check if a filesystem exists before checking dependencies during deletion (, @zhucan)
core: On crash pod ensure rook version label is not set (, @gaord)"
"ceph: updating the dependencies for operator SDK v1.0.0

Updating the dependencies' versions to match with the newer Operator SDK
version v1.x

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 421f340c1c82960d3bc8f2ddafabe76ddb4d7ae3)
ceph: changes made by running `make codegen` target

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 9ff98995a3d433371856c6a5681ee333b2c489e2)
ceph: manual changes needed for kubernetes api updates

Fetched latest lib-bucket-provisioner changes as well.

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 65d16bfc946750b83d4ff5f61535e46fdce07db5)
ceph: changes for 'sigs.k8s.io/sig-storage-lib-external-provisioner/v6'

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit ded16f779d78d95ddb8704045646566ef6cbb3cc)
ceph: changes after the latest multus CSI updates

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit f5fc08b8e603f2416a619ea24c5435c6e992f2b5)
ceph: apply finalizer before updating object status

We must add the finalizer right after the object creation otherwise the
seerver will later return an error on update that the object has been
modified. Indeed, it has been by the task that updates the status when
the object is first created.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 97be23e3745d151cbaa02fb0fc4d06bc9b6a7451)
ceph: remove ""createInstance"" function

Since we moved to the controller-runtime, events are processed one by
one and so are reconciles. This means we won't have multiple
orchestrations happening at the same time. Thus removing this code.

Also removing one unused variable.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 10dd8e118499860fd92e39582f3ebab153433ea2)
ceph: export isDoNotReconcile function

Since the predicate for the CephCluster object will soon move into its
own predidacte we need to export isDoNotReconcile so that it can be
consummed by the ""cluster"" package.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 9b9f45b7927a5ea7d6811534f54bdbcfdf671092)
ceph: add dedicated predicate for CephCluster object

Since we want to pass a context to it, let's extract the logic into its
own predicate.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 70c6752e0e927b794aad0c40780451a5c2787d81)
ceph: ability to abort orchestration

We can now prioritize orchestrations on certain event. Today only two
events will cancel on-going orchestrations (if any):

* request for cluster deletion
* request for cluster upgrade

If one of the two are caught by the watcher we will cancel the on-going
orchestration.
For that we implemented a simple approach based on check points, where
we will check for a cancellation request in certain part of the
orchestration. Mainly before each mons/mgr/osds orchestration loops.

This solution is not perfect, but we are waiting for the
controller-runtime to release its 0.7 version which will embed context
support. With that we will be able to cancel reconciles more precisely
and rapidly.

Operator log example:

```
2020-11-24 13:54:59.499719 I | op-mon: parsing mon endpoints: a=10.109.126.120:6789
2020-11-24 13:54:59.499719 I | op-mon: parsing mon endpoints: a=10.109.126.120:6789
2020-11-25 12:59:12.986264 I | ceph-cluster-controller: done reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:33.776947 I | ceph-cluster-controller: CR has changed for ""rook-ceph"". diff=  v1.ClusterSpec{
        CephVersion: v1.CephVersionSpec{
                Image:            ""ceph/ceph:v15.2.5"",
-               AllowUnsupported: true,
+               AllowUnsupported: false,
        },
        DriveGroups: nil,
        Storage:     {UseAllNodes: true, Selection: {UseAllDevices: &true}},
        ... // 20 identical fields
  }
2020-11-25 13:07:33.777039 I | ceph-cluster-controller: reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:33.785088 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:33.788626 I | ceph-cluster-controller: detecting the ceph image version for image ceph/ceph:v15.2.5...
2020-11-25 13:07:35.280789 I | ceph-cluster-controller: detected ceph image version: ""15.2.5-0 octopus""
2020-11-25 13:07:35.280806 I | ceph-cluster-controller: validating ceph version from provided image
2020-11-25 13:07:35.285888 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:35.287828 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:35.288082 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:35.621625 I | ceph-cluster-controller: cluster ""rook-ceph"": version ""15.2.5-0 octopus"" detected for image ""ceph/ceph:v15.2.5""
2020-11-25 13:07:35.642688 I | op-mon: start running mons
2020-11-25 13:07:35.646323 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:35.654070 I | op-mon: saved mon endpoints to config map map[csi-cluster-config-json:[{""clusterID"":""rook-ceph"",""monitors"":[""10.107.242.49:6789"",""10.109.71.30:6789"",""10.98.93.224:6789""]}] data:a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789 mapping:{""node"":{""a"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""b"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""c"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""}}} maxMonId:2]
2020-11-25 13:07:35.868253 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:35.868573 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:37.074353 I | op-mon: targeting the mon count 3
2020-11-25 13:07:38.153435 I | op-mon: checking for basic quorum with existing mons
2020-11-25 13:07:38.178029 I | op-mon: mon ""a"" endpoint is [v2:10.107.242.49:3300,v1:10.107.242.49:6789]
2020-11-25 13:07:38.670191 I | op-mon: mon ""b"" endpoint is [v2:10.109.71.30:3300,v1:10.109.71.30:6789]
2020-11-25 13:07:39.477820 I | op-mon: mon ""c"" endpoint is [v2:10.98.93.224:3300,v1:10.98.93.224:6789]
2020-11-25 13:07:39.874094 I | op-mon: saved mon endpoints to config map map[csi-cluster-config-json:[{""clusterID"":""rook-ceph"",""monitors"":[""10.107.242.49:6789"",""10.109.71.30:6789"",""10.98.93.224:6789""]}] data:a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789 mapping:{""node"":{""a"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""b"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""c"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""}}} maxMonId:2]
2020-11-25 13:07:40.467999 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:40.469733 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:41.071710 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:41.078903 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:41.125233 I | op-mon: deployment for mon rook-ceph-mon-a already exists. updating if needed
2020-11-25 13:07:41.327778 I | op-k8sutil: updating deployment ""rook-ceph-mon-a"" after verifying it is safe to stop
2020-11-25 13:07:41.327895 I | op-mon: checking if we can stop the deployment rook-ceph-mon-a
2020-11-25 13:07:44.045644 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-a""
2020-11-25 13:07:44.045706 I | op-mon: checking if we can continue the deployment rook-ceph-mon-a
2020-11-25 13:07:44.045740 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:44.109159 I | op-mon: mons running: [a b c]
2020-11-25 13:07:44.474596 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:44.478565 I | op-mon: deployment for mon rook-ceph-mon-b already exists. updating if needed
2020-11-25 13:07:44.493374 I | op-k8sutil: updating deployment ""rook-ceph-mon-b"" after verifying it is safe to stop
2020-11-25 13:07:44.493403 I | op-mon: checking if we can stop the deployment rook-ceph-mon-b
2020-11-25 13:07:47.135524 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-b""
2020-11-25 13:07:47.135542 I | op-mon: checking if we can continue the deployment rook-ceph-mon-b
2020-11-25 13:07:47.135551 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:47.148820 I | op-mon: mons running: [a b c]
2020-11-25 13:07:47.445946 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:47.448991 I | op-mon: deployment for mon rook-ceph-mon-c already exists. updating if needed
2020-11-25 13:07:47.462041 I | op-k8sutil: updating deployment ""rook-ceph-mon-c"" after verifying it is safe to stop
2020-11-25 13:07:47.462060 I | op-mon: checking if we can stop the deployment rook-ceph-mon-c
2020-11-25 13:07:48.853118 I | ceph-cluster-controller: CR has changed for ""rook-ceph"". diff=  v1.ClusterSpec{
        CephVersion: v1.CephVersionSpec{
-               Image:            ""ceph/ceph:v15.2.5"",
+               Image:            ""ceph/ceph:v15.2.6"",
                AllowUnsupported: false,
        },
        DriveGroups: nil,
        Storage:     {UseAllNodes: true, Selection: {UseAllDevices: &true}},
        ... // 20 identical fields
  }
2020-11-25 13:07:48.853140 I | ceph-cluster-controller: upgrade requested, cancelling any ongoing orchestration
2020-11-25 13:07:50.119584 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-c""
2020-11-25 13:07:50.119606 I | op-mon: checking if we can continue the deployment rook-ceph-mon-c
2020-11-25 13:07:50.119619 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:50.130860 I | op-mon: mons running: [a b c]
2020-11-25 13:07:50.431341 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:50.431361 I | op-mon: mons created: 3
2020-11-25 13:07:50.734156 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:50.745763 I | op-mon: mons running: [a b c]
2020-11-25 13:07:51.045108 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:51.054497 E | ceph-cluster-controller: failed to reconcile. failed to reconcile cluster ""rook-ceph"": failed to configure local ceph cluster: failed to create cluster: CANCELLING CURRENT ORCHESTATION
2020-11-25 13:07:52.055208 I | ceph-cluster-controller: reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:52.070690 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:52.088979 I | ceph-cluster-controller: detecting the ceph image version for image ceph/ceph:v15.2.6...
2020-11-25 13:07:53.904811 I | ceph-cluster-controller: detected ceph image version: ""15.2.6-0 octopus""
2020-11-25 13:07:53.904862 I | ceph-cluster-controller: validating ceph version from provided image
```

Closes: https://github.com/rook/rook/issues/6587
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit ad24990473a876ba014b11ef61f8d63d46190ec0)
ceph: fix metadata device passed by-id

The code was assuming that devices were passed by the user as
""/dev/sda"", this is bad! We all know people should be using paths like
/dev/disk/by-id so we must support them.

Closes: https://github.com/rook/rook/issues/6685
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 5d9612c2ae3539f5a135c6b5f555ced1a4ddc135)
ceph: fix pod labels set on csi components

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit b04f88237218582efa9b6ceefd1706c755e99a3b)
ceph: ignore unscheduled ceph daemons while cleaning up

Before cleaning up the cluster, we wait for all the daemon pods to be cleaned up. This fails when
a daemon is in pending state and has no NodeName. This PR ignores daemon pods that are not scheduled on any node.

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit 753bdb3526ab56e6c6ce51215a6b97099bda7df9)
core: fix label merge

This makes it so the label merging function returns a new Labels object
with the merged content instead of modifying the existing one, which
would cause previously merged labels to be returned for a different set
of input labels.

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 48d21947c2fade80c943cc666973f6559cb4c242)
ceph: use debug message for snap schedule

We don't need to print this every 60s in the operator log.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit aca5a8cc5347e5d273ceaf86eb1f2e8bd373bd3d)
ceph: update examples and base image to v15.2.7

With the release of the latest octopus v15.2.7 we update the base
of the operator image and set the examples to use the same release
to pick up the security and other bug fixes.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 0a35a08f2fe582ea17a09d24ed2b948e633feaec)
ceph: add log collector

We can now collect logs directly into a side-car container.
A new CRD spec has been added:

spec:
  logCollector:
    enabled: true
    periodicity: 24h

Every 24h we will rotate log files for each Ceph daemon.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit c6a87203ca50d3e95ba413ae5cd98dddc323eadc)
docs: update vault kms integration doc

correct the name policy mentioned

Signed-off-by: Jiffin Tony Thottan <jthottan@redhat.com>
(cherry picked from commit a92a58e23eab6ace8cb55c99a143a4929c47e550)
ceph: add more debug logging to obj bucket claims

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit e75dcac8a3555e2ba7439bddcace6f1c80e96800)
ceph: rgw service selector should not change

If the selector changes on the rgw service, during upgrade the
clients will briefly not be able to connect to the rgw pods.
After all the pods are updated with any new labels, the connections
would be restored, but we want to avoid that temporary outage.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 8913a14ce4fc22fe3d2824116b2e31bf31fc80ec)
ceph: include csi by default in the csv

It has been a couple of releases since we started deploying Rook along
with Ceph-CSI by default. So let's include Ceph-CSI natively in our CSV
generation.

Closes: https://github.com/rook/rook/issues/6659
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 9a5421f53ae3c9911beb61a76a1c17e49abb6d0e)
ceph: update object bucket provisioner library

The library for object bucket provisioning is updated to fix errors
during provisioning.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 3b4ee6c8e3af5fe5f2a5f27fca1e045da7e319e8)
build: update manifest versions to v1.5.2 for the release

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","v1.5.2 is taken down due to a potential data loss with OBCs in
Improvements
Rook v1.5.2 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Enable collecting Ceph logs from the host in case the pods restarted multiple times (, @leseb)
Support OSD metadata device passed by-id (, @leseb)
Ability to abort and restart orchestration when the cluster CR is modified (, @leseb)
Object bucket provisioning error handling (, @BlaineEXE)
Object workloads failed briefly during Rook upgrades until RGW pods updated (, @travisn)
Update Ceph manifests and operator base image to v15.2.7 (, @travisn)
Avoid duplicate labels when merging custom labels (, @galexrt)
Properly apply custom labels on CSI components (, @galexrt)
Uninstall cleanup ignores pending Ceph daemon pods (, @sp98)
Update the Controller Runtime version to 0.6 (, @aruniiird)"
"core: fix missing env in svg cleanup job

SVG cleanup job uses the cephSubvolumeGroup env name
from spec.Name. But sometimes it can be empty. In that
case rook should use the CR name.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit 33ce8f0c8e31ba7f5acf24c7854465ff32eca437)
core: remove owner refs in resource cleanup jobs

Removed owner reference from Radosnamespace and
subVolumeGroup cleanup resources.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit c98fc8691881a9af1a077df923ef6544c7c5de3d)
docs: document how to have StorageClass consume Rados Namespace

closes: https://github.com/rook/rook/issues/13214

Co-authored-by: Travis Nielsen <tnielsen@redhat.com>
Co-authored-by: Blaine Gardner <b.blaine.gardner@gmail.com>
Signed-off-by: Michael Adam <obnox@samba.org>
(cherry picked from commit 8e7ac95f9747e926d483e860b9323e4748dde0ff)
docs: fix broken link to network config

Signed-off-by: NymanRobin <robin.nyman@est.tech>
(cherry picked from commit 30e6a7349b4cee037247f3634631b4c0701e7bf1)
mon: fix bind addr when IPv6 and msgr2 are enabled

When IPv6-only network mode is enabled and when mons are configured to
listen only on msgrV2 port, Rook has to add the port to the mon
--public-bind-addr in order to force mons to stop listening on the
msgrV1 port. This can cause problems for IPv6 clusters where adding
':<port>' to the end of an IP addr looks like a valid IPv6 address.

In IPv6 mode, Rook needs to set this to '[<ip>]:<port>' with the
brackets to be a non-ambiguous IPv6 address.

In IPv4 mode, Rook needs to keep its existing behavior. IPv4 mode should
also continue to be the defualt assumption if the network config isn't
specified.

If 'dualStack: true' is specified, Rook is informed that the environment
is dual stack, but Rook doesn't know which IP family to expect from the
pod IP. In this scenario, it is safest for Rook not to apply the port,
since assuming either IPv4 or IPv6 format could be incorrect. In this
scenario, mons may still listen on msgrV1 ports, but this is preferable
to an environment where mons perpetually crash.

Signed-off-by: Blaine Gardner <blaine.gardner@ibm.com>
(cherry picked from commit 573a47e736979c7e604eb0536084668bf21efec7)
ci: fix codespell ci by skipping some words

fixing 'secert' to `secret` and adding workds like
`NotIn, addin` to skip work list.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 85c25bbc6eb07c356970b8e75212b6224cb6d517)
osd: reduce safe-to-destroy retry timeout to 15s

This reduces the safe-to-remove retry interval from 1m to 15s.

Closes

Signed-off-by: Brian Dowling <bjd-dev@simplicity.net>
(cherry picked from commit ef0ed93134267f7b5dbe852fabb58ad028f506eb)
docs: add a note for NixOS and containerd

Add a note to remove LimitNOFILE setting in containerd service configuration.

This setting causes multiple issues such as slow `ceph status` commands (and failing healthchecks),
various timeouts, and mons failing/timing out.

Upstream containerd already removed the setting. NixOS hasn't incorporated the change.

This note can be removed once https://github.com/NixOS/nixpkgs/pull/313507 makes it to a stable release.

Signed-off-by: Onur Cakmak <occ@occ.me>
(cherry picked from commit d1e139cdb3b6232a1b9025743d9d30c94cea4825)
mgr: setting balancer mode from cluster spec

This PR adds a `settings` option in the `Module` struct
which can help users to futher customize the `balancer`
module with a differet mode.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit 1ad37ecce9fd4f36cba708ae68465babf455baca)
osd: configure cluster full settings when osds fill up

When the clusters reach full, nearfull, or backfill full thresholds
ceph will raise health warnings and stop allowing IO or backfill
depending on the threshold. These settings require special ceph
commands instead of being generic ceph config. Allow these settings
to be set from the CephCluster CR in the spec.storage
section.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit e479b051bca142ee3b2352159e22b574240a9acc)
build: set release version to v1.14.5

For the patch release update the examples and documentation
to v1.14.5

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.14.5 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
mon: Fix the bind address when IPv6 and msgr2 are enabled (, @BlaineEXE)
osd: Configure cluster full settings related to OSDs filling up (, @travisn)
core: Remove unnecessary owner refs in resource cleanup jobs (, @sp98)
mgr: Set balancer mode for the balancer mgr module in the CephCluster CR (, @sp98)
osd: Reduce safe-to-destroy retry timeout to 15s (, @bdowling)
docs: Document how to define a StorageClass to consume a RADOS namespace (, @obnoxxx)
core: Fix missing env in subvolume group cleanup job (, @sp98)"
"build(deps): bump ssri from 6.0.1 to 6.0.2

Bumps [ssri](https://github.com/npm/ssri) from 6.0.1 to 6.0.2.
- [Release notes](https://github.com/npm/ssri/releases)
- [Changelog](https://github.com/npm/ssri/blob/v6.0.2/CHANGELOG.md)
- [Commits](https://github.com/npm/ssri/compare/v6.0.1...v6.0.2)

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump url-parse from 1.4.7 to 1.5.1

Bumps [url-parse](https://github.com/unshiftio/url-parse) from 1.4.7 to 1.5.1.
- [Release notes](https://github.com/unshiftio/url-parse/releases)
- [Commits](https://github.com/unshiftio/url-parse/compare/1.4.7...1.5.1)

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump lodash from 4.17.20 to 4.17.21

Bumps [lodash](https://github.com/lodash/lodash) from 4.17.20 to 4.17.21.
- [Release notes](https://github.com/lodash/lodash/releases)
- [Commits](https://github.com/lodash/lodash/compare/4.17.20...4.17.21)

Signed-off-by: dependabot[bot] <support@github.com>
build(deps-dev): bump postcss from 8.2.6 to 8.2.10

Bumps [postcss](https://github.com/postcss/postcss) from 8.2.6 to 8.2.10.
- [Release notes](https://github.com/postcss/postcss/releases)
- [Changelog](https://github.com/postcss/postcss/blob/main/CHANGELOG.md)
- [Commits](https://github.com/postcss/postcss/compare/8.2.6...8.2.10)

Signed-off-by: dependabot[bot] <support@github.com>
fix(CornerAnnotation): Fix position precision truncation

For small values, e.g.

  2.0540516842970646e-8

this was being truncated as

 2.054","Bug Fixes
CornerAnnotation: Fix position precision truncation (dce4a10)"
"fix(userInterface): Use unique CSS class identifiers
chore(Dependencies): Bump vtk.js to 6.4.5","Bug Fixes
userInterface: Use unique CSS class identifiers (09f0c85)"
"fix(Dependencies): Bump itk.js and vtk.js to latest

This addresses some important ImageIO bugs in itk.js.
fix(package-lock.json): Update
ci(TravisCI): Use Node.js version 10

To address:

  8.71s$ npm ci
  npm WARN prepare removing existing node_modules/ before installation
  npm ERR! code MODULE_NOT_FOUND
  npm ERR! Cannot find module 'validate-npm-package-name'
ci(Travis): Use npm install instead of npm ci

To address:
  npm WARN prepare removing existing node_modules/ before installation
  npm ERR! code MODULE_NOT_FOUND
  npm ERR! Cannot find module 'validate-npm-package-name'","Bug Fixes
Dependencies: Bump itk.js and vtk.js to latest (796a26e)
package-lock.json: Update (b4dca88)"
"fix(standalone): Try to fix standalone html
doc(iframe): Remove invalid iframe
fix(UI): Better look and feel","<a name""1.0.4"">
Bug Fixes
UI: Better look and feel (e845e3c6)"
"fix(ZarrMultiscaleSpatialImage): Constrain concurrency for large server

While we want to constrain the max concurrency when there are many more
logical processors on the client than on the server, we should also do
the same when there are many more logical processors on the server than
the client.
refactor(ZarrMultiscaleSpatialImage): consolidate maxConcurrency logic","Bug Fixes
ZarrMultiscaleSpatialImage: Constrain concurrency for large server (6689d94)"
"build(reference-ui): Bump package to 11.9.2
build(Dependencies): Bump semantic-release to 17.4.4
fix(Publish): Move build script execution to prepack

Move later to attempt to fix the Unpkg version from the semantically
released version.","Bug Fixes
Publish: Move build script execution to prepack (35b2a0e)"
"doc(WebSite): Update logo and md
fix(standalone): Publish standalone html file","<a name""1.0.2"">
Bug Fixes
standalone: Publish standalone html file (cfbca5e3)"
"core: set default ceph version to v18.2.2

With the release of Reef v18.2.2 we update the default
recommended version of Ceph to fix the prometheus issues
seen with v18.2.1

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 026d745f8a133f4726a4611199423a84cf0223f5)
exporter: applying labels from monitoring section to ceph-exporter

the labels listed under the 'monitoring' section are currently only
being applied to the rook-ceph-mgr ServiceMonitor. This change extends
those labels to also include the rook-ceph-exporter ServiceMonitor.

Fixes: https://github.com/rook/rook/issues/13774

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 10e26709c45441352ee9a36a9faa4e5e95fade52)
doc: adding a doc example for ceph-exporter labels

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit ab5b269bc48a3b868b43f125a0d74607e5f4a71c)
monitoring: increasing metrics scraping interval from 5s to 10s

let's increase the monitoring interval to match the default interval
used by Prometheus when deployed by Ceph: 10s

Closes: https://github.com/rook/rook/issues/13883

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit daec93eaaa65add60296a67c8fb3bdde8cbf9350)
monitoring: set metrics scraping interval to 10s in examples files

Signed-off-by: Redouane Kachach <rkachach@redhat.com>
(cherry picked from commit 4b9e77af1e4dff3a890f57042b13f9c8de37f3fc)
build: update release version to v1.13.7

For the patch release update the example manifests and docs
to v1.13.7

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.13.7 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
core: Set default ceph version to v18.2.2 (, @travisn)
monitoring: Increase default metrics scraping interval from 5s to 10s (, @rkachach)
exporter: Apply labels from monitoring section of CephCluster to ceph-exporter (, @rkachach)"
"Update PyPI recipe on github actions
Bump cloudpickle from 1.5.0 to 1.6.0

Bumps [cloudpickle](https://github.com/cloudpipe/cloudpickle) from 1.5.0 to 1.6.0.
- [Release notes](https://github.com/cloudpipe/cloudpickle/releases)
- [Changelog](https://github.com/cloudpipe/cloudpickle/blob/master/CHANGES.md)
- [Commits](https://github.com/cloudpipe/cloudpickle/compare/v1.5.0...v1.6.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Bump pytest-xdist from 2.0.0 to 2.1.0

Bumps [pytest-xdist](https://github.com/pytest-dev/pytest-xdist) from 2.0.0 to 2.1.0.
- [Release notes](https://github.com/pytest-dev/pytest-xdist/releases)
- [Changelog](https://github.com/pytest-dev/pytest-xdist/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-xdist/compare/v2.0.0...v2.1.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Fix plotting single prediction forecast point
Add favicon to docs
Update stallion tutorial","Fixes
Fix bug where predictions were not correctly logged in case of decoder_length == 1.
Additions
Add favicon to docs page"
"build(deps-dev): bump karma from 5.2.3 to 6.3.16

Bumps [karma](https://github.com/karma-runner/karma) from 5.2.3 to 6.3.16.
- [Release notes](https://github.com/karma-runner/karma/releases)
- [Changelog](https://github.com/karma-runner/karma/blob/master/CHANGELOG.md)
- [Commits](https://github.com/karma-runner/karma/compare/v5.2.3...v6.3.16)

---
updated-dependencies:
- dependency-name: karma
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(createViewerFromUrl): url undefined for image, labelImage
fix(isZarr): Support DANDI urls

Example:

  ""https://dandiarchive.s3.amazonaws.com/zarr/3d313fc2-0204-496d-bfa1-5c90951ee640/""

https://api.dandiarchive.org/api/dandisets/000108/versions/draft/assets/82a44599-7d1f-43d9-8be7-60e82cfdcb5a/","Bug Fixes
createViewerFromUrl: url undefined for image, labelImage (333477b)
isZarr: Support DANDI urls (70c634d)"
"Bump pytorch-lightning from 1.0.5 to 1.0.6

Bumps [pytorch-lightning](https://github.com/PyTorchLightning/pytorch-lightning) from 1.0.5 to 1.0.6.
- [Release notes](https://github.com/PyTorchLightning/pytorch-lightning/releases)
- [Changelog](https://github.com/PyTorchLightning/pytorch-lightning/blob/1.0.6/CHANGELOG.md)
- [Commits](https://github.com/PyTorchLightning/pytorch-lightning/compare/1.0.5...1.0.6)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Bump matplotlib from 3.3.2 to 3.3.3

Bumps [matplotlib](https://github.com/matplotlib/matplotlib) from 3.3.2 to 3.3.3.
- [Release notes](https://github.com/matplotlib/matplotlib/releases)
- [Commits](https://github.com/matplotlib/matplotlib/compare/v3.3.2...v3.3.3)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Improved model and data docs
Bump sphinx from 3.3.0 to 3.3.1

Bumps [sphinx](https://github.com/sphinx-doc/sphinx) from 3.3.0 to 3.3.1.
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/3.x/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v3.3.0...v3.3.1)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Add support for GRU cells in DeepAR
Added tests for DeepAR GRU
Added docstrings to deepar.sub_modules
Run actions based on master and in master
Run tests on forks
Run linters on fork, annotate only master
Fix for timeseries warning
Fix formatting
Bump pytorch-lightning from 1.0.6 to 1.0.7

Bumps [pytorch-lightning](https://github.com/PyTorchLightning/pytorch-lightning) from 1.0.6 to 1.0.7.
- [Release notes](https://github.com/PyTorchLightning/pytorch-lightning/releases)
- [Changelog](https://github.com/PyTorchLightning/pytorch-lightning/blob/1.0.7/CHANGELOG.md)
- [Commits](https://github.com/PyTorchLightning/pytorch-lightning/compare/1.0.6...1.0.7)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Clarify conda installation
Fix: need sequence lengths of pack rnn sequence on CPU
Better KeyError for NaNLabelEncoder
Re-encode group ids by dataset to identify series
Ensure encoding of group ids is only done if needed","Added
Using GRU cells with DeepAR ()
Fixed
GPU fix for variable sequence length ()
Fix incorrect syntax for warning when removing series ()
Fix issue when using unknown group ids in validation or test dataset ()
Run non-failing CI on PRs from forks ()
Docs
Improved model selection guidance and explanations on how TimeSeriesDataSet works ()
Clarify how to use with conda ()
Contributors
JakeForsey"
"doc(README): Add GitHub Action badge
chore(deps): Bump vtk.js
fix(Viewer): Make labelmap component proportional in volume rendering","Bug Fixes
Viewer: Make labelmap component proportional in volume rendering (d209eca)"
"Do not print out `remote/HEAD` refs

Note: we filter these in the graph view as well
Decouple branches from their descriptions

We only read and display the descriptions in the dashboard.  We also
need two independent git calls.

Decouple here so we can cache the result of `get_branches` in the store.
Cache `branches` in the store
Suppress upstream if up-to-date with local branch
Stop if HEAD has only semver tags
More versatile parsing of the decoration string
Explicitly handle the empty string case
Spelling
Slight refactor into different functions
Fix status dashboard tests to not throw ugly

They were green actually but the unmocked git calls added noise to the
logs.
Remove unused `reset_cursor` methods

Unused since 1a6d43c7 (Remove `nuke_cursors` argument)
Implement reactive branch dashboard
Cache branch descriptions in the store
Beware nulls in the store and provide defaults
Extract reactive bits into `ui.ReactiveInterface`
Do a deepcopy of the state for later comparison

In the tags dashboard we have a deeper/nested state object.  Prepare for
that and do a deep copy to check for a changed state.
Put `cursor_is_on_something` onto `ui.Interface`
Ensure cursor lands on the active branch for new views

With a cold cache opening a new branches dashboard is too async for
`on_new_dashboard` to makes sense.

Move the cursor fix to the `keep_cursor_on_something` hook instead.
Simplify selectors to navigate the branches dashboard
Add return type annotations to `ui.ReactiveInterface`
Make tags a reactive dashboard
Simplify `gs_tags_navigate_tag`'s selector
Invent proper return type `TagList`
Cache `local_tags` in the store
Cache `remotes` in the store
Directly store `long_status` and `short_status` in the store
Let the status bar subscribe to `short_status`
Remove `short_status` and `long_status` from `WorkingDirState`
Never unpack `status` into the store
Sort branches in python land
Simplify the `__init__`s

We already init in `refresh_view_state`.  We still need to fill in
`show_remotes` as that is set only once (""initially"").
Cleanup state refreshing

Since now all relevant state flows through the store (and we subscribe
to it), it is not necessary to call `update_state` manually.  We get
notified.
Optimize initial status render
Abort less obtrusive for typical runtime errors

Print short, user-friendly error message and traceback for runtime
errors.  These include ""View already detached"" errors, and typically
assertion errors.
Optimize initial tags dashboard render
Centralize initializing the global and local state
Automatically inject state values into the render functions
No null objects just missing keys

With the new status injection we automatically do not render a section
if its dependency is not ready.

In case of multiple dependencies we wait for all of them!
Add types to everything
Do not wait for the branch descriptions

Typically users don't do branch descriptions, and the `branches` we
likely have preloaded.  Hence do not wait for an immediate response.
Move remote tag fetching out of the render phase
Inject more state into `get_remote_tags_list`
Ensure a newline during first render

... before the help and before `remotes` has been populated
Fix remote tags filter

For the remote tags we only show tags we don't already show in the local
section.  We used to compare the `sha`s only here but of course there
can be multiple tags on the same commit.

We construct new tuples here just for the comparison because the local
tags also come with datetimes.  A simple `tag in seen` is therefore
not possible.
Do not clear ""remote_tags"" when hiding the section
Ensure to fetch remote tags after `remotes` has been populated

`maybe_populate_remote_tags` depends on `remotes` so order matters here,
especially for the initial render.
Special mark new and changes tags in the dashboard
Do not write to the state concurrently
Draw markers once all remotes have been fetched

The marks we draw evaluate *all* known remote tags.  Waiting for
settlement prohibits that we draw intermediate results.
Fix `gs_tags_show_graph` not going to annotated tags

For annotated tags we actually show the sha of that tag object in the
dashboard.  This sha is not present in the graph.  Instead of resolving
the commit sha just search for the `tag: ...`.
Clarify when we need a full render

After the hotfix 3266859a (Fix `blame` not rendering anything) we do a
fresh render whenever `regions` becomes empty which is not necessary
(and a bit confusing).  Rewrite that passage for clarity:

We need a full render whenever we have sections not currently drawn;
and also when we haven't drawn any sections at all in the previous
round.  The latter implies `not regions`.

In other words: Instead of `not regions` *or* `not current_region_names`
*and* would have been correct.

Add tests because I did this wrong 3 times now.
Fix navigation to the first section in the inline diff

For the first jumpable region, we try to show the BOF which is only
correct for views that have a header section at the top.

Inline diffs don't and so we shouldn't do anything particular as well.
Note that the historical file view (which is similar in that it shows a
whole file without headers) never did this as well.","This is a follow up to v2.38.0.  Tabbing through the dashboards should now finally be instantaneous.  And the new
recent commits sections had some optics fine tuning. See for a before/after pic,
Some minor fixes in the tags dashboard and a small improvement:  new, unpushed tags now have a * in front of them.
If you see a ! instead it means that sha's between the local and the remote tag do not match.
Fixed also a small scrolling annoyance when navigating an inline diff."
"Streaming pod count metric, and additionals ()

* Added new metric, and new flow for general metrics for streaming.
Added object properties to simplify adding conditionals.

* Fixed copy-paste issues .... bump version [skip ci]
streaming metrics for stateless pods ()

* removed status, register pod count metric only if a node is stateless

* fix stateType verification for target node

* fix property fetch for object

* removed 'status' from gauge metrics to avoid summing all values when not filtering by status
streaming metrics for stateless pods ()

* removed status, register pod count metric only if a node is stateless

* fix stateType verification for target node

* fix property fetch for object

* removed 'status' from gauge metrics to avoid summing all values when not filtering by status .... bump version [skip ci]
streaming metrics for stateless pods ()

* removed status, register pod count metric only if a node is stateless

* fix stateType verification for target node

* fix property fetch for object

* removed 'status' from gauge metrics to avoid summing all values when not filtering by status .... bump version [skip ci]","What's Changed
add option to specify consumer concurrency by @yehiyam in
update version db.hkube by @zivglik in
add errors to version not last by @zivglik in
test get pod by @zivglik in
add filter time and word name in get logs by @zivglik in
add jobid in worker by @zivglik in
Task execution problems, not fail right away by @golanha in
fix log orderBy to desc by @zivglik in
no create new version if error build by @zivglik in
allow creating a pipeline with no ttl by @golanha in
fix get all data from algo and pipeline by @zivglik in
Convert graphql objects in algo pipeline by @zivglik in
Convert graphql objects in algo pipeline by @zivglik in
update python wrapper to hkube-python-wrapper==2.5.0.dev3 by @hkube-ci in
insert each node version algorithem  after run by @zivglik in
Node version algorithem by @zivglik in
get pods output log path as environment variable by @golanha in
fix save algo with similar file by @zivglik in
Node version algorithem by @zivglik in
fix name keepOldVersions by @zivglik in
fix version to debug by @zivglik in
create version in start updater by @zivglik in
fix download name by @zivglik in
fix api cron promlem cors from ui localhost by @zivglik in
fix name download file  from ui by @zivglik in
fix download file pipeline by @zivglik in
Resource logging upgrade by @RonShvarz in
support elastic with brear by @golanha in
Added error or warning facilitation for unscheduled algs. by @RonShvarz in
Add versions to example algs with no version by @golanha in
streaming metrics for prometheus by @RonShvarz in
grafana trendline fix by @RonShvarz in
Streaming pod count metric, and additionals by @RonShvarz in
streaming metrics for stateless pods by @RonShvarz in
New Contributors
@RonShvarz made their first contribution in
Full Changelog: v2.4.47...v2.5.40"
"8.2.5 release
fix(thumbs): active class gets removed ()

when using library / framework components the classes get updated on events or
lifeycle hooks that are conflicting with the synchronous execution expectation
of the thumbs module
fix(vue): virtualUpdate event is not declared ()
chore: add copyright to scss and less styles

fixes
feat(core): add `changeLanguageDirection` method to change it to RTL/LTR after init

fixes
chore: update playground
8.2.6 release
8.2.6 release","Bug Fixes
thumbs: active class gets removed () (3267616)
vue: virtualUpdate event is not declared () (8b00333)
Features
core: add changeLanguageDirection method to change it to RTL/LTR after init (f5bb7af), closes
navigation: add navigationPrev and navigationNext events (d0c6365), closes"
"build(deps-dev): bump @rollup/plugin-typescript from 11.0.0 to 11.1.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump webpack from 5.76.1 to 5.78.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump @rollup/plugin-node-resolve from 15.0.1 to 15.0.2 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps): bump eslint-config-prettier from 8.7.0 to 8.8.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: cannot extend DayPickerProps, DataAttributes interface ()
Bump v8.7.1","What's Changed
fix: cannot extend DayPickerProps, DataAttributes interface by @gpbl in
Full Changelog: v8.7.0...v8.7.1"
"Update README.md
Update README.md
Rename CookieMonsterDev.js.LICENSE copy.txt to CookieMonsterDev.js.LICENSE.txt
Show Payback Period x clicks
compile
Removed unnecessary lines of code
Push hotfix
Create dependabot.yml
Bump @types/chai from 4.2.16 to 4.2.17

Bumps [@types/chai](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/chai) from 4.2.16 to 4.2.17.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/chai)

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack from 5.32.0 to 5.36.2

Bumps [webpack](https://github.com/webpack/webpack) from 5.32.0 to 5.36.2.
- [Release notes](https://github.com/webpack/webpack/releases)
- [Commits](https://github.com/webpack/webpack/compare/v5.32.0...v5.36.2)

Signed-off-by: dependabot[bot] <support@github.com>
Bump ts-loader from 8.1.0 to 9.1.1

Bumps [ts-loader](https://github.com/TypeStrong/ts-loader) from 8.1.0 to 9.1.1.
- [Release notes](https://github.com/TypeStrong/ts-loader/releases)
- [Changelog](https://github.com/TypeStrong/ts-loader/blob/main/CHANGELOG.md)
- [Commits](https://github.com/TypeStrong/ts-loader/compare/v8.1.0...v9.1.1)

Signed-off-by: dependabot[bot] <support@github.com>
Updated ESLint to 7.25.0
Update to new repo location
Stop making report minified
Run tests before build
Expose building and upgrade data to global scope
Colour column of green option
Fix link to old repo
Fix issues with ""till next achievement""
Update Upgrades.js
Sorting fixes
Small optimization when creating temp array for sorting buildings
Bump webpack-cli from 4.6.0 to 4.7.0

Bumps [webpack-cli](https://github.com/webpack/webpack-cli) from 4.6.0 to 4.7.0.
- [Release notes](https://github.com/webpack/webpack-cli/releases)
- [Changelog](https://github.com/webpack/webpack-cli/blob/master/CHANGELOG.md)
- [Commits](https://github.com/webpack/webpack-cli/compare/webpack-cli@4.6.0...webpack-cli@4.7.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @types/chai from 4.2.17 to 4.2.18

Bumps [@types/chai](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/chai) from 4.2.17 to 4.2.18.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/chai)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.22.0 to 4.22.1

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.22.0 to 4.22.1.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.22.1/packages/eslint-plugin)

Signed-off-by: dependabot[bot] <support@github.com>
Bump ts-loader from 9.1.1 to 9.1.2

Bumps [ts-loader](https://github.com/TypeStrong/ts-loader) from 9.1.1 to 9.1.2.
- [Release notes](https://github.com/TypeStrong/ts-loader/releases)
- [Changelog](https://github.com/TypeStrong/ts-loader/blob/main/CHANGELOG.md)
- [Commits](https://github.com/TypeStrong/ts-loader/compare/v9.1.1...v9.1.2)

Signed-off-by: dependabot[bot] <support@github.com>
Bump mocha from 8.3.2 to 8.4.0

Bumps [mocha](https://github.com/mochajs/mocha) from 8.3.2 to 8.4.0.
- [Release notes](https://github.com/mochajs/mocha/releases)
- [Changelog](https://github.com/mochajs/mocha/blob/master/CHANGELOG.md)
- [Commits](https://github.com/mochajs/mocha/compare/v8.3.2...v8.4.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint from 7.25.0 to 7.26.0

Bumps [eslint](https://github.com/eslint/eslint) from 7.25.0 to 7.26.0.
- [Release notes](https://github.com/eslint/eslint/releases)
- [Changelog](https://github.com/eslint/eslint/blob/master/CHANGELOG.md)
- [Commits](https://github.com/eslint/eslint/compare/v7.25.0...v7.26.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump prettier from 2.2.1 to 2.3.0

Bumps [prettier](https://github.com/prettier/prettier) from 2.2.1 to 2.3.0.
- [Release notes](https://github.com/prettier/prettier/releases)
- [Changelog](https://github.com/prettier/prettier/blob/main/CHANGELOG.md)
- [Commits](https://github.com/prettier/prettier/compare/2.2.1...2.3.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.22.0 to 4.22.1

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.22.0 to 4.22.1.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.22.1/packages/parser)

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack from 5.36.2 to 5.37.0

Bumps [webpack](https://github.com/webpack/webpack) from 5.36.2 to 5.37.0.
- [Release notes](https://github.com/webpack/webpack/releases)
- [Commits](https://github.com/webpack/webpack/compare/v5.36.2...v5.37.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint-plugin-import from 2.22.1 to 2.23.2

Bumps [eslint-plugin-import](https://github.com/benmosher/eslint-plugin-import) from 2.22.1 to 2.23.2.
- [Release notes](https://github.com/benmosher/eslint-plugin-import/releases)
- [Changelog](https://github.com/benmosher/eslint-plugin-import/blob/master/CHANGELOG.md)
- [Commits](https://github.com/benmosher/eslint-plugin-import/compare/v2.22.1...v2.23.2)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.22.1 to 4.23.0

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.22.1 to 4.23.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.23.0/packages/eslint-plugin)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.22.1 to 4.23.0

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.22.1 to 4.23.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.23.0/packages/parser)

Signed-off-by: dependabot[bot] <support@github.com>
Bump ts-node from 9.1.1 to 10.0.0

Bumps [ts-node](https://github.com/TypeStrong/ts-node) from 9.1.1 to 10.0.0.
- [Release notes](https://github.com/TypeStrong/ts-node/releases)
- [Commits](https://github.com/TypeStrong/ts-node/compare/v9.1.1...v10.0.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint-plugin-import from 2.23.2 to 2.23.3

Bumps [eslint-plugin-import](https://github.com/benmosher/eslint-plugin-import) from 2.23.2 to 2.23.3.
- [Release notes](https://github.com/benmosher/eslint-plugin-import/releases)
- [Changelog](https://github.com/benmosher/eslint-plugin-import/blob/master/CHANGELOG.md)
- [Commits](https://github.com/benmosher/eslint-plugin-import/compare/v2.23.2...v2.23.3)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.23.0 to 4.24.0

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.23.0 to 4.24.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.24.0/packages/parser)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.23.0 to 4.24.0

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.23.0 to 4.24.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.24.0/packages/eslint-plugin)

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack from 5.37.0 to 5.37.1

Bumps [webpack](https://github.com/webpack/webpack) from 5.37.0 to 5.37.1.
- [Release notes](https://github.com/webpack/webpack/releases)
- [Commits](https://github.com/webpack/webpack/compare/v5.37.0...v5.37.1)

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint from 7.26.0 to 7.27.0

Bumps [eslint](https://github.com/eslint/eslint) from 7.26.0 to 7.27.0.
- [Release notes](https://github.com/eslint/eslint/releases)
- [Changelog](https://github.com/eslint/eslint/blob/master/CHANGELOG.md)
- [Commits](https://github.com/eslint/eslint/compare/v7.26.0...v7.27.0)

Signed-off-by: dependabot[bot] <support@github.com>
Bump ts-loader from 9.1.2 to 9.2.2

Bumps [ts-loader](https://github.com/TypeStrong/ts-loader) from 9.1.2 to 9.2.2.
- [Release notes](https://github.com/TypeStrong/ts-loader/releases)
- [Changelog](https://github.com/TypeStrong/ts-loader/blob/main/CHANGELOG.md)
- [Commits](https://github.com/TypeStrong/ts-loader/compare/v9.1.2...v9.2.2)

Signed-off-by: dependabot[bot] <support@github.com>
Simple refactor of calculation
Optimize & fix LeftTillNext calculation
Make current season green in Stats section
Update README.md
Add option for autosave timer bar
Bump typescript from 4.2.4 to 4.3.2

Bumps [typescript](https://github.com/Microsoft/TypeScript) from 4.2.4 to 4.3.2.
- [Release notes](https://github.com/Microsoft/TypeScript/releases)
- [Commits](https://github.com/Microsoft/TypeScript/compare/v4.2.4...v4.3.2)

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack from 5.37.1 to 5.38.1

Bumps [webpack](https://github.com/webpack/webpack) from 5.37.1 to 5.38.1.
- [Release notes](https://github.com/webpack/webpack/releases)
- [Commits](https://github.com/webpack/webpack/compare/v5.37.1...v5.38.1)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.24.0 to 4.25.0

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.24.0 to 4.25.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.25.0/packages/eslint-plugin)

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint-plugin-import from 2.23.3 to 2.23.4

Bumps [eslint-plugin-import](https://github.com/benmosher/eslint-plugin-import) from 2.23.3 to 2.23.4.
- [Release notes](https://github.com/benmosher/eslint-plugin-import/releases)
- [Changelog](https://github.com/benmosher/eslint-plugin-import/blob/master/CHANGELOG.md)
- [Commits](https://github.com/benmosher/eslint-plugin-import/compare/v2.23.3...v2.23.4)

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.24.0 to 4.25.0

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.24.0 to 4.25.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.25.0/packages/parser)

Signed-off-by: dependabot[bot] <support@github.com>
Adding auto branch merge
Adding option to sort buildings by price until next achievement
Update and rename merge-branch.yml to publish-dev.yml
Update publish-dev.yml
Bump ts-loader from 9.2.2 to 9.2.3

Bumps [ts-loader](https://github.com/TypeStrong/ts-loader) from 9.2.2 to 9.2.3.
- [Release notes](https://github.com/TypeStrong/ts-loader/releases)
- [Changelog](https://github.com/TypeStrong/ts-loader/blob/main/CHANGELOG.md)
- [Commits](https://github.com/TypeStrong/ts-loader/compare/v9.2.2...v9.2.3)

---
updated-dependencies:
- dependency-name: ts-loader
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.25.0 to 4.26.0

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.25.0 to 4.26.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.26.0/packages/eslint-plugin)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/eslint-plugin""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint from 7.27.0 to 7.28.0

Bumps [eslint](https://github.com/eslint/eslint) from 7.27.0 to 7.28.0.
- [Release notes](https://github.com/eslint/eslint/releases)
- [Changelog](https://github.com/eslint/eslint/blob/master/CHANGELOG.md)
- [Commits](https://github.com/eslint/eslint/compare/v7.27.0...v7.28.0)

---
updated-dependencies:
- dependency-name: eslint
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.25.0 to 4.26.0

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.25.0 to 4.26.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.26.0/packages/parser)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/parser""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump prettier from 2.3.0 to 2.3.1

Bumps [prettier](https://github.com/prettier/prettier) from 2.3.0 to 2.3.1.
- [Release notes](https://github.com/prettier/prettier/releases)
- [Changelog](https://github.com/prettier/prettier/blob/main/CHANGELOG.md)
- [Commits](https://github.com/prettier/prettier/compare/2.3.0...2.3.1)

---
updated-dependencies:
- dependency-name: prettier
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Update sort to handle the case where the source data is out of order
Bump @typescript-eslint/parser from 4.26.0 to 4.26.1

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.26.0 to 4.26.1.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.26.1/packages/parser)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/parser""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack-cli from 4.7.0 to 4.7.2

Bumps [webpack-cli](https://github.com/webpack/webpack-cli) from 4.7.0 to 4.7.2.
- [Release notes](https://github.com/webpack/webpack-cli/releases)
- [Changelog](https://github.com/webpack/webpack-cli/blob/master/CHANGELOG.md)
- [Commits](https://github.com/webpack/webpack-cli/compare/webpack-cli@4.7.0...webpack-cli@4.7.2)

---
updated-dependencies:
- dependency-name: webpack-cli
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.26.0 to 4.26.1

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.26.0 to 4.26.1.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.26.1/packages/eslint-plugin)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/eslint-plugin""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Fixing Pop All Normal wrinkler tooltip
Bump typescript from 4.3.2 to 4.3.4

Bumps [typescript](https://github.com/Microsoft/TypeScript) from 4.3.2 to 4.3.4.
- [Release notes](https://github.com/Microsoft/TypeScript/releases)
- [Commits](https://github.com/Microsoft/TypeScript/compare/v4.3.2...v4.3.4)

---
updated-dependencies:
- dependency-name: typescript
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/eslint-plugin from 4.26.1 to 4.27.0

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 4.26.1 to 4.27.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.27.0/packages/eslint-plugin)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/eslint-plugin""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @types/chai from 4.2.18 to 4.2.19

Bumps [@types/chai](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/chai) from 4.2.18 to 4.2.19.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/chai)

---
updated-dependencies:
- dependency-name: ""@types/chai""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump eslint from 7.28.0 to 7.29.0

Bumps [eslint](https://github.com/eslint/eslint) from 7.28.0 to 7.29.0.
- [Release notes](https://github.com/eslint/eslint/releases)
- [Changelog](https://github.com/eslint/eslint/blob/master/CHANGELOG.md)
- [Commits](https://github.com/eslint/eslint/compare/v7.28.0...v7.29.0)

---
updated-dependencies:
- dependency-name: eslint
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump webpack from 5.38.1 to 5.39.1

Bumps [webpack](https://github.com/webpack/webpack) from 5.38.1 to 5.39.1.
- [Release notes](https://github.com/webpack/webpack/releases)
- [Commits](https://github.com/webpack/webpack/compare/v5.38.1...v5.39.1)

---
updated-dependencies:
- dependency-name: webpack
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump @typescript-eslint/parser from 4.26.1 to 4.27.0

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 4.26.1 to 4.27.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.27.0/packages/parser)

---
updated-dependencies:
- dependency-name: ""@typescript-eslint/parser""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Add Achievements section to Stats page
Update package-lock
Add info about next achievement in stats
Push to 2.031.9
Update CookieMonster.js","This update implements the following functions:
For developers: we now expose some data calculated by Cookie Monster to the global scope. You can access it through the CookieMonsterData object ()
The column with the most optimal building now has a green coloured indicator whenever colour coding is turned on ()
The current season in the seasons statistics section is now displayed with green text for easier identification ()
New option to show a timer bar that counts down till next autosave ()
New option to sort buildings based on the ""cost till next achievement"" ()
Added extra information about achievements in statistics page ()
This update fixes the following bugs:
HOTFIX: Fixed the possibility of clicking Golden Cookies multiple times with autoclickers ()
Fixed a bug where ignoring certain buildings in rare cases did not create a ""most optimal building"" ()
Fixed some issues related to ""left till achievement"" ()
Fixed some cases where upgrades and buildings were not correctly sorted ()
Fixed the tooltip of ""Pop all normal wrinklers"" displaying an incorrect reward when Shiny's are present ()"
"Improve syntax file parsing

Fixes

For a lot of files `yaml.safe_load` fails if the lib does not support
the used yaml format.  It is also very slow to parse all syntax files.

Since we only use relatively simple information here, t.i. a single
key, we just run a regex and extract the useful information.
Parse "".tmLanguage"" syntax files for ""fileTypes""

Fixes

Note: for the least surprise we first parse the ""tmLanguage"" files,
followed by ""sublime-syntax"" so that the latter overrule the former.

Note: we don't have any way to tell which is the currently preferred
syntax.  We just use the last syntax we iterated over.
Guess the syntax by looking for an open view

Since we cannot actually know the correct syntax just by looking at
our map, we just choose the arbitrary `[-1]` last item, we try harder
to just take the syntax using an open view.

If we ever found such a syntax we also remember this choice.
Normalize paths coming from the status views

In the status view we show short relative paths to a file. These come
from git and thus have always ""/"" as the path separator.

Since we construt absolute paths here, we should also `normpath`.
Fallback to the standard ""markdown"" syntax for the help
Normalize line endings when reading help docs

The help docs are saved with mac line endings. We convert to plain
""\n"" newline characters because that's internally the format Sublime
uses and wants.","Improve syntax selection for the ""inline diff"" (gs_inline_diff) and ""historical file view"" (gs_show_file_at_commit)
Fix: Normalize line endings for ""GitSavvy: Help""
Fix: Reuse diff views when coming from the status dashboard (Windows)"
"build: bump v8.8.1
build(deps-dev): bump rollup-plugin-dts from 5.3.0 to 5.3.1 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump jest and @types/jest ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump @testing-library/dom from 9.3.0 to 9.3.1 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump tslib from 2.5.0 to 2.6.2 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps-dev): bump eslint-plugin-import from 2.27.5 to 2.28.1 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
docs: fix typo in Matcher example ()
build(deps-dev): bump @types/react from 18.0.38 to 18.2.21 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
build(deps): bump focus-trap-react from 10.1.1 to 10.2.1 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix(a11y): Remove rowgroup role from tbody element ()
build: bump v8.8.2","What's Changed
Bug fixes
fix(a11y): remove redundant rowgroup role from tbody element by @gpbl in
Other
docs: fix typo in Matcher example by @triptu in
Dependencies Updates
build(deps-dev): bump rollup-plugin-dts from 5.3.0 to 5.3.1 by @dependabot in
build(deps-dev): bump jest and @types/jest by @dependabot in
build(deps-dev): bump @testing-library/dom from 9.3.0 to 9.3.1 by @dependabot in
build(deps-dev): bump tslib from 2.5.0 to 2.6.2 by @dependabot in
build(deps-dev): bump eslint-plugin-import from 2.27.5 to 2.28.1 by @dependabot in
build(deps-dev): bump @types/react from 18.0.38 to 18.2.21 by @dependabot in
build(deps): bump focus-trap-react from 10.1.1 to 10.2.1 by @dependabot in
New Contributors
@triptu made their first contribution in
Full Changelog: v8.8.1...v8.8.2"
"feat: add excludeDisabled prop for range mode ()

* feat: add excludeDisabled for range mode

* Update test
build(deps-dev): bump @testing-library/dom from 10.3.1 to 10.4.0 ()
build(deps-dev): bump typedoc from 0.26.3 to 0.26.5 ()
build(deps-dev): bump eslint-plugin-react from 7.34.4 to 7.35.0 ()
Bump v9.0.2
build(deps-dev): bump ts-jest from 29.2.2 to 29.2.3 ()

Bumps [ts-jest](https://github.com/kulshekhar/ts-jest) from 29.2.2 to 29.2.3.
- [Release notes](https://github.com/kulshekhar/ts-jest/releases)
- [Changelog](https://github.com/kulshekhar/ts-jest/blob/main/CHANGELOG.md)
- [Commits](https://github.com/kulshekhar/ts-jest/compare/v29.2.2...v29.2.3)

---
updated-dependencies:
- dependency-name: ts-jest
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Giampaolo Bellavite <io@gpbl.dev>
build(deps-dev): bump eslint-plugin-prettier from 5.1.3 to 5.2.1 ()

Bumps [eslint-plugin-prettier](https://github.com/prettier/eslint-plugin-prettier) from 5.1.3 to 5.2.1.
- [Release notes](https://github.com/prettier/eslint-plugin-prettier/releases)
- [Changelog](https://github.com/prettier/eslint-plugin-prettier/blob/master/CHANGELOG.md)
- [Commits](https://github.com/prettier/eslint-plugin-prettier/compare/v5.1.3...v5.2.1)

---
updated-dependencies:
- dependency-name: eslint-plugin-prettier
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
playground: add reset button to selection
fix: alignment of grid elements ()

fix: alignment of grid not being properly aligned
fix: range mode not updating when selected prop changes ()

* fix: alignment of grid not being properly aligned

* fix: use range not updating when selected prop changes

* Remove console.log
Bump v9.0.3","This release fixes two issues found with the grid style and the range mode.
What's Changed
fix: alignment of grid elements by @gpbl in
fix: range mode not updating when selected prop changes by @gpbl in
Full Changelog: v9.0.2...v9.0.3"
"9.4.0
fix(core): fix issue with calling freeMode introduced in 9.4.0

fixes
9.4.1","Bug Fixes
core: fix issue with calling freeMode introduced in 9.4.0
(581eea8), closes"
"9.0.3
fix(autoplay): fixing autoplay undefined error ()

Co-authored-by: ilank <ilank@moonsite.co.il>
chore: lint
fix(pagination): fix pagination bullets children clicks

fixes
fix(zoom): fix gesture scale origin

fixes
fix(virtual): grab DOM slides only from wrapper children
9.0.4","Bug Fixes
autoplay: fixing autoplay undefined error ()
pagination: fix pagination bullets children clicks
(8bcff39), closes
virtual: grab DOM slides only from wrapper children
zoom: fix gesture scale origin
(c89b2dd), closes"
"doc/tutorial/basics: some minor fixes

preparing for transformation to Hugo, mostlyl

Change-Id: Iac74644a5e781912fd1e45cc39f60baa05d27683
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/3263
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>
cue: eliminate generation of block quotes

Issue

Change-Id: I73ac50d03372eccef55f510a582e8c49e7434d0a
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/3262
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>
cue: fix bug in type inference

used wrong type inference function for numbers

Fixes

Change-Id: Ia215bffdf368ef2d96a19a8c7b2c7437c2af5d66
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/3280
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>
cue/parser: allow full expressions for embeddings

This completes the implementation of the spec
allowing expressions for embeddings.

It also lifts the restriction in the spec.

Futher relaxing would be possible, but requires
lookahead.

Not that this is not unlike the Go ambiguity:
if foo == myStruct{} {
}
where parenthesis are required around the struct
literal.

Closes.

Change-Id: I629fc6e7a65612bbe754863ffd79a36b39a50dfe
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/3300
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>
cue: fixes number groundness inference

When a integer was inferred from restricting
comparators with a difference greater than
1.

Also implemented restricting float ranges
when unified with integers.

Fixes

Change-Id: Ie64a0670392463cc5340ee9f3771ded9c6f2a15d
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/3301
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>","A few bug fixes
There were a few small bug fixes that, even though old, were serious enough to warrant a new release.
This also finalizes the implementation of allowing full expressions for embeddings.
Changelog
e53305e cue/parser: allow full expressions for embeddings
0ac550c cue: eliminate generation of block quotes
7c9b88c cue: fix bug in type inference
fdd9b71 cue: fixes number groundness inference"
"v11.0.1
chore: bump deps
chore: move private lambda tests
chore: remove test.only
test: add test for generated api key ()
chore: move provider.apiGateway.apiKeys tests
chore: destructuring order nit
fix: remove unreachable condition
fix: timeout terminating process ()
test: add tests for timeout termination bug
v11.0.2","Bug Fixes
remove unreachable condition (ae1c8b3)
timeout terminating process () (552081c)"
"v11.1.1
chore: bump deps
chore: destructuring order nit
test: add scenario test for middy, issue ()

Co-authored-by: Henry McIntosh <thehenrymcintosh@gmail.com>
revert: remove unreachable condition, fixes
chore: remove unused @middy/http-error-handler
chore: bump deps
v11.1.2","Bug Fixes
revert: remove unreachable condition (770ed13) thank you @thehenrymcintosh"
"v3.4.0
Fix path to authorization handlers
v3.4.1","Bugfixes
--location -l option now works on authorization handlers."
"v3.15.2
use unprocessed request headers. fixes
v3.15.3","Bugfixes
Header keys passed to your handlers by the event object are now case-sensitive (i.e. are not lowercased anymore). See"
"v5.12.0
check for http event with private: true

fixes
Update deps
Linting/prettier
Fix private http events
v5.12.1","Bugfixes
randomly generated API key is not displayed if no API key is defined (thanks to @christophgysin)"
"v7.2.1.0

https://roxy-wi.org/changelog_2_1
v7.2.1.0
v7.2.1.0

Improve error handling in tools list and adjust status check command

Enhanced error handling in tools list loop within the 'common.py' file to provide more specific error messages. Additionally, the command for checking a tool's status was adjusted to remove unnecessary sudo usage. Also, updated the service check in the 'roxy.py' file from 'sshd' to 'rsyslog'.
v7.2.2.0

https://roxy-wi.org/changelog_2_2
v7.2.2.0

Add new deps
v7.2.2.0

Fix JS
v7.2.2.0

Fix tools status showing for Docker
v7.2.2.0

Delete debug output
v7.2.2.0

Fix bug with updating Roxy-WI
v7.2.2.0

Fix haproxy command","The Backup page is AJAX page now
Network status has been added to the System Info
The channels for alerting have separated page
A new version of HAProxy has been added for installation"
"v2.2.7
unsupported runtime warning and 404 route
Adds `node4.3` runtime
v2.2.8","Support for Nodev4 runtime. See
Warning on unsupported runtime. See
New catch-all route for 404s tells you what routes are valid."
"v9.1.6
refactor: declare fields, remove from constructor
refactor: declare fields, remove from constructor, part 2
fix: https protocol option default value
refactor: https protocol ternary consistency
refactor: load certs private method
refactor: use conditional spread
v9.1.7","Bug Fixes
https protocol option default value (57f7d87)
Maintenance Improvements
declare fields, remove from constructor (0e82819)
declare fields, remove from constructor, part 2 (364ef2c)
https protocol ternary consistency (2b2a8fa)
load certs private method (33e4e01)
use conditional spread (5dfe577)"
"Update wrapping of key missing error

(cherry picked from commit bbb5a55a3539ebad062b4f6b7e1fc08111d91319)
Update video link

(cherry picked from commit 92737c6bf97ef2abf8e3fff1575abe92fd765207)
Remove my_model.py from init CLI command

(cherry picked from commit fef5fae6107f4ebdfe22048269ce0c0448191f3c)
Remove json from valid config file extensions

(cherry picked from commit 50a2528458016fb1d7cd3fac1ef0d9354f1ad118)
Fix constants bug

(cherry picked from commit b7e0aa48b8d9e68d6ebb51be06ff7800d3cb807e)
Support resource references in model target_vocab

(cherry picked from commit 597d844fca6f04404d51e7ec65afa7be64356fb6)
Check if model input is dict before accessing

(cherry picked from commit 80e091e3fa5268afdc9e67c653bf645b5e4749bd)
External constants support ()


(cherry picked from commit 096780a54b607f53764a69438d66747aaa80119d)
Update version to 0.4.1
Update API docs

(cherry picked from commit 99afb4a2fe2cebdda7a4fe0e2ff120dac9cfa243)
Update stable version to 0.4.1","New features:
Support external constants (1vn)
Bug fixes:
Remove my_model.py from init CLI command fef5fae (deliahu)
Fix constant data status bug b7e0aa4 (deliahu)
Support resource references in model target_vocab 597d844 80e091e (deliahu)"
"v6.3.0
Fix typo
Command for running only unit tests
chore(tests): generateHapiPath unit tests
chore(tests): Add integration test for prefix option
fix: Handle star routes
v6.3.1","Bug fix:
Fix * routes handling
Enhancements:
NPM script for running only unit tests
generateHapiPath unit tests, prefix integration test"
"Update README.md
Update tensorflow resnet50 example README ()


(cherry picked from commit 15e5263ad1619ad7cd2241f52939a6878ccb63a4)
Add troubleshooting page for TF sessions used in predict method ()

Co-authored-by: David Eliahu <deliahu@users.noreply.github.com>
(cherry picked from commit 54d3d26817f17fc070249a7355d16e159f5c73d7)
Add troubleshooting docs for API request errors ()

(cherry picked from commit 25fa19223ae147b3fcea69638eb88e286a283dd7)
Update local model downloading new lines ()


(cherry picked from commit 07480995a34be8852e561265561dc30920a63b80)
Change max limit of processes per API replica ()


(cherry picked from commit 687dc8d692360565acea4d18982dde352e16287e)
Use info log level when TF model is still loading ()


(cherry picked from commit bf19cff209af6cffe137b6df02872e582be4a947)
Add missing extra-index-url & improve Inf docs ()


(cherry picked from commit 7b99d88961193a536f56edf00bc564387ec6cc42)
Check cluster-name tag when choosing load balancer for VPC Link integration ()


(cherry picked from commit 8ad7f726d8e0a2696204f13971c8c978675174da)
Delete API Gateway if cluster up fails ()


(cherry picked from commit b17c225f4dc129473b11576f9e3f8c5a71847a75)
Allow empty cluster config ()


(cherry picked from commit 86eaec7398b2255fc28522b09806cb730c357639)
Update README.md ()

(cherry picked from commit 6de67ad6b80fb079118c3304c80cc166a656d3ff)
Update install docs ()

(cherry picked from commit 1f2390e1c5751457016876588b3c8210a19d431d)
Update version to 0.18.1
Move cortex verification from serve.py to run.sh ()

(cherry picked from commit 5fb3d650a123ab9ae920660ad2a8ab2ceacee972)
Verify operator and image versions match first in run.sh ()

(cherry picked from commit 13adb3708280fd40dc1f059a067af2462d261380)
Update memory capacity calculation
Fix dynamic axes for ONNX models ()


(cherry picked from commit 53c0b37cea91011c72ee232272edf9faca41259e)
Add retries for resource tagging ()


(cherry picked from commit 8b5d3a379e80bf2743036ebc23cb7e0a81d495e0)
Remove unnecessary env var & reposition env var source ()


(cherry picked from commit 884332643c7240194bc7be0bdb5f225fd14c4ea7)
Update README.md

(cherry picked from commit ea5f4fec68a2812e9f627bcd3d97d08474b8e535)
Update stable version to 0.18.1","Bug fixes
Fix dynamic axes for ONNX models (RobertLucian)
Fix memory node capacity calculation for multi-api configuration files (deliahu)
Check cluster-name tag when choosing load balancer for VPC Link integration (deliahu)
New guides
Troubleshooting: API request errors (deliahu)
Troubleshooting: TensorFlow session in predict() (RobertLucian)
Misc
Delete API Gateway if cluster up fails (deliahu)
Move image version verification from serve.py to run.sh (vishalbollu)
Add retries for resource tagging during cluster up (deliahu)
Use info log level when TensorFlow model is being loaded (RobertLucian)
Increase max number of processes per API replica to 100 (RobertLucian)
Allow empty cluster config (deliahu)"
"v4.11.1
📌 versions: up @ant-design/compatible
📸 snapshots: snapshots updated
v4.11.2","snapshots: snapshots updated  189834e
versions: up @ant-design/compatible  388caea"
"all: Bump to version 3.2.0
gs: Forward status messages to upstream host
console,oauth: Add withComputedProps hoc
console: Update prop-type library
console: Renew rights group ui logic
console: Rename universal rights to pseudo rights
console: Fix initial value for right forms
console: Fix notification logic for right forms
console,oauth: Update shared messages
console: Fix add collaborator message
dev: Update locales
gs: Add separate interface for status messages
api: Change documented expected error code for unexposed root keys
js: Support nil root keys from crypto service
console: Add support link config
console,oauth: Extend env lib
console: Update prop-type library
console,oauth: Update env selectors
console,oauth: Add optional support button to footer
console: Add support button to console footer
console: Add prop-types to app view
dev: Update locales
util: Reorder ATECC608A types
util: Support ATECC608A-TNGLORA
util: Add default JoinEUI to device template
console,oauth: Refactor app config json structure
console,oauth: Update env structure
all: Fix reading config from files in order
all: Use OS working, home and user config directory for config lookup
api: Add optional file extensions to device template formats
all: Indicate .json file extension for Microchip manifests
oauth: Use config from request context
doc: Update list of supported versions
dev: Update release steps
as: Test frontend formatters
as: Test getting MQTT connection info
all: Test invalid data and signature of Microchip manifests
as: Test MQTT topic structure
gs: Improve test coverage
all: Cleanup and test password checks
all: Add initial template funcs for emails
all: Improve test coverage of pkg/email
all: Test pkg/email/smtp with local smtp server
all: Remove unused log.Must
all: Improve test coverage of pkg/log
all: Remove unused pkg/log/middleware/filter
console: Fix add collaborator message
util: Improve encoding/lorawan package test coverage
util: Improve crypto package test coverage
util: Fix crypto package test organization
all: Enable GS MQTT V2 listener by default and assign port
gcs: Use MQTT V2 for TTKG
cli: Add command to claim end devices
cli: Consistent casing in log warnings
all: Interpret TR005 QR code DevVCode as string
cli: Add application claim (un)authorize commands
api: Fix validation for QR code
all: Add RPC middleware to fallback to default port
ns: Remove nil-checks on specified field masks
api: Change authentication code value to string
util: Validate QR TR005 draft 2 DevVCode
util: Support escaped percentage sign
util: Support encoding end device data in QR codes
cli: Add generating QR codes for end devices
all: Regenerate messages
api: Promote Picture to its own file
api: Add end device QR code generator
all: Add QR code formats and registry
all: Register LoRa Alliance TR005 draft 2 QR code format
dev: Add qrg commit topic
qrg: Add QR code generator component
qrg: Start QR Code Generator component
cli: Use QR Code Generator service to generate QR codes
all: Regenerate messages
cli: Harmonize list format aliases
cli: Read JSON array input as separate objects
console,oauth: Add progress bar component
dev: Update protoc image version
dev: Update proto-related dependencies
util: Converge TLS configuration and check ambiguity
util: Cancel component on init error
util: Support loading TLS certificates from the key vault
all: Regenerate messages
all: Split TLS client and server configuration
all: Add ALPN next protos explicitly for TLS listeners
all: Add TODO for caching the root CA file
util: Add fallback port for https redirection
ns: Assume max data rate index is 5 for predefined channels
console: Add dispatch actions for starting event stream
console: Pass onRestart to events
console: Pass restart logic to notification
console: Display restart button in notification
console: Set error to undefined on start stream success
console: Add restart stream message
all: Make key vault and dependencies context aware
all: Handle key vault initialization errors
util: Rename event to chunk in streams
console: Rename event to chunk in event stream
util: Add component whitelist to path splitter
util: Improve device set helper function
util: Improve scope of makeRequests utility function
util: Add template format list service
util: Add template conversion stream service
util: Add device bulk create service
console: Add redux primitives for device template formats
all: Support fetching from blobs
all: Refactor interop client configuration
dev: Regenerate messages
util: Return fetchers directly in config
console: Add device template format selector
console: Update api tree
dev: Update locales
api: Add TLS setting to AS links
as: Use explicit TLS setting for external NS links
all: Support KEK label escaping
all: Add empty key vault
all: Add dial option discovery and helper
all: Regenerate messages
console,oauth: Add not found route component
console: Handle undefined routes for application sub views
console: Handle undefined routes for device sub views
console: Handle undefined routes for gateway sub views
console: Handle undefined routes for organization sub views
console: Add exact to routes for add views
console: Set action to undefined
all: Clarify get and export cert key vault operations
all: Document key vault certification operations
console,oauth: Hide progress bar estimation when done
console,oauth: Add scroll-to-bottom feature to code editor
console,oauth: Add pulse prop to status component
console,oauth: Add disabled prop for link button
console: Add change handler to fetch select
console: Add bulk create icon
console: Add bulk device create form component
console: Add bulk device creator container
console: Add bulk device add view
console: Update messages
console: Render bulk creation button conditionally
console: Restart organization event stream
all: Use explicit config sources and providers with fallback
all: Add TODOs to get rid of config fallbacks
dev: Add CHANGELOG.md
ci: Reference CHANGELOG.md in release notes
dev: Remove Release notes section from PR templates
doc: Document release note adding
all: Bump to version 3.2.1","Added
support-link URI config to the Console to show a ""Get Support"" button.
Option to explicitly enable TLS for linking of an Application Server on an external Network Server.
Service to list QR code formats and generate QR codes in PNG format.
Status message forwarding functions to upstream host/s.
Support for authorizing device claiming on application level through CLI. See ttn-lw-cli application claim authorize --help for more information.
Support for claiming end devices through CLI. See ttn-lw-cli end-device claim --help for more information.
Support for converting Microchip ATECC608A-TNGLORA manifest files to device templates.
Support for Crypto Servers that do not expose device root keys.
Support for generating QR codes for claiming. See ttn-lw-cli end-device generate-qr --help for more information.
Support for storage of frequency plans, device repository and interoperability configurations in AWS S3 buckets or GCP blobs.
Changed
Enable the V2 MQTT gateway listener by default on ports 1881/8881.
Improve handling of API-Key and Collaborator rights in the console.
Fixed
Fix bug with logout sometimes not working in the console.
Fix not respecting RootCA and InsecureSkipVerify TLS settings when ACME was configured for requesting TLS certificates.
Fix reading configuration from current, home and XDG directories.
Docker images
docker pull thethingsnetwork/lorawan-stack:latest
docker pull thethingsnetwork/lorawan-stack:3
docker pull thethingsnetwork/lorawan-stack:3.2
docker pull thethingsnetwork/lorawan-stack:3.2.1"
"Contesting Dupe Check Improvement
Cleanup unused class
Fixes errors when the fields arent there
Returns the correct hamsat user fields
Remove extra comma causing error
Fixed links not being visable
Fixes search dropdown not appearing after editing

Fixes
Fixes
Reformatted the code
[Dashboard|User] Control over what cards are shown on the dashboard
Get ready for version 2.6.7 stable","What's Changed
Dashboard - Side Cards are now selectable (See Notes) by @magicbug
Minor bug fixes and code formatting changes by @magicbug
Contest Logging Dupe Checking Bugfix/Improvement by @DH5DAX in
Add link for DOK districts by @phl0 in
API Workable hamsat passes (You need to provide API key in your account settings) by @phl0 in
Remove extra comma in the user edit save post code causing error by @PartTimeLegend in
Dashboard Cards
You will notice that the cards you used to see on the right side of the dashboard when you login have disappeared this is by design and you can now enable or disable ones that arent relevant to you in your account settings just click your callsign top right and select Account and its under Cloudlog Preferences.
New Contributors
@DH5DAX made their first contribution in
@PartTimeLegend made their first contribution in
Full Changelog: 2.6.6...2.6.7"
"v5.0.15
Update .umirc.js
💄 UI: fix PageHeaderWrapper tablist style
🔥 clean: remove unuse code
✅ tests: fix ci
✅ tests: fix ci
5.0.16","tests: fix ci  a3f83c5
tests: fix ci  f1c6320
clean: remove unuse code  9b43e13
UI: fix PageHeaderWrapper tablist style  7b1e29a
Update .umirc.js  2146395"
"Merge pull request from rvolosatovs/fix/ns-as-fcnt

Send full FCnt to AS
Merge pull request from rvolosatovs/feature/ns-uplink-buffer-config

Configurable application uplink queue size
doc: Update CHANGELOG
all: Bump to version 3.8.7","Release notes
Docker images
docker pull thethingsnetwork/lorawan-stack:3.8
docker pull thethingsnetwork/lorawan-stack:3.8.7"
"gs: Change type of temp field to float32
dev: Create admin API key for dev stack
as: Check if the AppSKey is available before access
dev: Write admin API Key to file
ns: Fix possible race condition in uplink matching
util: Keep context values during component context decoupling
ns: Fix matching type conditional
dev: Update CHANGELOG
gs: Decouple the lifetime of the context before unclaim
dev: Move NS fixes to Unreleased in CHANGELOG
console: Fix device creation conflict
as: Define package name as const
api: Improve documentation
is: Fix pagination in OAuth store
cli: Add missing pagination flags to OAuth commands
console,account: Improve sentry error ingestion
dev: Update docs in release template
dev: Add error utility tests
console: Prefill device id on dev_eui change
console,account: Fix blur event handling in field
console,account: Use arrow functions in field
dev: Extend device e2e tests
console,account: Add inputRef to input component
console: Select generated device id on focus in dr form
is: Fix event type triggered on login
is: Move account app observability back to oauth package
is: Publish logout event on oauth-initiated user logout
all: Add remote IP and UA to web request context
as: Ensure TLV encoding length does not overflow
as: Process application packages traffic inside a task
as: Process webhook traffic inside a task
cli: Improve documentation YAML
gs: Change error code for conflict on absolute time to AlreadyExists
dev: Update changelog
ci: Add workflow to triage new issues
dev: Update cypress dependency to 6.5.0
dev: Add device creation fixtures for e2e tests
dev: Extend device e2e tests
api,is: Add created_at and updated_at to APIKey protos
ns: Fix determining non-retryable errors and add annotations
dev: Revert changelog update
console: Add data formats documentation link
dev: Adjust e2e tests
dev: Add test retries for cypress in headless mode
ns: Fix application uplink queue message ACK
dev: Regenerate messages
util: Add RangeStreams and XAUTOCLAIM implementation
ns: Reimplement application uplink queue draining
cli: Retry application uplinks hanging for more than 1 minute
ns: Remove unused error
dev: Update CHANGELOG
pba: Add Telemetry
api: Add session information to AsNs communcation
ns: Emit session information on downlink queue operation errors
ns: Send FPort=0 uplinks to the Application Server
ns: Simplify queue error reporting
as: Extract session matching logic to a separate function
as: Match end device session on downlink queue invalidation
as: Match end device session on downlink nack
as: Add DevEUI and JoinEUI in simulated uplinks
as: Unit tests for SimulateUplink
as: Rebuild end device sessions on downlink queue operations failure
api: Allow FPort=0 uplinks
util: Handle empty radios in frequency plan
all: Move webmiddleware peer test to test package
data: Update external repositories
all: Bump to version 3.11.2","Added
Pagination flags for the users oauth authorizations list and users oauth access-tokens list CLI commands.
End device ID generation based on DevEUI in The LoRaWAN Device Repository creation form in the Console.
remote_ip and user_agent metadata on OAuth events.
created_at and updated_at fields to API Keys.
Telemetry for Packet Broker Agent.
Changed
temp field of the UDP stats message is now type float32 (pointer).
Fixed
Ocassional race condition in uplink matching with replicated Network Server instances.
Ocassional race condition when matching pending sessions.
Conflict error when registering an end device via the wizard in the Console.
Pagination in the List and ListTokens RPCs of the OAuthAuthorizationRegistry.
Event name on user login.
Application uplink queue handling in Network Server.
Application Server session desynchronization with the Network Server. The Application Server will now attempt to synchronize the end device session view on downlink queue operational errors. This fixes the f_cnt_too_low and unknown_session errors reported on downlink queue push and replace.
Panic while generating SX1301 config for frequency plans without radio configuration.
Release notes
Docker images
docker pull thethingsnetwork/lorawan-stack:3.11
docker pull thethingsnetwork/lorawan-stack:3.11.2
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.11
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.11.2"
"util: Extend user service

Add api-keys methods
console: Extend api definitions

Add user api-keys methods
util: Extend user service

Add rights method
console: Extend api definitions

Add user rights method
console: Add user api-keys redux primitives
console: Add user api key add view
console: Add user api key edit view
console: Add user api keys list view
console: Add user api keys management views to navigation
dev: Add user api-keys e2e tests
dev: Update changelog
api: Add purge RPCs
cli: Add purge cli commands
is: Add purge registry methods
is: Add store purge methods
dev: Add CHANGELOG
api: Add comments for documentation
console,oauth: Update branding assets
console,oauth: Update header
console,oauth: Update logo for new logo style
console,oauth: Fix profile dropdown spacing
oauth: Fix login view logo styling
console,oauth: Update brand color variables
console: Fix nested side navigation focus
as: Decouple uplink context before submission
console: Extend key-value-map component

allow using array indices as keys
console: Add device MAC settings page
console: Add supports_class_b to device general settings
console: Add supports_class_b to device wizard
console,oauth: Fix form section style
console: Add mac settings section
console: Add mac settings to network settings form
console,oauth: Adjust select prop-types
console: Add mac settings to network server form
util: Handle default enum values for mac settings
dev: Add base device creation e2e tests
console: Fix device class handling in device general settings
console,oauth: Add excludePaths prop to wizard form

Allow excluding helper entries from the validation schema
console: Fix device class handling in device wizard
console: Make nwk_key required in join settings form
console: Fix dev-addr-input for e2e tests
console: Fix join-eui-prefixes input
util: Fix device parts merge

Allow setting empty object entries to the result object
doc: Update changelog
console: Fix wizard form values reset
console: Improve navigation through steps in device wizard
console: Move bit_f_cnt to mac-settings section
console: Expand advanced settings in ns form on error
dev: Update locales
console: Fix basic-settings form device id validation
util: Format end device entity map
util: Add skip_payload_crypto to device-entity-map
as: Add TLV encoding field to package data
as: Decode DMS stream records
as: Improve DMS payload decoding
as: Add DMS TLV payload decoding
as: Decode TLV stream records
as: Check TLV payload size
as: Emit DMS location solved messages
as: Improve TLV encoding resilience
dev: Generate messages
as: Submit uplink timestamp to DMS
Revert ""console: Fix nested side navigation focus""

This reverts commit 648c38879d86a955e2394e11324df8d6ff5cdde8.
console: Update nested side navigation focus
as: Make DMS parser accept unknown types
as: Fix invalid downlink FPort
as: Add LoRaCloud DMS observability
console: Add LR1110 demo encoding to LoRaCloud form
console: Add application location preview
as: Limit LoRaCloud DMS maximum response size
ns: Fix retransmission handling
dev: Update CHANGELOG
as: Improve observability
gs: Fix RTT handling for LBS gateways
gs: Update lbs functions
all: Bump to version 3.10.4
util: Fix types package populators
util: Add test utilities
console: Add hover menu to sidebar in collapsed state
gs: Add emissions in scheduler to gc
dev: Update changelog
dev: Update APT before installing snapcraft
dev: Update CHANGELOG","Release notes
Added
Configure application activation settings from the CLI (see ttn-lw-cli application activation-settings commands).
User API keys management to the Console.
Purge RPC and cli command for entity purge (hard-delete) from the database.
More password validation rules in the user management form in the Console.
Support for class B end devices in the Console.
MAC settings configuration when creating and editing end devices in the Console.
Support for the LR1110 LTV stream protocol.
Changed
Branding (updated TTS Open Source logo, colors, etc).
Fixed
Simulated uplinks visibility in webhook messages.
Retransmission handling.
RTT recording for LBS gateways. The maximum round trip delay for RTT calculation is configurable via --gs.basic-station.max-valid-round-trip-delay.
Memory leak in GS scheduler.
Docker images
docker pull thethingsnetwork/lorawan-stack:3.10
docker pull thethingsnetwork/lorawan-stack:3.10.4
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.10
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.10.4"
"dev: Fix changelog for 3.10.2
all: Return non-nil Rights struct on Sort and Intersect
all: Propagate request ID to rights fetches
dev: Add ttn-lw-stack binary to Docker image
cli: Commands to configure application activation settings
all: Fix Basic Authentication
all: Bump to version 3.10.3","Added
Configure application activation settings from the CLI (see ttn-lw-cli application activation-settings commands).
Security
Fixed an issue with authentication on the /debug/pprof, /healthz and /metrics endpoints.
Release notes
Docker images
docker pull thethingsnetwork/lorawan-stack:3.10
docker pull thethingsnetwork/lorawan-stack:3.10.3
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.10
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.10.3"
"Sync spec test suite - 2022-06-21
Ignore PHPStan readOnlyByPhpDoc rule for FakeEnum::key
Fix PHPStan errors for invalid @var tag
Add FakeEnum.php in PHPStan analyse excludePaths
Sync spec test suite - 2022-06-24
Re-enable the Spec tests for server side rendered amp-audio
Use https instead of http for links
Cache only valid responses
Make tests more flexible
Add test that only valid responses get cached
Always throw an error if the response code is not within the 200s
CI: run tests on PHP 8.2
Avoid dynamic properties in the `Document` class
Avoid dynamic properties in `BaseTransformerConfiguration`
Do not use deprecated `utf8_decode()` function in tests
Support PHP 8.1 in `composer.json`
Stop marking 8.1 tests as experimental
Revert ""Avoid dynamic properties in the `Document` class""

This reverts commit 525e91853ce74d56cdd656ee08dd5494ed3ad200.
Avoid dynamic properties in `Document`
Ignore PHPUnit cache file
Fix more getters
More fixes
More fixes
Update Element class
Undo change to composer.json
Fix incorrect `tagName` access in `MinifyHtml`
Remove now unneeded `isset()` check

Property `DOMElement::$tagName` is not nullable.
Use private members instead of properties array
Use delta for float comparison in testItCanGetNumericDimensions
Avoid unnecessary use of setter

Co-authored-by: Jonny Harris <spacedmonkey@users.noreply.github.com>
Revert ""Use private members instead of properties array""

This reverts commit 3d6cf8967ee09986837c1f5da4bc5ca9355ab96d.
Use properties array instead of using setter
Prevent invoking getter recursively for links property
Add warnings and update addInlineStyleByteCount
Set CURLOPT_FAILONERROR to get the correct curl error code

Otherwise Client Errors (>= 400) return curl error code 0. In case of 404 errors (CURLE_HTTP_NOT_FOUND) it would return 0, instead of 22.
See https://github.com/curl/curl/blob/5ccddf64398c1186deb5769dac086d738e150e09/docs/libcurl/opts/CURLOPT_FAILONERROR.3#L35-L37
Remove CURLE_HTTP_NOT_FOUND from retryable error codes
Add guard to check if passed url is non-empty-string
Add test cases get method
Remove curl CURLOPT_HEADER option as we need to pass TRUE if we want to include them
Update int with bool as CURLOPT_SSL_VERIFYPEER need to be passed as false if not required
Update int with bool
Update ternary with a bool property

Co-authored-by: Weston Ruter <westonruter@google.com>
Explicitly disable CURLOPT_HEADER
Update dealerdirect/phpcodesniffer-composer-installer requirement || ^1.0.0

Updates the requirements on [dealerdirect/phpcodesniffer-composer-installer](https://github.com/PHPCSStandards/composer-installer) to permit the latest version.
- [Release notes](https://github.com/PHPCSStandards/composer-installer/releases)
- [Changelog](https://github.com/PHPCSStandards/composer-installer/blob/main/.github_changelog_generator)
- [Commits](https://github.com/PHPCSStandards/composer-installer/compare/v0.7.1...v1.0.0)

---
updated-dependencies:
- dependency-name: dealerdirect/phpcodesniffer-composer-installer
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>","Changes
Re-enable the Spec tests for server side rendered amp-audio by @ediamin in
Cache only valid responses by @dritter in
PHP 8.2 Improvements by @swissspidy in
Bugfixes
Fix PHPStan analysis errors by @ediamin in
Set CURLOPT_FAILONERROR to get the correct curl error code by @dritter in
Fix PHPStan errors by @thelovekesh in
Dependencies
Sync local fallback files by @github-actions in
Update dealerdirect/phpcodesniffer-composer-installer requirement from ^0.7.1 to ^0.7.1 || ^1.0.0 by @dependabot in
Meta
Sync spec test suite by @github-actions in
New Contributors
@swissspidy made their first contribution in
@thelovekesh made their first contribution in
Full Changelog: 0.11.2...0.11.3"
"pomerium-cli: add service account docs ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
docs: add release announcement post ()

* docs: add release announcement post

- add mailchimp newsletter form
- fix wording
- fix mobile
- fix changelog links
- fix release drafter to use our format (GH-$ISSUE)

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
authorize: fix authorization check for allowed_domains to only match current route ()
v0.7.5 ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>","Fixed
authorize: fix authorization check for allowed_domains to only match current route @calebdoxsey [GH-624]"
"config: generate cookie secret if not set in all-in-one mode ()

* config: generate cookie secret if not set in all-in-one mode

* fix tests

* config: add warning about cookie_secret

* breakup lines
storage: ignore removed fields when deserializing the data ()
jwt: require logged in user to return .pomerium/jwt ()

jwt: require logged in user to return .pomerium/jwt ()

* jwt: require logged in user to return .pomerium/jwt

* fix test

* update test

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
oidc: fix token revocation ()

oidc: fix token revocation ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
autocert: use atomic pointer to allow nil ()

autocert: use atomic pointer to allow nil ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
identity: fix expired session deletion ()

identity: fix expired session deletion ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
postgres: return unknown records instead of skipping them () ()
identity: fix nil reference error when there is no authenticator ()

identity: fix nil reference error when there is no authenticator ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
Merge pull request from GHSA-pvrc-wvj2-f59p

* authorize: normalize URL query params

* config: enable envoy normalize_path option

* authorize: use route id from envoy for policy evaluation","Security
This release fixes a bug whereby specially crafted requests could result in incorrect authorization decisions made by Pomerium. CVE-2023-33189.
What's Changed
storage: ignore removed fields when deserializing the data by @backport-actions-token in
jwt: require logged in user to return .pomerium/jwt by @backport-actions-token in
oidc: fix token revocation by @backport-actions-token in
autocert: use atomic pointer to allow nil by @backport-actions-token in
identity: fix expired session deletion by @backport-actions-token in
postgres: return unknown records instead of skipping them () by @calebdoxsey in
identity: fix nil reference error when there is no authenticator by @backport-actions-token in
Full Changelog: v0.20.0...v0.20.1"
"docs: update changelog for v0.13.0 () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: add v0.13 to docs site menu () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
ci: deploy releases to test environment () ()
docs: add breaking sa changes in v0.13 () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: fix query param name () ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
google: fix default provider URL () ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
config: fix redirect routes from protobuf () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>","Full Changelog
Fixed
config: fix redirect routes from protobuf (@github-actions[bot])
google: fix default provider URL (@github-actions[bot])
Documentation
docs: fix query param name (@github-actions[bot])
docs: add breaking sa changes in v0.13 (@github-actions[bot])
docs: add v0.13 to docs site menu (@github-actions[bot])
Changed
ci: deploy releases to test environment () (@travisgroth)"
"v9.4.0
Further tweaks to get all layers building again
Prepare changelog for v9.4.1
v9.4.1","Full Changelog
Further script tweaks to get all layers building again"
"ci: build version branch images ()

ci: build version branch images ()

build version branch images

Co-authored-by: Denis Mishin <dmishin@pomerium.com>
autocert: fix certmagic cache logging ()

autocert: fix certmagic cache logging ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
Merge pull request from GHSA-pvrc-wvj2-f59p

* authorize: use route id from envoy for policy evaluation

* authorize: normalize URL query params

* config: enable envoy normalize_path option

---------

Co-authored-by: Kenneth Jenkins <51246568+kenjenkins@users.noreply.github.com>
authorize: fix IsInternal check ()

* authorize: fix IsInternal check

* fix lint","Security
This release fixes a bug whereby specially crafted requests could result in incorrect authorization decisions made by Pomerium. CVE-2023-33189.
What's Changed
autocert: fix certmagic cache logging by @backport-actions-token in
authorize: fix IsInternal check by @calebdoxsey in
Full Changelog: v0.21.3...v0.21.4"
"v0.14.0
Handle crypto db version upgrades
Prepare changelog for v0.14.1
v0.14.1","Full Changelog
Warning when crypto DB is too new to use."
"v0.7.9
unbreak riot-web release process
indexeddb-crypto-store: fix db deletion

Add an `onversionchange` listener to close the db, so that we can delete it
without blocking.
switch to using new media constraints to allow device selection to work
Prepare changelog for v0.7.10
v0.7.10","Full Changelog
BREAKING CHANGE: The SDK no longer requires olm - instead it expects
libolm to be provided as an Olm global. This will only affect
applications which use end-to-end encryption. See the
README for details.
indexeddb-crypto-store: fix db deletion
Load Olm from the global rather than requiring it."
"authorize: fix nil reference () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
proxy: fix bug that would allow failed refresh session to continue ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>","Changelog
Security
This release includes a fix for a bug that, under certain circumstances, could allow a user with a valid but expired session to resend a request to an upstream application. The repeated request would not return a response, but could reach the upstream application. Thank you to @selaux for reporting this issue!  [GH-762]"
"Autorelease 0.174.5
[Timelock Partitioning] Part 44c: Restore batching behaviour. ()

* Restore batching for single-leader-for-all leader election services.

* Use the metrics from the context.

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.174.6","Type
Description
Link
Fix
Restore batching behaviour across all clients that use the same LeaderElectionService."
"Autorelease 0.158.3
Upgrade jackson to fix flaking MNPTSITest ()

* Upgrade jackson to fix flakes due to deserialization race condition
Fix Ec2HostLocationSupplier using a different format to Cassandra ()

* Fix Ec2HostLocationSupplier using a different format to Cassandra

* Add generated changelog entries

* Fix if statement syntax in copied code

* Add generated changelog entries

* Add generated changelog entries

* Change format of Ec2HostLocation
Autorelease 0.158.4","Type
Description
Link
Improvement
Upgraded com.fasterxml.jackson from 2.9.7 to 2.9.9
Fix
Modify Ec2HostLocationSupplier to emulate Cassandra's Ec2Snitch logic. Previously, Ec2HostLocationSupplier may have produced results inconsistent with Cassandra's Ec2Snitch, meaning that our feature to send more traffic to local nodes wouldn't work properly"
"added expiring cassandra kvs
expose kvs test internals
pluralized stream stores
added hex deserialize helper method
allow underscores in table names","Apply updates and bug fixes from internal development work (that was parallel to open sourcing effort)
Allow underscores in table names
Added pluralized methods for batching interactions with stream stores (e.g. storeStreams())"
"Autorelease 0.177.7
Use Apache-licensed jcip annotations to appease baseline-class-… ()
RocksDB configuration ()

* RocksDB configuration.

* Added tests for deserialization.

* Sanitization tests.

* Test for creation of database.

* Add missing cache nuke metric.

* Fixed style.

* Remove sanitization on normal AtlasDB path.

* Configurable factories.

* Helper construction method.

* Remove wrong imports.

* Added sanitization.

* Added more test

* Fixed paths.

* Fixed location testing.

* Addressed the comments on PR.

* Added static import.

* Prevent usage of persistent storage.

* Fixed tests.

* Absolute path.
Actually disable concurrency limiting for connections to TimeLock. ()
Autorelease 0.177.8","Type
Description
Link
Improvement
Actually disable concurrency limiting for connections to Timelock."
"Fix some minor issues.
Update languages.
Add a localdb to store localized information, such as uid, etc.
Improve the dark mode switching method.
add french translations
Update acknowledgements.ts

Thanks to Aktilor for adding French translations.
Add prettier formatter; update dependencies.
Get the system language at startup.
Use electron-builder@22.10.5 .
Update debounce functions.
Build.","[Improved] If the language is not set in preferences, try to use the system language at startup
[Improved] Added French translation, thanks to Aktilor
[Improved] Some UI details are improved
[Improved] Update dependencies; update Electron to v13.2.1
[Improved]
[Improved]  Aktilor
[Improved]
[Improved]  Electron  v13.2.1"
"Autorelease 0.151.3
[PDS-94229] Thread Leak in LockServiceImpl ()

* Lock reap runner

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries
Checkstyle ()
[Timelock Partitioning] Part 6: Batch Pingable Leader API + Res… ()

* [no release notes] Batching pingable leader api and impl - server

* Comments.

* Fix up java doc.
[Timelock Partitioning] Part 8: Batching Paxos Learner ()

* autobatching learner

* [no release notes] autobatching learner tests

* Useful refactors

* Useful refactors part 2

* Everything in terms of PaxosLearnerNetworkClient

* Fix bad test.

* Address comments.

* Swap the exceptions, lol.
[Timelock Partitioning] Part 5: Batching Paxos Acceptor ()

* Autobatching acceptor.

* [no release notes] autobatching acceptor tests

* Fix up compile errors

* Reworked to use PaxosAcceptorNetworkClient

* Fix compile.

* Fix bad test.

* Comments.
[Timelock Partitioning] Part 12: Unify autobatcher exception handling + Close autobatchers ()

* AutobatcherFactories are now closeables.

* Unify exception behaviour for the autobatchers.

* Comments.
Autorelease 0.151.4","Type
Description
Link
Fix
TimeLock now interrupts lock reaper threads in the legacy lock service when losing leadership. Previously, it did not, meaning that if a node repeatedly gained and lost leadership, lock reaper threads would still execute their polling for expired tokens or grants, possibly manifesting in performance issues if this continues in the absence of bounces."
"Autorelease 0.162.3
Excavator: Upgrades gradle wrapper to the latest version ()
Return and use `ManagedTimestampService` everywhere. ()

* Use ManagedTimestampService everywhere.

* TimestampService -> ManageTimestampService

* Get rid of check.

* Fix dagger.

* Add generated changelog entries

* Less fancy dagger lol
Autorelease 0.162.4","Type
Description
Link
Fix
Ensure CLIs get a ManagedTimestampService so they have access to a TimestampManagementService."
"Autorelease 0.153.0
Cassandra driver and tracing lib version bump ()

* Bumped versions

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Updated changelog

* Switched to static method with no return value
Autorelease 0.153.1","Type
Description
Link
Improvement
Updated versions of Cassandra driver and tracing lib."
"Autorelease 0.176.2
Remove ThrowingCqlClientImpl ()

* Remove throwing cql client impl.

* Add generated changelog entries

* Falling back.

* Update comment.

* Fixed comments.
Autorelease 0.176.3","Type
Description
Link
Improvement
Remove ThrowingCqlClientImpl, CKVS getAsync delegates to get instead of throwing an exception when using default or wrong CQL capable configuration."
"Persistent storage refactoring ()

* Storage refactor.

* Style fixes.

* Updated docs.

* Wrong copy fixed.

* Some refactorings.

* Renamed.

* Fix tests.

* Change access modifier.

* Update comments.

* Remove ?

* Simple fixes.

* Refactored to use ByteString.
Improve TimeLock Client Recovery From Network Partitions ()

* Avoid Nested Retries

* Math

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.181.1","Type
Description
Link
Improvement
TimeLock now recovers more quickly when a node is partitioned off from the network. Previously, if a leader node was partitioned off, talking to it as a client would take about 50 seconds before that leader realised it was no longer the leader and redirect you (via 503 or 308). This should now be about 7 seconds."
"[Timelock Partitioning] Test Switching Between SL and Batched SL ()

* Add tests for migrating between single leader and batched single leader

* Checkstyle
[PDS-111849] Rolling in the Deep, Part 3: Fix Metrics Plughole ()

* Fix metrics plughole

* Add generated changelog entries

* Separate different remotes for a given use case

* of course

* checkstyle

* unnecessary
Autorelease 0.203.1","Type
Description
Link
Fix
Executors used internally by TimeLock for its Paxos protocol now publish execution metrics as intended. Previously, they failed to do so."
"Enable dialogue clients by default ()

* Enable dialogue by default

* Add generated changelog entries
I am the changelog-bot ()
[Dialogue] Part 7: Conjure for Selected Legacy Lock Endpoints ()

* conjurize lock

* Gradle

* New resource

* Git out of here

* test

* Add generated changelog entries

* JAXRS is tough

* CR feedback

* import ordering
Lock watches wiring and exposing API for PreCommitCondition. ()

* Full impl, just some small things remaining.

* Save.

* Cleanup

* Reregister periodically.

* Aaaand make into abstract class, why not.

* Cleanup

* CLeanup

* Fix test

* Cleanup

* Remove the initialize method for now.
I can do it myself without awkwardness here.

* Tests for Commit batching.

* Checkstyle

* Closing multiple things.

* Fixup.

* Fixup

* Remove collection.

* DOcs and product dependency.

* Revert product dependency bump.

* Align versions.

* Remove declaration from lock-api.
Autorelease 0.226.1","Type
Description
Link
Improvement
TimeLock exposes new Conjure-Undertow versions of refreshLockRefreshTokens and unlockSimple. This may be useful for Dialogue users."
"Autorelease 0.188.1
Start migrating AtlasDB to full conjure ()

* Start migrating AtlasDB to full conjure

At present, we see some performance issues with timelock internally.
These will take some debugging, but one component is that our
recommendation for high-performance servers internally is not to use
Jersey (especially not jersey async, with the extra gubbins we have) but
is to use conjure-undertow.

We also view not using conjure defined APIs as AtlasDB tech debt.

Migrating Atlas in one go to conjure undertow is difficult if not
impossible. But there are two endpoints which represent most calls -
getLeaderTime and startTransactions.

This PR:

1. Adds a conjure API project (timelock-api) and defines a subset of the
AtlasDB timelock API in it.
2. Exposes this via the timelock service, with an Undertow and Jersey
implementation.
3. Uses the client for these new endpoints on the client side, provided
a boolean flag is set.

Right now, tests are a little fiddly because I'm coding on my home
laptop and they don't work at all there.

Places which are still potentially a little off:
1. Error handling logic in the Conjure undertow client is just
_different_ to Jersey's. But I think I caught all the special error
handlers.
2. We can't actually use this codepath until we can expose an internal
timelock dependency. So I've got a boolean flag that enables it
conditionally so we can test the timelock server implementation.
3. I think that the client might fall back to feign in some cases? And
this won't work if it calls the non-leader. Not sure how we'd want to
change that one.

* Delete redundant classes

* Imports

* Imorts

* Fix bug in jersey code

* Fix compile

* Mock correctly

* Add generated changelog entries

* Disable license checks for conjure generated code

* Make class public

* Don't let the TimelockResource own almost all strings.

As a consequence, 'tl' is no longer a valid name for an Atlas client.
But it's not a name at present.

* Move variable to end of line

* Remove repositories configuration from shared.gradle

* PR comments

* factor out timelocknamespaces

* Dollar sign did not help

* Revert bogus change

* test

* Fixes
Autorelease 0.188.2","Type
Description
Link
Improvement
Start moving timelock to Conjure endpoints."
"Autorelease 0.190.1
Make KeyValueServiceRuntimeConfig jackson discoverable ()

* Make KeyValueServiceRuntimeConfig jackson discoverable

* Address comments

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* Remove invalid test modif
Autorelease 0.190.2","Type
Description
Link
Fix
KeyValueServiceRuntimeConfig added to the list of Jackson discoverable classes for successful serialization/deserialization of/to AtlasDbRuntimeConfig. Previously, key value service runtime configuration would not have been deserializable, meaning that attempting to define runtime configuration in YML would cause an exception to be thrown."
"Autorelease 0.210.2
stalebot closes PRs after 30+7 days ()
Bump sls-cassandra max dependency to 6.x ()

* Bump sls-cassandra max dependency to 6.0

* Add generated changelog entries
Autorelease 0.210.3","Type
Description
Link
Improvement
Bump sls-cassandra max dependency to 6.x."
"[PaxosStateLog] Splitting log ()

* Splitting log

* Noop truncate and remember least log entry

* Improve logic

* Checkstyle

* Make discussed changes and add unit tests

* Update leader-election-impl/src/main/java/com/palantir/paxos/SplittingPaxosStateLog.java

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>
[PaxosStateLog] Migrate from Cutoff + Persist Cutoff ()

* Actually commit

* Add test for validation -> migrated

* Add retrying for migration

* Address CR and always migrate at least one entry if possible

* Address nit and re-add 5 second timeout
TransactionManager#startTransactions API. ()

* Tighter API for starting transactions.

* Cleanup

* whitespace

* Import order.

* Fixup

* Fixup

* Add generated changelog entries

* Rename.

* Fixup
[PaxosStateLog] Use Singlethreaded access to Sqlite ()

* Reintroduce singlethreaded approach

* Revert accidental test change

* Fix things up

* Checkstyle

* Address CR

* Attempt to fix flaky test
Autorelease 0.224.1","Type
Description
Link
Improvement
Add TransactionManager#startTransactions API that replaces previous #setupRunTaskBatchWithConditionThrowOnConflict and #finishRunTaskWithLockThrowOnConflict."
"Autorelease 0.240.4
Don't throw on duplicate metric names ()

* Don't throw on duplicate metric names

* Add generated changelog entries

* Logging
Autorelease 0.240.5","Type
Description
Link
Improvement
DisjointUnionTaggedMetricSet no longer throws if metric names conflict."
"[DB TimeLock] 3C.2 - Timestamp Storage and Series Extraction Preliminary Wiring ()

* 3C.2 - TimestampStorage and Series Extraction Preliminary Wiring

* baseline

* Fix small errors

* closeable
Fix CR nits from automerged PR ()
Double check that the SQLite migration is consistent with current state ()

* Double check that the SQLite migration is consistent with current state

* Remove unused variable

* Fix naughty integration test

* Add generated changelog entries

* Address comments
[DB TimeLock] 3C.3 - getAllNamespaces() / MultiSequenceTimestampSeriesProvider ()

* 3C.3 - canGetAllNamespaces works

* meep

* Tests

* Parallel tests

* changelog
Autorelease 0.253.1","Type
Description
Link
Fix
Timelock now verifies consistency of the file based paxos state log with SQLite and fails to start if the check fails. It was previously possible to migrate to SQLite, force a downgrade and use file based log, then upgrade again and skip running the migration again without detecting the inconsistent state.
Improvement
DB TimeLock now supports the getAllNamespaces() endpoint - previously it would throw."
"Merge some per-txn-manager thread pools into shared thread pools ()

* Merge some per-txn-manager thread pools into shared thread pools

As of now, the thread pools I merge are responsible for around 480
threads on production stacks I've looked at. Each of them is doing some
menial task that probably doesn't need to be done in parallel, but needs
scheduling.

Shared scheduled thread pools are hard to get right, so instead we just
share between tasks with the same type. We therefore take 8 thread pools
(480 threads) and replace with 8 threads.

Given the durations of tasks, this shouldn't affect top end performance
a whole lot.

* Fixes

* Update lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java

* Add generated changelog entries

Co-authored-by: Carter Kozak <ckozak@ckozak.net>
Co-authored-by: Grgur Petric Maretic <grgapm@gmail.com>
Autorelease 0.242.1","Type
Description
Link
Improvement
Merge some per-txn-manager scheduled thread pools into shared static thread pools"
"Autorelease 0.240.7
[PD$-110002] Part 14: TargetedSweepOutcomes should be protected by the TargetedSweepMetricsPublicationFilter ()

* Guard TS outcomes by the filter

* Add generated changelog entries

* SweepOutcomeMetricsTest

* Cleanup. Sigh
Autorelease 0.240.8","Type
Description
Link
Improvement
Targeted sweep no longer publishes metrics for a given sweep strategy if it is inactive (defined as fewer than 1000 entries written to the queue, 1000 entries read, or 4 hours behind)."
"Autorelease 0.254.1
make oracle protocol case insensitive ()

* make oracle protocol case insensitive

Makes the protocol (tcp/tcps) case insensitive in oracle configs.
Previously oracle connection configs required the protocol to be
upper-case.

* Add generated changelog entries

* simplify changelog

* add test case for ConnectionProtocol
Autorelease 0.254.2","Type
Description
Link
Improvement
The protocol (TCP/TCPS) is now case insensitive in oracle configs."
"Autorelease 0.253.1
Wire invalidator 2 ()

* WIP

* WIP

* Test - WIP

* Tests

* Clean

* Add generated changelog entries

* Be private

* Address comments

* Test modif
Autorelease 0.253.2","Type
Description
Link
Feature
We now have automated migration from DbKVS backed embedded services to a TimeLock server. Earlier, this option was only available for Cassandra backed services."
"Autorelease 0.252.1
[DB TimeLock] 3B.1 - DB TimeLock Bugfixes and Preparation for MNPTLSIT ()

* Some progress, still stuck on dbkvs creation path bug

* what is this

* more things

* baseline

* nit

* Add generated changelog entries

* CR

* fix imports

* Add generated changelog entries

* fix

* unused imports

* Update timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/DbKvsRule.java

Co-authored-by: gmaretic <gmaretic@palantir.com>

* No default for TimestampCreators

Co-authored-by: gmaretic <gmaretic@palantir.com>
Autorelease 0.252.2","Type
Description
Link
Fix
Fixed bugs in DB TimeLock. Specifically:  - we used to create one instance of the KVS (and hence one instance of the Hikari connection pool) per client; now we only create one for the entire life of TimeLock.  - we used to not close the KVS when timelock stops; we now do.  - we would silently fail and give the user fewer namespaces if they decided to call the getAllNamespaces() endpoint. We now throw, which is a safer solution."
"Revert ""Fix build""

This reverts commit bcce23c134ffdb7d7ff01f2da4c187b8d69bfab2.
Fix build ()
[LW] Filter out locks using the serverToken, not the fake token in LeasedLockToken ()

* actually filter out the right token

* Add generated changelog entries

* force circle

* revert change

* remove bad test
Autorelease 0.266.1","Type
Description
Link
Fix
Correctly filter out commit locks from a commit update by using the server token from a leased lock token."
"Autorelease 0.241.2
[LW] Fixes, 1: DoNotDoNotDelegate ()

* pls delegate

* Add generated changelog entries

* remove import
[LW] Fixes, 2: Stop time travelling ()

* stop time travelling

* Add generated changelog entries

* make test a bit tighter

* fix nits

* I need to stop adding imports
Autorelease 0.241.3","Type
Description
Link
Fix
Remove @DoNotDelegate annotation from lockWatchManager method on TransactionManager.
Fix
The lock watch event cache no longer fails if the client is on the same version as the cache."
"Excavator: Upgrade dependencies ()

* Excavator: Upgrade dependencies

* Revert me

* Up conjure.java version.

* versions.lock

* Revert ""Revert me""

This reverts commit 5a40e72917ebe9725023f988b5a82fb2f4abbd45.

* Fixup

* Add logging of responses.

* Fixup

* Do not memoize clients.

* Clear clients after server is killed.

* Revert

* Try increasing the graceful shutdown period.

* Revert ""Try increasing the graceful shutdown period.""

This reverts commit 68c078892e798a4731c4bf28480799f3f2c0d2db.

* Revert ""Revert""

This reverts commit d34a38e8e5d66e0472df3ea283d38c5ffeeb5b63.

* Revert unnecessary changes.

* Add dialogue issue.

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
Co-authored-by: Sudiksha Nanda <snanda@palantir.com>
Co-authored-by: jakubk <jakubk@palantir.com>
Excavator: Prefer AssertJ ()

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
[PDS-156719] | LeaderConfig bug fix ()

* LeaderConfig bug fix

* Modif leaderConfig

* Bug fix

* Test modif

* Fix directory path

* Add generated changelog entries
Autorelease 0.293.1","Type
Description
Link
Fix
Allows overriding of LeaderConfig#learnerLogDir and LeaderConfig#acceptorLogDir while setting up external TL service."
"Autorelease 0.311.1
[PDS-169034] Background Sweep configuration ()
Autorelease 0.311.2","Type
Description
Link
Improvement
Users who are confident they do not need Background Sweep (e.g. because they are running Targeted Sweep stably) may turn it off in config. This saves on thread scheduling overheads at the expense of requiring a rolling bounce if it is desired that Background Sweep is turned on again."
"releaser: Add release notes to /docs for release of 0.49.1

[ci skip]
common/collections: Fix type checking in Append

The fix introduced in Hugo `0.49.1` had an unintended side-effect in the `Append` func used in both `append` and `.Scratch.Add`.

This commit fixes that by loosen/fixing the type checking so concrete types can be appended to interface slices.

Fixes
releaser: Add release notes draft for 0.49.2

Rename to *-ready.md to continue. [ci skip]
Release 0.49.2
releaser: Bump versions for release of 0.49.2

[ci skip]
releaser: Add release notes to /docs for release of 0.49.2

[ci skip]","This is fixes one regression from Hugo 0.42.1:
Fix type checking in Append 2159d77f @bep"
"Autorelease 0.321.1
[PDS-146088/174322] Actually take details of stacktraces ()
Autorelease 0.321.2","Type
Description
Link
Fix
Cassandra client pool diagnostic thread dumps now include stack traces."
"releaser: Add release notes to /docs for release of 0.58.2

[ci skip]
releaser: Prepare repository for 0.59.0-DEV

[ci skip]
deploy: Do not compile in Azure on Solaris

See
Fix cache key transformed resources

Fixes
Add some more resource transform tests

See
releaser: Add release notes for 0.58.3
[ci skip]
releaser: Bump versions for release of 0.58.3

[ci skip]
releaser: Add release notes to /docs for release of 0.58.3

[ci skip]","This is a bug-fix release with a couple of important fixes.
Add some more resource transform tests c262a95a @bep
Fix cache key transformed resources 6dec671f @bep
deploy: Do not compile in Azure on Solaris c0d7188e @fazalmajid"
"Fix internal errors ()
Use HttpURLConnection for hitting host metadata endpoint ()
Autorelease 0.334.1","Type
Description
Link
Improvement
Use HttpURLConnection for hitting host metadata endpoint, removing implicit dependency on OkHttp."
"releaser: Add release notes to /docs for release of 0.57.0

[ci skip]
releaser: Prepare repository for 0.58.0-DEV

[ci skip]
commands: Make sure the hugo field is always initialized before it's used

Wrap the field to make it accessible after initialization.

Fixes
hugolib: Fix taxonomies vs expired

In Hugo 0.57 we needed to delay the page metadata initialization until we had built the page graph.

This introduced a regression in that we now created taxonomy entries for expired pages.

This fixes that by moving the ""should not build"" filter before we assemble the taxonomies.

Fixes
hugolib: Add some outputs tests

See
hugolib: Recover and log panics in content init

See
modules: Disable ""auto tidy"" for now

See
Fix live reload mount logic with sub paths

Fixes
Fix mainSections logic

Fixes
hugolib: Fix draft etc. handling of _index.md pages

We will need to revisit this with a proper spec, but this commit makes sure that draft/expiryDate etc. set in front matter on _index.md content files that should disable the page will:

* Not crash
* Make the rendered page not render any `.Content`.

Fixes
Fixes
releaser: Add release notes for 0.57.1
[ci skip]
releaser: Bump versions for release of 0.57.1

[ci skip]
releaser: Add release notes to /docs for release of 0.57.1

[ci skip]","This is a bug-fix release with a couple of important fixes.
hugolib: Fix draft etc. handling of _index.md pages 6ccf50ea @bep
Fix mainSections logic 67524c99 @bep
Fix live reload mount logic with sub paths 952a3194 @bep
modules: Disable ""auto tidy"" for now 321418f2 @bep
hugolib: Recover and log panics in content init 7f3aab5a @bep
hugolib: Add some outputs tests 028b9926 @bep
hugolib: Fix taxonomies vs expired 9475f61a @bep
commands: Make sure the hugo field is always initialized before it's used ea9261e8 @vazrupe"
"Autorelease 0.332.1
Transaction onSuccess(Runnable) / Callback Registration ()

* new API

* some tests

* this one is needed too

* transaction

* multicommit

* Add generated changelog entries
Autorelease 0.332.2","Type
Description
Link
Improvement
Transaction now supports an onSuccess(Runnable) method, that can invoke a callback when a transaction is successful. Please read the javadocs of this method very carefully for more details of the semantics if you wish to use this method."
"Autorelease 0.338.1
[LW] Throw when exceeding maximum cache store size ()
Autorelease 0.338.2","Type
Description
Link
Improvement
Throw if the internal cache store exceeds 100k caches stored."
"releaser: Add release notes to /docs for release of 0.65.0

[ci skip]
hugolib: Fix deletion of orphaned sections

Avoid deleting inside the recursive walk.

Fixes
hugolib: Fix 2 Paginator.Pages taxonomy regressions

Fixes
Fixes
releaser: Add release notes for 0.65.1
[ci skip]
releaser: Bump versions for release of 0.65.1

[ci skip]
releaser: Add release notes to /docs for release of 0.65.1

[ci skip]","This is a bug-fix release with a couple of important fixes.
hugolib: Fix 2 Paginator.Pages taxonomy regressions 7ef5a4c8 @bep
hugolib: Fix deletion of orphaned sections a70bbd06 @bep"
"releaser: Bump versions for release of 0.121.1

[ci skip]
releaser: Prepare repository for 0.122.0-DEV

[ci skip]
all: Remove unused code

Using x/tools/cmd/deadcode
resources/images: Create AutoOrient image filter

Closes
Simplify baseline benchmark
Adjust site benchmark
tpl/math: Add math.Rand template function

Closes
build(deps): bump golang.org/x/crypto from 0.16.0 to 0.17.0

Bumps [golang.org/x/crypto](https://github.com/golang/crypto) from 0.16.0 to 0.17.0.
- [Commits](https://github.com/golang/crypto/compare/v0.16.0...v0.17.0)

---
updated-dependencies:
- dependency-name: golang.org/x/crypto
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
releaser: Bump versions for release of 0.121.2

[ci skip]","The main motivation behind this release is a security fix in the upstream golang.org/x/crypto library. We don't see how that CVE could be exploited via Hugo, but we do appreciate that many want to have a clean security report.
There's also some new features in this release:
AutoOrient image filter
math.Rand
What's Changed
build(deps): bump golang.org/x/crypto from 0.16.0 to 0.17.0 1ccd314 @dependabot[bot]
tpl/math: Add math.Rand template function e40b9fb @jmooring
resources/images: Create AutoOrient image filter 648d00c @jmooring
all: Remove unused code 8adba64 @bep"
"releaser: Bump versions for release of 0.123.7

[ci skip]
releaser: Prepare repository for 0.124.0-DEV

[ci skip]
tpl/tplimpl: Honor markdown attributes in embedded image render hook

Fixes
Fix taxonomy kind template lookup issue

Fixes
Fix section page resource not published if resource filename partially matches content file name

Fixes
Fix global resource isn't published when using an uncommon code construct

Fixes
Fix resource name in resources.ByType

Fixes
Don't auto-create empty sections for nested taxonomies

Fixes
resources/images: Retain newlines with text overlays

Closes
docs: Fix hyphens and grammar in synopsis of command 'hugo server'
Add hugo.IsMultiHost
markup/goldmark: TOC: render strikethrough, emojis

Configure the TOC (TableOfContents, toc.go) goldmark renderer to always
enable the Strikethrough and Emoji extensions. This allows handling
ast.KindStrikethrough and ast.KindEmoji AST nodes when rendering the TOC.

Fixes
Fixes
Fixes
releaser: Bump versions for release of 0.123.8

[ci skip]","docs: Fix hyphens and grammar in synopsis of command 'hugo server' ada3fce @deining
Fix resource name in resources.ByType a4b1747 @bep
Fix global resource isn't published when using an uncommon code construct 4d5e173 @bep
Fix section page resource not published if resource filename partially matches content file name 4271b6b @bep
Fix taxonomy kind template lookup issue 0567a3e @bep
markup/goldmark: TOC: render strikethrough, emojis 134e7d1 @lyind
Add hugo.IsMultiHost 1f48b71 @razonyang
resources/images: Retain newlines with text overlays 05e23bd @jmooring
Don't auto-create empty sections for nested taxonomies 7afac3f @bep
tpl/tplimpl: Honor markdown attributes in embedded image render hook 632ad74 @jmooring"
"releaser: Bump versions for release of 0.92.0

[ci skip]
releaser: Prepare repository for 0.93.0-DEV

[ci skip]
github: Add lock-threads step
github: Clean up the issue templates a little
Fix typo in warning message
Fixing typos ()
build(deps): bump github.com/spf13/viper from 1.8.1 to 1.10.1

Bumps [github.com/spf13/viper](https://github.com/spf13/viper) from 1.8.1 to 1.10.1.
- [Release notes](https://github.com/spf13/viper/releases)
- [Commits](https://github.com/spf13/viper/compare/v1.8.1...v1.10.1)

---
updated-dependencies:
- dependency-name: github.com/spf13/viper
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Do not render hl_style as an HTML attribute

Fixes
helpers: Remove unused code
common/paths: Remove unused code
common: Remove unused code
tpl/collections: Fix apply with namespaced template funcs

We changed the signature to `func(...interface{}) (interface{}, error)` some time ago, but sadly we had no test for this for `apply`. Now we do.

Fixes
Fix duplicate mount sources

Fixes
general: Fix issue causing log threads to hang indefinitely when print() panics

The function printIfNotPrinted() defined for DistinctLogger unlocked the mutex within
the logger only after the print() function ran. If print panics, the mutex would stay
locked and future attempts to read or write from the logger mutex would cause the goroutine
to hang indefinitely.

Deferred the unlocking of the mutex to prevent this. Also, put l.m[key] before the print()
call since this will prevent another bug where the same warning potentially gets logged
multiple times if the print() call panics.

Fixes
Fix .RenderString issue in .Translations

Fixes
Make the RenderString content provider fix more general

Updates
releaser: Add release notes for 0.92.1
[ci skip]
releaser: Bump versions for release of 0.92.1

[ci skip]","This is a bug-fix release with a couple of important fixes.
Make the RenderString content provider fix more general f22c4ab @bep
Fix .RenderString issue in .Translations 85d31f7 @ptgott
general: Fix issue causing log threads to hang indefinitely when print() panics 2205517 @Ephex2
Fix duplicate mount sources 7a080b6 @bep
tpl/collections: Fix apply with namespaced template funcs 2655739 @bep
common: Remove unused code 348d300 @bep
common/paths: Remove unused code 6f07bdb @bep
helpers: Remove unused code 55a9bc1 @bep
Do not render hl_style as an HTML attribute 20a7ce7 @jmooring
build(deps): bump github.com/spf13/viper from 1.8.1 to 1.10.1 8cd4492 @dependabot[bot]
Fixing typos () 9d8f318 @deining
Fix typo in warning message fcbbbef @deining
github: Clean up the issue templates a little 6041adc @bep
github: Add lock-threads step 408da43 @bep"
"v5.0.3
fix: https://github.com/amilajack/eslint-plugin-compat/issues/224
docs: fixed missing polyfill
Invalid redirect in pipe ()

* do not throw on bad redirect in pipe

* linting
v5.0.4","Invalid redirect in pipe ()  7d0ea4b
docs: fixed missing polyfill  251a1cb
fix: amilajack/eslint-plugin-compat 2d81605"
"releaser: Add release notes to /docs for release of 0.89.3

[ci skip]
releaser: Prepare repository for 0.90.0-DEV

[ci skip]
Fix content dir resolution when main project is a Hugo Module

Fixes
releaser: Add release notes for 0.89.4
[ci skip]
releaser: Bump versions for release of 0.89.4

[ci skip]
releaser: Add release notes to /docs for release of 0.89.4

[ci skip]","This is a bug-fix release with one important fix for people using hugo new to create new content:
Fix content dir resolution when main project is a Hugo Module 2e70f61f @bep"
"releaser: Bump versions for release of 0.123.4

[ci skip]
releaser: Prepare repository for 0.124.0-DEV

[ci skip]
build(deps): bump github.com/bep/overlayfs from 0.9.1 to 0.9.2

Bumps [github.com/bep/overlayfs](https://github.com/bep/overlayfs) from 0.9.1 to 0.9.2.
- [Release notes](https://github.com/bep/overlayfs/releases)
- [Commits](https://github.com/bep/overlayfs/compare/v0.9.1...v0.9.2)

---
updated-dependencies:
- dependency-name: github.com/bep/overlayfs
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Fix multihost processed image not copied to non-default content languages

Fixes
Fix single mount rename panic

Fixes
Fix .Page.Pages with similary named sections

Fixes
releaser: Bump versions for release of 0.123.5

[ci skip]","What's Changed
Fix .Page.Pages with similary named sections 6a8b25e @bep
Fix single mount rename panic a322282 @bep
Fix multihost processed image not copied to non-default content languages 6bc0d74 @bep
build(deps): bump github.com/bep/overlayfs from 0.9.1 to 0.9.2 2186903 @dependabot[bot]"
"releaser: Bump versions for release of 0.126.0

[ci skip]
Fix paths with dots issue with content adapters

Fixes
Fix mixed case Page params handling in content adapters

Fixes
releaser: Bump versions for release of 0.126.1

[ci skip]","What's Changed
Fix mixed case Page params handling in content adapters 39cf906 @bep
Fix paths with dots issue with content adapters 1aacfce @bep"
"3.4.0
Test body of GET requests
Allow optional body/data in DELETE requests
validate retry() `count` and allow setting to 0
force negative `count` to 0
default to 1 if no count or true; default to 0 if null/undefined
Dedupe query string append

Fixes
Simplify check
3.4.1","Allow retry() and retry(0) (Alexander Pope)
Allow optional body/data in DELETE requests (Alpha Shuro)
Fixed query string on retried requests (Kornel Lesiński)"
"releaser: Bump versions for release of 0.125.5

[ci skip]
releaser: Prepare repository for 0.126.0-DEV

[ci skip]
resources/page: Pull internal Page methods into its own interface

So it doesn't get visible when passing it to `jsonify`.
Run mage generate
build(deps): bump github.com/pelletier/go-toml/v2 from 2.2.1 to 2.2.2

Bumps [github.com/pelletier/go-toml/v2](https://github.com/pelletier/go-toml) from 2.2.1 to 2.2.2.
- [Release notes](https://github.com/pelletier/go-toml/releases)
- [Changelog](https://github.com/pelletier/go-toml/blob/v2/.goreleaser.yaml)
- [Commits](https://github.com/pelletier/go-toml/compare/v2.2.1...v2.2.2)

---
updated-dependencies:
- dependency-name: github.com/pelletier/go-toml/v2
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Make the cache eviction logic for stale entities more robust

Fixes
Fix one more resource change eviction logic issue

This is how we should have fixed.

Fixes
releaser: Bump versions for release of 0.125.6

[ci skip]","What's Changed
Fix one more resource change eviction logic issue bb59a7e @bep
Make the cache eviction logic for stale entities more robust 503d209 @bep
build(deps): bump github.com/pelletier/go-toml/v2 from 2.2.1 to 2.2.2 68e9532 @dependabot[bot]
Run mage generate 9cd7db6 @bep
resources/page: Pull internal Page methods into its own interface c892e75 @bep"
"v7.0.0
: Fix engines syntax in package.json ()
Revert "": Fix engines syntax in package.json ()"" ()

This reverts commit d442ae14c9e4c136b37998c073e67b1ed22eea30.
fix: fixed version range (see <https://github.com/mysticatea/eslint-plugin-node/issues/315> and closes <https://github.com/visionmedia/superagent/issues/1660>)
v7.0.1","fix: fixed version range (see <mysticatea/eslint-plugin-node> and closes <>)  a4c3fd7
Revert "": Fix engines syntax in package.json ()"" ()  37dd15b
: Fix engines syntax in package.json ()  d442ae1"
"8.0.1
fix: fixed sourceType back to module (closes)
8.0.2",fix: fixed sourceType back to module (closes)  3d6d213
"VERSION CHANGE ONLY

Update versions to next patch version 1.52.32

Change-Id: I25c21597da8e8416452bd61e78d7e5210d248538
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.33-SNAPSHOT

Change-Id: Ia30d36b5d9267ec277f3fba4173521aed54178b7
[FIX] sap.m.Panel: Heading level is now correct

Change-Id: Icf42c7d55a1bf61d09a66e3302527d3ed5d4e273
BCP: 002075129400005073972019
CR-Id: 002075125900003919732019
[INTERNAL][FIX] Demo Kit: Improved handling of deep links

Problem:
In some cases when the documentation is downported,
links are using the new format.
 * entity/entityId/sample/sampleId
 * entity/entityId/sample/sampleId/code
 * entity/entityId/sample/sampleId/code/fileName

Fix:
Now, when the pattern uses the new format it is
automatically redirected to the old format.

CR-Id: 002075125900004155742019
Change-Id: I69e3eeea90ffb32f9802141217eb3745139352da
BCP: 1980118216
[FIX] sap.m.ViewSettingsDialog: Now the control implements its current visual specification

The OK button is emphasized.
There are group header items.

BCP: 002075125900004683622019

CR-Id: 002075125900004683632019

Change-Id: Ib0b7e89f51f29bed300f63ef1564c364b1afc292
(cherry picked from commit 47ec59ebf32cec8136a6a0f95ce2542973c2c6f0)
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 7cfb51e]

Change-Id: I67d125548d08e6037a9c3194eb7a838bc4f7bb42
BCP: n/a
[INTERNAL] Release notes for version 1.52.33

Change-Id: I4eb80fc8c5283a230fa9cd2abbb628c766db1391
CR-Id: 002075125900004872192019
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.52.33

Change-Id: Ia8ae2a089cb9095650cab247b61a9819cc60ac57","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Change-Id: I0cbca977b56543bb44ab87dee525ebed55ebd46e
VERSION CHANGE ONLY

Change-Id: I542d34486926bed566febeadbe473bed5e7f0f3a
[INTERNAL] Consolidate ESLint setup

- Use ""npm run lint"" to lint all libraries
- Use ""npx eslint"" to lint a specific folder, e.g.
  npx eslint src/sap.ui.core

BCP: N/A
CR-Id: 002075125900001274082023
JIRA: CPOUI5FOUNDATION-638
Change-Id: I8a107dc5575811436578afef0b96ddc55ec15acc
[INTERNAL] sap.ui.base.ExpressionParser: Improve scope of allowed expressions

PS1: Downport

BCP: 2370033311
Change-Id: I91a3a38686841a8cc3f6a259c2560d74c669cb71
CR-Id: 002075125900001359562023
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 358b020]

Change-Id: Id074f82264c9f3c6219161ef8fc5c2b84783eddd
VERSION CHANGE ONLY

Change-Id: I6d5eb79979c0809efbed42314a59044ca3d89716","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"[INTERNAL] Release notes for version 1.60.31

Change-Id: I7b43e89e61723a005e6554a21487869dfce56132
CR-Id: 002075125800004258582020
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.32-SNAPSHOT

Change-Id: I29c1c5bd1702407769e1afa08e3262fb34058d1e
[FIX] Belize Theme: add full ""72"" font for special character fallback

Full font is now loaded once a character is encountered which is not in the reduced default font file.

BCP: 002075129500000146942019
BCP: 002075129500005908012020
CR-Id: 002075125800004313182020
Change-Id: I002c32d05b41075c903d6b65a75bd7094f898e3a
(cherry picked from commit 96ec9014b2163b2cc820fd3e11458a7222a3fdab)
[INTERNAL] core/Fragment.load: Add warning message for async behavior change

Adds a warning message for the intended behavior change with UI5 versions >= 1.84.

BCP: n/a
Change-Id: Id895beef23bc763ef9a95eb60a690fe51c1d9b97
CR-Id: 002075125800004641012020
[FIX] sap.m.MultiComboBox: Paste value behavior fixed

- Pasting a partially correct text did not use to trigger validation.

BCP: 2070423726
CR-Id: 002075125800004813832020
Change-Id: Idda1c57969524d09b56360a851a6c8a47f4f274c
[INTERNAL] sap.m.Select: Improve accessibility

Problem: Value of selected item was part of Select's label and
it was not distinguishable.

Solution: Refactor the implementation to use native select and set
the value attribute, remove the aria-live property as the native select
handles the announcement of the new value correctly. Set focus and all
aria attributes to the internal select html element.

Important: A platform dependant solution is introduced to announce the new value when
changing with arrows and the dropodown is closed. Only on MacOS and when the select is
focused.

Change-Id: I463f835f03f17d9514b31a487905dcd471dfc273
CR-Id: 002075125900003951852020
BCP: 002075129400003876492020
[FIX] Configuration: normalize Theme to sap_fiori_3

Previously the sap_corbu theme was changed to sap_goldreflection,
which is deprecated and removed already.
A fallback to the latest theme should be done.

CR-Id: 002075125800005032732020
Change-Id: Ia2120848d4aad100714a4e7a76c1d150c01f9cfd
BCP: 002075129400002689182020
BCP: 0020751294 0000740575 2020
(cherry picked from commit 74b3a4e1c57efb9ecb1095f52bb3926f090e6d5a)
[INTERNAL] Restrict cross-window navigation

With this change we introduce new ""rel"" attribute of sap.m.Link and
sap.ui.documentation.TitleLink, with default value of
""noopener noreferrer"".
CR-Id: 002075125800005195732020
Jira: BGSOFUIPIRIN-4832
BCP: N/A
Change-Id: Iff4614e6ca02e95c7c8d19ea4d260e5c7aa9415d
(cherry picked from commit e1e342ce898aace394b2048281095809e29fdba5)
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: b6cb62b]

Change-Id: I11d135ee48a32a6f3f35191b7528f179e5e72dbe
[INTERNAL] Table: fix highlight column when fixedLayout=false

When the fixedLayout=false, the browser decides to not show some columns
when the content of the table overflows. Due to this the highlight column
is not visible, hence adding a min-width to ensure that the browser does
not hide the highlight column.
BCP: 002075129500006623042020

Change-Id: I3aba522df98f6ae3c8639fe862e1a4f43f90d966
CR-Id: 002075125800005477392020
[INTERNAL] Removing static elements from tab chain in upload collection

BCP: 2070269929
CR-Id: 002075125900004003792020
Change-Id: I510bb7cda633e298b1e0bffb9d510641ae992d95
[INTERNAL] sap.ui.model.odata._ODataMetaModelUtils#merge: process entity container after all entity type definitions

The annotations for the entity container resp. the entity sets must be
processed after all entity types are processed. Otherwise it may happen
that annotations like sap:filterable=""false"" are not propagated to the
Org.OData.Capabilities.V1.FilterRestrictions/NonFilterableProperties
annotation at the entity set

PS1: Downported to 1.60

Change-Id: Ibd1699c61053d1ccc22b94362f01b992415091d5
BCP: 002028376600003415642020
(cherry picked from commit 546f2379518dba35eb5e2825e151abbdf5f1df6d)
CR-Id: 002075125900004180842020
[INTERNAL] sap.ui.model.odata.ODataUtils#_createFilterParams: fixed handling of empty multi filter

PS1: Downported change Ifd5bcd4b1f342c7ac5033c081664c3d562906471 to 1.60

Change-Id: Ica7a5521efcf7042145951c5bd25207ffb01cf0e
BCP: 002028376600003415642020
CR-Id: 002075125900004194042020
[INTERNAL] jQuery.sap.openWindow: Failing test under legacy Edge is fixed

Jira: BGSOFUIPIRIN-4832
BCP: 2080391148
CR-Id: 002075125900004353102020
Change-Id: I3fe7cde0d8c4a6cf9ca5758e11d617fc9d277205
[INTERNAL] sap.m.Select: Revert native select

This reverts commit d92474e742c47ed881f36db520cf225474367530.

Reason for revert: Native dropdown can't be prevented on iOS.

Change-Id: Ie984068edd0b18c7b015d20fb64d28f7503b2686
CR-Id: 002075125900004386002020
BCP: N/A
[INTERNAL] sap.m.Select: Announce new selection with aria-live in static area

Problem: Usage of aria-live on every Select control is causing
speech output issues with screen readers when there are multiple select controls
in a page and they are populated with data after initialization aria-live triggers multiple
screen reader announcements.

Solution: Announce the new selection through one aria-live element in the static area for
all Select instances.

Change-Id: Ibda0d2c09da9532f7a7855e7b48717edba2c2695
CR-Id: 002075125900004400892020
BCP: 002075129400004687722020
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: b6cb62b]

Change-Id: I1f169a488d6c51a27d00111da8a55ec6002373cd
VERSION CHANGE ONLY

Update versions to next patch version 1.60.32

Change-Id: I9eb0f87c02550daaad9e46f28dc7f13c5d6dcacb
[INTERNAL] Release notes for version 1.60.32

Change-Id: I299e57d07d8c60b93845939decfb46a1e591c2e9
CR-Id: 002075125900004492102020
BCP: n/a","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.60.23

Change-Id: Ib837bbe7acec45e32972f8703e65d4f126d57bf7
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.24-SNAPSHOT

Change-Id: Ida63e4caf3122d49a90c66d2a17ec9ef39a4db85
[INTERNAL][FIX] TablePersoController: Column names if control is used inside header

Change-Id: Icfecb0c85e10b45a7effb9cc4a179f93d9820710
BCP: 1980536762
CR-Id: 002075125900000253642020
[FIX] sap-icons-tnt: Restored backward compatibility

Added back the old named icons on which applications dependent on
previous versions of this icon relied upon.

BCP: 002075129400008086842019
CR-Id: 002075125900000308972020

(cherry picked from commit a4bb638b0bdf797f9b3882fe2b58713277f95a98)

Change-Id: I845cdb7ac96e851931a65c398ac29d1f0116cf71
[FIX] sap.m.PlanningCalendar: Unnecessary readings now prevented

sap.ui.unified.calendar.Month control is used in the header part
of the sap.m.PlanningCalendar. According to the ARIA spec,
all HTML elements with role ""gridcells"" should be in one HTML
element with role ""row"".

Change-Id: I4c0c4a7ab85045b0aaf45e1be7e83b8303978acb
CR-Id: 002075125900000539072020
BCP: 002075129400007710282019
[FIX] sap.m.PlanningCalendar: Unnecessary readings now prevented

sap.ui.unified.calendar.TimesRow control is used in the header part
of the sap.m.PlanningCalendar when ""Hours"" view is selected.
According to the ARIA spec, all HTML elements with role ""gridcells""
should be in one HTML element with role ""row"".

Change-Id: I5693ce50ce1ef3921c49efc2e710acc974c5dd25
CR-Id: 002075125900000608862020
BCP: 002075129400007710282019
[INTERNAL][FIX] Table: Events fired twice when part of an aggregation

When the table is used as a template in other element's aggregation, the
event delegates are being cloned and the events are being fired twice.
To avoid that addDelegate is used instead of addEventDelegate

Change-Id: I991b07ce57ff2c880c745b19835c8fe33882ffec
BCP: 002028376600000760432020
CR-Id: 002075125900000704182020
[FIX] sap.uxap.ObjectPageHeader: Aligned to accessibility specification

Heading tag needs to be second level.

BCP: 002075129500000277352020
Change-Id: Idee84bd8ee4ab58d2154fb37cf2462372eaa385d
CR-Id: 002075125900000723352020
[FIX] sap.m.TileContainer: pre-renders tiles in both directions

CR-Id: 002075125900000793192020
BCP: 002075129400007904862019

Change-Id: I50cfa3430ff56eb688cce7e1b4613062f6c97690
(cherry picked from commit c4432cf8a899ccd4c4c49e13f625dea7b374b93c)
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: ef9259b]

Change-Id: I2aa7e2254f1264ae7bb785d83efce57a4a812797
VERSION CHANGE ONLY

Update versions to next patch version 1.60.24

Change-Id: Ic3102ffd92370215d8e85f8e79854f2d28f3dacf
[INTERNAL] Release notes for version 1.60.24

BCP: n/a
Change-Id: Ic8bdd0dfb654879c83b17d08da2d9683e50d2f10
CR-Id: 002075125900000993132020","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.60.21

Change-Id: I5ca66998ee02b84d5b5d43e1a2c4357e28f48697
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.22-SNAPSHOT

Change-Id: Ia62a24d03d98f639b97ee6bce64145e5a017ee65
[FIX] sap.m.RadioButton: valueState is now updated if there is a Message

Adding Messages to sap.ui.core.message.MessageManager that affect
any RadioButton would not update the ""valueState"" property of that
button. 
Now the ""valueState"" is updated and the error is shown in the
toolptip of the button.

Change-Id: I10e2e60010a948cee53b00a252d0a2e48f83ec0e
BCP: 002028376500005744122019
Snippix: 56628
CR-Id: 002075125800005606932019
[INTERNAL][FIX] TablePersoController: Column names when multiLabels are set

Change-Id: I2fe8fe821c1156d940cd5668d1107377e2bccf12
BCP: 1970589842
(cherry picked from commit d2ab646d95caae55e60fb930da8c1e95c6048138)
CR-Id: 002075125800005681162019
[INTERNAL][FIX] Remove MicroChart SAPUI5 samples from OpenUI5

BCP: n/a
JIRA: FXUBRQ13-1720
Signed-off-by: Michal Holic <michal.holic@sap.com>

Change-Id: I744b6f1c8d8a32bad1e37c195f5eb1a23bd45957
(cherry picked from commit 89c8923c6a851da2d4ffbee1e9994ed99373a1be)
CR-Id: 002075125800005514312019
[FIX] sap.ui.core.Hyphenation: Update Hyphenopoly bundle

Adopt a loading mechanism from Hyphenopoly which
resolves problems with encoding of loaded binary files
and their Content-Type.

Now when binary file has ""Content-Type: application/octet-stream""
it is correctly encoded.
Before it was working with ""Content-Type: text/plain"" only.

Change-Id: I8cc8b6e09a05aa0f5e4ff124d03d70ec6aa3a8b9
BCP: 1980429483
CR-Id: 002075125900005567122019
[FIX] sap.ui.unified.Menu: Menu is now handling the new iOS13 tablet views

BCP: 002075129400006664912019
BCP: 002075129500005577152019
BCP: 002075129400006496372019
BCP: 1970508436

Change-Id: I8b1bd3f5f21844a2048ee04bfc42d88bc6e0a1f6
(cherry picked from commit 87acdab9a872d36f8a7204c45d65f24c55e5caa7)
CR-Id: 002075125900005575302019
[FIX] sap.ui.rta: Update of toolbar buttons and reload handling

Change-Id: I4d7f3b0f01aca4ee561a403e2ebebdb1774c6659
Signed-off-by: Rainer Liebisch <rainer.liebisch@sap.com>
BCP: 1980322650
CR-Id: 002075125900005641962019
[FIX] sap.m.NumericContent: Property truncateValueTo is not ignored anymore & Case insensitive NumericContent lang map + add en_US lang.

Change-Id: Idc359a9270d28b1d6b22883fc1ea60c8178f87db
BCP: 002075129500006220662019
CR-Id: 002075125900005767212019
[FIX] Table: Correctly update vertical scroll range

Change-Id: I7b541ab35a36a3b0384eda64a60889fc9a76b7bc
CR-Id: 002075125900005813092019
BCP: 1980430262
[INTERNAL][FIX] ObjectPageLayout: Fixed scrolling issues on IE11

Problem: While we scroll nested controls of the ObjectPageLayout with
the scroll-wheel there is incorrect display of their scroll container.

Root Cause: When ObjectPageLayout scroll container has the
""sapUxAPObjectPageWrapperTransform"" CSS class the container itself has
the CSS property ""transform"" set to ""translate3d(0, 0, 0)"". This
sometimes causes issues on other scroll containers of nested controls.

Solution: Since the support for the ""transform"" CSS property is limited
and can be considered volatile as in the current case, we set it
to ""none"" on Internet Explorer browser.

Change-Id: I3d3f75e45dbf1c9ead4027beb4b38e553deabc0e
CR-Id: 002075125900005981342019
BCP: 0020751294 0000432437 2019
BCP: 1970472626
(cherry picked from commit 9bd2e52d40af5a55a782c355fca87757f7d4a04a)
[FIX] sap.m.PlanningCalendar: Doesn't load density aware image by default

Previously PlaningCalendarRow uses the default behavior of the
StandardListItem and tried to load the density aware image.
However, this causes multiple 404 requests for the applications
that do not have these images.

Consider adding a property in PlanningCalendarRow for this in the future
if requests on this comes.

BCP: 002075129400007126932019

Change-Id: I2d258ea5ba5e50058d6a4340605733af1301e87b
(cherry picked from commit e6c75ee5df05014ffc014bc3ddbfa67f70fa6a5e)
CR-Id: 002075125900005974852019
[INTERNAL][FIX] Table: row selector check mark vertical alignment

Change-Id: I1c1ae95499ca754b4af80f664cb73910f22874c2
BCP: 1970189030
CR-Id: 002075125900006017622019
[FIX] jQuery: Make parseHTML work with domain relaxation

IE11 does not allow elements created with a document that has a
diferrent document.domain to be inserted. This is causing problems with
jQuery.parseHTML in environments where domain relaxing is used.

Change-Id: If744faf124e1d7969cf10aedff6547f6572c3d2f
BCP: 002075129400007453322019
CR-Id: 002075125900006052282019
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: fe8269e]

BCP: n/a
Change-Id: I9bfb4830e726d2a3360fadbba1d18ad2a67ca532
CR-Id: 002075125900006198902019
[INTERNAL] Release notes for version 1.60.22

BCP: n/a
Change-Id: I79e0ea47141e973a3d10490c16bf9ebb0fdb62ed
CR-Id: 002075125900006219142019
VERSION CHANGE ONLY

Update versions to next patch version 1.60.22

Change-Id: I243c75d78356edc66a01be7723562e3c2448aadd","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch development version 1.60.25-SNAPSHOT

Change-Id: I9bc5db03d4abd77aa776255b424ee93f2c5e668a
[FIX] sap-icons-tnt: Incorrect codepoints are now fixed

Change-Id: I2428d6af442c084b3474b93309cd120195b60e42
BCP: 002075129400008086842019
CR-Id: 002075125900001143482020
[INTERNAL][FIX] sap.ui.unified.CalendarRow: Rendering: Appointments - Hours view

	The issue was that the minimum width of the appointments on Cozy mode
is 48px and the test expects minimum appointments width of 32px(Compact mode).
	Failing assert statements are removed from the qunit file and are now covered
with the sap.m.PlanningCalendar visual tests.

Change-Id: Ie032ec07c85e2edebd43f9b778331a6a8b291d71
BCP: 2080127726
(cherry picked from commit 2b1fd8ab08e96d988df2b1a25fe4f7061bf325fa)
CR-Id: 002075125800000012142020
[FIX] sap.m.Tokenizer: Handle properly not visible tokens

This change affects:
- sap.m.Tokenizer
- sap.m.MultiComboBox

When MultiComboBox items got changed, it didn't inherit directly over to
the tokens. Now, these are synchronised more precisely.

BCP: 1970263638

Change-Id: I0b17814d1e26ea061eeae4e80c338928a7919fe0
CR-Id: 002075125900001123642020
[FIX] sap.uxap.ObjectPageSection: Improved accessibility

Problem:
Headings map can't be fully achieved.

Fix:
Now, heading tag of the first section is placed in the DOM structure
and it can be managed by the titleLevel property of the section.

Change-Id: I2199bb3dde15a564fcf5f43744f4fb846294b809
BCP: 002075129500000277352020
CR-Id: 002075125800000155002020
(cherry picked from commit ae768510b1246f58d73c7ff186fe7b58a60b3197)
[INTERNAL] Drag&Drop: prevent D&D indicator from making the body scroll

The DnDIndicator (blue overlay) could cause a scrolling overflow of the
body, so when the user dragged to the edge of the window, the actual UI
could be moved out of the visible area. This only happened in IE+Edge,
but even in Chrome an additional scrollbar was visible. A div wrapper
around the DnDIndicator is introduced to fix the issue. The div wrappers
are only added to browsers except IE as the div wrapper prevented IE
from
scrolling.
BCP: 002075129500000091392020
CR-Id: 002075125800000248452020

Change-Id: Iae7ed80dde9abcc4ce24f6fdf2d0637945bc6444
[FIX] sap.m.Title: titleStyle property now affects aria-level

If Title is rendered as ""div"", ""aria-level"" property is set,
with default value of ""2"".
""Auto"" -> 2, ""H1"" -> 1, ""H2"" -> 2, and so on...

CR-Id: 002075125800000241362020
Change-Id: I24f44152f550702035ec943d3b9b23f9a30574fb
BCP: 002075129500000277352020
(cherry picked from commit 870040ace9f7b6539d232221c9469b91c9b2efe8)
[FIX] sap.m.SegmentedButton: accessibility state is now maintained corretly

Accessibility attributes are added to the DOM representation of the SegmentedButton,
when a sap.m.Select control is rendererd inside.

Change-Id: I8a2f80f63a11beb76c4d6b0f793fc3855dc3e1c8
CR-Id: 002075125800000267922020
BCP: 002075129400007711072019
(cherry picked from commit 44005c1344b4732409896791583d0f937d4f59ec)
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: e42e081]

Change-Id: I9cb1da10375c1f034b50d1b829e3fc71438ae542
[INTERNAL] Release notes for version 1.60.25

BCP: n/a
Change-Id: Ia5b841ee5b7831f69838e7d7092974f87fcf72f4
CR-Id: 002075125800000668682020
VERSION CHANGE ONLY

Update versions to next patch version 1.60.25

Change-Id: I6f937db6347bf01913a73f84864b3eb1182d70c0","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"[INTERNAL] Release notes for version 1.60.35

BCP: n/a
Change-Id: I0f641691cc049b741daf0976bcaf23a1c55c7114
CR-Id: 002075125800000238482021
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.36-SNAPSHOT

Change-Id: I9aeb8b72baea4b7b221c976fa1031d5dd7f3bb66
[INTERNAL] PDFViewer - Adjusted mimeType check in _isPdfPluginEnabled function

Problem:
Starting from Chromium v90, navigator.plugins and navigator.mimeTypes
return an empty array. As a result, PDF plugin check for Chrome/Edge v90
fails.

Solution:
_isPdfPluginEnabled has been enhanced to return true by default if the
browser is chrome (similar to Firefox).
Since the QUnits run on headless chrome where no plugins are installed,
they've been adjusted to ignore Chrome till a better PDF detection is
provided from Chrome.

BCP: 2180089912
CR-Id: 002075125800000414202021
Change-Id: I569a299db16e6444c27fc92eac02ea869870203a
[FIX] sap.uxap.ObjectPageLayout: Failing QUnit is fixed

Problem: QUnit in ObjectPageAPICreation tests fails due to some timing
issues.

Solution: Remove async operations and synchronously call the resize
handler method of ObjectPage's Header, than check whether the spied
functions are called.

Change-Id: I96f17d1ceed0d2a5b462e1efcb33495d159a05ca
JIRA: BGSOFUIPIRIN-3818
(cherry picked from commit 31929d5a78e6f891aebd64a21a253decab60ad5f)
CR-Id: 002075125800000465402021
BCP: 2180046524
[INTERNAL] sap.m.MultiComboBox: Clear text if selection occurs

BCP: 002075129400001798792021

Change-Id: I3b7927f41abaed7371bea1214e161f2efb826199
CR-Id: 002075125800000683512021
[FIX] jquery-mobile-custom: clear the block list after processing click event

- when an 'input[type=checkbox]' is placed within a 'label' tag, the
  browser fires 2 click events, one on the 'label' element and the other
  on the 'input' element. The block list should be cleared after
  processing the first click event to allow the second click event to come
  through.

BCP: 2170064743
CR-Id: 002075125800000892832021
Change-Id: Ifd03fb7443f3ee3965611cc389209c36028d4d3d
[FIX] sap.uxap.ObjectPageLayout: Stablized qunit

--Removed from the test the dependency to timings.
--Corrected the code the clean obsolite field value.

Change-Id: Ibad8e3bd39f41c6b9f08990fdb7c070559698203
BCP: 2180046524
CR-Id: 002075125800001054872021
[INTERNAL] Enable openWindow test with about:blank

BCP: 2170106568
CR-Id: 002075125800001232132021
Change-Id: I2b289650a4949a9fd31cafe18f91926bad86caf6
[INTERNAL] Int.qunit: fix language dependent tests

PS1: use TestUtils#withNormalizedMessages to make language dependent
     exception texts in tests independently

Cherry pick from I9d0e5ca758df6a9b10db2f98edd2080f2403e9ba

BCP: n/a
Change-Id: I1f4d7c07184ecac996549a79b5078404db39c431
CR-Id: 002075125800001620202021
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: a1f1c73]

Change-Id: Iabd803217aafedf1c1b6da90a071e9a333762cab
VERSION CHANGE ONLY

Update versions to next patch version 1.60.36

Change-Id: Ie56ee96aa1acbbd6de0a984de0aa17a68c859ada
[INTERNAL] Release notes for version 1.60.36

Change-Id: Ieaf94cc2b97571a8752ba2b814ba68ff012b0364
CR-Id: 002075125800001624502021
BCP: n/a","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.71.4

Change-Id: Id2f3d5d4ae0f4bf838fc8616224e15dcebb5b895
VERSION CHANGE ONLY

Update versions to next patch development version 1.71.5-SNAPSHOT

Change-Id: I739a65ff38a4f4e74b8f55243aefc8f52f401f30
[FIX] sap.ui.unified.Calendar: Belize plus colors adjusted

Belize plus works in this way - it sets contrast to the header of the
container and renders all the items inside with contrast as well.
The rest of it remains light. That's why if a Calendar is inside of the
light part, it has to apply the belize light theme. Unless it has a
sapContrastPlus class explicitly set. Then and only then it has to take
the colors from the belize plus file.
Before this change it was taking the Legend's colors for working/non
working day everytime when on belize_plus without caring if there is a
contrast class.

Change-Id: Ic785f04cb3a68738f11fc10c0006840e67a8f379
CR-Id: 002075125900005553852019
BCP: 002075129400006570372019
(cherry picked from commit 42e5ae61e5c2cd3a88764e0592bd3b546c89ee84)
[FIX] core/Shortcut: Restore focus on DOM element instead

When the focus gets restored from the span, the focus
should be reset on the previous DOM element instead of
the control element.

- Added additional tests

Change-Id: If786b0690a4401a07b9cc4cb4b1f2da8cb1af239
BCP: 1970531258
CR-Id: 002075125900005546812019
[FIX] sap.ui.unified.Menu: Menu is now handling the new iOS13 tablet views

BCP: 002075129400006664912019
BCP: 002075129500005577152019
BCP: 002075129400006496372019
BCP: 1970508436

Change-Id: I8b1bd3f5f21844a2048ee04bfc42d88bc6e0a1f6
(cherry picked from commit 87acdab9a872d36f8a7204c45d65f24c55e5caa7)
CR-Id: 002075125900005575822019
[INTERNAL][FIX] sap.ui.fl Fix merging variantSection problem

Variant changes like setTitle should not be copy from base variant to
referenced variant

Change-Id: I1e7b4cdb8570d6792c97f429f56687917d05f320
BCP: 1970546035
CR-Id: 002075125900005602322019
[FIX] sap.ui.rta: Update of toolbar buttons and reload handling

Change-Id: Ia6f797118b250150ebc79d1740680557d20e8baf
Signed-off-by: Rainer Liebisch <rainer.liebisch@sap.com>
BCP: 1980322650
CR-Id: 002075125900005691232019
[FIX] sap.m.Wizard: destroySteps causing browsers to crash fixed

- When destroySteps/removeAllSteps methods are called the control is
being invalidated, and the current step becomes undefined.
After the re-rendering the control enters an infinite loop,
which is causing the browsers to become unresponsive and crash.
- The following change is fixing the memory leak.

Change-Id: I2ced3503b169e2a3d44fc9200128a86747f22be0
CR-Id: 002075125900005700812019
BCP: 1980440936
[FIX] sap.m.StepInput: Validation is working and exception is thrown if necessary

BCP: 002075129400007071152019

Change-Id: Ifd7e841288fe35c293e69e79f28abf7dcaf3e2d4
CR-Id: 002075125900005718562019
[INTERNAL][FIX] sap.ui.fl Fix ConnectorMerger for Standard variant
change

Correct checking for availability of Standard variant before creating a
new one

Change-Id: If1ab4148d64a8c394fb39efa4cc83761b85dce21
BCP: n/a
CR-Id: 002075125900005747422019
[INTERNAL][FIX] Table: Virtual context handling (V4 AutoExpandSelect)

Change-Id: I928c573a9d41abd7b4f41a287f45e873b9f8b745
CR-Id: 002075125900005597732019
BCP: 1970613552
BCP: 002075129400007139292019
[FIX] sap.m.FacetFilter: gets correctly the active state of the FacetList

- now the active state of the FacetList is get not the originalActiveState
which is updated later and this caused the issue
- this fixes the case where if the list is not active, but selectedKey
is added the list is activated and a button should be rendered

BCP: 1980441633

Change-Id: I8d26bb7c30c92e52d21c000e34e03c4f4f21ad16
(cherry picked from commit 53826cf8ab2c30a878ebbde755843b25e842735d)
CR-Id: 002075125900005808102019
[INTERNAL] Release notes for version 1.71.5 

BCP: n/a
Change-Id: I1abf24874d1733d1f8551c790dd2cc61defe7fe2
CR-Id: 002075125900005988782019
VERSION CHANGE ONLY

Update versions to next patch version 1.71.5

Change-Id: I974d4a30412ba5621189d9832193d02cc240b5dd","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"[INTERNAL] Release notes for version 1.44.45

Change-Id: If773ad085c59ed73270125373b572e3c3ff70a87
CR-Id: 002075125900003256682020
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch development version 1.44.46-SNAPSHOT

Change-Id: I082fea335db25fb6ded961f7aeff26a034666cda
[INTERNAL] jQuery: Fix htmlPrefilter and show incompatibility error

Remove comma which breaks IE11.

BCP: 2070230774
CR-Id: 002075125900003325682020
Change-Id: I572c4c4bfaf8784f2e216244ea6d65411809b9f1
VERSION CHANGE ONLY

Update versions to next patch version 1.44.46

Change-Id: I71b82fd8dd124544b4e0bb819bed9ac013de48d8","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"[INTERNAL] Release notes for version 1.52.41

Change-Id: I0a017cf14f61c75d038a7d5d0e21e4d18c408fc9
CR-Id: 002075125900001234252020
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.42-SNAPSHOT

Change-Id: Ic595ab82ee6d3f0c7f4556dfc479815faaf35f56
[INTERNAL][FIX] Opa: parameter parser - fix for missing function in IE11

BCP: 2070241218

CR-Id: 002075125900001620212020

Change-Id: I05674fceebbecaecff66ae08e5b3b037359e9def
[FIX] sap.ui.core.util.ExportTypeCSV - Cell overflow injection fix

Any cell content that has a length of more than 32,760 characters
will be cut off to prevent cell overflow formula injection.

Change-Id: I7c13ab7c378f83f1506b990bfcbb8e94415c2549
CR-Id: 002075125900002263922020
BCP: 2080220914
[INTERNAL] Unstable QUnit tests are fixed

- sap.ui.ux3.QuickView
- sap.m.SplitApp

JIRA: BGSOFUIRODOPI-2357
BCP: N/A
CR-Id: 002075125900002636632020

Change-Id: Id23286852305ce66fc4d83ce09620900b5ad920d
[INTERNAL] ToolPage App: OPA tests fixed

When OPA tests ran on smaller screens the ""Cancel"" button
was hidden in overflow and the tests failed.
Now they should work on smaller and bigger screens.

BCP: 2080113325 
BCP: 2070179547
CR-Id: 002075125900002641472020
JIRA: BGSOFUIRODOPI-2357

Change-Id: I81e87f150af572451c861e8238b6da7d820b89ec
[INTERNAL] ToolPage app: OPA tests fixed

Due to nightly build failures on Edge 44 tests should be reworked.
When SideNavigation is collapsed there should be one additional step in teh tests.

BCP: 2070179547
JIRA: BGSOFUIRODOPI-2357
CR-Id: 002075125900002641472020

Change-Id: Ia612afaadadb8ba56bde5f725662fb5d7c00d10c
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: f078400]

Change-Id: I44dc588e1c6ebb9e51ae41b7866dafab9a9c7611
CR-Id: 002075125900002812862020
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.52.42

Change-Id: I6f994f05d04cd34c529c537b9325e1a1004018a5
[INTERNAL] Release notes for version 1.52.42

BCP: n/a
Change-Id: Ibf753a70f0496ec62cf93b95cd65993c56223126
CR-Id: 002075125900002820172020","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.65.7

Change-Id: I6f0c745ec3bde2a728b3b92e3b80eeebc0930534
VERSION CHANGE ONLY

Update versions to next patch development version 1.65.8-SNAPSHOT

Change-Id: Ic19e84a3e48f8e524af250a8ad7a5f8f41a97807
[FIX] sap.uxap.ObjectPageLayout: Adding tabs now invalidates the page

Background:
Previously we implemented the following performance optimization:
Invalidation of the page is suppressed if the invalidation
source is a tab *without domRef*
(i.e. if the source is an inactive tab, because the user already
switched to a new tab and the old tab is removed from DOM)

Problem:
If the tab is *without domRef* not because it was removed from DOM,
but because it is a freshly added tab [that was never in DOM]
=> the above optimization does not allow to render this tab

Solution:
Add a more strict condition to ensure that the above performance
optimization is made on known tabs only

BCP: 1970307794

Change-Id: I24dbf775c24d837f8bf86d680795a31f453a3223
CR-Id: 002075125900004066532019
[FIX] sap.m.DateTimeField: binding used in UTC mode specified in source works correctly

BCP: 1970448883

Change-Id: I194efd499a4e7aa316542224a759d5f7c0b3b467
(cherry picked from commit 0b9d0efbbb88a63e58b5f2a58f67ca1a4e0a033d)
CR-Id: 002075125900004227132019
[FIX]: RTA Toolbar height fix

CR-Id: 002075125900004510272019
Change-Id: I5b250aa66517b16224b47b68cd99812ca4076238
BCP: 1980393337
[INTERNAL] Release notes for version 1.65.8

BCP: n/a
Change-Id: I7da670456408b2071c24258872d7246237a61119
CR-Id: 002075125900004593232019
VERSION CHANGE ONLY

Update versions to next patch version 1.65.8

Change-Id: I72c15a4c9104339d2fb92b55e17f9c2089338f60","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"Only clear copy buffer is view is not focused
no need for copy semaphore, since it checks the view's focus
Bump version

Signed-off-by: Dan Yeaw <dan@yeaw.me>","Changes
Bug Fixes
Fix copy paste in Linux with Wayland @amolenaar ()
Thanks again to @amolenaar and @danyeaw!"
"Update docker-compose for 0.22.3 patch release
Fix NPE in GCP archival ()
Support DNS SRV Records within Ringpop ()
Update docker-compose for 0.22.4 patch release","Schema/configuration change
None.
Release commits
Bug fix
cfa1fa2 - Fix NPE in GCP archival ()
Improvement
3e7291f - Support DNS SRV Records within Ringpop ()
Credits
Thank you @lindleywhite  for the contribution!"
"Update docker for 0.15.0 release
Fix managed failover list
Update failover default settings
Move batcher to new domain
Add operator to admin failover
Fix NPE for failover query
CLI release 0.15.0
Fix if the replication state is nil ()
Revert ""Pin gocql version""

This reverts commit 84631abd24980c7321585d8dbcc0204c3fe9632b.
Update docker for 0.15.1 patch release","Bug Fix & Improvements
ea865f7 Fix if the replication state is nil ()
6960e9b Fix NPE for failover query
cd103de Add operator to admin failover
38e0451 Move batcher to new domain
62292ce Update failover default settings
295c897 Fix managed failover list
Misc.
ede38f0 Update docker for 0.15.1 patch release
77af12d Revert ""Pin gocql version""
3a633f1 CLI release 0.15.0"
"Bump github/codeql-action in the github-action-updates group ()

Bumps the github-action-updates group with 1 update: [github/codeql-action](https://github.com/github/codeql-action).


Updates `github/codeql-action` from 3.24.10 to 3.25.0
- [Release notes](https://github.com/github/codeql-action/releases)
- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/github/codeql-action/compare/4355270be187e1b672a7a1c7c7bae5afdc1ab94a...df5a14dc28094dc936e103b37d749c6628682b60)

---
updated-dependencies:
- dependency-name: github/codeql-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
  dependency-group: github-action-updates
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Add Italian translation for docs.gaphor.org
Update Italian translation for docs.gaphor.org

Currently translated at 0.5% (10 of 1754 strings)

Translation: Gaphor/docs.gaphor.org
Translate-URL: https://hosted.weblate.org/projects/gaphor/docs-gaphor-org/it/
Update translation for docs.gaphor.org ()

* Add Italian translation for docs.gaphor.org

* Update Italian translation for docs.gaphor.org

Currently translated at 0.5% (10 of 1754 strings)

Translation: Gaphor/docs.gaphor.org
Translate-URL: https://hosted.weblate.org/projects/gaphor/docs-gaphor-org/it/

---------

Co-authored-by: Nathan Hadley <nathanhadley.pigeon@gmail.com>
Update Chinese (Simplified) translation for Gaphor

Currently translated at 100.0% (668 of 668 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/zh_Hans/
docs: update README.md [skip ci]
docs: update .all-contributorsrc [skip ci]
Cancel transactional drag event sequence on key press

This is a touch one: at all times our transactions must be closed.
When a key is pressed, the event sequence is broken and no
proper finalization happens. Hence, transactions can remain open,
which causes trouble if you want to undo changes.

This commit fixes the case when a key is pressed. There may, however,
be more cases that can cause inconsistency in the transaction stack.
Do not allow changing tool set if a transaction is active
Only show popup if not in a transaction
Move undo stack handling to one place

This makes it a bit more clear what's happening.
Also, rollback is now a 2 phase action.
Events outside a transaction are no longer allowed

We do not need to, since diagram updates and constraint solving now
happen within the transaction anyway.
Ensure old transactions are closed in Tx controller

So that we do not add more and more transactions if 'end' handlers are
not called.
Remove @transaction where not needed
Update undo docs
Define a transaction context for undo, redo, and rollback

Often, when events are finally handled, the semaphore values
for undo/redo/rollback have been reset already.
Therefore we have to tell the transaction what ""kind"" it is:
undo, redo, rollback, or a normal transaction (no context).
Sanitizer service checks transaction context

So it knows when a transaction originates from the undo manager,
and therefore it's handlers should not run.
sanitizer
Remove semaphores from undo manager

Transaction context is now provided on the transaction.
Make a bit more clear why undo manager uses priority events

I think it's a sub-optimal solution, but undo manager *needs* to know
what changed ASAP, so it can undo all those changes in case of a
rollback.
Remove unneeded diagram update

The diagram should be up-to-date at this point, so we only need
to render it.
Fix: deal with absense of attributes

The method returns None now, but strings were expected at some places.
chore(deps): bump the github-action-updates group with 4 updates ()

Bumps the github-action-updates group with 4 updates: [actions/checkout](https://github.com/actions/checkout), [github/codeql-action](https://github.com/github/codeql-action), [actions/upload-artifact](https://github.com/actions/upload-artifact) and [actions/download-artifact](https://github.com/actions/download-artifact).


Updates `actions/checkout` from 4.1.2 to 4.1.3
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/9bb56186c3b09b4f86b1c65136769dd318469633...1d96c772d19495a3b5c517cd2bc0cb401ea0529f)

Updates `github/codeql-action` from 3.25.0 to 3.25.2
- [Release notes](https://github.com/github/codeql-action/releases)
- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/github/codeql-action/compare/df5a14dc28094dc936e103b37d749c6628682b60...8f596b4ae3cb3c588a5c46780b86dd53fef16c52)

Updates `actions/upload-artifact` from 4.3.1 to 4.3.3
- [Release notes](https://github.com/actions/upload-artifact/releases)
- [Commits](https://github.com/actions/upload-artifact/compare/5d5d22a31266ced268874388b861e4b58bb5c2f3...65462800fd760344b1a7b4382951275a0abb4808)

Updates `actions/download-artifact` from 4.1.4 to 4.1.6
- [Release notes](https://github.com/actions/download-artifact/releases)
- [Commits](https://github.com/actions/download-artifact/compare/c850b930e6ba138125429b7e5c93fc707a7f8427...9c19ed7fe5d278cd354c7dfd5d3b88589c7e2395)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: github/codeql-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: actions/upload-artifact
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: actions/download-artifact
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
chore(deps): bump the pip-updates group with 3 updates ()

Bumps the pip-updates group with 3 updates: [dulwich](https://github.com/dulwich/dulwich), [sphinx](https://github.com/sphinx-doc/sphinx) and [sphinx-intl](https://github.com/sphinx-doc/sphinx-intl).


Updates `dulwich` from 0.21.7 to 0.22.0
- [Release notes](https://github.com/dulwich/dulwich/releases)
- [Changelog](https://github.com/jelmer/dulwich/blob/master/NEWS)
- [Commits](https://github.com/dulwich/dulwich/compare/dulwich-0.21.7...dulwich-0.22.0)

Updates `sphinx` from 7.2.6 to 7.3.7
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES.rst)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v7.2.6...v7.3.7)

Updates `sphinx-intl` from 2.1.0 to 2.2.0
- [Release notes](https://github.com/sphinx-doc/sphinx-intl/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx-intl/blob/master/CHANGES.rst)
- [Commits](https://github.com/sphinx-doc/sphinx-intl/compare/2.1.0...2.2.0)

---
updated-dependencies:
- dependency-name: dulwich
  dependency-type: direct:production
  update-type: version-update:semver-minor
  dependency-group: pip-updates
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: pip-updates
- dependency-name: sphinx-intl
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: pip-updates
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Add Icelandic translation for Gaphor
Update Hungarian translation for Gaphor

Currently translated at 98.8% (660 of 668 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Update Icelandic translation for Gaphor

Currently translated at 1.0% (7 of 668 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/is/
docs: update README.md [skip ci]
docs: update .all-contributorsrc [skip ci]
Workaround: macOS: Install GTK 4.14.0 brew recipe to our repo

4.14.0 does not have the delay in screen updates.
This workaround should be reverted as soon as 4.14.4 is available.
Does self-test fail?
updated png images except Greeter, merge dialogs, stereotype
Add the zoom buttons back
docs: add linfindel as a contributor for translation ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

---------

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
fix: provide workable settings for layout test
Windows: Fix couldn't load MyriadPro font warning
chore: extend deadline after Gitlab timeout
fix: additional down-scaling to meet deadline
scaled first-model-new-diagram-pop-up to 400x400
Replace macOS certificate import by a script

The gh action is outdated, and I think we have better control over
what's going on.
Try to make macOS runs more stable by retrying self-test

It looks like something display related is not initialized on the 1st
run.
chore(deps): bump the github-action-updates group with 6 updates ()

Bumps the github-action-updates group with 6 updates:

| Package | From | To |
| --- | --- | --- |
| [step-security/harden-runner](https://github.com/step-security/harden-runner) | `2.7.0` | `2.7.1` |
| [actions/checkout](https://github.com/actions/checkout) | `4.1.3` | `4.1.4` |
| [github/codeql-action](https://github.com/github/codeql-action) | `3.25.2` | `3.25.3` |
| [actions/dependency-review-action](https://github.com/actions/dependency-review-action) | `4.2.5` | `4.3.1` |
| [paambaati/codeclimate-action](https://github.com/paambaati/codeclimate-action) | `5.0.0` | `6.0.0` |
| [actions/download-artifact](https://github.com/actions/download-artifact) | `4.1.6` | `4.1.7` |


Updates `step-security/harden-runner` from 2.7.0 to 2.7.1
- [Release notes](https://github.com/step-security/harden-runner/releases)
- [Commits](https://github.com/step-security/harden-runner/compare/63c24ba6bd7ba022e95695ff85de572c04a18142...a4aa98b93cab29d9b1101a6143fb8bce00e2eac4)

Updates `actions/checkout` from 4.1.3 to 4.1.4
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/1d96c772d19495a3b5c517cd2bc0cb401ea0529f...0ad4b8fadaa221de15dcec353f45205ec38ea70b)

Updates `github/codeql-action` from 3.25.2 to 3.25.3
- [Release notes](https://github.com/github/codeql-action/releases)
- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/github/codeql-action/compare/8f596b4ae3cb3c588a5c46780b86dd53fef16c52...d39d31e687223d841ef683f52467bd88e9b21c14)

Updates `actions/dependency-review-action` from 4.2.5 to 4.3.1
- [Release notes](https://github.com/actions/dependency-review-action/releases)
- [Commits](https://github.com/actions/dependency-review-action/compare/5bbc3ba658137598168acb2ab73b21c432dd411b...e58c696e52cac8e62d61cc21fda89565d71505d7)

Updates `paambaati/codeclimate-action` from 5.0.0 to 6.0.0
- [Release notes](https://github.com/paambaati/codeclimate-action/releases)
- [Changelog](https://github.com/paambaati/codeclimate-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/paambaati/codeclimate-action/compare/a1831d7162ea1fbc612ffe5fb3b90278b7999d59...b74bb25d2074a4bc16bd06fffc1b299c07b1f886)

Updates `actions/download-artifact` from 4.1.6 to 4.1.7
- [Release notes](https://github.com/actions/download-artifact/releases)
- [Commits](https://github.com/actions/download-artifact/compare/9c19ed7fe5d278cd354c7dfd5d3b88589c7e2395...65a9edc5881444af0b9093a5e628f2fe47ea3b2e)

---
updated-dependencies:
- dependency-name: step-security/harden-runner
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: github/codeql-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
- dependency-name: actions/dependency-review-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
  dependency-group: github-action-updates
- dependency-name: paambaati/codeclimate-action
  dependency-type: direct:production
  update-type: version-update:semver-major
  dependency-group: github-action-updates
- dependency-name: actions/download-artifact
  dependency-type: direct:production
  update-type: version-update:semver-patch
  dependency-group: github-action-updates
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump version and update changelog
docs: add mikekidner as a contributor for doc ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

---------

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
chore: convert static method to separate function

as per suggestion of danyeaw","Features
Control visibility of requirements @teunhoevenaars ()
Bug Fixes
Re-enable auto-layout tests @teunhoevenaars ()
Windows: Fix couldn't load MyriadPro font warning @danyeaw ()
Add the zoom buttons back @amolenaar ()
Workaround: Install GTK 4.14.0 on macOS until 4.14.4 is available @amolenaar ()
Fix: deal with absence of attributes @amolenaar ()
Follow-up PR for cancellation of transactions  @amolenaar ()
Maintenance
Replace macOS certificate import by a script @amolenaar ()
Documentation
Update screenshots for newer libadwaita style @mikekidner ()
Translation
Update translations for Gaphor @weblate ()
Update translations for Gaphor @weblate ()
Update translation for docs.gaphor.org @weblate ()
Thanks again to @0lione, @FDzhang, @amolenaar, @danyeaw, @finnurthorisson, @linfindel, @mikekidner, @ovari, and @teunhoevenaars!"
"Bump hypothesis from 6.90.0 to 6.91.0 ()

Bumps [hypothesis](https://github.com/HypothesisWorks/hypothesis) from 6.90.0 to 6.91.0.
- [Release notes](https://github.com/HypothesisWorks/hypothesis/releases)
- [Commits](https://github.com/HypothesisWorks/hypothesis/compare/hypothesis-python-6.90.0...hypothesis-python-6.91.0)

---
updated-dependencies:
- dependency-name: hypothesis
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Clear notify handler when diagram is closed

Clear the handler when the diagram widget(s) are destroyed.
Bump actions/dependency-review-action from 3.1.3 to 3.1.4 ()

Bumps [actions/dependency-review-action](https://github.com/actions/dependency-review-action) from 3.1.3 to 3.1.4.
- [Release notes](https://github.com/actions/dependency-review-action/releases)
- [Commits](https://github.com/actions/dependency-review-action/compare/7bbfa034e752445ea40215fff1c3bf9597993d3f...01bc87099ba56df1e897b6874784491ea6309bc4)

---
updated-dependencies:
- dependency-name: actions/dependency-review-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Fix wrong filename for schema path
Expose settings as functions

This makes it more explicit which settings can be set.
Also make sure that the color scheme is enforced on startup, according to user preferences.
rename dark-mode-selection to style-variant

It's not only dark, but also light mode.
Make style variat updates reactive

Update application color scheme based on the selected value.
Register session on Darwin, so DnD open files works
Fix libadwaita 1.4.0 missing for hypothesis tests
Catch errors when a clipboard is empty
Fix python not found
Add support for dropping SysML diagrams on diagrams
Fix grouping: allow to group to ""root""
docs: add 3fla1416 as a contributor for bug ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

---------

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
Bump version, update changelog
Simplify GSettings schema self test
Bump pypa/gh-action-pypi-publish from 1.8.10 to 1.8.11 ()

Bumps [pypa/gh-action-pypi-publish](https://github.com/pypa/gh-action-pypi-publish) from 1.8.10 to 1.8.11.
- [Release notes](https://github.com/pypa/gh-action-pypi-publish/releases)
- [Commits](https://github.com/pypa/gh-action-pypi-publish/compare/b7f401de30cb6434a1e19f805ff006643653240e...2f6f737ca5f74c637829c0f5c3acd0e29ea5e8bf)

---
updated-dependencies:
- dependency-name: pypa/gh-action-pypi-publish
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>","Bug Fixes
Fix grouping: allow to group to ""root"" @amolenaar ()
Add support for dropping SysML diagrams on diagrams @amolenaar ()
Catch errors when a clipboard is empty @amolenaar ()
Fix DnD file opening on macOS @amolenaar ()
Fix wrong path in project flatpak manifest @danyeaw ()
Fix TypeError when changing to dark mode @amolenaar ()
Maintenance
Fix libadwaita 1.4.0 missing for hypothesis tests @danyeaw ()
Settings cleanup @amolenaar ()
Simplify GSettings schema self test @amolenaar ()
Thanks again to @amolenaar and @danyeaw!"
"Add admin CLI tool to refill message to ElasticSearch ()

* Add admin cat indices

* Add admin index

* Fix lint

* Increase CLI version to 0.5.9

* Add muttley to es client
docker release 0.5.2 ()

Release 0.5.2 in docker compose
Workflow retry incorrectly set attempt on start event of new run ()

Workflow execution with retry policy does not update attempt on
new run and always sets it to 1.  This results in retry policy to
never fail the execution based on attempt.  Fixing the mutablestate
update to use correct value for attempt from the new start
attributes.
Also added integration tests to validate attemp on start attributes
and also test bailout using attempt or non-retryable errors from
the policy.
Docker release v0.5.3 ()

* Update docker readme

* Update docker to 0.5.3
Handle missing start workflow replication events conflict resolution ()

* Handle missing start workflow replication events conflict resolution
Fix race condition in ES bulk processor ()

* Fix race for es bulk processor

* Improve uint test
docker/README.md: CLI: how to register new domain ()

Specify ""host"" as the network when start Cadence-ClI with docker.
`docker run --network=host --rm ubercadence/cli:master`
Support GetWorkflowExecutionHistory API from archival ()
Rreduce uncessary replication calls ()

* Reduce unnecessary replication calls
* Remove noisy logs
persistence: API changes to support tasklist cleanup ()
Update archival config ()
Fix CronSchedule for child workflow ()
Add context timeout logging in frontend RPC handler ()
Handle out of order workflow replication ()

* Handle out of order workflow replication
Update README.md ()
matching: tasklistmanager refactoring ()
Fix workflow reset input validation ()
Bugfix: there shall be no events in history after workflow finish event. ()

* Bugfix: there shall be no events in history after workflow finish event.
Change visibility closed_time to use last event timestamp ()

* Change visibility closed_time to use last event timestamp

* Move writeCompletionEventToCache to replicate APIs

* Remove GetLastUpdatedTimestamp API
In cluster paused state delete history until backfill is in place ()
Fix write complete event backward compatibility issue ()

* Fix write complete event backward compatibility issue

* Fix continueAsNew missing CompletionEventBatchID

* Fix typos
Fix workflow reorder ()

* Revert ""Handle out of order workflow replication ()""
This reverts commit e9ac5638e2b38024edccf313f215e91a0bd991dd.

* Handle out of order workflow replication correctly","This release include some bug fixes and feature improvements.
New Features and Improvements
Cadence Cross DC Improvements
Handle missing start workflow replication events
Reduce unnecessary replication calls
Handle out of order workflow replication
Fix workflow reorder
Elastic Search For Visibility Store  Improvements
Fix race condition in ES bulk processor
Documentation
docker/README.md: CLI: how to register new domain
Update README.md
Archival Support
This feature is still in development and not ready for production.
Support GetWorkflowExecutionHistory API from archival
Update archival config
In cluster paused state delete history until backfill is in place
SQL Improvement
This feature is still in development and not ready for production.
persistence: API changes to support tasklist cleanup
Matching Service Improvement
matching: tasklistmanager refactoring
Bugfixes
Workflow retry incorrectly set attempt on start event of new run
Fix CronSchedule for child workflow
Fix workflow reset input validation
Bugfix: there shall be no events in history after workflow finish event
Change visibility closed_time to use last event timestamp
Fix write complete event backward compatibility issue
MISC
Add context timeout logging in frontend RPC handler"
"Load @HTMLImport before @JavaScript ()

Typically HTML imports do not have external dependencies but
define their dependencies inside the HTML. On the other hand,
there are situations where you want to load an extension/plugin
for an HTML import (web component) after the HTML import has been
loaded. To order is therefore changed to HTML first, JS later.

To load HTML/JS in a predefined order, use
Page.addHtmlImport/Page.addJavaScript which will load the files in
the order the methods are called.
Update version to 0.0.12-SNAPSHOT ()
Update to latest jsoup (1.9.2) ()
Remove redundant type specifications and correct static references ()
Add empty attributes as booleans in outer HTML ()
Use case sensitive version of jsoup ()

Fixes
Make template interpret attributes as lower case again ()

This was broken by the update to a case sensitive jsoup.
Now attributes are case insensitive while properties are
case sensitive.
Include the name of the violating style property in the error ()
Fix launch configurations to match project names ()
Refactor server-side template model to use a type definition ()

This is the first part of
Fix tutorial missing text ()
Remove Chrome Frame support ()

Chrome Frame was discontinued a long time ago
Clear old styles when setting the 'style' attribute ()
Extract template bound class list to a stand-alone class ()
Provide the view type as a parameter to getParentViewTypes. ()

View type class of a ViewRendere is available when getParentViewTypes is
called. Pass it as a parameter to this method to avoid calling the
getViewType() method in an implementation.

Fixes.
Support static 'style' attributes in template ()
Assert streams are not created for null arrays ()
Implement basic pre rendering support ()

Fixes
Test for parsing camelCase class names ()
Take prerendering into account when counting session size buttons ()
Update GWT to latest snapshot ()

Fixes
Include style sheets on the initial page ()

This makes it possible to have a styled pre-rendered version of the page.
This addresses for style sheets but not for other types of dependencies.
Populate model with default values ()

This is a workaround which should be removed once is implemented

Fixes
Allow setting a custom navigation handler for error views ()

StaticViewRenderer is adjusted to fit the framework's use cases
TestViewRenderer types handle the simplistic testing cases","New features
Pre-rendering of the initial view
Enables search engines to index the application
Shows the view to the end user before any JavaScript has been loaded and initialized
Support for testing pre-rendering through ?prerender=only/no
Stylesheets are immediately loaded. Previously the client engine was started before loading any dependencies.
Possibility to override how the error view is created by using the RouterConfiguration.setErrorHandler method.
Fixes
All special characters are now correctly encoded when sent to the client.
Template parsing is now case sensitive
Binding to camelCase properties in a template now works
Binding to camelCase class names in a template now works
Element.getAttribute(""style"") and Element.getStyle() works correctly for template elements
Previous inline styles are correctly cleared when using Element.setAttribute(""style"",""..."")
Boolean attributes are correctly rendered as attr instead of attr=""""
Overridable methods in ViewRenderer get more context for making decisions and avoiding to calculate the same values multiple times.
Demos
No demo updates this time.
Tutorials
No tutorial updates this time.
All changes"
"Install VS2019 and fix gtksourceview project name
Bump version and rerelease [skip ci]","Changes
Maintenance
Refactor: replace try..except with if clauses @amolenaar ()
Thanks again to @amolenaar and @danyeaw!"
"Release v1.2.3 ()
Remove database check for config store tests ()
Fix persistence tests setup ()
Implement config store for MySQL ()
Retract v1.2.3 ()
Implement config store for PostgresSQL ()

* Implement config store for PostgresSQL

* Fix config store client
Release v1.2.4 ()","What's Changed
Remove database check for config store tests by @Shaddoll in
Fix persistence tests setup by @Shaddoll in
Implement config store for MySQL by @Shaddoll in
Retract v1.2.3 by @sankari165 in
Implement config store for PostgresSQL by @Shaddoll in
Release v1.2.4 by @Shaddoll in
Full Changelog: v1.2.3...v1.2.4"
"Make inactive nodes mark their children as dirty on setInactive ()

* Make inactive nodes mark their children as dirty on setInactive

This moves the setting of dirty nodes out of the collectChanges method.

When using long-polling push, the client keeps asking for changes from
the server. The server then collects all the changes and sends to the
client. The problem is: a child node is always considered `dirty`, if
its parent is invisible, and the node is always included in the changes
sent to the client.

Since there's not a single moment where there's nothing to send, the
server keeps sending the changes, and the client keeps asking for the
changes. This creates a busy loop between client and server, which only
ends when the parent node is made visible again.

To prevent this, this patch changes this logic to make the children
nodes only dirty when the parent visibility changes.

Fix
Add API diff via profile in the vaadin-parent project () ()

* Add API diff via profile in the vaadin-parent project

Fix for
Add NPE messages for HasComponents ()","Vaadin Flow 1.0.3 is a maintenance version with the following fixes:
Add NPE messages for HasComponents ()
See complete list of changes since previous version"
"Update docker-compose for 0.22.2 patch release
Fix mysql insecure hostname verify didn't work ()
Update docker-compose for 0.22.3 patch release","Schema/configuration change
None.
Release commits
Bug fix
e710c0f - Fix mysql insecure hostname verify didn't work ()
Improvement
Note
Credits
Thank you @git-hulk   for the contribution!"
"Fix JavaDoc typos ()
Treat URLs with ""context"" and ""base"" schemas as external  ()

* Consider context/base schemas as external URLs

Fixes","Changes since 2.3.6
fix: JavaScript annotation doesn't work with context:// URLs in npm mode ()
For all changes, see changes since 2.3.6
For what is new in 2.3, see 2.3.0 release notes"
"fix: Use IOUtils toStream and toString () ()

* fix: Use IOUtils toStream and toString

Use IOUtils toString and toInputStream
to not change any characters in the file content.

fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: update the used Opcode from 7 to 8 () ()

Update used ClassVisitor ASM version
from 7 to 8 to support Java16 record

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: Change construct-style-sheets-polyfill to be a runtime dependency () () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Artur <artur@vaadin.com>
chore: an inconcistency about the attribute name in HierarchicalFilterUtils.java () ()

Co-authored-by: Akihiro Asahara <akihiro.asahara@gmail.com>

Co-authored-by: S. B. Hunter <83890001+sider-bughunter@users.noreply.github.com>
Co-authored-by: Akihiro Asahara <akihiro.asahara@gmail.com>
fix: Remove old router layouts content before navigation ()

Recursively removes content of the all nested router layouts of the given old content when the navigation occurs.
This is needed to let Dependency Injection frameworks (Spring and CDI add-ons) to re-create managed components with no duplicates/leftovers.

Fixes vaadin/cdi

Co-authored-by: @roeltje25

(cherry picked from commit 5f5fdcd1754bd283ba3f787d3d4dee0ca57955de)
test: Explicitly register test servlet in OSGi () ()

Explicitly registers RouterLayoutCustomScopeServlet in OSGi.

Related-to

(cherry picked from commit 4a8dc42a874c62a5ed6a0b8729286f4550b1f61c)
fix: don't update cached extended details inside callback () ()

Makes fetching extended client details work for Multiplatform Runtime.

Fixes vaadin/multiplatform-runtime-internal

Co-authored-by: Denis <denis@vaadin.com>
fix: fix external url reference () ()

Fix the handling of external url reference in files that go into node_modules.
flow-frontend is copied directly to node_modules making css-loader
try to resolve urls for files that shouldn't be resolved.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: Using a custom RouteRegistry () () (CP: 2.6) ()

Make it possible to create a custom RouteRegistry and add test module for it.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: use x64 version for mac for old nodejs () ()

Use the x64 package for mac if the installed node version is < 16.0.0 as ARM package is not available before this.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
test: fix mockito errors accessing protected API in JDK16 () (CP: 2.6) ()

* test: fix mockito errors accessing protected API in JDK16 () (CP: 6.0)

related to https://github.com/vaadin/flow-components/issues/997
related to https://github.com/vaadin/flow-components/issues/998

* test: fix compilation in migration tool

* test: fix compilation in maven plugin
fix: Annotate default error handlers. () () ()

Annotate default error handlers with
the new annotaton DefaultErrorHandler
so that we can also in add-ons have default
handlers that can be overridden by user
handlers.

Part of vaadin/spring

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: prevent passing bad character to wp () ()

The webpack dev-server does not escape "" character, as it is not valid
URL. This limitation was not checked when passing request to it via
DevModeHandlerImpl.
fix: don't serve directories as static files () ()

Add check to the resource to see
if it is a directory and do not serve
if this is the case.

Fixe
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/server/StaticFileServer.java

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: set routes first into the template () ()

fixes psi

Co-authored-by: Denis <denis@vaadin.com>","Vaadin Flow 2.6.2
Changes in Flow from 2.6.1
Fixes:
Set routes first into the template (). PR:11128.
Don't serve directories as static files (). PR:11122
Add check to the resource to see if it is a directory and do not serve if this is the case. Fixe # Conflicts: #       flow-server/src/main/java/com/vaadin/flow/server/StaticFileServer.java
Prevent passing bad character to wp (). PR:11116
The webpack dev-server does not escape "" character, as it is not valid URL. This limitation was not checked when passing request to it via DevModeHandlerImpl.
Annotate default error handlers. () (). PR:11092
Annotate default error handlers with the new annotaton DefaultErrorHandler so that we can also in add-ons have default handlers that can be overridden by user handlers. Part of vaadin/spring
Use x64 version for mac for old nodejs (). PR:11070. Ticket:11060
Use the x64 package for mac if the installed node version is < 16.0.0 as ARM package is not available before this.
Using a custom RouteRegistry () () (CP: 2.6). PR:11058. Ticket:11022
Make it possible to create a custom RouteRegistry and add test module for it.
Fix external url reference (). PR:11061. Ticket:11015
flow-frontend is copied directly to node_modules making css-loader try to resolve urls for files that shouldn't be resolved.
Don't update cached extended details inside callback (). PR:11051. Ticket:473
Makes fetching extended client details work for Multiplatform Runtime.
Remove old router layouts content before navigation. PR:10973. Ticket:345
Recursively removes content of the all nested router layouts of the given old content when the navigation occurs. This is needed to let Dependency Injection frameworks (Spring and CDI add-ons) to re-create managed components with no duplicates/leftovers. (cherry picked from commit 5f5fdcd)
Change construct-style-sheets-polyfill to be a runtime dependency () (). PR:11006. Ticket:10988
Update the used Opcode from 7 to 8 (). PR:10986. Ticket:10870
Update used ClassVisitor ASM version from 7 to 8 to support Java16 record
All changes"
"Do not throw for @ParentLayout w/o RouterLayout

Logs an error instead, which is not very visible but prevents breaking any existing apps.
Upgrade byte buddy dependency ()

Fixes
Disable failing tests.
Move webcomponentjs to compatibility package

Fix plainServlet import.
Fix initializer test for windows.
Add flow-server-compatibility-mode to misc-bower-tests.

# Conflicts:
#	flow-server/src/test/java/com/vaadin/flow/server/startup/DevModeInitializerTest.java
Increase Chrome version
Update command expectation

Update to expect note + npm instead of
only npm when in .vaadin folder.
Fix test expectations now that polyfills used.

# Conflicts:
#	flow-migration/src/test/java/com/vaadin/flow/migration/MigrationTest.java
Be aware of skinny war workaround in OSGi support ()

Fixes","Vaadin Flow 2.1.9 is a maintenance release for Vaadin 14.1 with the following changes:
Bugfixes and enhancements
Return OSGi support  back (a regression introduced in the previous release)
Make it possible to use Java 14
See all the changes in Flow 2.1.7"
"Avoid asking classloader on servlet context. ()

(cherry picked from commit 1bb71b340e5c326c6432354f8134e734d0c7c0bb)
Use setStatus for non error response code ()

Fixes

(cherry picked from commit 69a9d2ef7b7ba55277b70c73a4bcf1ea9422423f)
Visit method references in byte code traversal ()

* Fix

(cherry picked from commit 7401fe75797a7ce58da82806b5103da1f1de719b)
Visit implemented interfaces when preparing frontend. ()

* Visit implemented interfaces.

* Fix comments. Test css imports annotations.

(cherry picked from commit d90d8aa441844a85e1c0ee280cc658331fbb7fdc)
Fix off by one error ()


(cherry picked from commit b8698b4fc1e2cbf1bea4df25ca8eb7682a9cc087)
Use application id to call client side app context methods ()

Fixes

(cherry picked from commit 27ec66cb99aa7ce908c5f4990a81a8b35c760d4f)
List supported types in @EventData javadocs ()


(cherry picked from commit a3697616efb90e4455e10ce2279bebf9e66ecf9c)
Fix bug. ()


(cherry picked from commit 91fa69ee0b68b52a6d62733830fdd42b5fdc3c90)
Report usage statistics as expected by the P3 collector ()

When using npm and Polymer 3, Vaadin web components are exported in the
`window.Vaadin.registrations` array instead of the Polymer 2 way that
was based on properties on `window.Vaadin`.

There is no automatic test because of the way this feature depends on
timeouts and needs integration with `vaadin-usage-statistics`.

(cherry picked from commit d0cf39823413d89c4c19aaf117f21fa524a7ccf3)
Remove duplicate import entries from generated-flow-imports.js

(reimplemented since the fix was originally in a different class)

(original commit 0b8a74cc8f71514206539df22eb774c8393e2306)","Vaadin Flow 2.0.16 is a maintenance version with the following notable changes:
Fixed issues
Visit method references in byte code traversal ()
Visit implemented interfaces when preparing frontend. ()
Report usage statistics as expected by the P3 collector ()
All changes
See all the changes in Flow 2.0"
"Stop logging error when updating dev dependencies ()

As there is a conflict with the dependencies and prevent adding
the flow-dev-dependencies package to the platform (), this will hide
the unavoidable error that was logged for Vaadin apps.
 
Fixes
fix: use provided executor for frontend tools ()

fixes vaadin/spring
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/server/DevModeHandler.java
#	flow-server/src/main/java/com/vaadin/flow/server/startup/DevModeInitializer.java
test: Fixed flaky tests caused by variable ui in ValidatorTestBase.java ()

Added a ui variable in the ValidatorTestBase class to attach strong reference, in order to avoid garbage collecting it during the test run.
fix: encode attribute value during transfer from embedded web app ()

encode attribute value during transfer from embedded web app

# Conflicts:
#	flow-server/src/test/java/com/vaadin/flow/server/communication/WebComponentBootstrapHandlerTest.java
fix: use ordered Set for deterministic CompositeDataGenerator  ()

Use LinkedHashSet (not HashSet) to keep the order of data generators in CompositeDataGenerator.

Fixes: https://github.com/vaadin/flow/issues/9656
chore: update ChromeDriver to 87.0.4280.88 ()

this is a patch update
# Conflicts:
#	flow-client/intern.json
Remove lookup mock for 2.4
fix: flaky unit test due to race for port numbers ()


# Conflicts:
#	flow-server/src/test/java/com/vaadin/flow/server/DevModeHandlerTest.java
fix: avoid BeforeClient executions for nodes with different StateTree ()

fixes","Changes since 2.4.3
Bug Fixes:
Make CompositeDataGenerator is not deterministic ().
Avoid sending JS code execution for the wrong UI (using PreserveOnRefresh) ()
Other Updates:
Encode attribute value during transfer from embedded web app ()
For all changes, see changes since 2.4.3
For what is new in 2.4, see 2.4.0 release notes"
"Make session expired test stable () ()

* Make session expired test stable ()

* Make session expired test stable

Fixes

* Reset system message provider before running any test
Update web-pack version

Fixes
Return back lost import
Backport disable audit for npm ()

Fixes
CP: Accept only major version String in FrontendVersion CTOR () ()

Fixes
Clean up temp file if not used. ()

Fixes
Update vaadin-parent-2.0.2 () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
Collect all error lines ()

Collect lines from error until
a empty line or i (information) line marker.

Fixes
Compare frontend locations to vfs patterns first () ()

Co-authored-by: eriklumme <erik@vaadin.com>
Make a workaround for skinnywar/Wildfly ()

Fixes
Validate Route and ParentLayout annotations presence at the same time ()

* Validate Route and ParentLayout annotations presence at the same time

Fixes

* Correct unit test

* Improve wording
Reload the page on ESC ()

* Reload the page on ESC

Fixes

* Add IT test

* Check if test fails

* Merge master into 6284-reload-page-on-esc

* Remove not working test

# Conflicts:
#	flow-client/src/main/java/com/vaadin/client/SystemErrorHandler.java
Lock terser version to 4.6.7 ()","Vaadin Flow 2.1.7 is a maintenance release for Vaadin 14.1 with the following changes:
Warranty Fixes:
Not possible to use skinnywar in Vaadin14 ()
Escape key after session expiration doesn't reload the page ()
Bugfixes
Avoid confusingly ignored @ParentLayout ()
Compare frontend locations to vfs patterns first ()
Webpack error in browser should include the useful information ()
Flow components spamming /tmp folder! ()
ArrayIndexOutOfBoundsException in FrontendVersion if the minor version is not specified ()
fix npm audit warning https://npmjs.com/advisories/1488 ()
Do not run npm audit on npm install ()
All changes:
Milestone
Commit comparison
See all the changes in Flow 2.1"
"Store scroll position in state when entering route not found view ()

* Store scroll position in state when entering route not found view

* Removed unused method. Only throw for other events than ErrorNavigationEvent.

* Modified logic to only push state for route not found error
Update chrome version to 84 ()
Fix drivers zip hash ()
Use fake iframe element to check reload result and replace on success. ()

Avoid reload() method whose usage may lead to showing a blank page
because server is not yet restarted. Instead use a fake iframe element
inside gizmo which refers to the same URL. Its window may be reloaded
safely and the result can be checked before applying it to the main
document. If reload was successful (page is initialized with Vaadin JS)
then replace the document content  with the content of iframe.

Fixes
Adapt cherry-pick for 2.3
Add forgotten properties to InitParameters from Constants in 2.3 ()

Fixes","Bugfixes since 2.3.1
Live reload shows offline page instead of reloading the page on slower machine ()
2.3 version is missing a number of servlet init parameters in InitParameters class ()
For all changes, see changes since 2.3.1
For what is new in 2.3, see 2.3.0 release notes"
"Revert 'Overload EmailValidator to accept an empty value' feature ()
Add peer dependency forcing mechanism to VersionsJsonFilter ()

* Update VersionJsonFilter to use forced dependencies

* Update TaskRunPnpmInstallTest

Update tests to correctly test new expectations for PnpmInstall stage

* Update VersionJsonFilterTest

Change VersionJsonFilterTest in order to accomodate new behaviour when filtering versions
Update compression plugin ()

Fixes
Update expected Chrome to 85 ()

# Conflicts:
#	flow-client/intern.json
Fix redirect/forward for Optional HasUrlParameter ()

When redirecting to a HasUrlParameter class
with optional parameter call should be made with
empty parameter so that setParameter is called.

Fixes
Fix log time units ()
Don't use the deprecated method ()

Stop using the method that was deprecated in 1.11.1

Closes","Changes since 2.3.4
Fix redirect/forward for Optional HasUrlParameter ()
Don't use a deprecated Jsoup method that is removed in newer version ()
Force local package.json versions for pnpm with peer dependency forcing mechanism ()
Update webpack compression plugin ()
Fix log time units for webpack startup ()
For all changes, see changes since 2.3.4
For what is new in 2.3, see 2.3.0 release notes"
"Avoid for..of loop in renderer ()
Add DOM listeners before attaching the element () ()

Fixes
Catch Throwable during maps sync handling () ()
Register superclass in case of route target collision () ()

Fixes
Check the function presence before calling it ()

Check the function presence before calling it and take care about children property as well.

Fixes
enable TrackMessageSizeInterceptor to deal with multiple messages in same response
test for _trackMessageSize responsible to handle multiple messages coming from a single response
refactor imports
refactor TrackMessageSize test
using IOUtils to read from InputStream
Test for Long Polling when multiple threads run within a short period
Enhanced code
refactor getFileContent to use full path to retrieve vaadinPush.js
Correct javadocs for DomEvent ()

Fixes
Handle empty attribute values properly in HTML element () ()

Fixes
Fix navigate back to main view don't work in FF and Safari . () () ()
Only make banner the target of pointer events () ()

Currently the prompt consists of a full width transparent `#pwa-ip` div which is preventing click in elements behind it, and a `.banner` div which should be clickable","Vaadin Flow 1.4.3 is a maintenance version with the following notable changes:
Fixes
Exception in ValueChangeEvent still freezes UI
Abstract view annotated with @route gets published
Fix TypeError when using Text in ComponentRenderer
Using HTML boolean attribute causes IllegalArgumentException
Fix navigation failure in FF and Safari
See the complete list of changes since the previous version"
"Cherry pick from master ()

   - attributes with no values are being skipped in the TemplateDataAnalyzer ( they cannot contain any bindings anyways )
   - flow-server now uses the same jsoup-version as the rest of the project
   - PolymerTemplateTest now has templates with value-less attributes

(cherry picked from commit 64657bfbc62a85a076d88c29871b4901c23157ba)
Do not use path info if it is null. ()

(cherry picked from commit be68fd90feacd51744fdc44deb98d23aa3884ae6)
Get path info from VaadinRequest () ()

(cherry picked from commit 69f42d41bb2ae9ecba2a9a0db6404fc41555a14a)
Fixing NPE when unbind is called during readBean ()

(cherry picked from commit 40eb2f81727e99b86d2fb1c1a11fd14fe73a3330)
Make the focus call delayed ()

The the focus call will execute under a setTimeout function, allowing
webcomponent to be attached and ready before the actual call. This fixes
the problem of calling focus() on components attached by the
flow-component-renderer inside a template, such as in Grid inline
editors.

(cherry picked from commit f126124387be4fbc1a5c286c0cc2106f5573a41f)
Make a correction in bundle tracker and use felix-jetty instead of jetty-osgi-boot ()

* Felix jetty provides an HttpService so no needs in custom hacky HttpService impl
* Remove all classes related to hacky HttpService impl
* Register servlets using HttpService as well without relying on @WebServlet annotation
* Fix all the servlets due a bug in class loader (register fixed servlets)

(cherry picked from commit 2a4c6e6e0455fb9ad7db1a423944971cb28dc636)
Read client engine file only when it's needed first time ()

Fixes

(cherry picked from commit 031d9fe8b7fe951658e0369f2a382a67198e3bef)
Make theme modules OSGi compatible ()

Fixes

(cherry picked from commit 44da28b7d8596ceaab7daf1a378e4bf3549033f1)
Excluding osgi packages from serializable test to avoid any `NoClassDefFoundError` in validation of components that are not depend on OSGi. ()

(cherry picked from commit 0e7239c12cc43b4c761fddb59ee56673d945dc09)
Avoid set navigation targets if they are not yet available ()

Fixes

(cherry picked from commit f362a13ae7d0d0dc655573b2df452c1a2399b221)
Add custom page response for IE11 in devmode ()

Makes it quite obvious that IE11 is still supported, but requires
production mode to be run.

(cherry picked from commit c2445da459a4bf762046100af795e00415406b3b)
Fix PWA install prompt styling ()

* Styled PWA install prompt

Notes:
- The default button text should be “Install”, not “Add to Home Screen”
- The “Install / Add to Home Screen” help text needs to be translatable

* Change PWA install prompt button text

Use ""Install"" instead of ""Add to home screeen""

* Fix rounded edges from default app icon

(cherry picked from commit b6a665169b826bd1493a0786c28333520077457b)","Vaadin Flow 1.2.2 is a maintenance version with the following notable changes:
Bug fixes
Fix the theme modules to be OSGi compatible
Make it obvious in development mode that IE11 is still supported, but requires production mode to be run (by showing a page including the required instructions on how to run the app on IE11)
Change ""Add to home screen"" prompt for PWA to ""Install""
Fixing an NPE when the Binder.Binding.unbind is called during Binder.readBean
Fixing initial focus bug in Grid inline editor
Fixing some OSGi related issues
Removing the dependency of PWA on a certain theme
See complete list of changes since previous version"
"Rename test in ServletDeployerTest and add some comment back to ServletDeployer
Allow to set parent to null for root node (UI element). ()

* Allow to set parent to null for root node (UI element).

Fixes

* Move the field into enclosing class to be able to initialize it before
class construction

(cherry picked from commit 233b24ddc70cf1329bcda78a594349da9ff8af1d)
Check location's query parameters in addition to path in  server round-trip triggering logic in PopStateHandler
Chromedriver 76 update () ()
Apply fix for StreamReceiverHandler upload file name to 1.4 branch ()
Avoid trying to focus a detached element ()

All new tests except detachAfterFocus_nothingScheduled were passing also
before this fix.

(cherry picked from commit 329b5f6c48ddfee8733b195058d629c8d9804ba7)
Fix FocusableTest to be 1.4 compatible
Clarify that ""limit"" is the number of items to fetch ()

With the original phrasing, ""limit"" could potentially also be understood
as the index of the last item to fetch.

Related to

(cherry picked from commit aa23fcd566086c3d6aba0e91f7d9d0ffe3c3e262)
Fix typo in error message ()

Fixes

(cherry picked from commit e3627a6e6814042a823e76a524da8cb4c6347358)
Mark the production mode web fragment as distributable ()

A distributable web application only adds serializable values to the
servlet session, which means that sessions can be distsributed between
multiple nodes in a cluster. An application cannot be distributable if
any web fragment that it uses isn't also marked as distributable. The
marker has no effect if the application itself isn't also marked as
distributable.

Fixes

(cherry picked from commit 8186255dbf81c890fa96977f80f3d7a0dbfd6eb6)
Update dependency to fix the security alert ()

(cherry picked from commit a1587a7fb0b20f2f1d391c2d8136cc7cb2943180)","Vaadin Flow 1.4.8 is a maintenance version with the following notable changes:
Fixes
Allow setting parent to null for the root node (UI element) ()
Check location's query parameters in addition to the path in server round-trip triggering logic in PopStateHandler ()
Use Part.getSubmittedFileName instead of Part.getName in StreamReceiverHandler ()
Avoid trying to focus a detached element ()
Mark the production mode web-fragment as distributable ()
Update jackson-databind dependency to fix a security alert ()
See the complete list of changes since the previous version"
"Revert method rename and visibility modification to maintain API compatibility
Don't store parent registry in session route registry. ()

Fixes

(cherry picked from commit 3d934121aefbb7460db6f57c1d611f58ce877a05)
Fixed test module exclusions under -DskipTests ()
Set response status based on server handling logic status. ()

Fixes vaadin/vaadin-upload-flow
Fixed incorrect file upload status ()
Remove extra files. ()


(cherry picked from commit b1078ae0ab7d6ba9c1d48939c071cfd1ae655aae)
Use META-INF/frontend folder instead of META-INF/resources/frontend
()

Part of

(cherry picked from commit 55de31a65ee1975f0b6b3212d125d016dd0ca0a3)

# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/server/startup/DevModeInitializer.java
#	flow-server/src/test/java/com/vaadin/flow/server/startup/DevModeInitializerTest.java
Use compatibility mode for OSGi servlets. ()
Interpret JavaScript URLs starting with ""//"" as external URLs ()

Fixes
Fail for non existing folders in dev mode. ()

If the npm or frontend folders do not exist in the 
filesystem throw exception (Only fail if the frontend
folder is defined outside of the npm folder)

If the frontend folder is a subfolder to the npm, folder
and the npm folder exists do not fail as we will create
the empty frontend folder.

Fixes
Closes
Add log for failing path relativization. ()","Vaadin Flow 2.0.11 is a maintenance version with the following notable changes:
Fixes
Add log for failing path relativization ()
Fail for non existing folders in dev mode. ()
Don't store parent registry in session route registry. ()
Set response status based on server handling logic status. ()
Complete list of changes since 2.0.10
See all the changes in Flow 2.0"
"Support for incorrect webjar paths  ()

Add support to the StaticFileServer for understanding incorrect webjar paths generated by the production build.
Remove copyProjectFrontendResources from prepare-frontend ()

* Remove copyProjectFrontendResources from prepare-frontend

* clean imports
Maven 3.3.9 compatibility fix ()

Downgrade frontend-plugin back to 1.6
Ignore KeyUpEvents without a key ()

Ignore KeyUpEvents without a key. These can be sent by Chrome's password manager when autofilling passwords and usernames.
Enable running npm project without maven ()

* Enable running npm project without maven

Enable generation and copying of all
required files without the need to execute maven.

Note! to run in npm mode without maven
the file `src/main/resources/META-INF/VAADIN/config/flow-build-info.json`
with the content `{ ""compatibilityMode"": false }`  needs to exist in the project.

* Fix test to accept the new functionality.

* Remove un-used variable

* More aggressive copying

Copy frontend files if they are missing.

* Method name update.
5582 lost context path ()

* Navigate to '.' instead of '/' when navigating to the home view (empty route).

* Add integration test

* Fix LocationTest.pathShouldNotBeEmpty
Reuse webpack-dev-server when servlet-container reloads ()

* Fix Regression in DevServer not reusing already running webpack-dev-server.

- The regression was introduced in when removing the system property informing
  about the parameters of a webpack-dev-server already running.
- The solution in this commit is to write a temporary file in `tmp.dir` containing
  the info of the running webpack-dev-server.
- The file name is computed based on the JVM identifier and the thread group which
  is constant for the containers used in development (tc, jetty, spring-boot)
- Having an unique name for the file, allows to run multiple projects in the
  same machine
- The file is removed when the servlet container is stoped.
- There might be an issue, in the case we want to start two servlet-containers
  in the same JVM, but that is a very corner case.

* Fix Regression introduced in context listeners killing the webpack daemon for each re-deploy.

- The regresion was introduced in when introducing a StopDevMode listener
  that stops webpack whenenver the servlet container reloads
- If we want to stop daemon for testing purpouses the solution is to pass a
  parameter from the test build or better run jetty in fork mode.
- Actually it makes no sense to run tests with webpack-dev-server but webpack
  since java code does not change during the tests

* Do not store port in context, since we can get the DevModeHandler instance.
Use ADBLOCK when running npm install ()

* Use ADBLOCK when running npm install

Fixes
Fix test that is not clearing port on tear down ()
Fix npm version detection in Eclipse ()

Fixes
Removed custom join(...) implementations ()
Reformat JavaScript to use 2-space indents ()","Vaadin Flow 2.0.2 is a maintenance version with the following notable changes:
Fixes
Enable running npm project without maven ()
Reuse webpack-dev-server when servlet-container reloads ()
Maven 3.3.9 compatibility fix ()
Complete list of changes since 2.0.1
See all the changes in Flow 2.0"
"fix: add scope to dependencies () ()

Set all org.apache.maven artifacts to
provided scope.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: Updated ASM8 to ASM9 () ()

Update ASM to support Java 17

Co-authored-by: Matti Tahvonen <matti@vaadin.com>
chore: redistribute modules in CI actions () (CP: 9.0) ()

* chore: redistribute modules to avoid failures when running in the same folder () (CP: 9.0)

* chore: simpler condition when build fails ()
chore: use reflection when getting annotations of templates ()

Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>
chore: Upgrade workbox () ()

Related to https://github.com/advisories/GHSA-896r-f27r-55mw

Co-authored-by: Artur <artur@vaadin.com>
chore: Upgrade jaxb () ()

Should remove the warning

The POM for com.sun.xml.bind:jaxb-core:jar:2.2.11 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details

Co-authored-by: Artur <artur@vaadin.com>
fix: Do not throw NPE for UI.access called when session has expired () (CP: 9.0) ()

Fixes
chore: replace exec-maven-plugin with gradle-maven-plugin () ()

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
feat: add new usage data collection for dev-mode () ()

Collects usage statistics once a day in development mode.
Can be opt out with `devmode.usageStatistics.enabled` configuration parameter.

Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>
Co-authored-by: Artur Signell <artur@vaadin.com>

Co-authored-by: Sami Ekblad <sami@vaadin.com>
Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>
Co-authored-by: Artur Signell <artur@vaadin.com>
Revert ""chore: replace exec-maven-plugin with gradle-maven-plugin () ()"" ()

This reverts commit 193d65b61bff8350470d5248320ba2ff27fba9ad.
fix(Fusion): support PathPattern parsed mapping for endpoint prefix () ()

Fixes compatibility with Spring Boot 2.6, which uses PathPattern matching.

Fixes https://github.com/vaadin/fusion/issues/150
test: add script for better control of module/test splitting  () ()

* test: add script for configuring easier modules/tests in parallel builds

* test: use dynamic matrices based in external script, optimize build

* optimize pos and weight in modules

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
fix: outdated links to production mode docs () ()

* Fix outdated link to production mode docs

* Fix outdated link to production mode docs

Co-authored-by: Tarek Oraby <42799254+tarekoraby@users.noreply.github.com>
chore: close streams () ()

touches

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
test: Remove unnecessary shadow root helpers () (CP: 9.0) ()

* test: Remove unnecessary shadow root helpers ()

* fix formatting

Co-authored-by: Artur <artur@vaadin.com>
chore: update chromedriver to 96 () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
chore: Fix linting warnings () ()

* chore: Fix linting warnings

* chore: Fix linting warnings

Co-authored-by: Artur <artur@vaadin.com>
fix: Do not use --ignore-existing which is only available in npm 6 ()

While this might break some pnpm case, it will still help more to have consistent behavior across npm versions. Also the cases it might break are already broken for many users (npm 7+)

Fixes
chore: Update to Vite 2.7.4 ()

Co-authored-by: Artur <artur@vaadin.com>","Vaadin Flow 9.0.2
Changes in Flow from 9.0.1
New Features:
Add new usage data collection for dev-mode (). PR:12550
Collects usage statistics once a day in development mode. Can be opted out of with devmode.usageStatistics.enabled configuration parameter.
Fixes:
Do not use --ignore-existing which is only available in npm 6. PR:12406. Ticket:11963
While this might break some pnpm case, it will still help more to have consistent behavior across npm versions. Also the cases it might break are already broken for many users (npm 7+)
Outdated links to production mode docs (). PR:12555
Do not throw NPE for UI.access called when session has expired () (CP: 9.0). PR:12547. Ticket:12100
Updated ASM8 to ASM9 (). PR:12504
Update ASM to support Java 17
Fusion: Support PathPattern parsed mapping for endpoint prefix  PR:12556. Ticket:150
All changes"
"fix: don't fire shortcut event if ancestor of component is not visible () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: Remove old data provider listener on component attach () () ()

Fixes: https://github.com/vaadin/flow-components/issues/1914

Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
(cherry picked from commit 067f63f763827dd4453bea984549d1da6717373c)
Co-authored-by: Tatu Lund <tatu@vaadin.com>
(cherry picked from commit 174bd5d8953a0d247cdc36513795b9ceef2e07a6)

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
chore: change usage of deprecated TextNote constructor () ()

Removes usage of the deprecated TextNode constructor (String, String) in favour of the (String) constructor available in 1.11.x and 1.14.x allowing projects to upgrade the transitive jsoup depenency without waiting for an official release of Vaadin at the user's own risk.

Relates

Co-authored-by: Knoobie <Knoobie@gmx.de>
Revert ""fix: remove href attribute for disabled Anchor ()"" () ()

This reverts commit 97db70e443f9ee2cf7fd6b36f135083d51d3be6b.
fix: keep track of css injected to document () ()

Stops css/fonts from being loaded multiple times to the document with embedded applications.

Closes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: not fail for missing window.Vaadin.Flow () ()

Fixes regression caused by
Fixes

(cherry picked from commit 9cc240b2e7737336f8a45c810571099518fefb1e)

Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>
fix: add plugin dependencies to plugin package.json () ()

Fixes

Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>
Do not copy transfer encoding from the webpack dev server () ()

The transfer encoding used between Vaadin and the webpack dev server might be different than the encoding used between the user and Vaadin. The latter is determined by the server.

Co-authored-by: Artur <artur@vaadin.com>
fix: Do not use Flow namespace for information not related to Flow () ()

Fixes again. It was re-introduced in

Co-authored-by: Artur <artur@vaadin.com>
fix: bump webpack version in client package.json () ()

Fixes

Co-authored-by: Serhii Kulykov <iamkulykov@gmail.com>
fix: return ServletConfig during serbvlet destroy invocation () ()

fixes","Vaadin Flow 7.0.8
Changes in Flow from 7.0.7
Fixes:
Return ServletConfig during servlet destroy invocation (). PR:11711. Ticket:11624
Bump webpack version in client package.json (). PR:11691. Ticket:11668
Do not use Flow namespace for information not related to Flow (). PR:11688. Tickets:9905, 11669
Add plugin dependencies to plugin package.json (). PR:11680. Ticket:11621
Not fail for missing window.Vaadin.Flow (). PR:11672. Tickets:11635, 11666
Keep track of css injected to document (). PR:11658
Stops css/fonts from being loaded multiple times to the document with embedded applications.
Remove old data provider listener on component attach () (). PR:11602. Ticket:1914
All changes"
"test: do not run slow tests in normal validations () ()

* do not run slow tests in normal validations

* skip flow-client tests when in slow mode

* move test annotations and add license headers
chore: Vite 2.7 beta9 () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: Do not decode + as space () ()

Fix issue with URLDecoder handling of '+' character.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: remove duplicates when collecting BeforeEnterObservers () ()

Fixes a bug where the stream of BeforeEnterObservers could contain duplicates, causing extraneous calls to BeforeEnterObserver::beforeEnter for non-root components.

Fixes

Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>
fix: Render only one error page when trying to go to a view without access () ()

Before this, an additional error page was rendered below the current error page if an error occured when navigating from the error page (which happens if you click on a view you do not have access to)

Co-authored-by: Artur <artur@vaadin.com>
test: add GH actions for CI validations () (CP: 9.0) ()

* test: add GH actions for CI validations ()

* chore: set java 8 for pevious branches

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
chore: set fail-fast to false to GA matrices () ()

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
chore: add option to run manually validation action () ()

* chore: add option to run manually validation action

* test: mark slow (and flaky) tests with the corresponding category

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
feat: enable pwa for vite () ()

Enable pwa installation for vite.
PWA doesn't work in development
mode with this feature.

Part of
fix: Make linking to packages in the file system work () ()

Fixes https://github.com/vaadin/fusion/issues/126

Co-authored-by: Artur <artur@vaadin.com>
test: Use file: instead of link: for npm compatibility () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: Upgrade to Vite 2.7.0 () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: fix install locally string () ()

Remove duplicate install locally string
and use the one from FrontendTools that
has the version as DEFAULT_NODE_VERSION

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: add scope to dependencies () ()

Set all org.apache.maven artifacts to
provided scope.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>","Vaadin Flow 9.0.1
Changes in Flow from 9.0.0
New Features:
Enable pwa for vite (). PR:12507
Enable pwa installation for vite. PWA doesn't work in development mode with this feature. Part of
Fixes:
Add scope to dependencies (). PR:12528. Ticket:12499
Set all org.apache.maven artifacts to provided scope.
Make linking to packages in the file system work (). PR:12517
Render only one error page when trying to go to a view without access (). PR:12479
Before this, an additional error page was rendered below the current error page if an error occured when navigating from the error page (which happens if you click on a view you do not have access to)
Remove duplicates when collecting BeforeEnterObservers (). PR:12476. Ticket:12356
Do not decode + as space (). PR:12466. Ticket:12354
All changes"
"Do not throw for @ParentLayout w/o RouterLayout

Logs an error instead, which is not very visible but prevents breaking any existing apps.
Show flow loading indicator when requesting server routes and endpoints ()

* reuse indicator in gwt if present

* add a flow indicator to dom when Flow.ts is initialized.

Show the indicator when loading server routes.

* show indicator when calling endpoints

* Adding tests for loading indicator

* reuse the style element for loading-indicator in gwt code
[Security Fix]Use Vaadin's own ObjectMapper instead of the one from Spring ()
resolve conflict","Vaadin Flow 3.0.5 is a maintenance release for Vaadin 15 with the following changes:
Bugfixes and enhancements
Show a loading indicator when requesting server routes and endpoints
Use Vaadin's own ObjectMapper instead of the one from Spring
See all the changes in Flow 3.0.5"
"fix: bump webpack version in client package.json () ()

Fixes

Co-authored-by: Serhii Kulykov <iamkulykov@gmail.com>
chore: Update chrome driver to 93 () ()

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: remove the sw referer filter when adding csrf token ()

The service worker referer filter for adding `CSRF` token to the index HTML page causes a problem that Endpoint doesn't work for Safari on refresh, since Safari never gets a CSRF token as it fetches the index page through the service worker once it has been installed.
fix: upgrade to lit 2.0.0-rc.4 ()
fix: Update current UI instance upon locale change () ()

Fixes

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: bump commons-io from 2.8.0 to 2.11.0 () ()

Bumps commons-io to a newer version where this bug has been fixed https://issues.apache.org/jira/browse/IO-692.

Fixes","Vaadin Flow 8.0.1
Changes in Flow from 8.0.0
Fixes:
Update current UI instance upon locale change (). PR:11784. Ticket:11599
Upgrade to lit 2.0.0-rc.4. PR:11779
Remove the sw referer filter when adding csrf token. PR:11767
The service worker referer filter for adding CSRF token to the index HTML page causes a problem that Endpoint doesn't work for Safari on refresh, since Safari never gets a CSRF token as it fetches the index page through the service worker once it has been installed.
All changes"
"Ignore a test (which is ignored on master) ()
Remove FrontendUtils.getBowerExecutable()  ()
Create vaadin json with defaults. () ()

* Create vaadin json with defaults.

* Change method name.
chore: re-factor webpack watchdog code. () ()

* chore: re-factor webpack watchdog code.

- do not run watchdog if devMode is not set
- skip defining watchdog function if no port provided
- configure connect handlers before connecting

Co-authored-by: Manuel Carrasco Moñino <manolo@apache.org>
delay location.reload when session expires () ()

* delay location.reload when session expires ()

Fixes
7673, 7692, 7693 3.0 cherry pick ()

* prevent that MPR routes modify the hash fragment

Fixes

- Routing based on hash fragment was executing code in
  browser that causes firing client side routing breaking 
  the UI.
- This PR introspects the V7 UIDL in order to replace 
  'window.location.hash' assignation with new API
  'window.history.pushState'.
7691 3.0 cherry pick ()

* fix: add router-ignore attribute to Anchor with StreamResource ()
Fixes
Search for versions file using class finder instead of using classloader ()

Fix for
Added servlet parameter maxMessageSuspendTimeout () ()

This servlet parameter allows tuning the maximum time the client waits for receiving missing messages when it has received an out-of-order message before resynchronizing from the server.
Reset system message provider before running any test ()

* Reset system message provider before running any test

Fixes
7614 3.0 cherry-pick ()

* Fix exported webcomponents in client-side ()

Fixes
7739 3.0 cherry-pick ()

Fix a couple of tests that were failing randomly. ()
7747 3.0 cherry-pick ()

* be more specific when modifying the hash fragment rpc
Set theme variant and theme html attributes to the HTML tag instead of body () ()

Fixes
Revert ""Remove FrontendUtils.getBowerExecutable()  ()"" ()

because it was an API change in a stable branch
Cherry Pick: Fix the dependency of DevModeInitializer on ServletRegistration () ()

* Fix the dependency of DevModeInitializer on ServletRegistration ()

* Fix the dependency of DevModeInitializer on ServletRegistration

* Use VaadinServlet registration if present in DevModeInitializer

(cherry picked from commit d693b4755109dff139363ab167e186ec80d77b87)

* Fix onStartup_emptyServletRegistrations_shouldCreateDevModeHandler

* Remove the usage of setSystemProperty in the test
7769 3.0 cherry-pick ()

* fix webpack problem in os windows because of path separator ()
Update dev dependency versions. ()

Fixes
Revert ""delay location.reload when session expires () ()"" ()

* Revert ""delay location.reload when session expires () ()""

This reverts commit 5e30ca403c44f33085f1deaef8f646d1186851eb.","Vaadin Flow 3.0.1 is a maintenance release for Vaadin 15 with the following changes:
Bugfixes and enhancements
Fixed the issue with custom npm dependencies in package.json, that was breaking the application build with pnpm ()
Fixed the issue with navigation from Vaadin 15 to Vaadin 7/8 views, that did not work when using the Vaadin Multiplatform Runtime ()
Fixed the issue with links to StreamResources, that used to require an extra router-ignore attribute ()
Fixed the issue with the dark theme, when the theme attribute was incorrectly set on the body element instead of html ()
Fixed the npm audit warning caused by the outdated webpack version ()
See all the changes in Flow 3.0.1"
"fix: Only import the needed parts of lumo-styles () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>
chore: Add spacing between feature flag toggles () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: Be more graceful with exceptions when reading usage stats () ()

Fixes

Co-authored-by: Leif Åstrand <leif@vaadin.com>
fix: change build-frontend goal phase () ()

Change the build-frontend goal
defaultPhase from prepare-package
to process-classes.

This will make it so that if defined
the build task will also be executed
for server run.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: Break loop in visitor () ()

Do not constantly add children
of a node that has already had
all children added once.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Update spring versions ()","Changes since 9.0.10
All changes
Fixes
Break loop in visitor ()
Commit · Pull request · Issue
Do not constantly add children of a node that has already had all children added once.
Change build-frontend goal phase ()
Commit · Pull request · Issue
Change the build-frontend goal defaultPhase from prepare-package to process-classes. This will make it so that if defined the build task will also be executed for server run.
Be more graceful with exceptions when reading usage stats ()
Commit · Pull request · Issue"
"chore(deps): bump spring-data-commons from 2.6.3 to 2.6.4 () ()

Bumps spring-data-commons from 2.6.3 to 2.6.4.

---
updated-dependencies:
- dependency-name: org.springframework.data:spring-data-commons
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: Not fetch entire page if number of requested items is less () ()

Fixes bug that caused Grid with multi select mode to select not only the item that was clicked on, but also every item below

Fixes vaadin-component-factory/selection-grid-flow
Fixes vaadin-component-factory/selection-grid-flow

Co-authored-by: @s76527

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
test: Use better port detection for dev server () ()

When binding to all interfaces it seems that the http server can choose a port that is in use for localhost but free for other interfaces.
As was done for the statistics sender test.

Co-authored-by: Artur Signell <artur@vaadin.com>
fix: do not select from session if parent has a better match () ()

Check if parent registry contains a better match
than the session registry.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Fix: Open Liberty includes AppShellConfigurator interface as an implementation of itself () ()

Filter out AppShellConfigurator interface as Open Liberty includes the implementation itself.

Fixes

Co-authored-by: Vesa Nieminen <vesa@vaadin.com>

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Vesa Nieminen <vesa@vaadin.com>","Changes since 9.0.12
All changes
Fixes
Open Liberty includes AppShellConfigurator interface as an implementation of itself ()
Commit · Pull request · Issue
Filter out AppShellConfigurator interface as Open Liberty includes the implementation itself.
Do not select from session if parent has a better match ()
Commit · Pull request · Issue
Check if parent registry contains a better match than the session registry.
Not fetch entire page if number of requested items is less ()
Commit · Pull request · Issues vaadin-component-factory/selection-grid-flow, vaadin-component-factory/selection-grid-flow"
"feat: use regular string enum instead of a const enum () ()

Given a Java enum as
```java
pubic enum Environment {
  DEV, TEST, PROD
}
```
the generated Typescript source will be
```typescript
enum Environment {
  DEV = ""DEV"",
  TEST = ""TEST"",
  PROD = ""PROD""
}
```
which translates to JavaScript in the following way:
```javascript
var Environment;

(function (Environment) {
  Environment[""DEV""] = ""DEV"";
  Environment[""TEST""] = ""TEST"";
  Environment[""PROD""] = ""PROD"";
})(Environment || (Environment = {}));
```
So now it is possible to do any object action with the final `Environment` enum:
```javascript
Object.keys(Environment).forEach(enumValue => console.log(enumValue));
```

Co-authored-by: Vlad Rindevich <vladrin@vaadin.com>
fix: don't update cached extended details inside callback () ()

Makes fetching extended client details work for Multiplatform Runtime.

Fixes vaadin/multiplatform-runtime-internal

Co-authored-by: Denis <denis@vaadin.com>
fix: Using a custom RouteRegistry () ()

Make it possible to create a custom RouteRegistry and add test module for it.

Fixes
fix: avoid NPE in query params parsing () ()

A colon "":"" in the location will not cause a NPE when parsing query parameters

Fixes

Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>

Co-authored-by: Denis <denis@vaadin.com>
Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>
fix: Annotate default error handlers. () () ()

Annotate default error handlers with
the new annotaton DefaultErrorHandler
so that we can also in add-ons have default
handlers that can be overridden by user
handlers.

Part of vaadin/spring
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/router/InternalServerError.java
#	flow-server/src/main/java/com/vaadin/flow/router/RouteNotFoundError.java

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: don't serve directories as static files () ()

Add check to the resource to see
if it is a directory and do not serve
if this is the case.

Fixe

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: use x64 version for mac for old nodejs () ()

Use the x64 package for mac if the installed node version is < 16.0.0 as ARM package is not available before this.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: prevent passing bad character to wp () ()

The webpack dev-server does not escape "" character, as it is not valid
URL. This limitation was not checked when passing request to it via
DevModeHandlerImpl.
fix: set routes first into the template () ()

fixes psi

Co-authored-by: Denis <denis@vaadin.com>
test: fix mockito errors accessing protected API in JDK16 () (CP: 6.0) ()

related to https://github.com/vaadin/flow-components/issues/997
related to https://github.com/vaadin/flow-components/issues/998
fix: Handle concurrent file requests () ()

Fixes issue with multiple concurrent requests to jar resource.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: add javadocs warning to avoid using ResponseWriter for dirs () ()

Co-authored-by: Denis <denis@vaadin.com>
chore: Pin ESLint plugin Lit version () ()

Fixes https://github.com/vaadin/flow/issues/11176

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
chore: fix random failure on copying files when building flow-client () ()

fixes:

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
chore: Disable failed PWA test () ()

Temp solution for

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>","Vaadin Flow 6.0.10
Changes in Flow from 6.0.9
Fixes:
Add javadocs warning to avoid using ResponseWriter for dirs (). PR:11164
Handle concurrent file requests (). PR:11156. Ticket:11144
Set routes first into the template (). PR:11126. **Ticket:**psi
Prevent passing bad character to wp (). PR:11114
The webpack dev-server does not escape "" character, as it is not valid URL. This limitation was not checked when passing request to it via DevModeHandlerImpl.
Use x64 version for mac for old nodejs (). PR:11068. Ticket:11060
Use the x64 package for mac if the installed node version is < 16.0.0 as ARM package is not available before this.
Don't serve directories as static files (). PR:11104
Add check to the resource to see if it is a directory and do not serve if this is the case. Fixe
Annotate default error handlers. () (). PR:11093
Annotate default error handlers with the new annotaton DefaultErrorHandler so that we can also in add-ons have default handlers that can be overridden by user handlers. Part of vaadin/spring # Conflicts: #       flow-server/src/main/java/com/vaadin/flow/router/InternalServerError.java #       flow-server/src/main/java/com/vaadin/flow/router/RouteNotFoundError.java
Avoid NPE in query params parsing (). PR:11095. Ticket:11019
A colon "":"" in the location will not cause a NPE when parsing query parameters
Using a custom RouteRegistry (). PR:11054. Ticket:11022
Make it possible to create a custom RouteRegistry and add test module for it.
Don't update cached extended details inside callback (). PR:11049. Ticket:473
Makes fetching extended client details work for Multiplatform Runtime.
All changes"
"Only connect to devServer when it is started

Do not try to connect to the dev server
if it hasn't started yet or startup has failed.

Fixes
Change the filter type from Void to wildcard in abstract data view test ()

(cherry picked from commit d547df127bbe6d4a2e131ce39d28349f47e59df4)
Update expected Chrome to 85 ()
Update compression plugin ()

Fixes
Instanticate AppShell with Instantiator () ()
fix(TypeScript): Ensure model validators are generated for fields of bean type ()

* fix(TypeScript): Ensure model validators are generated for fields of bean type

Fixes

* Add a comment to test fixture

* Remove confusing @Nullable annotation from test fixture

* Suppress large file warning and add refactoring TODO

* Fix TsFormTest fixture

* refactor: split-out schema creating methods from OpenApiObjectGenerator

* Make SchemaGenerator package-private

* Fix syntax warnings in SchemaGenerator

* Remove TODO and warning suppression

* Fix syntax warnings in SchemaGenerator
feat(TypeScript): Export endpoint superclass methods ()

* add test for endpoint super class methods

* wip: unfinished implementation and test updates

* finish basic implementation

* Remove unused imports

* Add support for generic superclass of an endpoint superclass

* Run full generator test suite for superclass endpoint methods

* Fix tagName for endpoint classes in OpenAPI generated object

* chore: remove unused code

Co-authored-by: Anton Platonov <platosha@gmail.com>
fix: fetch real type for generic typed parameter ()
Remove progress plugin from web-pack config ()

Remove progress plugin from web-pack config

Fixes
Don't use the deprecated method ()

Stop using the method that was deprecated in 1.11.1

Closes","Changes since 4.0.0
Improvements:
Start-up time is significantly reduced by removing the webpack progress plugin( )
Bugfixes:
Fix a bug that the Endpoint's superclass methods are not exposed(). Note, need to use EndpointExposed  annotation in the superclass.
Fix a bug in AppShellConfigurator that it doesn't allow dependency injection (vaadin/spring)
Fix a bug for TypeScript form that @NotNull validation doesn't work with object type property ()
For all changes, see changes since 4.0.0
For what is new in 4.0, see 4.0.0 release notes"
"fix: ignore pending JS invocations for invisible node in UI dirty check () ()

UI dirty check currently takes into account also pending JS invocation for
invisible node, that however will not be sent to the client.
This change updates the check to only consider JS invocation that should
be effectively sent to the browser.

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: prevent NPE in ShortcutRegistration.toString () ()

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: Fix regression when sync id check is disabled () ()

When syncId check is disabled, long-polling push cache filter always cached all messages.
This change fixes the regression, by preventing message cache when syncId check is disabled.

Co-authored-by: Tatu Lund <tatu@vaadin.com>
fix: prevent deadlock when push is requested during disconnect ()

Prevents a deadlock that may happen when a servlet container holds a lock
on HTTP session access and a push disconnection happens concurrently
with a push operation requested when VaadinSession is unlocked after
session destroyed listeners are invoked.

References

Co-authored-by: Johannes Tuikkala @johannest

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
chore: log classloading errors in reflections class finder () ()

* chore: log classloading errors in reflections class finder

Classloading errors may cause the frontend-build to fail, but without any
useful information.
This change overrides the original class resolve method adding exception
logging to help in troubleshooting build issues.

* use static logger

Co-authored-by: Marco Collovati <marco@vaadin.com>","Changes since 9.1.3
All changes
Fixes
Prevent deadlock when push is requested during disconnect
Commit · Pull request
Prevents a deadlock that may happen when a servlet container holds a lock on HTTP session access and a push disconnection happens concurrently with a push operation requested when VaadinSession is unlocked after session destroyed listeners are invoked. References
Fix regression when sync id check is disabled ()
Commit · Pull request
When syncId check is disabled, long-polling push cache filter always cached all messages. This change fixes the regression, by preventing message cache when syncId check is disabled.
Prevent NPE in ShortcutRegistration.toString ()
Commit · Pull request"
"test: fix BootstrapHandlerTest on Windows () (CP 9.0)  ()

* test: fix BootstrapHandlerTest on Windows ()
fix: ignore nonexistent nodes during resync () ()

Ignore changes for nodes that are not
available in the tree when a resync is underway.

This will get the page to a working
condition after a resync as all changes for
existing nodes are executed.

Fixes
Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: attach polymer binding callback to a promise that always resolves () ()

Polymer binding callback was attached to the promise returned by
customElements.whenDefined, but this promise may never complete
if the input element is not a custom element, causing memory leaks
on browser because of element capture.
This change introduces a new promise that completes either when
whenDefined is fulfilled or after a fixed timeout, allowing
the garbage collector to clean resources.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
chore: update Binder ValueChangeListener javadocs () ()

Co-authored-by: Olli Tietäväinen <ollit@vaadin.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: Redirect if refresh token is in push response also () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>
fix: defer location and query tracking () ()

Track of location and query string after response from server
happens too early when handling server side navigation,
because history.pushState is executed within a setTimeout.
This change defers the tracking to the next event loop cycle
in order to get the correct values.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: synchronize pwa handler on map () ()

Synchronize pwa handler on the
requestHandlerMap instead of
locking the session.

Locking and unlocking session may
fire a push event that might make the
server client sync faulty.

touches
fix: use access and not lock () ()

Use access so that we do not
deadlock.

Fixes vaadin/multiplatform-runtime

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: run npm install if folder changes () ()

If application folder changes we should
execute npm install to get any folder
references updated.

Fixes
chore: record last session lock/unlock time () ()

* Record last lock/unlock time

* chore: added javadocs

* fixed javadoc

Co-authored-by: Marco Collovati <marco@vaadin.com>

Co-authored-by: Artur <artur@vaadin.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>
fix. remove locking and attribute usage () ()

Remove use of attribute to remove the need to lock.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
test: update gretty version () ()

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Upgrade default installed Node to 16.18.1 with security fixes ()
chore(deps-dev): bump loader-utils from 2.0.0 to 2.0.3 () () ()

Bumps [loader-utils](https://github.com/webpack/loader-utils) from 2.0.0 to 2.0.3.
- [Release notes](https://github.com/webpack/loader-utils/releases)
- [Changelog](https://github.com/webpack/loader-utils/blob/v2.0.3/CHANGELOG.md)
- [Commits](https://github.com/webpack/loader-utils/compare/v2.0.0...v2.0.3)

---
updated-dependencies:
- dependency-name: loader-utils
  dependency-type: direct:development
...

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Co-authored-by: Artur <artur@vaadin.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Revert ""test: update gretty version () ()"" ()

This reverts commit 3aa4e25663da9b07e3aad5a9f3398417f99fbee6.
fix: Skip IBMRestServlet when checking for VaadinServlet () ()

Fixes

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
pick the github action change to 9.0 branch ()
chore: Show command output when it fails () ()

Makes debugging easier when you know e.g. why npm --version exited with code 254

Co-authored-by: Artur <artur@vaadin.com>
chore(deps): bump jackson-databind from 2.13.4 to 2.13.4.2 () ()

Bumps [jackson-databind](https://github.com/FasterXML/jackson) from 2.13.4 to 2.13.4.2.
- [Release notes](https://github.com/FasterXML/jackson/releases)
- [Commits](https://github.com/FasterXML/jackson/commits)

---
updated-dependencies:
- dependency-name: com.fasterxml.jackson.core:jackson-databind
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: suppress error handler for upload () ()

Do not call the error handler for upload
io exceptions. Only inform as streaming
failed.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Upgrade loader-utils to 2.0.4 () () (CP: 23.2) () ()

Co-authored-by: Artur <artur@vaadin.com>
Chore: Add tests for ClasspathFilter () ()

Improves by adding tests to the added ClasspathFilter class.

Co-authored-by: Martin Vysny <martin@vysny.me>
feat: port dependency filtering from v14 gradle plugin ()

Bring in dependency filtering from the vaadin 14 gradle plugin.

Fixes
chore: update the expected default npm version ()

Update npm version to match the node
16.18.1 default npm.
fix: added MAXIMUM_ALLOWED_ITEMS_LOWER_LIMIT for small pageSizes () ()

Fixes:

Co-authored-by: marcin <marcin@vaadin.com>
chore(deps): bump byte-buddy from 1.12.1 to 1.12.19 () (CP: 9.0) ()

Bumps [byte-buddy](https://github.com/raphw/byte-buddy) from 1.12.1 to 1.12.19.
- [Release notes](https://github.com/raphw/byte-buddy/releases)
- [Changelog](https://github.com/raphw/byte-buddy/blob/master/release-notes.md)
- [Commits](https://github.com/raphw/byte-buddy/compare/byte-buddy-1.12.1...byte-buddy-1.12.19)

---
updated-dependencies:
- dependency-name: net.bytebuddy:byte-buddy
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: no stream serialization without uis () (CP: 9.0) ()

* fix: no stream serialization without uis ()

Do not serialize the streamResourceRegistry
if UIs are not serialized.

Fixes

* Fix test

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: Empty alt in costructor should add property () ()

Giving the alternate text in the constructor
should generate a property to the image.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>","Changes since 9.0.21
All changes
New features
Port dependency filtering from v14 gradle plugin
Commit · Pull request · Issue
Bring in dependency filtering from the vaadin 14 gradle plugin.
Fixes
No stream serialization without uis () (CP: 9.0)
Commit · Pull request · Issue
Added MAXIMUM_ALLOWED_ITEMS_LOWER_LIMIT for small pageSizes ()
Commit · Pull request · Issue
Suppress error handler for upload ()
Commit · Pull request · Issue
Do not call the error handler for upload io exceptions. Only inform as streaming failed.
Skip IBMRestServlet when checking for VaadinServlet ()
Commit · Pull request · Issue
Run npm install if folder changes ()
Commit · Pull request · Issue
If application folder changes we should execute npm install to get any folder references updated.
Use access and not lock ()
Commit · Pull request · Issue
Use access so that we do not deadlock.
Synchronize pwa handler on map ()
Commit · Pull request
Synchronize pwa handler on the requestHandlerMap instead of locking the session. Locking and unlocking session may fire a push event that might make the server client sync faulty. touches
Defer location and query tracking ()
Commit · Pull request · Issue
Track of location and query string after response from server happens too early when handling server side navigation, because history.pushState is executed within a setTimeout. This change defers the tracking to the next event loop cycle in order to get the correct values.
Redirect if refresh token is in push response also ()
Commit · Pull request · Issue
Attach polymer binding callback to a promise that always resolves ()
Commit · Pull request · Issue
Polymer binding callback was attached to the promise returned by customElements.whenDefined, but this promise may never complete if the input element is not a custom element, causing memory leaks on browser because of element capture. This change introduces a new promise that completes either when whenDefined is fulfilled or after a fixed timeout, allowing the garbage collector to clean resources.
Ignore nonexistent nodes during resync ()
Commit · Pull request · Issues 14232, 14470
Ignore changes for nodes that are not available in the tree when a resync is underway. This will get the page to a working condition after a resync as all changes for existing nodes are executed."
"chore: log classloading errors in reflections class finder () ()

* chore: log classloading errors in reflections class finder

Classloading errors may cause the frontend-build to fail, but without any
useful information.
This change overrides the original class resolve method adding exception
logging to help in troubleshooting build issues.

* use static logger

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: update jandex-maven-plugin for JDK 21 () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: fix unsafe path check for URL decoded path () ()

If a path is already URL decoded but contains a percent char, the unsafe path
check fails when it tries to decode it again.
The thrown IllegalArgumentException can be safely ignored, as it means that
the input path is already decoded and can be checked as is.

Fixes

Co-authored-by: Tatu Lund @TatuLund

Co-authored-by: Marco Collovati <marco@vaadin.com>
revert: update jandex-maven-plugin for JDK 21 () ()"" ()

This reverts commit bf2d96977071813ab13a96fbf023dfb1766dcc13.

The index produced by this plugin is not supported by Quarkus 2, that
fail with errors similar to ""Can't read index version 11; this IndexReader
only supports index versions 2-3,6-10""
chore: Upgrade pnpm to 7 and update supported Node version(CP: 9.1) ()

* chore: Upgrade pnpm to 7 (CP: 9.1)

* align expectation for overlay version
chore: Upgrade webdrivermanager to a newer and remove node modules properly ()

This fixes errors when running `flow-test-npm-no-buildmojo` locally:
- JNA version conflict, with the newer WDM the JNA version is the same as in the license-checker, so no conflicts,
- Removes the whole node_modules directory, otherwise it causes packages compilation errors within running `mvn verify`
test: bump polymer/paper-input to 3.2.1 ()
test: Upgrade polymer components version ()","Changes since 9.1.4
All changes
Fixes
Upgrade pnpm version to 7.33.5
Pull request
Fix unsafe path check for URL decoded path ()
Commit · Pull request · Issue
If a path is already URL decoded but contains a percent char, the unsafe path check fails when it tries to decode it again. The thrown IllegalArgumentException can be safely ignored, as it means that the input path is already decoded and can be checked as is.
Update jandex-maven-plugin for JDK 21 ()
Commit · Pull request"
"test: run production mode first for npm and pnpm test modules ()
fix: support accept property in StreamReceiverHandler () (CP: 9.1) ()

* fix: support accept property in StreamReceiverHandler ()

* fix: support accept property in StreamReceiverHandler

StreamReceiverHandler understands `accept` property of the target element to block unwanted mime types. `accept` property takes comma separated list of mime types like 'text/plain, text/html'.

* Added support for wildcard in mimetype

e.g. for '*/*' or 'text/*'.

* Added support for file extensions

e.g. for '.pdf'.

* chore: replaced call to isBlank()
fix: update atmosphere to 2.7.3.slf4jvaadin6 () () ()

* fix: update atmosphere to 2.7.3.slf4jvaadin6

* update constants

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
test: replace chrome mobile profile with custom settings () (CP: 9.1) ()

* test: replace chrome mobile profile with custom settings ()

Prevents PWA test failures with Chrome 119 because of
'invalid argument: Empty userAgent invalid with userAgentMetadata provided'

Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>

* fix compilation error

---------

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>","Changes since 9.1.8
All changes
Fixes
Update atmosphere to 2.7.3.slf4jvaadin6 () ()
Commit · Pull request
Support accept property in StreamReceiverHandler () (CP: 9.1)
Commit · Pull request"
"fix: Use build timestamp for Push script request () (CP: 23.3) ()

* fix: Use build timestamp for Push script request ()

* remove method parameter

---------

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
fix: Always set image alt text the same way () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>
chore: update jackson to 2.15.2 ()
Revert ""chore: update jackson to 2.15.2 ()"" ()

This reverts commit ad625968dd3a836bdbe2921df1786121e3844c67.

Reverted, because this produces a few breaking changes:

2.15 requires Gradle 7.6+
2.15 requires Kotlin 1.5+
fix: Do not passivate child keys with active&expanded parents () ()

Fixes

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>","Changes since 23.3.21
All changes
Fixes
Do not passivate child keys with active&expanded parents ()
Commit · Pull request · Issue
Always set image alt text the same way ()
Commit · Pull request · Issue"
"fix: forward to should update url () ()

* fix: forward to should update url

Forward to should run even
when targeting same target
but with another URL

Fixes

* Fix check so non same route breaks else

* Add test for forwarding to same target.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Fix: check for null resolvedPath () ()

Check that resolvedPath is
not null.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: reroute doens't change url. () ()

Reroute should not check for url
change.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
fix: Allow dev tools window to grow () ()

If there are many tabs, they should be shown. If we still run out of space, allow scrolling

Co-authored-by: Artur <artur@vaadin.com>
chore: use pre-compiled regex when possible () ()

This change uses precompiled regex for string replacements and searches,
to improve performance when expressions are used inside loops.

Part of

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: Allow platform dependencies to be linked () ()

* fix: Allow platform dependencies to be linked

Do not fail if a managed version is linked to a local copy and thus the version cannot be parsed

* fix and test

* false is the new true

---------

Co-authored-by: Artur <artur@vaadin.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
chore(deps): bump org.apache.commons:commons-compress () ()

Bumps org.apache.commons:commons-compress from 1.23.0 to 1.24.0.

---
updated-dependencies:
- dependency-name: org.apache.commons:commons-compress
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>","Changes since 24.1.11
All changes
Fixes
Allow platform dependencies to be linked ()
Commit · Pull request
Do not fail if a managed version is linked to a local copy and thus the version cannot be parsed.
Allow dev tools window to grow ()
Commit · Pull request
If there are many tabs, they should be shown. If we still run out of space, allow scrolling
Reroute doens't change url. ()
Commit · Pull request
Reroute should not check for url change.
Check for null resolvedPath ()
Commit · Pull request
Check that resolvedPath is not null."
"fix: Support Alpine by detecting OS using /etc/alpine-release () ()

* fix: Support Alpine by detecting OS using /etc/alpine-release

musl is Experimental so using the
experimental download root

Fixes

Co-authored-by: taefi <taefi.soroosh@gmail.com>
Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Update PreserveOnRefresh's javadoc () ()

Small typo fix

Co-authored-by: Olli Tietäväinen <ollit@vaadin.com>
fix: execute PushRequestHandler before DevModeHandler () ()

When an application with PUSH enabled tries to re-establish the push connection
after a server restart, it may happen that the dev mode handler responds
to the push request with HTML contents (dev-mode-not-ready.html).
In this situation, an error is shown on the browser page, a manual page reload
is required to make the application work again.
This changes the request handlers order so that the PushRequestHandler is
executed before DevModeHandler

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: initialize PwaHandler only once () ()

PwaHandler has an isInitialized flag that is checked on handleRequest method,
but never initialized, causing init method to be invoked on every request.
This change sets the flag within init method.
fix: Not modify browser history if location has no hash () ()

Fixes the hashed segment removal logic:
if no segment with hash is present in the location,
while navigating between Flow and legacy views/components,
the update of the browser history is not needed.

Fixes vaadin/multiplatform-runtime

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>","Changes since 23.1.5
All changes
Fixes
Not modify browser history if location has no hash ()
Commit · Pull request · Issue
if no segment with hash is present in the location, while navigating between Flow and legacy views/components, the update of the browser history is not needed.
Initialize PwaHandler only once ()
Commit · Pull request
PwaHandler has an isInitialized flag that is checked on handleRequest method, but never initialized, causing init method to be invoked on every request. This change sets the flag within init method.
Execute PushRequestHandler before DevModeHandler ()
Commit · Pull request
When an application with PUSH enabled tries to re-establish the push connection after a server restart, it may happen that the dev mode handler responds to the push request with HTML contents (dev-mode-not-ready.html). In this situation, an error is shown on the browser page, a manual page reload is required to make the application work again. This changes the request handlers order so that the PushRequestHandler is executed before DevModeHandler"
"fix!: Use servlet context path as the default logout url ()

* fix!: Use servlet context path as the default logout url 

CP of https://github.com/vaadin/flow/pull/15532

* fix: Add slash for root context

---------

Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: reroute doens't change url. () ()

Reroute should not check for url
change.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
test: fix open url to use correct servlet ()

* test: fix open url to use correct servlet

The CSS loadin test is using a development mode servlet instead
of the production mode.
This change fixes the url provided to the web driver in order
to use the expected Vaadin servlet.

* introduce base class to use correct servlet for all tests
chore: bump commons-compress to resolve vunerability ()","Changes since 23.3.19
All changes
Fixes
Reroute doens't change url. ()
Commit · Pull request
Reroute should not check for url change."
"fix: prevent embedded styles to leak main document () ()

When using an exported a themed Flow web-component, Lumo style may leak
the embedding document, causing invalid CSS rules to be applied.
This change prevents applying Lumo global imports when the theme is
applied to a web-component.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: clear preseved chain cache for inactive UI () ()

Prevents potential memory leaks caused by UIs being retained by the
preserve on refresh cache when the browser page is closed.","Changes since 23.3.30
All changes
Fixes
Clear preseved chain cache for inactive UI ()
Commit · Pull request
Prevents potential memory leaks caused by UIs being retained by the preserve on refresh cache when the browser page is closed."
"[chore] @semcore/ui package version bump
[d3-chart] Added correct display when there is no data in a11y table.

Signed-off-by: r.lysov <r.lysov@semrush.com>
[feedback-form] Added a11y error binding to field.

Signed-off-by: r.lysov <r.lysov@semrush.com>
[chore] Update version

Signed-off-by: r.lysov <r.lysov@semrush.com>
[chore] Revert  useless commit

This reverts commit b36eb922fe67fff83763da43f9dc105ae4db384b.
[utils] fixed utils package was breaking building via webpack and vite
[chore] bumped versions of @semcore/outside-click@2.5.22, @semcore/icon@3.14.5, @semcore/animation@1.9.9, @semcore/flex-box@4.7.17, @semcore/portal@2.5.17, @semcore/neighbor-location@3.1.23, @semcore/typography@4.3.27, @semcore/utils@3.49.1, @semcore/input@3.5.17, @semcore/popper@4.16.11, @semcore/scroll-area@4.2.17, @semcore/divider@3.2.17, @semcore/spin@4.2.17, @semcore/dropdown@3.4.19, @semcore/input-mask@4.4.17, @semcore/button@4.3.17, @semcore/tooltip@5.3.22, @semcore/grid@4.3.17, @semcore/illustration@1.4.12, @semcore/spin-container@6.2.19, @semcore/notice-global@1.5.14, @semcore/dropdown-menu@3.6.23, @semcore/checkbox@6.4.8, @semcore/dot@4.2.19, @semcore/format-text@3.2.19, @semcore/base-trigger@3.5.13, @semcore/link@4.3.20, @semcore/modal@3.5.15, @semcore/select@3.5.10, @semcore/notice@4.4.28, @semcore/tag@4.4.27, @semcore/card@4.3.7, @semcore/feedback-form@5.4.4, @semcore/d3-chart@2.13.3, @semcore/accordion@4.3.14, @semcore/badge@3.3.17, @semcore/breadcrumbs@4.4.25, @semcore/breakpoints@1.2.23, @semcore/carousel@2.2.28, @semcore/chart@5.3.18, @semcore/color-picker@1.4.27, @semcore/core@1.14.5, @semcore/counter@2.3.8, @semcore/data-table@3.7.28, @semcore/date-picker@3.6.29, @semcore/drag-and-drop@2.4.28, @semcore/ellipsis@1.2.11, @semcore/errors@3.9.13, @semcore/feature-popover@3.2.31, @semcore/flags@3.4.9, @semcore/fullscreen-modal@2.2.29, @semcore/inline-edit@2.4.9, @semcore/inline-input@3.5.22, @semcore/input-number@4.4.12, @semcore/input-tags@3.3.21, @semcore/notice-bubble@4.7.7, @semcore/pagination@3.5.26, @semcore/pills@4.4.17, @semcore/product-head@3.3.17, @semcore/progress-bar@3.3.18, @semcore/radio@5.4.8, @semcore/side-panel@2.3.15, @semcore/skeleton@4.4.17, @semcore/slider@3.4.9, @semcore/sticky@2.4.17, @semcore/switch@4.4.8, @semcore/tab-line@3.3.7, @semcore/tab-panel@3.4.8, @semcore/table@3.3.31, @semcore/textarea@4.3.17, @semcore/time-picker@3.4.35, @semcore/widget-empty@3.10.5, @semcore/wizard@1.2.31
[chore] updated semcore/ui changelog
[chore] updated lock file
[chore] @semcore/ui package version bump","@semcore/d3-chart
Fixed  Added correct display when there is no data in a11y table.
@semcore/feedback-form
Fixed  Added a11y error binding to field.
@semcore/utils
Fixed  Utils package was breaking building via webpack and vite."
"chore(release): v4.1.1 [skip ci]
fix(deps): bump ethr-did to 2.3.6 and cosmetic changes in CLI config ()
chore(release): v4.1.2 [skip ci]","Bug Fixes
deps: bump ethr-did to 2.3.6 and cosmetic changes in CLI config () (eb03b63)"
"chore(release): v5.1.3 [skip ci]
fix(cli): fix `credential verify` command for JWT credentials ()
chore(release): v5.1.4 [skip ci]","Bug Fixes
cli: fix credential verify command for JWT credentials () (697a14c)"
"[chore] @semcore/ui package version bump
[switch] now text on left and right sides of the Switch are using with ""pointer"" cursor when component is not disabled.
[ellipsis] fixed ellipsis wasn't working when tooltip was disabled.
[ui] updated changelog
[chore] bumpedversions of @semcore/switch@4.3.9, @semcore/ellipsis@1.2.1, @semcore/ui@13.8.1
[chore] @semcore/ui package version bump","@semcore/ellipsis
Fixed  Ellipsis wasn't working when tooltip was disabled.
@semcore/switch
Fixed  Text on left and right sides of the Switch are using with ""pointer"" cursor when component is not disabled."
"chore(release): v5.4.0 [skip ci]
fix(deps): Update did-vc-libraries to v6
fix(deps): Update did-vc-libraries
fix(ci): benign change meant to tag all packages for another patch release ()
chore(release): v5.4.1 [skip ci]","Bug Fixes
ci: benign change meant to tag all packages for another patch release () (41b5c90)
deps: Update did-vc-libraries (08d0c39)
deps: Update did-vc-libraries to v6 (3cadd56)"
"chore: update @vaadin/common-frontend () ()

Update to v0.0.19, which supports Lit 3.

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
(cherry picked from commit 505b7973b766ed1ba57cac9d4cdd9b9d0b0d59d1)

Co-authored-by: Anton Platonov <anton@vaadin.com>
refactor: Move logic out of dev tools connection class () ()

Co-authored-by: Artur <artur@vaadin.com>
refactor: Split out live reload connection () ()

* refactor: Rename Connection to WebSocketConnection

* refactor: Split out live reload connection

* Fix disabling/enabling of Java reload

* Disable Java reload in theme editor when it is used and not always

Co-authored-by: Artur <artur@vaadin.com>
fix: Use Atmosphere for debug window connection () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: Add a link to docs for react router feature flag () ()

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
test: Use https://example.net () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: replace deprecated Vite config options () ()

Running Vite currently results in the following warnings being logged:

2023-12-13T15:07:59.034+01:00  INFO 69460 --- [onPool-worker-3] c.v.b.devserver.AbstractDevServerRunner  : Running Vite to compile frontend resources. This may take a moment, please stand by...
2023-12-13T15:07:59.837+01:00  INFO 69460 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : plugin 'vaadin:force-remove-html-middleware' uses deprecated 'enforce' option. Use 'order' option instead.
2023-12-13T15:07:59.837+01:00  INFO 69460 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : plugin 'vaadin:force-remove-html-middleware' uses deprecated 'transform' option. Use 'handler' option instead.
2023-12-13T15:07:59.837+01:00  INFO 69460 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : plugin 'vaadin:inject-entrypoints-to-index-html' uses deprecated 'enforce' option. Use 'order' option instead.
2023-12-13T15:07:59.837+01:00  INFO 69460 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : plugin 'vaadin:inject-entrypoints-to-index-html' uses deprecated 'transform' option. Use 'handler' option instead.
This updates the Vite config template and replaces the deprecated options with their newer replacements. Used this for reference: https://vitejs.dev/guide/api-plugin.html#transformindexhtml

Fixes

Co-authored-by: Sascha Ißbrücker <sissbruecker@vaadin.com>
Co-authored-by: Soroosh Taefi <taefi.soroosh@gmail.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: Support fragmented messages in debug window () ()  (CP: 24.3)
chore: Be more tolerant to dev tools conf not being available () ()

* chore: Be more tolerant to conf not being available

This seems to happen when from time to time, maybe because of dev tools being loaded on offline pages or something similar

* Update vaadin-dev-tools.ts

Co-authored-by: Artur <artur@vaadin.com>
chore: Upgrade @koa/cors () ()

Breaking change between 5.0 and 4.0
The default origin is set to *, if you want to keep the 4.0 behavior, you can set the origin handler like this:

app.use(cors({
  origin(ctx) {
    return ctx.get('Origin') || '*';
  },
}));

Co-authored-by: Artur <artur@vaadin.com>","Changes since 24.3.0
All changes
Fixes
Support fragmented messages in debug window ()
Commit
Use Atmosphere for debug window connection ()
Commit · Pull request"
"Add mtm with uuid test case
Fix cs
Uncast scope data
Issue422 test case
Fix an Embedded entities loading inside nullable relations
Cleanup: rename function, variable and add docs
Add test case with jti and mtm relation
Add prefix to a join table alias when JTI; rename tables in test case
Make test case harder
Revert previous fix and improve an extra relations registering
Fix the Unit of Work persistState() method in a sequenced call ()
Prepare to release","What's Changed
Fix loading for Embedded entities when parent is null by @gam6itko and @roxblnfk ()
Fix: remove extra joins from JTI and eager relations when ManyToMany is resolved. By @msmakouz and @roxblnfk ()
Fix the Unit of Work persistState() method in a sequenced call. By @msmakouz and @roxblnfk ()
Fix ManyToMany lazy loading when value object are used as keys. By @msmakouz and @roxblnfk ()
Full Changelog: v2.3.2...v2.3.3"
"Prepare to release
Optimize CI; Update phpunit.xml ()
Merge 2.1 with 2.x ()
Hotfix: `EM::persistState` inserts the same entity twice ()
Mark `Repository::$select` readonly ()
Add tests case template ()
Fixed bug with BELONGS_TO and cascade=false ()
[maintenance]: add pool exception as previous on throwing ()

Co-authored-by: roxblnfk <roxblnfk@ya.ru>
Add generateTestCase command ()

Co-authored-by: roxblnfk <roxblnfk@ya.ru>
Fixes Sequence primary command behavior for JTI
[tests] pivoted collection error
[tests] heap bug
Add doctrine/collections 2.x (dev) ()
Fix bug: new pivot collection will be merged with previous one.
Cleanup
Add test case
Add psalm annotations for EntityProviderInterface::get
Update changelog","What's Changed
Fix EM::persistState() that inserted the same entity twice by @roxblnfk ()
Fix bug on saving of replaced pivoted collection by @BelaRyc ()
Fix cascade mode in BelongsTo relation by @roxblnfk and @msmakouz ()
Fix storing od embedded entities in a JTI by @butschster ()
Add tests case template by @roxblnfk and @kastahov ()
How to make an issue with test case
Add a previous exception in TransactionException on throwing by @Eugentis ()
Add annotation @readonly for Repository::$select by @roxblnfk ()
New Contributors
@Eugentis made their first contribution in
@kastahov made their first contribution in
@BelaRyc made their first contribution in
Full Changelog: v2.2.0...v2.2.1"
"- fix invalid logger context signature
- Select doc-block improvement (better IDE integration)","the limit exception is not thrown on joined singular relations
Select doc-block improvement (better IDE integration)"
"chore(release): v3.1.4 [skip ci]
fix(ci): improve documentation CI workflows ()

* ci: Adding docs tasks

* ci: Adding docs build to CI

* ci: Adding CI workflow to execute veramo-website action

* ci: Fixing docs generator

* ci: removing Github token

* ci: Changing the Github Token for docs trigger

* ci: Changing the Github Token for docs trigger

* ci: Adding docusaurus dependency

* docs: fixing generated API docs

* docs: replacing comments by empty string in docs

* ci: workflow dispatch for veramo-website

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: attempt to veramo-website workflow dispatch

* ci: using repository_dispatch instead of workflow_dispatch

* ci: running website deploy only for main branch pushes

* fix: removing extract-api script

* fix: removing unecessary changes

* Update .github/workflows/veramo-website.yml
chore(release): v3.1.5 [skip ci]","Bug Fixes
ci: improve documentation CI workflows () (0579764)"
"Revert ""fix: postpone commands scheduled with runWhenAttached for detached nodes ()"" () ()

This reverts commit c73bbacd3b77eaa19b924ca113186877c2784352.

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
Revert ""fix: support accept property in StreamReceiverHandler"" () (CP: 24.1) ()

* Revert ""fix: support accept property in StreamReceiverHandler ()"" ()

This reverts commit 67a91564547e5d31a5cec3dbbbb9f33489ca634f.

Reverts

Fixes regression found in. Reverted instead of patching in favor for better API in future.

* chore: removed extra import after revert

---------

Co-authored-by: Tomi Virtanen <tltv@vaadin.com>
fix: postpone commands scheduled with runWhenAttached for detached nodes () ()

When detach listeners are called, the node still has a parent set, causing
commands scheduled with runWhenAttached to be executed immediately.
This change make runWhenAttached postpone the command by registering an
attach listener, if called durint node detach.

Fixes vaadin/flow-components
Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>","Changes since 24.1.19
All changes
Fixes
Postpone commands scheduled with runWhenAttached for detached nodes ()
Commit · Pull request · Issues 1434, 18020
When detach listeners are called, the node still has a parent set, causing commands scheduled with runWhenAttached to be executed immediately. This change make runWhenAttached postpone the command by registering an attach listener, if called durint node detach.
Revert ""fix: support accept property in StreamReceiverHandler ()""
This reverts commit 67a9156.
Reverts
Fixes regression found in. Reverted instead of patching in favor for better API in future."
"v3.3.9
3.3.9 snapshots
Merge pull request from storybooks/oneoftype-separator-key

Addon-info: add keys for separator spans in OneOfType
Merge pull request from storybooks/backgrounds-scrollbars

Addon-backgrounds: remove redundant scrollbars
3.3.10 changelog
v3.3.10","2018-January-19
Bug Fixes
Addon-backgrounds: remove redundant scrollbars
Addon-info: add keys for separator spans in OneOfType"
"[chore] changed versions from beta prereleases to latests
[d3-chart] dots was missing value prop in props mapping function
[chore] @semcore/ui package version bump
[chore] unlocked release 15.58.1-prerelease.0
[chore] changed versions from beta prereleases to latests","@semcore/d3-chart
Fixed Dots component was missing value prop in it's props mapping function."
"[chore] @semcore/ui package version bump
[chore] added snapshot retries
[global] fixed tests warnings
[chore] revert ""added snapshot retries""

This reverts commit 854f5c5e3e49f35811fc72a8e26a21f256123fe2.
[chore] bumped versions of @semcore/grid@4.3.21, @semcore/fullscreen-modal@2.2.32, @semcore/carousel@2.2.33, @semcore/drag-and-drop@2.4.35
[chore] added tests snapshots again
update/a11y guides part11 ()

Update guides for:
- Tables
- Filters
- UX patterns
[website] updated to 1.25.9: guides updated
[website] update guides and fix illustrations
[table] fixed bottom border color of secondary table header
[chore] bumped versions of @semcore/table@3.4.4, @semcore/fullscreen-modal@2.2.32
[badge] fix color in the example
[input] moved paddings from container to `<Input.Value />` and `<Input.Addon />` to fix addons in inputs of large size, `<Input.Addon />` now automatically takes size of `<Input />`, fixed right border duplication when last addon is build on top of `<Button />`
[ui] updated changelog
[input] updated snapshots
[chore] syncaed semcore/ui deps
[chore] updated lock file
[chore] synced repo packages versions
[chore] revert ""syncaed semcore/ui deps""

This reverts commit 54884e4f525185e885798612438016242d7e5e2b.
[chore] updated lock file
[data-table] semantically connected cells with corresponding headers, added `scope` for table header, improved nested tables a11y, improved examples a11y
[data-table] fixed a11y test
[chore] tried to fix publish process
[chore] another attempt to fix cd
[chore] bumped versions of @semcore/time-picker@3.4.44, @semcore/pagination@3.5.33, @semcore/input-tags@3.3.30, @semcore/input-number@4.4.16, @semcore/fullscreen-modal@2.2.33, @semcore/date-picker@3.6.36, @semcore/data-table@3.8.4, @semcore/color-picker@1.4.33, @semcore/ui@13.25.1
[chore] @semcore/ui package version bump","@semcore/carousel
Fixed  Fixed warnings in development mode.
@semcore/fullscreen-modal
Fixed  Added aria-label for the close icon.
@semcore/grid
Fixed  Fixed warnings in development mode.
@semcore/input
Fixed  Moved paddings from container to <Input.Value /> and <Input.Addon /> to fix addons in inputs of large size.
Fixed <Input.Addon /> now automatically takes size of <Input />.
Fixed  Fixed right border duplication when last addon is build on top of <Button />."
"v3.2.9
Minor grammar fixes and clarification
chore(package): update lerna to version 2.1.1
Add storybook-chrome-screenshot to addon gallery
add carbon to examples page
fix markdown linter changes
chore(package): update lerna to version 2.1.2
Update layout fix using flexbox
Fixing typo on VueJS withNotes Example

Fixing wrong param passed to withNotes method.
Updating Migration.md for notes typo
Replace `lerna --scope` with `npm --prefix` for a cleaner output
lint config: consistent use of levels
docs: linkTo

The linkTo docs are incomplete, references https://github.com/DefinitelyTyped/DefinitelyTyped/pull/19499
Update README.md
chore(package): update eslint-plugin-jest to version 21.0.0
Add support for Vue projects using Nuxt

This adds detection for projects using Nuxt: https://nuxtjs.org/
chore(package): update jest to version 21.0.1

Closes
REMOVE mock-fs and replace it with jest.mock()
FIX linting after prettier upgrade
Add smoke-test option to start-storybook commands

(cherry picked from commit dc2159d)
Run smoke tests on CI

(cherry picked from commit 9ca0625)
UPGRADE root dependencies and SYNC with packages
FIX failing scripts exiting with 0
REMOVE the say command after bootstrapping
Minor text change
Update info readme to mention flow types
Fix a typo
Docs: Add missing NPM script section to Vue guide

It seems that this necessary setup step didn't get copy-pasted over from the React guide (probably because it isn't a standalone section in the React guide).
CHANGE package.json.engines to >=8.0.0 && UPDATE toc for a documentation page for vue
FIX broken docs markdown
Fix broken links in the deprecation warning for RN and Vue apps
Removed ""React"" references
Update README.md: add hint that addon needs to be registered
fix typo
Update README.md
chore(package): update babel-eslint to version 8.0.0
Added option for custom packager port
Add addon-console to addons gallery
Add missing regenerator and runtime babel transform pkgs to package.json

app/react/src/server/config/babel.js uses require.resolve on both of
these packages, yet as they are not in the dependencies, they won't be
found unless they are installed alongside storybook itself
Add missing babel plugins to app-vue
Fix linting
Add atlassian example to docs
Log correct url when using --https
Update changelog for 3.2.10
Fix faq page title
Upgrade outdated babel-plugin-transform-regenerator
v3.2.10","2017-September-22
Features
Added codemod for deprecated addon-links and addon-actions from app
React native: Added option for custom packager port
CLI: add support for Vue projects using Nuxt
Bug Fixes
Avoid error ""storyshots is intended only to be used with storybook""
Log correct url when using --https
Fix broken links in the deprecation warning for RN and Vue apps
Height aligned 2 buttons in manager's header
Add missing regenerator and runtime babel transform pkgs to package.json
Documentation
Update README: mention that addon-links needs to be registered manually
Improve linkTo documentation
Minor grammar fixes and clarification to Vue documentation
Add missing NPM script section to Vue guide
Add storybook-chrome-screenshot to addon gallery
Dependency Upgrades
Update babel-eslint to the latest version
UPGRADE root dependencies and SYNC with packages
Update jest to the latest version
Update eslint-plugin-jest to the latest version
Update lerna to the latest version
Maintenance
Smoke test master
Fixed Jest warnings"
"fix: x11 capslock reference the wrong constant
Add: add next Linux and Windows files
Update: bump CI to newest
fix: DragSmooth Repeat Call MoveScale

`DragSmooth` calls `MoveScale` followed by `MoveSmooth`, and `MoveSmooth` calls `MoveScale` within `MoveSmooth`, resulting in duplicate calls to `MoveScale`.
chore: fix function names in comment

Signed-off-by: rustfix <771054535@qq.com>","What's Changed
Update: update readme.md by @vcaesar in
Update: update readme.md by @vcaesar in
fix: x11 capslock reference the wrong constant by @sleep2144985 in
Add: add next Linux and Windows files by @vcaesar in
Update: bump CI to newest by @vcaesar in
chore: fix function names in comment by @rustfix in
fix: DragSmooth Repeat Call MoveScale by @nzlov in
New Contributors
@sleep2144985 made their first contribution in
@rustfix made their first contribution in
@nzlov made their first contribution in
Full Changelog: v0.110.0...v0.110.1"
"v3.1.4
Add --parser option to getstorybook
Fixed issue with bad propType on boolean knob.

Deserializing now doesn't return array anymore.
Simpler check.
add haul support
test
fix typos
Minor formatting
Add test cases to kitchen sink, fix object/boolean knobs
Move broken date picker knob to the end
Fix prop-type warning in date knob
3.1.5 changelog
Export demo components from @storybook/react

We do this so we can have a uniform way to do this across frameworks
(e.g. RN, vue)
Update cra-kitchen-sink to use demo imports from `@storybook/react`
Move demo components from `@storybook/components` to `@storybook/react`
Minor cleanup
Remove demo components from `@storybook/components`
Add a file to `@storybook/components` so that the build doesn't break
snapshot testing inverse regex example documentation
Update ROADMAP.md
Update ROADMAP.md
add step for import addon-action to addons.js file before start using it
Remove unnecessary `@storybook/react` dep in `@storybook/react-native`
Remove `@storybook/react` dependencies from storyshots

This is a hack. Currently the build is broken because `test-cra`
requires `@storybook/addon-storyshots` AND `@storybook/react`, but
`@storybook/addon-storyshots` requires `@storybook/react`. Before this
change, two versions of `@storybook/react` are getting loaded, and this
leads to a test error “Your test suite must contain at least one test.”

After this “fix” the error goes away. However,
`@storybook/addon-storyshots` should have a dev- dependency on
`@storybook/react`, because it uses it for its examples. But it only
has a peer-dep for now.
Add placeholder tests to react-kitchen-sink
Add package-lock.json

Per discussion with @tmeasday :wink:
Use a pack -> install technique to recreate local packages

As suggested by https://github.com/npm/npm/pull/15900. This is a workaround until we get a better resolution of https://github.com/storybooks/storybook/issues/1286
Added explanation of packs dir
Revert removing `@storybook/react` from storyshots
Note about common next.js error
Create `@storybook/react/demo` exports
Updated CHANGELOG
v3.1.5","2017-June-22
Features
Added flow support to getstorybook upgrade
Added support for the haul react-native packager
Bug Fixes
Fixed addon knobs proptypes deserialization
Documentation
Added search to docs
snapshot testing inverse regex example documentation
Maintenance
Refactored storybook component library
Created CRA kitchen sink addons example
Use a pack -> install technique to recreate local packages
Import demo components from @storybook/react"
"v6.1.2
Update git head to 6.1.2
6.1.2 latest.json version file
fix lineheight in typeset component
Replace trash() with fs.remove().
Fix mistake and replace deprecated method.
Update CHANGELOG.md
Update loaders.md
Fix aurelia build
Fix overflow scrolling on layout:centered.
CLI: do not install babel for CRA
Fix rax build-storybook
Ignore app.component.spec
Fix typos
6.1.3 changelog
Update root, peer deps, version.ts/json to 6.1.3
v6.1.3","Bug Fixes
Core: Replace 'trash' with 'fs.remove' ()
UI: Fix overflow scrolling on layout:centered ()
CLI: Don't install babel for CRA ()
Addon-docs: Fix lineheight in typeset component ()"
"v5.2.1
5.2.1 latest.json version file
Update version.ts
Update index.md
Fix typo
demo is down

Demo for vanilla js is down
5.3.0-alpha.2 next.json version file
Fix typo in Decorator doc
5.3.0-alpha.4 next.json version file
5.3.0-alpha.5 next.json version file
5.3.0-alpha.6 next.json version file
Fix spellingerror in changelog ()

Fix spellingerror in changelog
Merge pull request from donaldpipowitch/patch-2

help users by pointing to further documentation
Document environment variables usage in HTML ()

Document environment variables usage in HTML
Update README.md ()

Update README.md
fix recommended typescript config in docs ()

fix recommended typescript config in docs
Fix links to live examples ()

Fix links to live examples
Update index.md in /writing-stories ()

Update index.md in /writing-stories
Merge pull request from Luchanso/next

Change example repository with new CRA and Typesc…
Line 94 (New Line) ()

Line 94 (New Line)
Added `AntDesign` to Preset Gallery ()

Added `AntDesign` to Preset Gallery
Update index.md
5.3.0-alpha.9 next.json version file
5.3.0-alpha.10 next.json version file
5.3.0-alpha.11 next.json version file
docs(deployment): add instructions about deployment on ZEIT Now ()

docs(deployment): add instructions about deployment on ZEIT Now
Update Addons-Storysource README.md ()

Update Addons-Storysource README.md
Remove mentions of @types/storybook__react ()

Remove mentions of @types/storybook__react
Update storysource README and imagery ()

Update storysource README and imagery
Source-loader migration docs
Fix loader typo in migration guide ()

Fix loader typo in migration guide
FIX 8083 ()

FIX 8083
REMOVE addon/center peerDependencies ()

REMOVE addon/center peerDependencies

Co-authored-by: Leo Y. Li <leo.li@imagia.com>
Co-authored-by: Norbert de Langen <ndelangen@me.com>
Update package.json ()

Update package.json
fix: Allow JSX.Element story ()

fix: Allow JSX.Element story
Improve error logging ()

Improve error logging

Co-authored-by: Norbert de Langen <ndelangen@me.com>
UI: Fix document title not updating ()

UI: Fix document title not updating

Co-authored-by: Norbert de Langen <ndelangen@me.com>
Merge pull request from christophe-g/8005-liElement-array-property-breaks-storybook-knobs-when-when-value-is-undefined

Addon-knobs: Handle undefined array value
React: Add DecoratorFn type to exports ()

React: Add DecoratorFn type to exports
UPGRADE telejson to new version with typings included and bugs… ()

UPGRADE telejson to new version with typings included and bugs fixed
Merge pull request from ghondar/next

Validate the state content in addon-ondevice-notes
()
Core: Show exception rather than error on react error boundary ()

Core: Show exception rather than error on react error boundary
Update `read-pkg-up` usage to work with version `7` ()

Update `read-pkg-up` usage to work with version `7`
fix: add @types/webpack-env to apps that depend on it, fixes… ()

fix: add @types/webpack-env to apps that depend on it, fixes
add missing type def to addon-knobs fixes ()

add missing type def to addon-knobs fixes
CLI: Fix variable collisions in storiesof-to-csf ()

CLI: Fix variable collisions in storiesof-to-csf
Addon-docs: CSS classes for escape-hatch theming wrapper/content ()

Addon-docs: CSS classes for escape-hatch theming wrapper/content
Add tests and src to npmignore ()

Add tests and src to npmignore

Co-authored-by: Dmitriy Kuznetsov <d.o.kuznetsov@tinkoff.ru>
Co-authored-by: Norbert de Langen <ndelangen@me.com>
UI: Move addon dependencies to devDependencies ()

UI: Move addon dependencies to devDependencies
Update yarn.lock
Storyshots: First-class CSF support ()

Storyshots: First-class CSF support
Don't use `global` package in templates ()

Don't use `global` package in templates

Co-authored-by: Norbert de Langen <ndelangen@me.com>
Update snapshots
Revert ""Update `read-pkg-up` usage to work with version `7` ()""

This reverts commit 49ee0ca6d1cd9560db419bf53a502eb9cd0960ec.
5.2.2 changelog
v5.2.2","Bug Fixes
Storyshots: First-class CSF support ()
UI: Move addon dependencies to devDependencies ()
Addon-docs: CSS classes for escape-hatch theming wrapper/content ()
CLI: Fix variable collisions in storiesof-to-csf ()
Addon-knobs: Add missing type def ()
Dependencies: add @types/webpack-env to apps that depend on it ()
Core: Show exception rather than error on react error boundary ()
UI: Fix inline code styling for dark theme ()
Addon-ondevice-notes: Validate the state content ()
Telejson: New version with typings and bugfixes ()
React: Add DecoratorFn type to exports ()
Addon-knobs: Handle undefined array value ()
Preact: Allow JSX.Element story ()
Storyshots: Fix STORYBOOK_HOOKS_CONTEXT error ()
Update react-draggable to 4.0.3 ()"
"v6.0.18
update git head to 6.0.18
6.0.18 latest.json version file
Fixed a docs typo
Document reordering Docs tab
Update automention.yml
5.3.20 changelog
6.0.19 changelog
Update root, peer deps, version.ts/json to 6.0.19
v6.0.19","Bug Fixes
UI: Fix eject and copy URLs for composition ()"
"v6.1.10
Update git head to 6.1.10
6.1.10 latest.json version file
Merge pull request from storybookjs/13247-fix-svelte-argstable

Addon-docs: Handle svelte docgen failures gracefully
Merge pull request from storybookjs/chore_addon_docs_change

Chore: Addon documentation restructure
Merge pull request from pascaloliv/patch-1

Typo in addon-controls documentation
Merge pull request from profanis/ng-what-is-a-story-doc

(docs): include in the what's a story documentation an Angular snippet
Merge pull request from storybookjs/13406-fix-bad-quotes

Docs: Fix bad quotes in showRoots example
Merge pull request from storybookjs/addon-docs-tweaks

Adjust addon titles and table of contents
Merge pull request from storybookjs/fix-undefined-ref

UI: Fix null ref in sidebar
Merge pull request from matamatanot/upgrade-react-popper-tooltip-for-react-17

Update react-popper-tooltip and @popperjs/core for react17
6.1.11 changelog
Update root, peer deps, version.ts/json to 6.1.11
v6.1.11","Bug Fixes
UI: Fix null ref in sidebar ()
Addon-docs: Handle svelte docgen failures gracefully ()
Dependency Upgrades
Update react-popper-tooltip and @popperjs/core for react17 ()"
"v6.0.4
Update version.ts to 6.0.4
6.0.4 latest.json version file
Fix install command for addon-controls
Upgrade addParameters in MIGRATION
Update widget-story-controls-enum.js.mdx

This is the only way I got the custom control types working. Following the argTypes-Docs from https://storybook.js.org/docs/react/api/argtypes the `type` field is for setting the property-type, not the control type.
Update widget-story-controls-enum.js.mdx
Update README.md
Fixed link for ArgTypes in controls.md

Just fixed the path for the ArgTypes link.
Update README.md
Fix link to testing-with-storybook

The link at the end was missing a slash. It read `..workflows/testing-with-storybook.md` and is updated to read `../workflows/testing-with-storybook.md`
Remove deprecated addParameters from docs snippet
Update Introduction.stories.mdx
add presets list and fix grammar and capitalization
6.0.5 changelog
Update root, peer deps to 6.0.5
v6.0.5","Bug Fixes
CLI: Fix welcome links on Introduction MDX ()"
"v5.2.4
Update version.ts
5.2.4 latest.json version file
Fix usage of event
5.3.0-alpha.20 next.json version file
5.3.0-alpha.21 next.json version file
5.3.0-alpha.23 next.json version file
Presets-doc: Fixing the advanced configuration ()

Presets-doc: Fixing the advanced configuration
add missing import to code example ()

add missing import to code example
:pencil: added react pakistan example ()

:pencil: added react pakistan example
Update Storyshots README w/ instructions per loading method ()

Update Storyshots README w/ instructions per loading method
docs: fix typo in MIGRATION (inadverttly -> inadvertently) ()

docs: fix typo in MIGRATION (inadverttly -> inadvertently)
Update index.ts of jest addon to make withTests type generic ()

Addon-jest: Make withTests type generic
Fix custom themes breaking the welcome demo. ()

Fix custom themes breaking the welcome demo.
Source-loader: Fix CSF typescript parser ()

Source-loader: Fix CSF typescript parser

Co-authored-by: Michael Shilman <michael@lab80.co>
UI: Remove emotion from NoDocs.js ()

UI: Remove emotion from NoDocs.js
MDX: Handle `<Story>` name starting with number ()

MDX: Handle `<Story>` name starting with number
Addon-docs: Fix React.forwardedRef/memo props ()

Addon-docs: Fix React.forwardedRef/memo props
React-native-server: Convert port to number in CLI options ()

React-native-server: Convert port to number in CLI options
[Security] Bump lodash from 4.17.11 to 4.17.15 ()

[Security] Bump lodash from 4.17.11 to 4.17.15
Add  ""@types/react-textarea-autosize"" to dependencies ()

Add  ""@types/react-textarea-autosize"" to dependencies
5.2.5 changelog
v5.2.5","Bug Fixes
UI: Fix React15 support ()
React-native-server: Convert port to number in CLI options ()
Addon-docs: Fix React.forwardedRef/memo props ()
MDX: Handle <Story> name starting with number ()
React: Fix custom themes breaking the welcome demo ()
Addon-jest: Make withTests type generic ()
Dependency Upgrades
[Security] Bump lodash from 4.17.11 to 4.17.15 ()
Dependency Upgrades
Add  ""@types/react-textarea-autosize"" to dependencies ()"
"v6.0.5
Update version.ts to 6.0.5
6.0.5 latest.json version file
docs(parameters): fix example file name
docs: add correct linkts in Addon Controls readme
Update docs/writing-stories/parameters.md

Co-authored-by: Dominic Nguyen <dom@hichroma.com>
add examples page
change example page location
fix bug in example location and tweak
tweak example copy to be less redundant
adds the layout page
Update docs/configure/story-layout.md

Co-authored-by: Dominic Nguyen <dom@hichroma.com>
Update docs/configure/story-layout.md

Co-authored-by: Dominic Nguyen <dom@hichroma.com>
Update docs/configure/story-layout.md

Co-authored-by: Dominic Nguyen <dom@hichroma.com>
Update docs/configure/story-layout.md

Co-authored-by: Dominic Nguyen <dom@hichroma.com>
changes per feedback
Update README.md
Document argTypesEnhancers
CLI: Fix RN link
Fixing little typo!
Fix broken link

Reported here https://github.com/storybookjs/frontpage/issues/151#issuecomment-673495491
Fix url linking to argTypes documentation
Addon-docs: Fix blocks type export
CLI: Warn on upgrade missing packages, don't error
CLI: Clarify upgrade warning
6.0.6 changelog
Update root, peer deps to 6.0.6
v6.0.6","Bug Fixes
CLI: Fix upgrade to warn when no packages found ()
Addon-docs: Fix blocks type export ()
CLI: Fix RN link ()"
"v5.3.14
Update version.ts to 5.3.14
5.3.14 latest.json version file
6.0.0-alpha.20 next.json version file
docs: add example for more meaningful static storybookUrl file path
Update index.md
Update README.md
docs(README): add ts to module.exports 

In angular we work with typescript files, but this part was missing in the `main.js`file
6.0.0-alpha.21 next.json version file
docs: Update preset-typescript documentation

With the changes in https://github.com/storybookjs/presets/pull/68, `tsDocgenLoaderOptions` no longer exists on `@storybook/preset-typescript` and has been replaced with `tsLoaderOptions` instead. I have updated the docs to reflect these changes.
docs: change ""tsConfigPath"" to ""configFile""
6.0.0-alpha.22 next.json version file
6.0.0-alpha.24 next.json version file
6.0.0-alpha.25 next.json version file
fix source link for carbon

The current link (https://github.com/carbon-design-system/carbon-components-react) says the project has been moved to a mono-repo
docs(webpack config): Fix spelling and url for Sass
6.0.0-alpha.27 next.json version file
Merge pull request from HerrickSpencer/patch-3

Documentation of writing add-on: replace 'withFoo' with the name of addon used in sample below 'withMyAddon'
Merge pull request from EmmanuelDemey/patch-3

fix: remove useless \ in the documentation
Merge pull request from davidinoa/next

Update index.md
Merge pull request from EmmanuelDemey/patch-3

fix: missing } in the docs addon documentation
Merge pull request from HerrickSpencer/patch-4

Update Writing-Addon doc
Merge pull request from tinymachine/patch-5

Fix typo in addon-contexts docs
Merge pull request from tinymachine/patch-6

Docs: add detail to addon-contexts per-story settings
Merge pull request from storybookjs/9634-fix-readme-example-links

README: Fix example links
Merge pull request from m1kl/9499-actions_truncate-string-arguments

Addon-actions: Style ActionLogger to preserve whitespace
Merge pull request from diondree/next

fix: Disables html-webpack-plugin's option to remove script tag types
Merge pull request from jonspalmer/fix_github_unit_tests

CI: Fix GitHub unit test workflow
Merge pull request from mattmoreira/fix/serialize-javascript-security

Fix: Remove usage of a vulnerable version of serialize-javascript
5.3.15 changelog
Update peer dependencies to 5.3.15
v5.3.15","Bug Fixes
Core: Disables html-webpack-plugin's option to remove script tag types ()
Addon-actions: Style ActionLogger to preserve whitespace ()
Maintenance
CI: Fix GitHub unit test workflow ()
Dependency Upgrades
Security: Remove usage of a vulnerable version of serialize-javascript ()"
"v6.4.11
Update git head to 6.4.11, update yarn.lock
6.4.12 changelog
Update root, peer deps, version.ts/json to 6.4.12 [ci skip]
v6.4.12","Bug Fixes
Angular: Fix for renamed method in angular 13.1 ()"
"Bump version from ""7.4.2"" to ""7.4.3"" [skip ci]
Update ./docs/versions/next.json for v7.5.0-alpha.3
Merge pull request from storybookjs/norbert/use-addon-state-bug

Manager: Fix useAddonState when using a setter function
(cherry picked from commit ec0aabae253b2df4ab07f9546a4ee552a932b43e)
Merge pull request from storybookjs/norbert/await-setState-in-usesharedstate

Core: Fix Promise cycle bug in useSharedState
(cherry picked from commit 45f615399120a11dd6aca79a649d2cf682eec391)
Write changelog for 7.4.4
Bump version from ""7.4.3"" to ""7.4.4"" [skip ci]","Core: Fix Promise cycle bug in useSharedState -, thanks @ndelangen!
Manager: Fix useAddonState when using a setter function -, thanks @ndelangen!"
"v7.0.5
Update git head to 7.0.5, update yarn.lock [ci skip]
7.0.5 latest.json version file [skip ci]
Merge pull request from literalpie/qwik-interactive-stories

CLI: Mark qwik as using addon-interactions
Merge pull request from storybookjs/docs/update-badges-and-subprojects

Documentation: Update examples and links
Merge pull request from storybookjs/shilman/22046-typeof-module

Core: Fix `module` guard in non-webpack environments
Merge pull request from hcvdhaar/patch-1

Update doc-block-markdown.md
Merge pull request from storybookjs/kylegach-patch-1

Clarify that IconGallery only works with React icons
Merge pull request from Yilun-Sun/patch-1

fix(Docs): update code snippet link
Merge pull request from storybookjs/build/upgrade-playwright

Build: Upgrade Playwright to 1.32.3
Merge pull request from Showrin/add-typescript-code-snippet-in-theming-doc-section

Fix some issues related to code snippets in the theming doc
7.0.6 changelog
Update root, peer deps, version.ts/json to 7.0.6 [ci skip]
v7.0.6","Bug Fixes
Core: Fix module guard in non-webpack environments
Maintenance
CLI: Mark qwik as using addon-interactions
Build
Build: Upgrade Playwright to 1.32.3"
"Bump version from ""7.6.1"" to ""7.6.2"" [skip ci]
Merge pull request from storybookjs/joevaugh4n-patch-3

Docs: Point people to GH Discussions from repo readme
(cherry picked from commit 8d3a3b6dd07f395f028fc4e7c49a103b905adec6)
Merge pull request from storybookjs/docs_minor_cleanuo

Docs: Minor Fixes and cleanup
(cherry picked from commit dbc4f02db58a6044c25fecb5fdf2a9cf1188465c)
Merge pull request from storybookjs/valentin/nextjs-fix-local-font-issue

Next.js: Fix next/font/local usage in babel mode

(cherry picked from commit aebcbee2495f1e463d7a749c449dcae4e8ce7ce4)
Merge pull request from storybookjs/update-arg-types-api-ref

Docs: Add `control: false`, `table.disable` to argTypes API reference
(cherry picked from commit 57077ab6e0849b9fe8b49a58c12637ffbf80fe39)
Write changelog for 7.6.3 [skip ci]
Fix Changelog.md
Bump version from ""7.6.2"" to ""7.6.3"" [skip ci]","Next.js: Fix next/font/local usage in babel mode -, thanks @valentinpalkovic!"
"v6.5.11
Update git head to 6.5.11, update yarn.lock [ci skip]
6.5.11 latest.json version file [skip ci]
Merge pull request from storybookjs/use-stories-docs

add a sub section on how to use stories
Merge pull request from storybookjs/chore_docs_sidebar_updates

Updates to the sidebar
Merge pull request from storybookjs/react-18-followup

React: Fix issue with react 18 implementation
6.5.12 changelog
Update root, peer deps, version.ts/json to 6.5.12 [ci skip]
v6.5.12","Bug Fixes
React: Fix issue with react 18 implementation"
"Bump version
Restore original directory permissions

As discussed in, cleaning up after stopping Homebrew services that
run as root is probably the best solution for now.

What's changed:

- Stopping any Homebrew service now restores the appropriate permissions
  for the Homebrew directories
- Stopping nginx now also happens via $this->brew
  (to avoid code duplication)

The tests were updated to reflect this change.
Remove unnecessary comment
CI fixes
Bump version","What's Changed
When stopping Homebrew services, restore original folder permissions by @nicoverbruggen in
New Contributors
@nicoverbruggen made their first contribution in
Full Changelog: v3.0.0...v3.0.1"
"Bump version:
Update .travis.yml
Pre-create the parent .config dir if needed

On a fresh OSX install, the ~/.config/ dir doesn't always exist. This checks and creates it if needed.
Disable xdebug

This should speedup builds a bit and makes it more consistent with other Laravel libraries.
Addressing issue
Support PHP 7.3
update brew test
test test test","Support PHP 7.3
Handle usernames with spaces
Check for config directory
PHP 7.3 upgrade notes from @drbyte: (comment)"
"Release 0.10.6
Fix bug in `filter`

Selectors passed to the `filter` method should only be applied to the
top-level elements in the selection. In other words, descendent elements
should *not* be considered when filtering by a selector string.

From [the jQuery documentation on
`$.fn.filter`](http://api.jquery.com/filter/):

> **Description**: Reduce the set of matched elements to those that
> match the selector or pass the function's test.

This should resolve issue.
remove documentation for nonexistent utilities
support `make setup`
use `Array.isArray` for all such checks
Release 0.10.7","Code & doc cleanup (davidchambers)
Fixed bug in filter (jugglinmike)"
"Bump versions for 0.14.2 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Fix recording metrics for unknown transactions & bump versions to 0.14.3 ()

* Fix recording metrics for unknown transactions
* Bump versions for v0.14.3

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>","Fix recording metrics for unknown transaction types.
Bug Fixes
Fix recording metrics for unknown transactions & bump versions to 0.14.3
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"fix: Progress plugin should request progress events for fetch as well as other common long running tasks.
fix: upgrade debug from 4.3.1 to 4.3.2

Snyk has created this PR to upgrade debug from 4.3.1 to 4.3.2.

See this package in npm:


See this project in Snyk:
https://app.snyk.io/org/steveukx/project/24b6d537-bd35-41f3-a2eb-09b40f87643f?utm_source=github&utm_medium=upgrade-pr
fix: While use of the `ListLogSummary` type is deprecated in favour of the new `LogResult`, the alias type should also support the default generic `DefaultLogFields` to allow downstream consumers to upgrade to newer `2.x` versions without the need to specify a generic.

Closes
chore: release 2.35.2","Bug Fixes
Progress plugin should request progress events for fetch as well as other common long running tasks. (ea68857)
upgrade debug from 4.3.1 to 4.3.2 (4b6eda8)
While use of the ListLogSummary type is deprecated in favour of the new LogResult, the alias type should also support the default generic DefaultLogFields to allow downstream consumers to upgrade to newer 2.x versions without the need to specify a generic. (508e602), closes"
"Bump version from ""8.2.0"" to ""8.2.1"" [skip ci]
Merge pull request from storybookjs/yann/document-portable-stories

Docs: Document portable stories usage
Merge pull request from storybookjs/kasper/mount-docs

Docs: Add docs for mounting inside the play function
Merge pull request from storybookjs/norbert/cpc-add-mjs-to-csf-tools-shim

CPC: Add `ESM` export to `docs-tools` & `node-logger` packages
(cherry picked from commit 4997e098882a12e019a3aa58ba3fb80d1e9056dd)
Merge pull request from storybookjs/norbert/cpc-revert-addon-and-panel-renames

(cherry picked from commit 61e1363d89c7de941fdc23c5c5a71d5340a271ba)
Merge pull request from storybookjs/norrbert/cpc-bring-back-test-dep-to-interactions-addon

CPC: Fix missing dependency
(cherry picked from commit 14063e05f52145c66201561bd711bba19259380d)
Merge pull request from storybookjs/docs-update-onboarding-asset

Docs: Update onboarding image
(cherry picked from commit b44ffd8d5bb2c387708660a06a4367a60bc14bda)
Merge pull request from andrejilderda/docs/add-importance-of-subpath-import-order

Docs: add importance of subpath import order
(cherry picked from commit f8f9f1b0a336255321ca5529bccfdcdd3cc23717)
Write changelog for 8.2.2 [skip ci]
Bump version from ""8.2.1"" to ""8.2.2"" [skip ci]","CPC: Add ESM export to docs-tools & node-logger packages -, thanks @ndelangen!
CPC: Fix missing dependency in @storybook/addon-interactions -, thanks @ndelangen!
CPC: Revert renames of panels, addon_ids -, thanks @ndelangen!"
"Update app.php
Update CHANGELOG
Only delete resolver when Herd is not installed
Update cli/Valet/DnsMasq.php

Co-authored-by: Mateus Junges <mateus@junges.dev>
Fix code styling
Bump version","What's Changed
Only delete DNSMasq resolver when Herd is not installed by @mpociot in
Full Changelog: v4.1.3...v4.1.4"
"Bump version for v0.17.0 ()

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>
Fix entity cache ()

* Fix entity cache
* Bump versions for 0.17.1

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>","A small fix to correct a performance regression with not properly caching a heavily used query.
Bug Fixes
Fix not caching entity lookups during transaction parsing
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Update app.php
Update CHANGELOG
Make 127.0.0.1 SERVER_ADDR definition only if null ()
version","Fixed
Make 127.0.0.1 SERVER_ADDR definition only if null by @mattstauffer in"
"Release 0.8.0
fixed test
compatible with node 4.x
fixed regression where if you created an element, it would update the root
Release 0.8.1","fixed regression where if you created an element, it would update the root
compatible with node 4.x (again)"
"Bump versions for v0.14.0 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Optimize parser performance ()

- Fix slow string creation and comparison in transaction filter by using EntityId
- Fix slow metric recording by pre-creating metrics objects in constructor
- Fix slow configuration properties getters due to reflection by removing @Validated
- Fix saving record file before all batches complete (recordfile save is in separate transaction)
- Fix NullPointerException if exception during StreamFileListener.onStart()
- Fix slow file reading due to unbuffered input stream
- Fix unnecessary ByteBuffer allocation by using library to convert int to bytes
- Fix unnecessary String creation for transaction memo

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Bump version for v0.14.1 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>","This release further optimizes the ingestion rate. Initial tests indicate a 2x to 3x improvement.
Enhancements
Bump versions for v0.14.1
Bug Fixes
Optimize parser performance
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Bump versions for v0.42.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Update GCP marketplace to match deployed images ()

In 0.43 we added and published GCP marketplace images for 0.42
These changes missed being added to 0.42

Add changes for correctness
- Update OSS txt files for licenses and sources
- Update gcp `values.yaml` to disable rosetta chart

Signed-off-by: Nana-EC <nana.essilfie-conduah@hedera.com>
Bump versions for v0.42.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","This release updates GCP Marketplace configurations.
It updates the OSS license and source information.
Additionally, it updates the GCP values.yaml to disable the rosetta chart from running in marketplace.
This is an update for correctness and does not necessarily require re-install of sources or redeployment of images if no update is needed.
Enhancements
Update GCP marketplace to match deployed images
We'd like to thank all the contributors who worked on this release!
@Nana-EC"
"Bump versions for v0.94.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix incorrect pending reward calculation (0.94) ()

- Use deduped account_balance info in EntityStakeRepository.createEntityStateStart()
- Add SQL migration to remove incorrect entity_stake rows

Signed-off-by: Edwin Greene <edwin@swirldslabs.com>
Signed-off-by: Xin Li <xin@swirldslabs.com>
Co-authored-by: Edwin Greene <edwin@swirldslabs.com>
Bump versions for v0.94.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Provides an important fix to pending reward calculation that regressed due to the balance deduplication work. The database migration for this will take approximately 17 minutes on mainnet.
Bug Fixes
Fix incorrect pending reward calculation (0.94)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera"
"Bump versions for v0.64.3

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix downloader thread blocked (0.64) ()

Workaround the AWS SDK not completing a future by setting a timeout on all asynchronous work in the downloader.

* Add a hedera.mirror.importer.downloader.timeout=30s property
* Set a timeout on signatureDownloadThreadPool.invokeAll()
* Set a timeout on s3Client.listObjects() future
* Set a timeout on PendingDownload future

Signed-off-by: Steven Sheehy <steven.sheehy@swirldslabs.com>
Bump versions for v0.64.4

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","This release contains a critical bug fix that ensures the downloader thread does not stall indefinitely and block record processing due to a race condition in the AWS SDK.
Bug Fixes
Fix downloader thread blocked (0.64)
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Bump versions for v0.84.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix getNodes API attempting to update stake (0.84) ()

Fix getNodes API triggering an update statement due to changing a Hibernate managed bean within a transaction.

Signed-off-by: Steven Sheehy <steven.sheehy@swirldslabs.com>
Bump versions for v0.84.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Fix getNodes API attempting to update stake (0.84)
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Update version numbers for v1.3.1
fix typo
Fix install commands

Fix incorrect install commands.
Fix insall commands.
Removing "".exe"" from command to run.
Update edgectl-download.md
Installer: Support multiple AES pods in cluster ID check
Installer: Place install results in Installer, not in locals

- Have a place to put installation results in the Installer object
- Use that place instead of local variables
- Skip function args and wrapper functions to simplify code
Readd the tls termination docs

Signed-off-by: Noah Krause <krausenoah@gmail.com>
Update the Host CRD docs with more info

Signed-off-by: Noah Krause <krausenoah@gmail.com>
Fix broken links (I hope)

Signed-off-by: Noah Krause <krausenoah@gmail.com>
fix doc-links

Signed-off-by: Noah Krause <krausenoah@gmail.com>
please be the final link fixing

Signed-off-by: Noah Krause <krausenoah@gmail.com>
Final one for real

Signed-off-by: Noah Krause <krausenoah@gmail.com>
edgectl reports install ids when registering a domain name
Remove client cert validation from topics

Rename HTTP/HTTPS support section

Signed-off-by: Noah Krause <krausenoah@gmail.com>
added logging for install_id, trace_id
Rename section

Signed-off-by: Noah Krause <krausenoah@gmail.com>
colorized/styled the install process, first pass
minor changes to messages
Fix broken link

Signed-off-by: Noah Krause <krausenoah@gmail.com>
Rename in TOC

Signed-off-by: Noah Krause <krausenoah@gmail.com>
instructions to grab lb hostname for some clusters
minor formatting changes in messages
simpler logic
now opening recommended URLs, fixed some error phrases
changes per PR recommendations
more changes per PR recommendations
minor changes, incorporating new 1.3.2
install output no longer colorized, <chalk> module not used
removed chalk from required modules
removed newline char from Println
go.sum - removed chalk refs
changes in ordering, phrases during install
Update version numbers for v1.3.2-rc.0
Update version numbers for v1.3.2-rc.1
Update version numbers for v1.3.2","Ambassador 1.3.2
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/datawire/ambassador/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Ambassador Edge Stack
Bugfix: edgectl install correctly installs on Amazon EKS and other clusters that provide load balancers with fixed DNS names
Bugfix: edgectl install when using Helm once again works as documented
Bugfix: edgectl install console logs are improved and neatened
Bugfix: edgectl install --verbose output is improved
Bugfix: edgectl install automatically opens documentation pages for some errors
Bugfix: edgectl install help text is improved"
"Bump versions for v0.59.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Handle empty weibars in EthereumTransaction (0.59) ()

* Fix handling of empty weibars for EthereumTransaction
* Fix handling of unsigned big integers for EthereumTransaction

Signed-off-by: Steven Sheehy <steven.sheehy@swirldslabs.com>
Bump versions for v0.59.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Handle empty weibars in EthereumTransaction (0.59)
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Bump versions for v0.46.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Bump swagger-ui-express from 4.2.0 to 4.3.0 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Bump json-schema from 0.2.3 to 0.4.0 () ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Fix accounts query with balance only query param performance regression (0.46)

- Fix accounts query performance regression with balance only query params
- Fix wrong reference of balanceQueryParam in openapi spec

Signed-off-by: Xin Li <xin.li@hedera.com>
Bump versions for v0.46.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","This fixes a performance regression in v0.46.0 and updates a couple vulnerable dependencies.
Bug Fixes
Fix accounts query with balance only query param performance regression (0.46)
Dependency Upgrades
Bump json-schema from 0.2.3 to 0.4.0 (0.46)
Bump swagger-ui-express from 4.2.0 to 4.3.0 (0.46)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera
@steven-sheehy"
"Bump versions for v0.64.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Allow ContractAction recipient not set (0.64) ()


Signed-off-by: Xin Li <xin.li@swirldslabs.com>
Bump versions for v0.64.3

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Allow ContractAction recipient not set (0.64)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera"
"(from AES) Update for v1.6.0
Fixed invalid yaml in istio 1.5 documentation

(cherry picked from commit 3085645c9df11c8e49731fe797aa5f443ab1fd36)
docs/index.md: *the* OSU^H^H^HAES
The website uses yarn now, not npm
fixed changelog
(from AES) Use the URL parser to parse service quasi-URLs.
(from AES) Oops. Fix typo. Thanks @alexgervais!
(from AES) Added changelog item for apro
(from AES) Update for v1.6.1-rc.0
(from AES) Update for v1.6.1-rc.1
(from AES) microk8s docs

Signed-off-by: Alvaro Saurin <alvaro.saurin@gmail.com>
(from AES) Fix broken link to Zipkin docs.
(from AES) Don't try to qualify Consul services with a subdomain.
(from AES) Use urlparse to grab hostname _before_ checking for localhost, and test a bunch of localhost variants
(from AES) Fix comment. D'oh.
(from AES) CHANGELOG: Add Flynn's recent fixes
(from AES) Update for v1.6.1-rc.2
(from AES) Update for v1.6.1","Ambassador 1.6.1
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/datawire/ambassador/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Bugfix: Mapping with https scheme for service are correctly parsed.
Bugfix: Mapping with both a scheme and a hostname of localhost is now handled correctly.
Bugfix: ConsulResolver now works again for Mappings outside of Ambassador's namespace."
"(from AES) Update for v1.13.5
yaml gets published to s3 probably ()
some automation for helm releases ()

* parent 5bf1dbe2fa435f2c5f7471b570fcce6d5d71bf85
author Alix Cook <alixcook@datawire.io> 1619550025 -0400
committer Alix Cook <alixcook@datawire.io> 1619782972 -0400

check chart in ci

* wee

* release off of release/v* branches

* ugh i guess only on tags :(

* also revert some circle stuffs

* oops build error
fix s3 key for manifest publishing ()
fix manifest version whitespace
(from AES) Fix an issue in the legacy aggregator where Ambassador snapshots were logged at the INFO level
(from AES) Update changelog
(from AES) Update for v1.13.6-rc.0
(from AES) Update for v1.13.6-rc.1
(from AES) Update for v1.13.6-rc.2
(from AES) Fix CircleCI config
(from AES) Fix CI again
(from AES) Update for v1.13.6-rc.3
(from AES) Fix publish_yaml_s3.sh stable check
(from AES) Update for v1.13.6-rc.4
(from AES) Fix the script for real
(from AES) Update for v1.13.6-rc.5
(from AES) Compare against true directly
(from AES) 2
(from AES) Update for v1.13.6
(from AES) Update chart README.md","Ambassador Chart 6.7.9
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading#helm.html
View changelog - https://github.com/datawire/ambassador/blob/master/charts/ambassador/CHANGELOG.md
Update Ambassador chart image to version 1.13.6: CHANGELOG"
"Bump versions for v0.74.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix migration db user permission issue (0.74) ()

- Switch to db owner

Signed-off-by: Xin Li <xin.li@swirldslabs.com>
Fix migration SQL performance issue (0.74) ()

- optimize the update query to avoid seq scan on transaction table

Signed-off-by: Xin Li <xin.li@swirldslabs.com>
Bump versions for v0.74.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Enhancements
Rosetta add latest HAPI response codes (0.74)
Rosetta show transaction valid until in ConstructionParse metadata (0.74)
Bug Fixes
Fix migration SQL performance issue (0.74)
Fix migration db user permission issue (0.74)
Workaround block number issue by merging blocks (0.74)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera
@steven-sheehy"
"(from AES) Update for v1.7.3
(from AES) Roll back v2listener.py to 43af03219 [ci-skip]

That's the v1.6.2, plus https://github.com/datawire/apro/pull/1716,
which is a fix that EPO cares about.

This should resolve several regressions in the 1.7.x series are
resolved by removing the ability to set `insecure.action` on a
per-`Host`-resource basis, which was an ability added in 1.7.0.  This
reverts to the pre-1.7.0 behavior of having one `Host`'s insecure
action ""win"" and be used for all `Host`s.

[ci-skip] because the gold files need updated.
(from AES) Update gold files
(from AES) Detect configuration problems and save the corresponding data structures.
(from AES) python/tests: add a unit test to ensure that mapping cluster reuse works with caching
(from AES) ambassador: introduce envoy_name on IRCluster to separate IR naming and final envoy config names

With this change, we treat an IRCluster's name as immutable so that the
underlying IRResource's rkey and name are mutually consistent. This
hardens code that may use an object's rkey or its name to determine uniqueness.
(from AES) Update for v1.7.4-rc.0
(from AES) Make sure we eventually remove exited processes from memory usage tracker.
(from AES) Mention the memory logging in the CHANGELOG
(from AES) Update for v1.7.4-rc.1
(from AES) Update for v1.7.4","Ambassador 1.7.4
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/datawire/ambassador/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Ambasssador API Gateway + Ambassador Edge Stack
Bugfix: Several regressions in the 1.7.x series are resolved by removing the ability to set insecure.action on a per-Host-resource basis, which was an ability added in 1.7.0.  This reverts to the pre-1.7.0 behavior of having one Host's insecure action ""win"" and be used for all Hosts.
Bugfix: Ambassador will no longer generate invalid Envoy configuration with duplicate clusters in certain scenarios when AMBASSADOR_FAST_RECONFIGURE=true.
Enhancement: When AMBASSADOR_FAST_RECONFIGURE=true is set, Ambassador now logs information about memory usage."
"flush data for final interval on shutdown ()

Updates the AtlasRegistry to attempt flushing the data
for the final interval when shutting down. This may still
not be successful if the backend guards against data coming
in with timestamps in the future.
cache normalized ids ()

In some cases users are using a custom Id implementation to
get better performance at the call site by delaying the dedup
and sorting. In we normalize the Id to avoid any problems
with correctness, but this can lead to a performance penalty
if those users are creating customs ids in a tight loop.

This change adds a simple cache of the normalized id to make
the lookup much cheaper. This avoids most of the overhead on
the sample application that was tested.","Primary changes:
, cache normalized ids.
A comprehensive list of changes can be found in the commit log: v0.95.0...v0.95.1"
"release: prepare v3.3.0 release notes

Signed-off-by: Lance Austin <laustin@datawire.io>

sdd

Signed-off-by: Lance Austin <laustin@datawire.io>
lint: pin mypy version

mypy released a new version 0.990 which is making some breaking changes causing mypy runs to fail on our existing code. While we should address them, just pinning the mypy version so the rules don't change on us unexpectedly

Signed-off-by: Hamzah Qudsi <hqudsi@datawire.io>
(cherry picked from commit 27612b2a5c25a0ec2c82f10007e32cbd911d8334)
cleanup: remove unused python imports

This is to help get a better picture of what deps are actually
being used and see which ones are no longer needed. This will
help with dependabot and scanning tools so that we are
not being flag for deps that no longer get used.

The following was done:

- Executed `autoflake --remove-all-unused-imports  -r -i ./python` to
remove unused exports within the python.
- Reviewed changes to ensure re-exports were not removed.
- Executed `black ./python/` to fix lint issues
- Executed `pip-compile --allow-unsafe --no-build-isolation -q` to
update the requirements.txt to remove unused deps.
- Executed `isort ./python/` to ensure imports are sorted correctly
after updating them
- Executed `make generate` to ensure we capture updated dependenceis

Signed-off-by: Lance Austin <laustin@datawire.io>
(cherry picked from commit 7d37953e82e00ef3c2723e8602f478cee7b10a53)
build: add QOL make target for generating changelog

This just adds a couple of simple targets that makes it faster
to iterate on documentation changes. `make generate` and
`make generate-fast` should still be run to make sure that no
other changes occur in CI.

Signed-off-by: Lance Austin <laustin@datawire.io>
(cherry picked from commit e577e01861e2dba4a70e0ea2a0a30ff37ab440f3)
base-python/Dockerfile: Don't pin specific package versions

And add a comment about why.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
base-python/Dockerfile: Don't be overly specific with the Python version

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 64a3dace3aab2850239e00139e65c2a3c1e7e241)
deps: upgrade to golang 1.19.4

Update Golang to release 1.19.4. Two CVE's were annouced in this
z patch release. CVE-2022-41720 only affects Windows
environments and $productName$ runs in linux. The second one,
CVE-2022-41717 only affects HTTP/2 server connections exposed
to external clients.

Emissary-ingress does not expose any Golang http servers to
outside clients directly.

The data-plane of Envoy is not affected by either of these since this
is a Golang issue.

Signed-off-by: Lance Austin <laustin@datawire.io>
docs: touch-up helm chart changelog

Signed-off-by: Lance Austin <laustin@datawire.io>","Emissary Ingress 3.3.1
Emissary Ingress is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Emissary - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/emissary-ingress/emissary/blob/v3.3.1/CHANGELOG.md
Get started with Emissary on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Security: Update Golang to release 1.19.4. Two CVE's were annouced in this z patch release.
CVE-2022-41720 only affects Windows environments and Emissary-ingress runs in linux. The second
one  CVE-2022-41717 only affects HTTP/2 server connections exposed to external clients.
Emissary-ingress does  not expose any Golang http servers to outside clients. The data-plane of
Envoy is not affected by either of these."
"changelog: finalize changelog for v3.7.0

Signed-off-by: Hamzah Qudsi <hqudsi@datawire.io>
deps: bump envoy to 1.26.3

Envoy released a zero-day fix for CVE-2023-35945. This updates our
custom build of Envoy with the fix and our custom commits based on
Envoy 1.26.3.

Signed-off-by: Lance Austin <laustin@datawire.io>
release(v3.7.1): update change log for release

Signed-off-by: Lance Austin <laustin@datawire.io>
helm: add changelog note for 8.7.1

Signed-off-by: Lance Austin <laustin@datawire.io>","Emissary Ingress 3.7.1
Emissary Ingress is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Emissary - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/emissary-ingress/emissary/blob/v3.7.1/CHANGELOG.md
Get started with Emissary on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Security: This upgrades Emissary-ingress to be built on Envoy v1.26.3 which includes a security
fix for CVE-2023-35945."
"shade jackson dependency for web-spring ()

This should help minimize issues with other uses that
might need to use older versions of jackson (e.g.).
fix(aws): change default handler context key ()

The aws sdk places a value in `HandlerContextKey.OPERATION_NAME`
(e.g. GetObject) at least some of the time, so use a default that's not
one of the predefined HandlerContextKey objects to avoid that.","Primary changes:
, change default handler context key for AWS integration.
A comprehensive list of changes can be found in the commit log: v1.0.5...v1.0.6"
"fix: make package name all lowercase
Use deque in ReplaySubject ()","What's Changed
Use deque in ReplaySubject () by @timothy-shields in
New Contributors
@timothy-shields made their first contribution in
Full Changelog: v4.0.1...v4.0.2"
"Fix kool share subdomain param help text
Improving MySQL and Postgress Templates
Improving Redis Template + Tweaks
Parse Presets
updated Introduction page in Docs
updates to Demo page in Docs
updates to Getting Started - Installation page in Docs
updates to DB templates to match Daniel's fixes
updates to Preset Intro page in Docs
updates to Starting New Project page in Docs
updates to Starting New Project page in Docs
add linkHandler to docs.go to fix internal linking
fix internal linking by removing file ext
revert manual changes to 0-kool
updated preset configs.go
fix root command See Also links
docs: generating docs","Fixed
Fixed database/cache templates and added healthcheck to them
Notes
Improved documentation, 0f82c93"
"bump(version)
update(changelog)
:art:
fix(auth) Increment timeout for requests that initiate imap connections
fix(auth) Don't show error message when auth is successful
bump(k2)
feat(build): build DMG

Summary:
We need people to manually drag into their /Applications folders due to
OSX gatekeeper protections.

Test Plan: manual

Reviewers: juan, khamidou

Reviewed By: khamidou

Differential Revision: https://phab.nylas.com/D3756
fix(crash): Fix error reporting for unhandled promise rejections

When handling unhandled promise rejections, our error reporter would
completely freeze the worker window when trying to send a Promise
through the ipc bridge, rendering the app unusuable

This fixes T7621
bump(changelog)
bump(version): 1.0.11","Features:
Nylas Mail's installer on Mac uses a DMG
Fixes:
Fixed app being occasionally unresponsive
Decreased odds of failed logins (by bumping connection timeout value)
Sync erroring notification no longer tripped by timeouts"
"bump(version): 1.0.44
[cloud-api] Fix query for delta stream transactions

Summary:
When querying transactions for the delta stream, if no cursor is provided,
we should default to 0. Otherwise this will generate a query like:
```
WHERE `transaction`.`id` > ‘null’
```
Which is obviously wrong

Test Plan: manual

Reviewers: evan, halla, spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D4242
[client-app] Fix passing cursor to delta streams

Summary:
Currently, when we auth an account for the first time in Nylas Mail (or
we blow away the database), the app is going to request transactions
since cursor `null` from the /delta/streaming endpoint and from the local-sync
delta observable, instead of requesting transactions since cursor `0`

This is due to a subtle bug with the use of default values when
destructuring an object. Our coded did the following:
```
const {cursor = 0} = this._state
```
Which at a glance seems correct. However, this will only work as
expected if `this._state` has the following shape:
```
{cursor: undefined}
```
And unfortunately, our `this._state` looked like this when authing an
account for the first time:
```
{cursor: null}
```

Which would make `cursor === null` instead of `0`.
This is because when using default values, null is considered an
intentional argument/value, as opposed to not passing any argument/value
(which will mean that the argument is undefined).

This was a regression introduced in d60a23c and 8bc2ec5

Test Plan: manual, will add regression test in upcoming diff

Reviewers: evan, spang, halla

Reviewed By: halla

Differential Revision: https://phab.nylas.com/D4243
[dev] Fix temp dir path in daily
[dev] Actually fix tmp dir path in daily
bump(version): 1.0.45","Fixes:
Correctly report unhandled errors caught in window.
Fix passing cursor to delta streams
Fixes:
Add error handling when creating syncback requests
Fix path for tmp dir in daily script
Fixes:
Revert nodemailer to previous version
Creating a folder no longer creates a non-existent duplicate subfolder
Don't bump threads to the top of list when a message is sent: only update lastReceivedDate if the message was actually received
Fixes:
Fix spellchecker regression (Don't exclude source maps in build)
Development:
Upgrade nodemailer to latest version
Features:
Add support for attachments in send later
Development:
Improve build time
Windows Autoupdater fixes"
"fix make release process
Tweak phpunit path for laravel preset
fixed wordpress preset - missing .env
bump php 8.1 on laravel/symfony create scripts
Moving to mysql/mysql-server for ARM / Apple M1 Support","Changed
Moved mysql image to mysql/mysql-server for ARM / Apple M1 Support
Updated PHP version used by composer create-project for Laravel and Symfony projects to 8.1
Fixed
Fixed missing .env file on Wordpress local preset
Fixed phpunit command path for laravel preset"
"release version 4.3.5
added default image field to redeem class
save topic instead of type in PubSubListener

fixes
release version 4.3.6","Fixes
[twitch-pubsub-client] save topic instead of type in PubSubListener (f637189)"
"release version 4.4.9
add HelixHypeTrainEvent#goal
correct join rate limiter bucket size
fix pubsub ping timer
fix ReverseProxyAdapter and EnvPortAdapter
some minor formatting and documentation fixes
add getThumbnailUrl function ()
some minor documentation fixes
release version 4.4.10","Features
[twitch] add HelixHypeTrainEvent#goal (51cda78)
[twitch] add getThumbnailUrl function (6267e80)
Fixes
[twitch-chat-client] correct join rate limiter bucket size (dcf8b8d)
[twitch-pubsub-client] fix ping timer (a4a6587)
[twitch-eventsub] fix ReverseProxyAdapter and EnvPortAdapter (4d7171c)"
"release version 4.5.2
Fix typo & false warning condition check in ChatClient.whisper()
use correct class as `HelixSearchApi#searchChannels` return value
release version 4.5.3","Fixes
[twitch] use correct class as HelixSearchApi#searchChannels return value (d2311e5)
[twitch-chat-client] fix warning about whispers (d171697)"
"release version 4.6.5
Change the id() for subscribe-message events

This fixes by changing the prefix string returned by
`EventSubChannelSubscriptionMessageSubscription.id()` to match the one
returned by the similar method in  `HelixEventSubApi`.

A quick spot check shows that the other strings used across the two
classes otherwise line up, so presumably this was the intention when
this event was initially added.
release version 4.6.6","Fixes
[twitch-eventsub] correct id for subscription message events (822a79c)"
"Rework /internal/queue package ()

* Rework /internal/queue package

Given our use cases for this package, we don't need methods that don't block
on reads if there's no value to be read. Due to this, I've removed the
ReadOrWait function and did a small redesign of the methods to be more
in line with standard queue method naming.

* Change Read/Write/IsEmpty to Dequeue/Enqueue/Size and remove ReadOrWait.
Now there is no version of Read/Dequeue that doesn't block if the queue
is empty.
* Fix up tests to be in line with this removal of the non-blocking read
and simplified most of the tests.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
(cherry picked from commit 12d4cd8f9abaf895ee4a2daa6c5837554b92e33d)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Add IO tracking option for job objects ()

* Add IO tracking option for job objects

HCS enables this to get more in depth IO stats for the silo of the
container. I'd swapped hostprocess containers to querying for
these stats but without the prerequisite of actually enabling them :)

This change adds a new option on jobobject.Options{} to enable this
functionality and adds a new test to ensure we can actually call
StorageStats now.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
(cherry picked from commit 598ea471a75ced1cdb74f33b6e6afb4179cd521c)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Fix unsafe uses of unsafe.Pointer ()

Per rule 4 of unsafe.Pointer usage, conversion of a unsafe.Pointer
to a uinptr to pass to the syscall.Syscall family should only be done in
the argument list. We had a couple spots where we were passing it in as
an argument to a small wrapper function until it reached the underlying
syscall.Syscall*.

https://pkg.go.dev/unsafe#Pointer

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
(cherry picked from commit 1ec8cadfb2b85b2de2e3c8a5128fb16f7f9822d9)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Remove uneccessary use of silos in jobobject tests ()

Two tests added recently by yours truly don't need to be running as
silos. Remove the silo field set to true. Was running into this when
trying to backport a fix to a branch that doesn't have the silo work.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
(cherry picked from commit 41d8f5a2fead90a08b280c1728cc354d16f08475)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
linter: fix linting issues ()

Additionally fix the queue tests logic.

Signed-off-by: Maksim An <maksiman@microsoft.com>
(cherry picked from commit 873b8e122faae117e6daaa2df7244dd40a7080cd)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
go mod vendor in /test

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Add test case for job env expansion

Signed-off-by: James Sturtevant <jsturtevant@gmail.com>
(cherry picked from commit 9d05b5b66d4cc3e678b4cd87b50a54977820101c)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Expand env variables to job mount path

When installing tools into container it is sometimes desirable to have
those tools on the path for the current process.  Since the Windows
doesn't support variable expansion on the PATH variable and the
job mount path as something that isn't know at runtime we need to expand
it for the passer.  This could go away if the mount path is no longer
used in the future.

Signed-off-by: James Sturtevant <jsturtevant@gmail.com>
(cherry picked from commit 014849a4b0dcf88831921f34ba751b0400716203)
Signed-off-by: Daniel Canter <dcanter@microsoft.com>","What's Changed
[release/0.9] Backport hostprocess fixes by @dcantah in
Full Changelog: v0.9.3...v0.9.4"
"Adding state attribute to the HNSEndpoint struct to support hyperv containers for k8s

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding stringer for usage and CI/CD

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing build errors

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Ignore linting for files generated by Stringer

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Trying to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing extra step to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

go gen CI fix try 2

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Skip autogenerated file from linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing stringer to avoid increasing package bloat for hcsshim

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

cleanup

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding comment for future HNS v2 change

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fix linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>
(cherry picked from commit e96bfcd186703633a600134d100a61ae4f173077)
Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>
Fix process handle leak when launching a job container ()

CreateProcess gives us back a handle to the newly created process.
Previously, we ignored this handle, which meant it was leaking every
time we created a new job container (or anything else that uses
internal/exec in the future).

Process handle leaks can be bad as an exited process is left as a
""zombie"" until all handles to it have closed, continuing to use memory.

Fix this by closing the handle from CreateProcess.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Co-authored-by: Kevin Parsons <kevpar@microsoft.com>","What's Changed
[release/0.11]: Fix process handle leak when launching a job container by @yyatmsft in
Full Changelog: v0.11.6...v0.11.7"
"Adding support for loadbalancer policy update in hns. ()

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
(cherry picked from commit 0f7d8de9948c3ebfd45911dc55b451d8902d48b2)
Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>
Adding state attribute to the HNSEndpoint struct to support hyperv containers for k8s

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding stringer for usage and CI/CD

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing build errors

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Ignore linting for files generated by Stringer

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Trying to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing extra step to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

go gen CI fix try 2

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Skip autogenerated file from linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing stringer to avoid increasing package bloat for hcsshim

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

cleanup

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding comment for future HNS v2 change

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fix linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>
(cherry picked from commit e96bfcd186703633a600134d100a61ae4f173077)
Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>
[release/0.12] vendor: github.com/containerd/containerd v17.18

Update to the current v1.7 release, which deprecated the errdefs and log
packages in favor of the separate github.com/containerd/errdefs and
github.com/containerd/log modules, which are now an alias.

Update the minimum required version to prevent consumers from using
an older version, and thus incompatible errdefs or log definitions.

Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
Hcsshim wrapper over HNS API needed for exclusion of management mac addresses for VF reassignment.

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
Modifying network flag EnableIov.

Signed-off-by: Prince Pereira <ppereira@microsoft.com>","What's Changed
[release/0.12] Adding state attribute to the HNSEndpoint struct to support hyperv co… by @ritikaguptams in
[release/0.12] vendor: github.com/containerd/containerd v17.18 by @thaJeztah in
[release/0.12] Backport networking commits for L1VH feature by @princepereira in
Full Changelog: v0.12.4...v0.12.5"
"fix: move permissions to the correct job () ()

The permissions block should be under `create_release` job, rather
than `build`.

Signed-off-by: Maksim An <maksiman@microsoft.com>
(cherry picked from commit 3eeba905b4e0a408b372e3de326f00c70bdb442a)
Update go-winio to v0.6.2 & fix lint errors

Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>","What's Changed
[release/0.12] Update go-winio to v0.6.2 by @kiashok in
Full Changelog: v0.12.2...v0.12.3"
"2.0.0 publish
upgrade to 2.0.1-SNAPSHOT
migrate connections for rdb event trace
refactor
Update README_cn.md
Update README.md
update docs
update docs
fix
update docs
Add blocking queue and active thread count statics.
fix
optimize concurrent hash map usage
optimize concurrent hash map usage
Fixed event bus post error issue when executor is shutdown.
Fixed.
Update docs and removed test case.
Customized elastic job thread name.
Fixed.
refactor
Removed useless local properties and overwrite from zookeeper configuration.
fix
Fixed console render server and job issue.
Fixed job execution event failure not recorded issue.
update docs
update docs
add resources to customized executors
Update docs.
Fixed.
Updated docs.
Fixed.
update docs
release 2.0.1","Bug Fixes
ISSUE Remove the reg module to read information from zk, making the reg namespace's placeholder fully available
ISSUE elastic-job-cloud-scheduler memory leak
ISSUE After modifying the database connection of the task log, the log is still written to the old database
ISSUE Thread pool reuse problem for a task
ISSUE console task does not load, background there is an null pointer exception
ISSUE Operations platform delete tasks, occasionally encounter deletion incomplete situation
ISSUE Cloud's misfire feature will be performed as jobs pile up"
"[maven-release-plugin] prepare release v2.1.1
[maven-release-plugin] prepare for next development iteration
Update versions for 2.1.2-SNAPSHOT
Shutdown channel immediately if health-check failed

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@65ee0a50a50ea9be66948d982aa6ba67e2378b00
orig-commit-author: Göktürk Gezer <gokturk@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-eb5393d9d3b4e717dc861fad13581cd191ee0f54
Fix typo in ufs/s3 doc

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@18735d4b737cba2064d0b993f553dc440fd95d8a
orig-commit-author: pragnesh <pg.radadia@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-7b994ef160ec569c4ee4233bdbca0c70162b533b
[DOCFIX] Add details to the table docs

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@f8c1869fd02258f3eb9d57c35bfb182a37f673d5
orig-commit-author: Gene Pang <gene.pang@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-4dd83569f58433081be86a4b8539cf4e55c27043
Update docs with new categorization

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@e5fb21cdc3f6c879a227d6beeed0fc1c8111eeeb
orig-commit-author: Rico Chiu <xenorith@users.noreply.github.com>

pr-link: Alluxio/alluxio
change-id: cid-9f6580ea440e72ac7d76eff12e4488fde675a8e9
[DOCFIX] Change from en/install to en/deloy in en doc links

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@4c537cd18721d79a2becb76269e986af554abcef
orig-commit-author: LuQQiu <luqiujob@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-b206e3aa3d0dd86134591e5f5d479c4ef85231c0
[DOCFIX] Fix doc links and anchor tags

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@a170d7d72edaae73898ff9b514988fef16cb3938
orig-commit-author: Rico Chiu <xenorith@users.noreply.github.com>

pr-link: Alluxio/alluxio
change-id: cid-c73b1afe77b551e0a17ab12b467d0ead6300975b
Add a note on compatibility of AWS EMR command

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@382daa7d26f17abfd50eb0ae9d46df17d0498092
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-f2f392da04a7dcee413717858bd44beaf8f01949
[DOCFIX] Remove file.load.ttl reference in doc

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@e3306b0ef9b693b2ff503ced51c003707c4b77d6
orig-commit-author: Jiacheng Liu <jiacheliu3@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-2046f0e65a24a31c2edb9353b2f66f4c41be49df
Use DynamicResourcePool for FS and Block clients

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@b178d472d434746d79acb52acd6fac2aacfa7744
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-8da912eddc716b1c399a9ada0c0f66b5d8bb33ba
Cache list status results

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@144e351a0053b447daf993ab997204bc69632570
orig-commit-author: chcn <cc@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-23acf9fed8095a87e310dfb91a3c0d5fda6319fc
Release clients back into pools during even during context reinit

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@5c4c32d193496433195c75bf2a1c0f60cd54857b
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-75c41bc4a3a83a86dd35473ea64c20936c4fc77c
Keep worker client open after creating data reader/writer

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@7311a7063c6ac586cc7a86679411394fda355f90
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-93141241c264da235b7a3d73b34dde861213b062
Implement basic version of getDatabase in catalog service

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@a9c7a281b5ff27a9fc51861bcd0b01b0429ed3ac
orig-commit-author: David Zhu <david@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-cda7c935c86046f16efe83b32554de75b70da397
Add some logging to the table syncing process

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@45c95fd432de038aac0005df7dc0b485f704ddc2
orig-commit-author: David Zhu <david@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-3ffa6f00a993d34d1e4c1c5024dd106421be6f0b
Prevent asyncUpdateFileAccessTime to bring down applications

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@244ef3f7ba11d07cafa29c6e53c95fdc6ac11016
orig-commit-author: Bin Fan <fanbin103@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-7cc493f019741f6e35584100ba3b5e0fd0a027c4
Set raft-client policy to connect to leader for journal writes

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@e780f61dd0b084dd9bbcde333636b8d50a625740
orig-commit-author: Göktürk Gezer <gokturk@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-8004bc72569f2ef84321f1ffaaf0144b429ec476
Fix JobMaster.cancel(jobId)

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@50643352c5e4e4a03174a1d63f55c5b768ecb438
orig-commit-author: Bradley Yoo <bradleyyoo@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-a9af8ad612139b0540e8de972380f8f61c00bcb1
Add listening address for embedded journal

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@0d5f9f6547394a5154a4db82d4e56cdf22e75f6b
orig-commit-author: Göktürk Gezer <gokturk@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-b47ba2b295b64f17b60dbf862974dba5f48ff274
Update spring maven repository to use HTTPS

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@f0214343ff8058b002e3dc18cd05db2f391f6fd2
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-d6eaa6c797f611bb0157e760aefed655eedcd1e6
Fix the backup restore metrics name

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@21062316a42eec8ce7d2b123957f652d11662032
orig-commit-author: LuQQiu <luqiujob@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-a00f9fa4f43a006600ecca5641508a322bfbbf74
Fix fingerprints for persisted files

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@ccad75bdfededea2c34cf1e32dab414992541aea
orig-commit-author: bf8086 <binfeng@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-b5e6a6668ff1f10757b55cb7cc39fa7ec9aa004e
[DOCFIX] Add alluxio presto sandbox AMI docs

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@3bf384c102c54a698c149260360983bdc53c626b
orig-commit-author: Rico Chiu <Xenorith@users.noreply.github.com>

pr-link: Alluxio/alluxio
change-id: cid-a5e0801bac85bd810522d69682410547c844d92a
[DOCFIX] Fix cli links in docs

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@71038af440484ef9d4575640cd95651f8c7204cd
orig-commit-author: Rico Chiu <Xenorith@users.noreply.github.com>

pr-link: Alluxio/alluxio
change-id: cid-15aa0da8410f2dd243c27b822bd6d6c5943eb064
Add database information to getDatabase calls

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@6a11b4bf3486921702495f7755a18c0c7fd6c62f
orig-commit-author: David Zhu <david@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-697a204557028e2bc83640f6469ad633b78f3066
Enable tests after release



pr-link: Alluxio/alluxio
change-id: cid-b601c9dcc73aecccfd9cdcaae38df480dd7521bf
Add relogin on connect

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@2c05a1a7f9671bbba23c3b6746e4f61752c78bc2
orig-commit-author: ns1123 <45953825+ns1123@users.noreply.github.com>

pr-link: Alluxio/alluxio
change-id: cid-5fd4291be0c9d817c084ed4fe9f924374aa7edd5
Fix NPE in GetDatabase

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@1bc905b19243163bc69f0961c1cb1c8aa6f48b2c
orig-commit-author: David Zhu <david@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-f8bca0e676b56bd5f1c4e0cda9e693a062d0dce2
Fix Distributed Load Retry Logic

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@8641f298c2cac3d6cbbe3f8623775783829609c9
orig-commit-author: Bradley Yoo <bradleyyoo@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-ac0708727c706624c6b30ede5165b60ed476b7e0
Fix directory index after disk failure

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@0b9681b9ac4b66bb96548f1bf607acd3cd522de1
orig-commit-author: bf8086 <binfeng@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-dafe938ffbfdf987a25e0e6ffb872c72ba25a1a4
Fix eventual consistency in contract test

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@af7016a4710a4d04976c1aaf1e9191e5e2c5e426
orig-commit-author: bf8086 <binfeng@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-2cfe17909bb0278b812a79fc1347504866ccd356
Remove advice on hive.force-local-scheduling in doc

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@cafb28da8fb4bd3cb1663e5610dd1d2ae2786f55
orig-commit-author: Bin Fan <fanbin103@gmail.com>

pr-link: Alluxio/alluxio
change-id: cid-69916e97327612c4a0763f7cf31b70c60fcb2c99
Reduce spammy logs from DynamicResourcePool

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@4285740194a002c1b463cec1135391e14c218dd5
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-43c332ef2c536885d4ea9af9a496a4a5cbf4b02e
Remove keys from RemovedKeys list

Cherry-pick of existing commit.
orig-pr: Alluxio/alluxio
orig-commit: Alluxio/alluxio@e4d79c7831e2d7fdc7f35a2d8365a71b4b1d78ad
orig-commit-author: Zac Blanco <zac@alluxio.com>

pr-link: Alluxio/alluxio
change-id: cid-43e798fd71d8a0ff846338ea3ed19126a79ddc48
Prepare versions for 2.1.2
Skip tests for release
[maven-release-plugin] prepare release v2.1.2","Release Date: January 31st, 2020
Please see https://www.alluxio.io/download/releases/alluxio-2-1-2-release/ for the detailed release notes.
For downloads, please check out https://www.alluxio.io/download"
"release version 6.0.6
fix small lint issue
Add moderator fields to shotuout create object ()
add missing awaits in docs
pubsub: add support for unban request events ()

* feat(pubsub): add unban request approve/deny message support

* docs: add unban request event to comparison table

---------

Co-authored-by: Daniel Fischer <daniel@d-fischer.dev>
minor type fix for getChannelFollowers
add additional info to chat intent error
improve auth documentation
release version 6.0.7","Features
[eventsub] add moderator fields to shotuout create object (3fd735c)
[pubsub] add support for unban request events (c8958d6)
Fixes
[api] give TypeScript users access to the total field of HelixChannelApi#getChannelFollowers (8bd6245)
Improvements
[chat] improve error message text for case when no intents are found in the provider (85b9755)"
"release version 7.0.9
fix check automod status

fixes
release version 7.0.10","Fixes
[api] fix check automod status not transforming its input properly (ce9729c)"
"release 4.0.3
Use zr.setBackgroundColor
refactor(svg): rename svg image export due to ecomfe/zrender@586a415
seriesModel.coordDimToDataDim always return array.
Fix (bar layout bug)
tweak example.
release 4.0.4","NOTE: This is a Non-Apache Release
[Recovery Build]
[^] Fixed bar layout problem. See."
"release: v0.20.10 ()

See CHANGELOG
fix(rosetta): ""Rosetta configured for live conversion to undefined"" ()

An incorrect update to optional chaining changed the criteria for the
target overlap test in Rosetta live conversions and triggered the error
in the regular case instead of only in cases where restricts have to be
enforced.

Reverted to the previous syntax with achieves the correct result.
release: v0.20.11 ()

See CHANGELOG","Bug Fixes
rosetta: ""Rosetta configured for live conversion to undefined"" () (10e9d38)"
"fix(python): reference to type does not use alias

Type references in a keyword property position may not have used
the aliased import as intended, resulting in a runtime error due
to referring to an undefined symbol.

Additionally, keyword properties referencing structs did not
allow dicts to be used in lieu of a struct instance.
chore(release): v1.65.1

See CHANGELOG.","Bug Fixes
python: reference to type does not use alias ()"
"chore(release): 2.1.0
Update CHANGELOG.md
docs(umd): Fix development example to include prop-types
Update README.md ()

Fixed typo
chore(dependencies): Upgrade airbnb config and react-modal
fix(style): Fix less and sass to correctly generate tab--disabled class
docs(website): Add new website
chore(tests): Fix tests
chore(website): Deploy website through travis
chore(travis): Install latest yarn and add cache
chore(website): Fix command to build website
chore(website): Fix redirect
chore(docs): Update link to website
chore(npm): Update description
chore(dependencies): Update dependencies and optimize bundling
chore(dependencies): Upgrade dev dependencies
docs(website): Build website in production mode
docs(website): Include hash in filename for correct cache invalidation
docs(website): Use correct hashes
docs(website): Fix publicPath
docs(website): Fix minifying of html
docs(website): Fix codesponsor
docs(website): Style codesponsor correctly
docs(website): Fix layout
docs(website): Fix typos
chore(release): 2.1.1","Bug Fixes
style: Fix less and sass to correctly generate tab--disabled class (b95891e)"
"Add netmiko Linux secure file copy (mainly for testing)
Fixing file system bug in file_transfer function
Cleaning up tests
Increasing Arista default delay for SCP
Renaming juniper and arista files
Minor PY3 cleanup
Force _autodetect_fs to be in enable mode
Fixing invalid reference
Documentation strings.
Add Calix B6 save_config and telnet support; correct exit_config_mode; add to device templates
Calix B6 return character
Updates to calix B6
Rolling version
Updating _release.sh","Improved docstrings
Arista, Juniper, Calix B6 Telnet support
Add Linux Secure Copy support
Minor bug fixes"
"source code format ()
fix(gauge): fix progress bar may be unexpectedly circle when value is `0` and `progress.roundCap` is enabled, resolves.
feat(event-tree): add `isExpand` to `click` cb
feat(tree): repalce `isExpand` with `collapsed`
fix(tree): `collapsed` value is wrong
fix(state): comp `isBlured` is true when blur
test(markPoint): add test case
fix(marker):  marker leave blur
fix(OrdinalScale): fix line graph renders null value incorrectly. close
fix(OrdinalScale): fix line graph renders null value incorrectly. close
fix(marker): timing of calling leave blur
fix(state): add series model to`leaveBlurredSeries` if series is blured
chore(state): reduce uncessary function call
feat(scatter): `scale` support number
fix(dataview): fix unexpected scrollbar and outline when using default textview.
chore: remove extra bracket
fix(dataview): set `display` of the default `textview` as `block`.
fix(toolbox): toolbox doesn't enter emphasis state when hovering on the icon.
fix(toolbox): fix toolbox title may be outside of the chart.
feat: allow areaStyle.origin to take number as input
An example of origin Updated
fix(dataZoom): fix the dataZoom was unexpectedly displayed at the top when data contains null values.
fix(splitLine): fix chart throws errors when `radiusAxis.splitLine` is enabled.
fix(labelLine): use correct state name
fix: wrong jpg instead of jpeg types
fix: CONTRIBUTING.md grammar
chore: fix audited packages.
style: fix lint problems.
test: fix potential path issue in Windows.
release 5.3.2","[Feature] [line] allow areaStyle.origin to take number as input. (jiawulin001)
[Feature] [scatter] scale support number. (susiwen8)
[Feature] [tree] add collapsed to tree click event parameters. (susiwen8)
[Fix] [marker] fix marker state doesn't restore after blurring. (susiwen8)
[Fix] [gauge] fix progress bar may become unexpectedly circle when value is 0 and progress.roundCap is enabled. (plainheart)
[Fix] [polar] fix chart throws errors when splitLine is enabled in radius axis. (plainheart)
[Fix] [labelLine] fix labelLine can't be hidden. (susiwen8)
[Fix] [dataZoom] fix dataZoom was unexpectedly displayed at the top when data contains null values. (yuanjiangxia)
[Fix] [heatmap] fix unexpected gaps in heatmap charts. (plainheart)
[Fix] [toolbox] fix toolbox title may be outside of the chart. (plainheart)
[Fix] [toolbox] toolbox doesn't enter emphasis state when hovering on the icon. (plainheart)
[Fix] [toolbox] [dataview] fix unexpected scrollbar and outline when using default textview. (plainheart)
[Fix] [visualMap] fix some text style can't work on visualMap. (fuchunhui)
[Fix] [line] fix line graph renders null value incorrectly. (WindyZ99)
[Fix] [sanky] fallback to black if color is illegal. (susiwen8)
[Fix] [types] fix wrong jpg instead of jpeg image export types. (yassilah)"
"v0.20.0 ()

See CHANGELOG
chore(deps-dev): bump @types/node from 10.17.0 to 10.17.2 ()
chore(deps-dev): bump @types/node from 10.17.2 to 10.17.3 ()
fix(pacmak): put package README into the right Python module ()

The (translated) Python README used to be written to the
`<module>._jsii` module, as opposed to the main module.

Put it in the right module where people will actually look for it.
chore(deps-dev): bump @typescript-eslint/eslint-plugin ()
feat(jsii-diff): make assembly validation optional ()

Assembly validation is taking the majority of the time of doing the
API compatibility check, and the assemblies are almost guaranteed to
be correct.

Disable validation by default, add an option to enable it.
chore(deps-dev): bump @typescript-eslint/parser from 2.6.0 to 2.6.1 ()

Bumps [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/parser) from 2.6.0 to 2.6.1.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/parser/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v2.6.1/packages/parser)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
chore(deps-dev): bump webpack-cli from 3.3.9 to 3.3.10 ()

Bumps [webpack-cli](https://github.com/webpack/webpack-cli) from 3.3.9 to 3.3.10.
- [Release notes](https://github.com/webpack/webpack-cli/releases)
- [Changelog](https://github.com/webpack/webpack-cli/blob/v3.3.10/CHANGELOG.md)
- [Commits](https://github.com/webpack/webpack-cli/compare/v3.3.9...v3.3.10)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
fix(dotnet/analyzer): remove dependency on Runtime ()

* fix(dotnet/analyzer): remove dependency on Runtime

Remove the dependency from the Amazon.JSII.Analyzers package to the
Amazon.JSII.Runtime package - as that dependency was not used and 
turned out to be a source of problems.

Also - pins the version of the runtimes to the exact version (this
could later be extended to a range).

* relax runtime version constraint

* fix test expectations
chore: update CODEOWNERS file

Stopping to aggressively assign @garnaat.
Restrict the .NET team & Java contributors to relevant files.
fix(kernel): revert behavior change around `any` serialization ()

The change of behavior in `any` serialization introduced in risks
breaking some emerging use-cases of the AWS CDK that are likely to be
prevalent in the installed user base. As a consequence, surgically
reverting this particular change in order to restore the behavior that
users might be dependent on.

This somehow uncovered an outstanding bug in the Python runtime that
was not triggering with the ""reverted"" behavior (it broke unit tests).
The runtime was fixed in order to address this bug.
chore(deps-dev): bump @types/node from 10.17.3 to 10.17.4 ()
chore: update .github/PULL_REQUEST_TEMPLATE

Remove text that has to be manually pulled out.
chore: update @dependabot configuration

Add reference to the Roslyn Analyzer package, and remove dependency exclusions.
chore: restrict Travis' matching of release tags

It used to also match ""within"" the branch name, which was not the intended behavior.
chore(deps-dev): bump @types/jest from 24.0.21 to 24.0.22 ()

Bumps [@types/jest](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/jest) from 24.0.21 to 24.0.22.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/jest)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
chore(deps): bump Microsoft.CodeAnalysis.Analyzers ()

Bumps [Microsoft.CodeAnalysis.Analyzers](https://github.com/dotnet/roslyn-analyzers) from 2.9.3 to 2.9.7.
- [Release notes](https://github.com/dotnet/roslyn-analyzers/releases)
- [Changelog](https://github.com/dotnet/roslyn-analyzers/blob/master/PostReleaseActivities.md)
- [Commits](https://github.com/dotnet/roslyn-analyzers/compare/v2.9.3...v2.9.7)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
chore(deps): bump Microsoft.NET.Test.Sdk ()

Bumps [Microsoft.NET.Test.Sdk](https://github.com/microsoft/vstest) from 16.2.0 to 16.3.0.
- [Release notes](https://github.com/microsoft/vstest/releases)
- [Commits](https://github.com/microsoft/vstest/compare/v16.2.0...v16.3)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
release: v0.20.1 ()

See CHANGELOG","Bug Fixes
dotnet/analyzer: remove dependency on Runtime () (815b449)
kernel: revert behavior change around any serialization () (2f47543), closes
pacmak: put package README into the right Python module () (17dd60f)
Features
jsii-diff: make assembly validation optional () (e2c80f0)"
"[maven-release-plugin] prepare release jsqlparser-0.8.4
[maven-release-plugin] prepare for next development iteration
workaround for mySql truncate function
improved function test
removed unused modifiers
CastExpression favours cast keyword instead of ::
CastExpression favours cast keyword instead of ::
pom modification to publish to public repository
pom modification to publish to public repository
first snapshot deployed to sonatype
Update README.md
corrected version infos
problems solved with postgresqls data type ""character varying""
problems solved with postgresqls data type ""character varying""
readme updated
preparing release of 0.8.5
[maven-release-plugin] prepare release jsqlparser-0.8.5
[maven-release-plugin] prepare for next development iteration
[maven-release-plugin] rollback the release of jsqlparser-0.8.5
preparing release of 0.8.5
[maven-release-plugin] prepare release jsqlparser-0.8.5","Extensions Version 0.8.5
Added support for mysql truncate function
Changed repository location and groupid of JSqlParsers artifact.
<dependency>
<groupId>com.github.jsqlparser</groupId>
<artifactId>jsqlparser</artifactId>
<version>0.8.5</version>
</dependency>
Added support for postgresql type character varying."
"v0.7.11 ()

See CHANGELOG
fix(kernel): Correctly return instances of un-exported types ()

When an un-exported type that extends an exported type is returned with
an interface as the declared type, the JSII kernel used to return a ref
with the FQN of the exported supertype, instead of correctly wrapping
the instance in a proxy of the interface type as it should have.

---

Adds a test that covers the behavior of the JSII runtimes when a method
is declared to return an interface type, and returns an instance of a
private (un-exported) type that implements the interface while extending
an exported type. This has been seen to cause issues in the Java
runtime, for example, as the JSII kernel will return an ObjID with a
type fragment that refers to the exported super-class, and not the
interface type.

---

Fixes
feat: JSII_AGENT ()

Language runtimes now set JSII_AGENT to include the runtime version
such as ""DotNet/1.2.3.4"" or ""Java/1.8.44"".

Fixes
feat(jsii-reflect): library for exploring jsii type systems ()

jsii-reflect is a library for strong-type reflection of jsii type systems.
it creates an in-memory object graph from .jsii module specifications
and exposes a rich API for exploring the type system.

jsii-tree is a command-line utility bundled with jsii-reflect
which prints an ascii tree of a jsii type system.

oo-ascii-tree is an object-oriented library for producing ascii trees.
it supports multi-line nodes and some other cool features. 

See README files for more details.

Related: https://github.com/awslabs/aws-cdk/issues/181
chore: Specify code owners ()

Related to awslabs/cdk-ops
v0.7.12 ()

See CHANGELOG
v0.7.12 ()

See CHANGELOG

* Make jsii-tree executable","Bug Fixes
kernel: Correctly return instances of un-exported types () (9c59acc)
Features
JSII_AGENT () (cf1d0c3), closes
jsii-reflect: library for exploring jsii type systems () (69cdb32)"
"v1.9.10
Delete Nintendo - Game Boy Advance (2021-08-02) diddy.rdb","What's Changed
Delete Nintendo - Game Boy Advance (2021-08-02) diddy.rdb by @RobLoach in
Full Changelog: v1.9.10...v1.9.12"
"bump lightning to 0.31 in setup.py, pin scipy to [1.8,1.10] ()

* bump lightning to 0.31 in setup.py

* trigger ci

* pin scipy

* Revert ""pin scipy""

This reverts commit 492ad40315a7b1c1a669d2b1d833da7c3aea4952.

* take Soran's forward fix for scipy fac2

* revert the scipy un-pinning and forward fix - just pin scipy

* remove lower bound in files that didn't have them

* remove autograd lower bound
Implement new Dataset class using HDF5 ()

* rename changelog

* test

* rename changelog back

* changes from 9f5939e

* changes from b6dc487

* changes until 01d9141

* changes until 935832e

* changes until 76c4ae8

* trigger ci

* newline

* revert

* changes until 3b59d71

* trigger ci
Make qchem compatible with scipy factorial2 ()

* pull diff from

* unpin scipy
Release notes and version bump ()

* changelog and version bump

* Add qchem changes

* Apply suggestions from code review

Co-authored-by: Tom Bromley <49409390+trbromley@users.noreply.github.com>

---------

Co-authored-by: Tom Bromley <49409390+trbromley@users.noreply.github.com>
pin autoray ()
raise error with actual identifier name ()
Escape special characters in Dataset URL ()

* url escape

* remove debug

* update changelog

* pylint

* Update doc/releases/changelog-0.31.1.md

Co-authored-by: Matthew Silverman <matthews@xanadu.ai>

---------

Co-authored-by: Matthew Silverman <matthews@xanadu.ai>
BUGFIX: ensure that operators are not queued upon deserialization ()

* ensure that operators are not queued upon deserialization

* Update tests/data/attributes/operator/test_operator.py
Updated the datasets docs ()

* Updated the datasets docs

* Update doc/Makefile

* a few more

* Apply suggestions from code review

Co-authored-by: Utkarsh <utkarshazad98@gmail.com>

* Apply suggestions from code review

Co-authored-by: Diego <67476785+DSGuala@users.noreply.github.com>

* Update pennylane/data/data_manager/__init__.py

Co-authored-by: Josh Izaac <josh146@gmail.com>

* fix typo

* fix typo

---------

Co-authored-by: Utkarsh <utkarshazad98@gmail.com>
Co-authored-by: Diego <67476785+DSGuala@users.noreply.github.com>
Co-authored-by: Diego <diego_guala@hotmail.com>
Fix error message when successively loading the same dataset ()
Fix Attribute Error when accessing identifiers on partial dataset ()

* no exception if identifiers are not downloaded

* always download identifiers

* Update tests/data/test_dataset.py

Co-authored-by: Matthew Silverman <matthews@xanadu.ai>

* add error message

---------

Co-authored-by: Matthew Silverman <matthews@xanadu.ai>","Improvements
data.Dataset now uses HDF5 instead of dill for serialization. ()
The qchem functions primitive_norm and contracted_norm are modified to be compatible with higher versions of scipy. ()
Bug Fixes
Dataset URLs are now properly escaped when fetching from S3. ()
Contributors
This release contains contributions from (in alphabetical order):
Utkarsh Azad, Jack Brown, Diego Guala, Soran Jahangiri, Matthew Silverman"
"fix(pie): fix `endAngle` is not applied on the empty circle
test: update dataset-layout.html ()

Fixed an issue where repeated rendering caused stalling

---------

Co-authored-by: miracleren <miracleren@163.com>
chore: ignore some unused dirs and files from npm
chore: update deps & install and test typescript versions >=3.5
chore: update workflow deps
chore: update workflow deps
chore: update workflow deps
feat(sankey): Add sankey chart itemStyle.borderRadius support.
Georoam supports the totalZoom parameter
fix: detectValue & parseDataValue not crashing with BigInt
feat(time): add meridian template
fix: aria throws error in SSR ()
chore(aria): add TODO comment for SSR support
fix(marker): fix marker label formatter can't get series information.
fix(series): add non-null check for `seriesData.getLinkedData`.
fix: fix failed test cases and improve code
test(treemap): update test case for
test(treemap): record test visual action for
fix: In users' .d.ts `import('echarts/types/dist/shared')` can not visit `'echarts/types/dist/shared.d.ts'` since v5.5.0. Fix it. Fix.
chore: release 5.6.0
change version from 5.6.0 to 5.5.1
chore(deps-dev): bump ws from 7.5.7 to 7.5.10

Bumps [ws](https://github.com/websockets/ws) from 7.5.7 to 7.5.10.
- [Release notes](https://github.com/websockets/ws/releases)
- [Commits](https://github.com/websockets/ws/compare/7.5.7...7.5.10)

---
updated-dependencies:
- dependency-name: ws
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(tooltip): fix tooltip XSS issue when legend name is HTML string
refactor(tooltip): add `encodeHTMLContent` option to specify whether the content should be encoded by default
test(tooltip): update test case for tooltip xss
build release","[Feature] [axis] Support custom axis tick/label positions. (dvdkon) (Ovilia)
[Feature] [bar] Add startValue option. (jiawulin001)
[Feature] [sankey] Add itemStyle.borderRadius option. (deftliang)
[Feature] [time] Add meridian template {a}/{A}. (maurodesouza)
[Feature] [geo] Add totalZoom parameter for the georoam event. (zhaoxinggang)
[Feature] [treemap] Add scaleLimit option to limit the zooming. (liuyizhou)
[Fix] [series] Avoid error caused by seriesData.getLinkedData. (plainheart)
[Fix] [marker] Fix marker label formatter can't get series information. (plainheart)
[Fix] [aria] Avoid error in SSR mode. (OverflowCat)
[Fix] [data] Avoid error when using BigInt values. (zettca)
[Fix] [pie] Fix endAngle is not applied on the empty circle. (plainheart)
[Fix] [toolbox] Fix uncaught reference error in the environment that MouseEvent doesn't exist. (plainheart)
[Fix] [tooltip] Fix tooltip XSS issue when legend name is HTML string. (plainheart)
[Fix] [type] Fix that in users' .d.ts import('echarts/types/dist/shared') can not visit 'echarts/types/dist/shared.d.ts' since v5.5.0. (100pah)
New Contributors
@miracleren made their first contribution in
@zhaoxinggang made their first contribution in
@zettca made their first contribution in
@OverflowCat made their first contribution in
@maurodesouza made their first contribution in
@deftliang made their first contribution in
@liuyizhou made their first contribution in"
"v0.10.2 ()

See CHANGELOG
feat(jsii-pacmak): add Python docstrings ()

Add support for docstrings to the Python generator.
chore: Update some expectations I missed
fix(java): fix illegal arguments passed to JavaDoc generator ()
fix(python): fix indentation for multiline bullets in RST generator ()

Fixes.
fix(jsii-diff): be nicer about validation errors ()

Potentially assembly validation errors throw up a giant error list.
Have jsii-diff be more concise about the errors, which will be
better for cdk-build-tools.
fix(python): maintain inheritance chain for structs ()

Because structs all inherit from TypedDict, and TypedDict erases the
inheritance chain of structs, we have to maintain a copy of the
inheritance hierarchy on the class objects, for later use during
doc generation.

This addresses (part of).
v0.10.3 ()

See CHANGELOG","Bug Fixes
java: fix illegal arguments passed to JavaDoc generator () (4456138)
jsii-diff: be nicer about validation errors () (fa4d000)
python: fix indentation for multiline bullets in RST generator () (3a79142), closes
python: maintain inheritance chain for structs () (607f151), closes
Features
jsii-pacmak: add Python docstrings () (6cd4903)"
"chore: remove unnecessary hidden files that may be published to npm
fix(clip): clipShape may be null if `clip` is set as `false`, resolves.
chore: enable manual trigger nightly workflow
chore: optimize style of README attention in nightly build
test(visual): optimize UI of visual regression test
test(visual): optimize style. fetch version from jsdelivr
test(visual): add nightly version selection. save params in url
test(visual): store results of each two versions
chore(visual): optimize running status
chore(visual): save pending status immediately when run
test(visual): selected tests should from visible list not full list.
test(visual): add test runs manager
test(visual): add disk size stat
test(visual): better time formatting
test(visual): add report generate
test(visual): check store version and run version
test(visual): add run progress
test(visual): fix glob pattern of finding tests
Update langEN.ts

Typo Gauge
test(visual): save run config in server and share between clients
test(visual): clean empty runs
test(visual): optimize no result display
test(visual): add replay buttons
test(visual): optimize ui
test: fix tests with error
chore: remove unused files
test(visual): default current test name
test: clean up deprecated test code
chore: enhance the script compatibility in Windows and fix some lint errors.
chore: remove unused import and code.
chore: remove unused import and code.
chore: use `npx` for script.
feat(legend): supporting legend.symbolRotate
test: use simpleRequire to replace esl
test: loader fix dependencies
fix(types) Export cbs and their parameter types
test: optimize loader

fix conflicts of json.js because current loader can load json files.
fix require in callback
fix defined id don't work
add .js ext for .min files
factory return as exports
test(visual): fully control the replay timeline.
test(visual): fix actions manager. fix some runtime issue
test(visual): proper error handling in action replay
test(visual): fix progressive rendering in VST
test(visual): start vst without simpleRequire. optimize cases
test(visual): keep timers when error
test(visual): fix puppeteer@9 screenshot resize bug.

Add package.json to fix the dependencies
Optimize test cases
test(visual): provide reload helper
test(visual): fix no action will freeze the cli
test(visual): fix cases that using async loading
test(visual): optimize case reload
test(visual): fix clearInterval mock error
test(visual): optimize style
test(visual): naming tweak
test(visual): fix wrong usage of playbackSpeed
test(visual): fix setTimeout in timeout callback
test(visual): optimize cases. ignore stream case in SVG
test(visual): optimize test cases
test(visual): remove some cases from blacklist
test: use require to replace original jquery loading

Make sure no async loading that are out of control
test(visual): fix url loading error may block. add threads in cli
test(visual): use threads in cli instead of server
test(visual): fix echarts lib download
test(visual): update fs-extra version
fix(tree): error when running setOption twice with diff data

close
test(visual): restore thread strategy
test(visual): add some logs
test: not throw error in sankey-ringed
fix(custom): remove incremental el when switched back to normal.
chore: update zrender to latest nightly
chore: update zrender to nightly version.
replace optional chaining
test: move the test case in `line-clip.html` to `clip.html`.
fix(tooltip): use kebab-case in transition property.

---

`transition: webkitTransform ease 0.3s;` is not valid, use `transition: -webkit-transform ease 0.3s;` instead.
fix(treemap): error when running setOption twice with diff data

close
fix: resize throw error. fix, fix .
change the code style to make clean
fix: if resize silent specified with not null/undefined, always use resize silent.
test: fix old esl code in test
fix(legend): no rotation when icon is defined
refactor(legend): rename variables
feat(tree): add tree path info to tooltip
test(visual): optimize all tests runs list
fix(option): check the missing component before merge theme

Fix
fix unecessary __DEV__ condition
fix: make component tooltip.formatter do not inherit the global tooltip.formatter, but has component specific default tooltip.formatter.
test: add map test for optimizing small regions.

update zrender version
fix: rename treePath to treeAncestors
fix(type): fix type errors
export type ImagePatternObject and SVGPatternObject
test: add test case for geo-label
fix(label): ensure the label of the temporary symbol is in front of line and area polygon.
- resolves
- resolves
fix: fix geo and map click event params missing props (brought by 5.1.0, partial fixed in 5.1.1)
fix: map/geo label move when hover. fix
fix:
(1) number getPrecisionSafe incorrect on scientific notation like 3.45e-1
(2) stack sum eliminate floating arithmetic problem.
fix: [custom series] fix null pointer exception when renderItem returns nothing in progressive rendering. Fix
fix(tooltip): position callback return type. close
optimize: optimize getPrecision , and use getPrecision instead of getPrecisionSafe.
fix: when toolbox declared but dataZoom not declared, should not dataZoom filter performed.
fix: add missing test cases.
fix: test/-cases.html
release: 5.1.2","[Feature] [geo/map] Support skew in transform and svg parser. (pissang)
[Feature] [tree] Add treeAncestors property in the params of tooltip callback . (stephenLYZ)
[Feature] [i18n] Add Slovenian translation. (dkrat7)
[Fix] [canvas] Fix extra ctx.save call when dirty rect is enabled. (pissang)
[Fix] [path] Fix small subpath may be ignored when optimizing small line segments. (pissang)
[Fix] [tooltip] When component tooltip.formatter is not specified, use a specific default formatter, rather than use global tooltip.formatter as default. Fix. (100pah)
[Fix] [resize] Error thrown when resize is called after setOption called with lazyUpdate: true. Fix, Fix. (100pah)
[Fix] [treemap] Error when running setOption twice with diff data. (Map1en)
[Fix] [tree] Error when running setOption twice with diff data. (Map1en)
[Fix] [option] Check the missing component before merge theme. (pissang)
[Fix] [text] Fix gradient text background cause rendering error. (pissang)
[Fix] [clip] Line chart will throw an error when clip is set as false. (plainheart)
[Fix] [legend] Remove unexpected syntax to ensure better compatibility. (plainheart)
[Fix] [dataZoom] Type fix for startValue and endValue. Close (dileepyelleti)
[Fix] [label] Ensure the label of the temporary symbol is in front of line and area polygon. (plainheart)
[Fix] [stack] Fix number getPrecisionSafe incorrect on scientific notation like 3.45e-1. Stack sum eliminate floating arithmetic problem. (100pah)
[Fix] [dataZoom] Should no dataZoom filtering when toolbox.feature.dataZoom not declared. (100pah)
[Fix] [line] Avoid the infinite value in linearMap util. (plainheart)
[Fix] [timeline] Trigger timelineplaychange event when play to the end. (Ovilia)
[Fix] [custom] Fix progressive rendering in custom series. (pissang)
[Fix] [brush] Clamp range when brush. (susiwen8)
[Fix] [label] Fix labels are not on the top bug. (plainheart)
[Fix] [toolbox] The show option of customized toolbox button does not work. (plainheart)
[Fix] [type] Changed LineEndLabelOption.valueAnimation to be optional. (Bilge)
[Fix] [type] Export cbs and their parameter types. (dougalg)
[Fix] [type] Fix position callback return type. Fix. (congjiujiu)
[Fix] [type] Remove non-required properties from PatternObject and fix some type issues.. (plainheart)"
"docs: autoupdate
examples: combine header examples
docs: autoupdate
chore(deps): bump golang.org/x/term from 0.5.0 to 0.6.0

Bumps [golang.org/x/term](https://github.com/golang/term) from 0.5.0 to 0.6.0.
- [Release notes](https://github.com/golang/term/releases)
- [Commits](https://github.com/golang/term/compare/v0.5.0...v0.6.0)

---
updated-dependencies:
- dependency-name: golang.org/x/term
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
docs: autoupdate
docs: autoupdate
ci: added svgo workflow to optimize SVGs
docs: autoupdate
ci: remove SVG optimization
docs: autoupdate
docs(examples): added more examples
docs: autoupdate
example(box): fixed title example
docs: autoupdate
feat(logger): create logger
feat(logger): added logger
feat(rgb): made it possible to use RGB colors as background
feat(rgb): made it possible to use RGB colors as background
feat(rgb): made it possible to use RGB colors as background
docs: autoupdate
docs(README): improved readme
ci: disabled tests on ubuntu, as they randomly fail because PTerm opens too many writers at once while testing.

Windows tests should be enough, because there is not much different and those things that are different, are tested in the specific packages anyway.
ci(test): make codecov run on windows
docs(readme): improved readme
docs(readme): improve readme
docs: autoupdate
ci: generate printers table in readme
docs: autoupdate
ci: generate printers table in readme
ci: generate printers table in readme
docs: autoupdate
ci: generate printers table in readme
docs: autoupdate
fix(rgb): fix Fade maxValue == current not displaying the last color
docs: autoupdate
feat(logger): implemented structured logging
feat(logger): implemented structured logging
feat(logger): implemented structured logging
docs: autoupdate
docs(example): fixed logger example in CI runs
docs(example): fixed logger example in CI runs
docs: autoupdate","What's Changed
Exciting New Features
New Printer: Structured Logging!
feat(logger): added pretty structured logger by @MarvinJWendt in
feat(rgb): made it possible to use RGB colors as background by @MarvinJWendt in
Fixes
fix(rgb): fixed a bug in RGB fading, where the maxValue would print with the minValue color. by @floaust in
Other Changes
examples: combine header examples by @MarvinJWendt in
ci: added svgo workflow to optimize SVGs by @MarvinJWendt in
docs(examples): added more examples by @MarvinJWendt in
docs(README): improved readme by @MarvinJWendt in
Full Changelog: v0.12.57...v0.12.58"
"docs: autoupdate
feat(panelprinter): add theme support to `PanelPrinter`
style(panelprinter): bottom padding in `PanelPrinter`
docs(boxprinter): update documentation to printer
refactor(boxprinter): return theme when style is nil
test(boxprinter): add test
test(panelprinter): add tests for adding box printer
refactor(panelprinter): add `BoxPrinter` to surround panels with a fully custom box
docs: autoupdate
chore(intellij): update conventionalCommit.xml
docs: autoupdate
style: fix go vet issue
docs: autoupdate
feat(boxprinter): add `WithHorizontalString` to `BoxPrinter`
docs(boxprinter): update `BoxPrinter` example
docs: autoupdate
fix: revert change horizontal string change
docs: autoupdate
docs(readme): update readme with new main features
docs: autoupdate
refactor: remove analytics
docs: autoupdate","Bug Fixes
revert change horizontal string change
Chore
intellij: update conventionalCommit.xml
Code Refactoring
remove analytics
boxprinter: change from RenderablePrinter to TextPrinter
boxprinter: return theme when style is nil
boxprinter: change DefaultBox top and bottom padding to 0
boxprinter: fix spacing between boxes and in boxes
boxprinter: refactor code
panelprinter: optional border for Panel
panelprinter: add BoxPrinter to surround panels with a fully custom box
Documentation Changes
boxprinter: update BoxPrinter example
boxprinter: update documentation to printer
boxprinter: add documentation
examples: add example for BoxPrinter
examples: change example for BoxPrinter
pterm-sh: add BoxPrinter
pterm-sh: update sidebar
readme: update readme with new main features
Features
boxprinter: add WithHorizontalString to BoxPrinter
boxprinter: add BoxPrinter
panel: add optional border for Panel
panelprinter: add theme support to PanelPrinter
theme: add BoxStyle and BoxTextStyle
theme: add optional theme for border in Panel
Style
fix go vet issue
panelprinter: bottom padding in PanelPrinter
Test
boxprinter: add test
boxprinter: test multiple lines in one box
boxprinter: add tests for BoxPrinter
panelprinter: add tests for adding box printer
panelprinter: add tests for optional border for Panel
theme: add tests for BoxStyle and BoxTextStyle"
"docs: autoupdate
fix: exit on `ctrl+c` in interactive printers by default ()
chore(deps): bump golang.org/x/term from 0.13.0 to 0.15.0 ()
chore(deps): bump golang.org/x/text from 0.13.0 to 0.14.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
docs: autoupdate
ci: updated go test command in workflow ()
docs: autoupdate
examples: refactored and documented all examples ()
examples: fix typo in putils function call
example: fixed example
docs: autoupdate
docs: added website to repo ()
docs: autoupdate
Create CNAME
docs: autoupdate
docs: update website
docs: autoupdate","What's Changed
Fixes
fix: exit on ctrl+c in interactive printers by default by @panbanda in
Other Changes
ci: updated go test command in workflow by @MarvinJWendt in
examples: refactored and documented all examples by @MarvinJWendt in
docs: added website to repo by @MarvinJWendt in
New Contributors
@panbanda made their first contribution in
Full Changelog: v0.12.71...v0.12.72"
"1.10.0
Add zoomlayer

Fixes
Add more tests to select_test.js

* Test whether select elements are appended to the zoom layer.

* Test whether lasso elements are appended to the zoom layer.
Add zoom tests
Fix test description in select_test.js
Rename zoom_test.js to cartesian_test.js
dragBox: remove corners before emitting an event

* Ensured the zoombox corners have been removed before emitting
  'plotly_deselect' or 'plotly_selected'.
Update select_test.js

* Test that a double click removes a selection.
Use comma with translate transforms
Pause before starting the drag-interaction tests

* The drag interaction tests in click_test.js may fail when run by
  `npm run test-jasmine` while they succeed if run by
  `npm run test-jasmine -- tests/click_test.js`.

* These failures disappear when a pause of 200ms is introduced in the
  `beforeEach` after creating the plot.

* Shorter pauses of 0, 10, 20, 50 and 100 ms fail.
Add test for valid range-slider range
Update baseline images for rangeslider
fix typo
fix typo
add info about 'making pull requests'
break line
Fix overlap of legend border and scroll box

* Moved clip-path from legend to scrollbox.

* Shifted bg half a border-width to ensure it doesn't overlap with the
  scroll box.

* Updated the method to compute the legend height used in
  `legend_scroll_test.js` to account for the legend clip-path being one
  border-witdh smaller.

* Updated the baseline images for `17.json, `20.json`,
  `legend_scroll.json`, `legend_style` and `text_export`. The
  differences were due to the overlap and the border shift.
add note about git rebase before making a PR
Revert ""Pause before starting the drag-interaction tests""

This reverts commit 9032cb78b948641a5ef484bb22a02643d4f08a57.
Fix failure in `click_test.js`

* In the drag interactions tests, make sure the notifier doesn't hide
  the drag elements.
Update CONTRIBUTING.md
Plot Area: Fix plot clip path rect sizing on update

The d3 selection was only being created. This has added an update ""join"" on
the selection.
rm d3 selection not node
Tests: Add test for plot clip after relayout
Tests: Add test for Plots.resize
add usage info to 'download latest release'
Legend: fix drag movement when `editable: true`

The legend container is now a `<g>` and position must be set using `translate`
instead of `x` and `y` coordinates. The cursor is set to always be `move`.
Lib: Add getTranslate and setTranslate methods and tests
Legend: Switch to using Lib.getTranslate
Tests: add tests for when editable
""chartset"" typo to ""charset""
make sure that superimposed pts are in 'closest' hover data:

- so that superimposed trace hover data can skip over 'hoverinfo'
  traces upon hover label creation.
add 'closest' hover mode test cases
update changelog
1.10.1","Fixed
Resizing a graph (e.g. via Plotly.relayout or Plotly.Plots.resize)
properly updates the plot area clip paths (bug introduced in 1.10.0) []
Plotly.Snapshot.toSVG is now functional again in IE11 and old version of
Chrome and FF (bug introduced in 1.10.0) []
Hover labels of superimposed traces when 'hovermode' is set to 'closest' are
properly displayed (bug introduced in 1.10.0) []
Surface contour highlights are toggleable []
Surface contour highlights style attributes are lower cased []
Zoom overlay are drawn over shapes []
Legend are draggable in editable: true contexts (bug introduced in 1.6.0)
Legend scroll box are drawn outside the legend []"
"1.17.2
Mirror events on an internal event handler
Fix plots test to work with internal event handler
Disconnect triggerHandler from internal events
tasks: handle image server request width & height specs
tasks: update comment in export test
tasks: use image-size to check svg file size in export test
plot_api: make Plotly.redraw go through a round of clean data/layout

- to bring it on-par with Plotly.plot
- fixes by properly supplying uid to new traces
  which are now required by the Scatter.plot method.
test: add (first) Plotly.redraw test (!!!)
eslint: define Promise and TypedArray globals in root rc file
fix root .gitignore
eslint: enfoce src/ rules in lib/
Emit plotly_animatingframe event on animated frames
Add extra internal container to frames for robustness
Emit more useful data on plotly_animatingframe
Fix compute frame tests
Opt for the other way of passing frame names while queueing
scatter: make sure that restyle('mode', '') remove unwanted lines

- by moving the line data.join out of the hasLines block
scatter: make sure that restyle('mode', '') remove unwanted pt & text

- by moving the marker and text data.joins out of the
  hasMarkers / hasText switch board
drawing: fixup in translatePoint

- now works as intended for <text> nodes
scatter: call translatePoint on the merged selection

- so that <text> are properly translate on range relayout calls
test: add cases for restyle( 'mode', '*')
test: add cases for point translation on range relayout
gl2d: add user-select-none class to canvas

- this sanitizes double clicks interactions
- e.g. double-click on the canvas now no longer puts
  the select-box in a weird state
- see https://github.com/plotly/plotly.js/issues/744 for more info
surface: add vertex color functionality

- bump gl-surface3d dep to 1.3.0
- set 'vertexColor' to true when colormap is circular
  e.g. in complex plane surface
test: add surface circular colorscale mock
update changelog for 1.17.3
1.17.3","Fixed
Fix scatter text node translations on range relayout []
Fix Plotly.restyle for scatter trace mode []
Fix color mapping discontinuity in surface trace with circular colorscale
Fix Plotly.redraw when scatter traces are added to the graph []
Fix double click side-effects in gl2d plots []
Emit event animatingframe frame during animations []"
"docs: autoupdate
refactor(rgb): removed 'GetValues' for 'RGBStyle'
docs: autoupdate
Update README.md
docs: autoupdate
Update FUNDING.yml
docs: autoupdate
chore(deps): bump github.com/lithammer/fuzzysearch from 1.1.5 to 1.1.7

Bumps [github.com/lithammer/fuzzysearch](https://github.com/lithammer/fuzzysearch) from 1.1.5 to 1.1.7.
- [Release notes](https://github.com/lithammer/fuzzysearch/releases)
- [Commits](https://github.com/lithammer/fuzzysearch/compare/v1.1.5...v1.1.7)

---
updated-dependencies:
- dependency-name: github.com/lithammer/fuzzysearch
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
add: progress bar filler from start
mod: add start with title test
mod: add start with title test
docs: autoupdate
feat(progressbar): various progressbar improvements
feat(progressbar): various progressbar improvements
feat(progressbar): various progressbar improvements
chore(deps): bump golang.org/x/term from 0.6.0 to 0.8.0

Bumps [golang.org/x/term](https://github.com/golang/term) from 0.6.0 to 0.8.0.
- [Commits](https://github.com/golang/term/compare/v0.6.0...v0.8.0)

---
updated-dependencies:
- dependency-name: golang.org/x/term
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
docs: autoupdate","What's Changed
Exciting New Features
Added RGBStyle by @floaust in
Fixes
add: progress bar filler from start by @KarolosLykos in
Various progressbar improvements by @MarvinJWendt in
with input by @KarolosLykos in
Other Changes
chore(deps): bump github.com/lithammer/fuzzysearch from 1.1.5 to 1.1.7 by @dependabot in
Full Changelog: v0.12.59...v0.12.60"
"docs: autoupdate
chore(testdata): regenerate snapshots
docs: autoupdate","What's Changed
Exciting New Features
Added horizontal table header row and row separators by @KarolosLykos in
Full Changelog: v0.12.35...v0.12.36"
"1.5.1
move some axis constant to constants file
move id-to-name, get and clean utils to utils.js
mv set convert and clean datum method to own files
move and split defaults methods,

- expose main supplyLayoutDefaults only on Axes
require axis defaults handlers directly,

in colorbar and gl3d axis mocks
modif axes test to account for internal modules
lint (mostly infix spacing)
rename axis utils module --> axis_ids
axe unsed axis cleanName
fix path to axis_ids.js
rm unused block,

  this block created titles for all axes,
  this signature isn't used anymore.
require dependencies into title directly,

  instead of using the internal Plotly object.
require Titles directly,

  into colorbar/draw and axes.js,
  remove Title from internal Plotly
lint (mostly infix spacing)
lint
add info about cleanup label
remove dep on internal Plotly in trace modules
use 'official' Plotly in test suite,

  instead of internal Plotly
rm console.log
lint (infix spacing)
add info about MathJax
Add link to plotly-notebook-js
Fix spacing
sub node version 4.2.1 -> 4.2.x
export plotlyCore in module example
filter module data wrt 'visible' before geo plot routine:

- geo plot routine use a classic d3 join/enter/exit pattern
- trace visibility is updated using exit selections
- to simplify the logic, send only visible trace to the geo plot
  routine so that visible traces and svg trace groups match
  one to one.
rm useless early return for non-visible geo traces
lint (mostly scoped vars)
add geo toggle trace tests
update changelog
1.5.2","Fixed
Fix geo trace visibility toggling (bug introduced in 1.5.1) []"
"docs: autoupdate
chore(deps): update dependencies
docs: autoupdate
fix: change terminal package import path to updated version
docs: autoupdate
fix: correct `pterm.Println()` behaviour to fit to `fmt.Println()`

fixes
docs: autoupdate","Bug Fixes
correct pterm.Println() behaviour to fit to fmt.Println()
change terminal package import path to updated version
Chore
deps: update dependencies"
"docs: autoupdate
chore(deps): bump golang.org/x/term from 0.10.0 to 0.11.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
docs: autoupdate
ci: update to Go 1.21 ()
docs: autoupdate
chore(deps): bump golang.org/x/text from 0.11.0 to 0.12.0 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Marvin Wendt <git@marvinjwendt.com>
docs: autoupdate
chore(deps): bump github.com/gookit/color from 1.5.3 to 1.5.4 ()

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Marvin Wendt <git@marvinjwendt.com>
docs: autoupdate
feat: Multiple progressbars and spinners support ()
docs: autoupdate","What's Changed
Exciting New Features
feat: Multiple progressbars and spinners support by @MarvinJWendt in
Other Changes
ci: update to Go 1.21 by @MarvinJWendt in
Full Changelog: v0.12.65...v0.12.66"
"1.45.2
legend: draw `legendtoggle` last to make it unobstructed
legend tests: destroyGraphDiv after tests
bump gl-surface3d 1.4.3 to apply pixelRatio on one missing gl.lineWidth call
loop over hover label (not hover data) when fixing overlaps

... that way when some hover data pts are filtered out (e.g. when they
    are too close together in compare mode), the fix-overlap algo
    still works.
dig in `_scatterStackOpts` to pin orientation:h stacked scatter traces
:hocho: wrong gl2d drag/scroll optimization
fix - make 'modebar' edits use 'plot' pathway on gl2d subplots
lower delay
update changelog for 1.45.3
1.45.3","Fixed
Fix legend click dispatch on legend item symbols (bug introduced in 1.44.0) []
Fix overlapping of ""very close"" hover labels []
Fix hovermode default logic for stacked scatter traces []
Fix glPixelRatio handling in surface contour lines []
Fix gl2d subplot zoombox appearance (bug introduced in 1.32.0) []
Fix axis label updates on gl2d subplots on scroll (bug introduced in 1.32.0) []
Fix dragmode relayout calls on gl2d subplots []
Improve info about <extra> in hovertemplate description []"
"1.55.1
mention PR 5114 in 1.55.0 release notes
fix issue 5132
add image test to lock 5132
update changelog for v.1.55.2
1.55.2","Fixed
Fix automargin when ticklabelmode is set to ""period"" []"
"1.47.1
update eslint rule to 1tbs
apply new eslint rule - pass1 - auto
apply new eslint rule - pass2 - manual
handle special bar insidetext case on log size axes
:trophy: 40 chart types
:palm_tree: loneHover routine
replace Fx.multiHovers by Fx.loneHover
include baseUrl in gradient style references
Use r2l / l2r when autoranging matched axes
Add image test for
fix more bar/text/log size axis cases

... a follow-up from my lazy attempt in
    https://github.com/plotly/plotly.js/pull/3762
update changelog for 1.47.2
1.47.2","Celebrating our 10,000  with this release.
Fixed
Fix bar 'auto' and 'inside' textposition rendering on log size axes []
Fix matching axes autorange algorithm for date axes []
Fix SVG gradient rendering (colorbar and marker gradient) when <base> is present on page []"
"1.49.2
scattergl: fill text arrays up to trace._length if necessary
scattergl: do not mutate text array
use gs.l not margin.l to position rangeslider
update changelog for 1.49.3
1.49.3","Fixed
Fix graphs with visible: false sankey traces []
Fix scattergl with mode: 'text' and text arrays longer
than the coordinates arrays []
Fix rangeslider positioning when left margin is pushed
by other components []"
"1.54.5
bump is-mobile v2.2.2
bump through2 fuse.js eslint versions
separate heatmapgl supplyDefaults from heatmap
 - use heatmapgl attributes not heatmap
 - only coerce valid heatmapgl attributes not heatmap attributes
add tests for heatmapgl supplyDefaults - and bypass calendars for now
do not coerce contourgl attributes that are not implemented
bump fuse.js
bump through2 v4
fix median sort for issue 4966
apply numeric sort in ternary plot drag
apply numeric sort for parcats when only include numbers - fix issue 4972
make emptyCategories a method of axes
fix 4971 - empty axis categories only on react call not relayout
Fix spelling and lint Markdown.

Remove whitespace.
Fixed bare URLS.
Remove unneeded blank lines.
Add blank lines.
Indent HTML.
control the version of lodash in dev-dependencies to clear audit warnings
bump lodash v4.17.19
update changelog v1.54.6
1.54.6","Fixed
Link matching axes categories during Plotly.relayout calls
(regression introduced in 1.54.2) []
Fix ""median"" aggregation transforms []
Fix parcats category order when the dimension only includes numbers []
Fix numeric sort in ternary drag []
Fix heatmapgl supply defaults not to add unimplemented attributes
xcalendar, ycalendar, xgap, ygap, zsmooth, zhoverformat,
hoverongaps and hovertemplate to gd._fullData  []
Fix contourgl supply defaults not to add unimplemented attributes
xcalendar, ycalendar to gd._fullData  []"
"1.41.1
reset updates object on every zoomDone

- so that 'old' keys from two-sided zoomboxes don't trickle into
  single-side zoombox updates
update changelog for 1.41.2
1.41.2","Fixed
Fix two-sided zoombox -> double-click -> one-sided zoombox behavior []"
"1.44.3
fix react+uirevision when removing traces
bump lodash to 4.17.11
bump eslint to 5.13.0
bump ecstatic, fuse.js, karma-viewport and madge
throw error when setting transform attrs with NaNs
call ax.setScale in Annotations.drawOne

... which happens to be the first time it's called
    when annotations are present on autoranged axes on
    subplots w/o visible traces. This is important to avoid
    `transform:rotate(NaN)` errors as annotations require ax._offset
    to first-draw text to compute its bounds.
fix trace-less scenes with 3d annotations

- this is an unreported bug, that the new strict-d3 logic
  uncovered.
Fix bug in scattergl text update ()

* Fix bug in scattergl plot
* Added tests for scattergl plot update
Applied eslint fixes
Fix finance chart null item hover
update changelog for 1.44.4
1.44.4","Fixed
Fix Plotly.react used with uirevision when removing traces []
Fix scattergl update calls that change the number of on-graph text elements []
Fix annotations SVG errors on trace-less subplots []
Fix ohlc and candlestick hover on blank coordinates (bug introduced in 1.43.2) []"
"2.4.1
handle case of zero outerHeight to bring back unified hover in documentaion website
log for PR 5913
Revert ""handle case of zero outerHeight to bring back unified hover in documentaion website""

This reverts commit df50898a9e9d30facf8f4494d208935d2ecd5aa0.
add fallback in the case of zero width or height
add css transform input to devtool
use _paper instaed of _paperdiv - remove fallback
outerContainer is not used in createSpikelines - remove it
pass _paper.node() similar to other places
do not d3.select _paper.node()
simplify logic
use tar ge v6.1.9
additional fix to 9ab94442820c5974394e5ed647e6cccafdeae4b7
use opts.container instead of container3.node()
no need to declare extra variables
revise createHoverText calling arguments
update readme and changelog for v2.4.2
2.4.2","Fixed
Fix positioning unified hover box when div has zero height
(regression introduced in 2.3.0) []"
"2.6.3
bump jsdom v18.1.1
bump open v8.4.0
bump sass v1.43.4
bump check-node-version v4.2.1
bump karma v6.3.9
bump eslint v8.3.0
bump karma-firefox-launcher v2.1.2
avoid bar to jump when selected+text - issue 6041
log for PR 6043
update changelog and readme for v2.6.4
2.6.4","Fixed
Avoid bar with text to jump when selected []"
"2.19.0
fix range_slider_test after merging PR 4448
update readme and changelog for v2.19.1
2.19.1","Fixed
Ensure slider range stays in bounds during the drag [],
with thanks to @jay-bis for the contribution!"
"2.18.1
rename new mocks not start with z
use new mock names in jasmine tests
update baselines as new order generated on ci
Fix lower / upper fence french translation
bump chrome version from 93 to 110
adjust geo_test
add noCI flags until we could adjust those tests
bump plotly d3 to v3.8.1
test locking issue 6483
changelog and readme for v2.18.2
2.18.2","Fixed
Avoid attaching internal d3 object to the window (regression introduced in 2.17.0) []
Correct the order of lower fence and upper fence in the French locale (fr) [],
with thanks to @Gagaro for the contribution!
Correct formats in the Peruvian locale (es-pe) [],
with thanks to @andresrcs for the contribution!"
"fix: hande empty clause in switch if statement ()

The CFG was wrong in presence of an empty last clause.

Fixes.
interp: extend dot debugging
Fix import source symbol package
fix: compose recursion
fix: nil recover case
fix: handle empty interface conversion
fix: recursive struct function call
fix: handle nil interface conversion
fix: composite literal child types for call expressions
fix: handle range on chan function return
fix: handle call ellipsis
interp: detect local redeclaration ()

* interp: detect local redecleration

Fixes

* make make check happy

* fix typo in filenames, add them to the exclusion list

Co-authored-by: Marc Vertes <mvertes@free.fr>
fix: handle printf changing nil type
Travis: apply timeout multiplier on CI
fix: dont assign receiver on indexExpr
fix: finish support of type assertions which was incomplete ()

* fix: finish support of type assertions which was incomplete

TypeAssert was optimistically returning ok without verifying that
value could be converted to the required interface (in case of
type assert of an interface type), or not checking the type in
all conditions. There is now a working implements method for itype.

Fixes.

* style: appease lint

* fix: remove useless code block

* doc: improve comments

* avoid test conflict
fix: perform send channel action for select ()

* fix: perform send channel action for select

The CFG was wrong for select send comm clauses. If an init operation
on channel was required (like a derefence, index operation, ...) it
was skipped. The bug was invisible in case of a local var channel.

A send channel init operation consist to prepare both the data to
send (right subtree of send AST) and the channel itself (left
subtree of send AST). All channel init operation must be performed
prior to call select.

Fixes.

* doc: fix comment

* invert test to continue early

please note that this also changes the logic a little bit, since the
line that was:

if pn != nil {

now implictly becomes:

if an != nil && pn != nil {

(which I think is actually more correct).

* explicit chaining of init actions in select

* explicit chaining of init actions in select

Co-authored-by: mpl <mathieu.lonjaret@gmail.com>
fix: detect default comm clause in select from AST ()

* fix: detect default comm clause in select from AST

The heuristic to distinguish a default comm clause was too weak.
Make it robust by using AST.

Fixes.

* rename test to avoid conflict
fix: return correct package name for parsed package ()

Co-authored-by: Marc Vertes <mvertes@free.fr>
fix: composite map assign ()

* fix: composite map assign

* reword comment

Co-authored-by: Marc Vertes <mvertes@free.fr>","Changelog
184623d Fix import source symbol package
74479d7 Travis: apply timeout multiplier on CI
5d78c8a fix: compose recursion
151a856 fix: composite literal child types for call expressions
8365f68 fix: composite map assign ()
82b499a fix: detect default comm clause in select from AST ()
def57d5 fix: dont assign receiver on indexExpr
c1f5005 fix: finish support of type assertions which was incomplete ()
eb25c84 fix: handle call ellipsis
3c88542 fix: handle empty interface conversion
d5217f7 fix: handle nil interface conversion
f1cff30 fix: handle printf changing nil type
2de0c80 fix: handle range on chan function return
56d88ef fix: nil recover case
0ef7f8f fix: perform send channel action for select ()
01e4cde fix: recursive struct function call
36836cd fix: return correct package name for parsed package ()
6f87805 interp: detect local redeclaration ()
5d56bac interp: extend dot debugging"
"[maven-release-plugin] prepare release ontop-4.2.0
[maven-release-plugin] prepare for next development iteration
Bugfix: slice nodes were not properly merged.
Minor warning message updated.
Add failing tests for time and duration
Small fix in DateOrDatetimeFilterTest.
Lately typed unary functions now robust to unexpected types.

In such cases, they just do not simplify instead of throwing an
exception. Useful when their initial ""protecting"" if-else-null wrapper
gets lifted and transformed into a conjunction.
Binary lately typed functions robust to unexpected terms
Two BGP tests added to ValuesNodeQueryTest. One failing.
Make H2 serialization of VALUES robust to multiple clauses
Make H2 serialization dependent on version
One test reproducing the cardinality issue added (not passed).
Fix empty values node handling
Add test case where DISTINCT disappears
Bugfix: distinct was disappearing during some particular normaliz.
BasicLens, JoinLens and SQLLens keys are now supported.
OptimizationSingletons enriched.
Issue 417 reproduced.
Bugfix: IQTree.applyFreshRenamingToAllVariables removed (was incorrect).
IncompleteSerializedMetadataPersonTest added.
JsonSerializedMetadataProvider can now handle incomplete serialized md.
R2RMLMappingParser: now extracts the prefixes.
OBDA-to-R2RML conversion checks for duplicate mapping IDs
Postgres: serialize other boolean lexical values.
R2RMLException declassified as OntopInternalBug
NativeQueryGenerator: new method for tolerating unk types.
Updated Spring Boot to v2.6.6, fixing other dependencies accordingly
Ontology download: returns a 404 when there is no ontology.
Jackson updated to 2.13.2.
Constant in R2RML with lang tags are now properly supported.
Updated jackson-databind (only) to micro-patch version 2.13.2.2
v4.2.1
[maven-release-plugin] prepare for next development iteration
./mvnw versions:set -DnewVersion=4.2.1-SNAPSHOT
[maven-release-plugin] prepare release ontop-4.2.1
./mvnw versions:set -DnewVersion=4.2.1-SNAPSHOT
[maven-release-plugin] prepare release ontop-4.2.1","Ontop
The Ontop framework is an open source project available under the terms of the
Apache 2.0 License.
Current version: 4.2.1
Release date: 19/04/2022
Changelog
Downloads
Command line interface of Ontop
ontop-cli-[version].zip
Platform-specific Ontop Protégé bundles with JRE 8 embedded
ontop-protege-bundle-linux-[version].tar.gz:  Linux bundle (start with run.sh)
ontop-protege-bundle-macos-[version].zip: macOS bundle (first run: right click Protégé.app and select Open in
the warning dialog)
ontop-protege-bundle-windows-[version].zip: Windows bundle (start with run.bat or Protege.exe)
Platform-independent Ontop Protégé plugin and bundle (JRE 8 needs to be installed manually)
it.unibz.inf.ontop.protege-[version].jar: platform-independent plugin (drop it into Protege’s plugins folder).
ontop-protege-bundle-platform-independent-[version].zip: platform-independent plugin (start with run.sh, run.command
or run.bat)
Links
Official Website: https://ontop-vkg.org
Download (Github): https://github.com/ontop/ontop/releases
Download (Sourceforge): http://sourceforge.net/projects/ontop4obda/files/
Docker Hub: https://hub.docker.com/r/ontop/ontop-endpoint
Google Group: https://groups.google.com/forum/#!forum/ontop4obda
Source Code: https://github.com/ontop/ontop
Facebook: https://www.facebook.com/obdaontop/
Twitter: https://twitter.com/ontop4obda
Issue Tracker: https://github.com/ontop/ontop/issues"
"[maven-release-plugin] prepare release ontop-5.1.1
[maven-release-plugin] prepare for next development iteration
3 dependencies updated.
Presto Docker image updated.
update jquery to version 3.5.1 issue
update jquery to version 3.7.1 issue
fix for issue
minor refactoring of the changes
Remove unnecessary checks in MySQL
Add missing space after REGEXP
Add MySQL v5.x CI
update README
[maven-release-plugin] prepare release ontop-5.1.2","Ontop
The Ontop framework is an open source project available under the terms of the
Apache 2.0 License.
Current version: 5.1.2
Release date: 16/01/2024
Changelog
Downloads
Command line interface of Ontop
ontop-cli-[version].zip
Platform-specific Ontop Protégé bundles with JRE 11 embedded
ontop-protege-bundle-linux-[version].tar.gz:  Linux bundle (start with run.sh)
ontop-protege-bundle-macos-[version].zip: macOS bundle (first run: right click Protégé.app and select Open in
the warning dialog)
ontop-protege-bundle-windows-[version].zip: Windows bundle (start with run.bat or Protege.exe)
Platform-independent Ontop Protégé plugin and bundle (JRE 11 needs to be installed manually)
it.unibz.inf.ontop.protege-[version].jar: platform-independent plugin (drop it into Protege’s plugins folder).
ontop-protege-bundle-platform-independent-[version].zip: platform-independent plugin (start with run.sh, run.command
or run.bat)
Links
Official Website: https://ontop-vkg.org
Download (Github): https://github.com/ontop/ontop/releases
Download (Sourceforge): http://sourceforge.net/projects/ontop4obda/files/
Docker Hub: https://hub.docker.com/r/ontop/ontop
Google Group: https://groups.google.com/forum/#!forum/ontop4obda
Source Code: https://github.com/ontop/ontop
Facebook: https://www.facebook.com/obdaontop/
Twitter: https://twitter.com/ontop4obda
Issue Tracker: https://github.com/ontop/ontop/issues"
"Update CHANGELOG
Make it easy to copy composer install command on github ()
Ensure that variants can be aggregated by revs/iteration count ()

* Introduced more accurate named method and deprecate former

* Convert subjecttest to builder pattern

* Fixed type hints

* Support groups in subject builder

* Do not index variants by parameter set name

* Add test for transfomer

* Add variant_index to data frame

* Updated approvals

* CS fixes

* Fix for PHP7.3

* Expression generator aggregates by variant_index

* Update doc
Symfony 6 ()

* Allow Symfony 6

* Switch to phpunit mocking for Process test

Avoid bug in Prophecy https://github.com/phpspec/prophecy/issues/527

* Fix CS

Co-authored-by: Boudry Julien <julien.boudry@gmail.com>
Added simple check for glob paths in config.path value ()
Update CHANGELOG and refactor glob paths ()

* ADded Path Util to encapsulate path normalisation

* Rename

* Fix name
Update CHANGELOG version","Bug fixes:
Do not index variants by parameter set name (as they vary by number of
revs/iterations etc also)
Improvements:
Symfony 6 support - @julien-boudry
Allow globs in benchmark path specification - @ricardoboss"
"Vendor github.com/robertkrimen/otto.
Fix typo.
Fix device-profile permissions in UI for organization admins.
Add org id filter on device-profile list per app id.
Manage AS > NS client certificates from web-interface.
Implement NS > AS client certificates.
Update documentation.
Fix certificate if clause.
Enfore client vertificate validation (js api).
Change note field to textarea.
Change description field to textarea.","Features:
Implement client certificate validation for incoming application-server API connections.
Implement client certificate validation for incoming join-server API connections.
Implement client certificate for API connections to LoRa Server.
This removes the following CLI options:
--ns-ca-cert
--ns-tls-cert
--ns-tls-key
See for more information:
LoRa Server configuration
LoRa App Server configuration
LoRa App Server network-server management
https://github.com/brocaar/loraserver-certificates
Improvements:
Optional note field (users) has been changed to textarea.
Description field of the gateway has been changed to textarea.
Bugfixes:
Fix device-profile permissions in UI for organization admins.
Fix device-profile list per applicationID showing all device-profile names
and IDs on the same network-server as the service-profile associated with the
given application."
"Update Gopkg manifest.
Update gateway-profile documentation.
Implement SkipFCntCheck on device.
Send device error to handler on Decode codec error.

When an error is raised during the decoding of an uplink slice of bytes, then a device error event will be pushed to the handler.

Closes.
Update changelog. Bump version.","Improvements:
Skip frame-counter check can now be set per device (so it can be used for OTAA devices).
Publish codec decode errors to the application/[applicationID]/node/[devEUI]/error MQTT topic.
Pre-compiled binaries are available at: https://www.loraserver.io/lora-app-server/overview/downloads/"
"interp: fix type conversion for constant expressions

The case of a constant arithmetic expression being of float kind because
of quotient was not handled correctly. Simplify constant extraction to
reflect.Value first, then conversion to target type, and let reflect Convert
method panic if conversion is not valid.

Fixes.
interp: handle explicit nil values in literal composite values

Fixes.
interp: fix testing for nil interface values

Fixes.
interp: on panic, look for node where offending exec originated from

The execution flow is such that a node can end up running several chained exec
funcs, some of which actually originate from other nodes. For example, in:

var m []int // L0
println(""hello world"") // L1
m[0] = 1 // L2

the offending code is on a node on line 2 (out of range error). However, since
the assignment to m is part of the execution flow of the variable m, we'll get
the panic when running all the chained exec funcs attached to the node for m on
line 0.

Which is why, when that happens, we need to look for the actual node (the one on
L2) where the offending instruction originates from, in order to
properly report the origin of the panic.

Fixes
interp: fix incorrect infinite loop on for statement

Add a for statement variant for the case of a ""for"" with an init, no
condition and no post-increment.

Fixes.
interp: resolve type for untyped shift expressions

A non-constant shift expression can be untyped, requiring to apply a
type from inherited context. This change insures that such context is
propagated during CFG pre-order walk, to be used if necessary.
    
Fixes.
interp: implement conversion for interpreter function types

Interpreter function types are represented internally by the AST node
of their definition. The conversion operation creates a new node with
the type field pointing to the target type.

Fixes.
interp: apply type conversion on untyped variable at run

Fixes.
interp: fix CFG in case of for loop with empty init and cond

Refactor `for` variants for clarity. Ensure all possible 8 combinations
are covered.

Fixes.
extract: support building/running yaegi with Go devel

Fixes
fix: use the import path for types

When running GTA, the type `path` was set to `rpath`. This equates to the package path (`github.com/traefik/yaegi`) in most cases. In the vendored case the `rpath` is the sub package path `something/vendor/github.com/traefik/yaegi` causing issues in typecheck and likely further down the line. By using the `importPath` it makes this consistent.

**Note:** I have no clue how to test this decently. I am open to options here.

Potentially Fixes","Changelog
f0fc907 extract: support building/running yaegi with Go devel
8367657 fix: use the import path for types
b1ccfbf interp: apply type conversion on untyped variable at run
61f4704 interp: fix CFG in case of for loop with empty init and cond
c817823 interp: fix incorrect infinite loop on for statement
a38d192 interp: fix testing for nil interface values
7f8ffa6 interp: handle explicit nil values in literal composite values
0ed4b36 interp: implement conversion for interpreter function types
3cb8bca interp: on panic, look for node where offending exec originated from
9880738 interp: resolve type for untyped shift expressions"
"interp: fix generic check on nil function

Related to issue https://github.com/traefik/traefik/issues/9231
interp: fix spurious variable declaration loop

The variable dependency check function was confused by a dependency
variable with the same name but in an external package.

This change is necessary to address.
interp: improve method resolution for embedded interfaces

The function `getMethodByName()` is now able to look for
embedded `valueInterface` field for matching methods in interface
struct fields.
    
Fixes and.
interp: improve handling of composed interfaces wrappers

This change implements a workaround to better support composed
interfaces in yaegi and let the interpreter define objects which
implement multiple interfaces at once.

We use the existing MapTypes to store what possible composed interface
wrapper could be used for some interfaces. When generating an interface
wrapper, the wrapper with the highest number of implemented methods is
chosen.

This is still an imperfect solution but it improves the accuracy of
interpreter in some critical cases.

This workaround could be removed in future if/when golang/go
is resolved.

Fixes.
interp: fix type switch on arbitrary expressions

If the value on which to type-switch was already set (i.e. a variable),
there was no problem. But if it had to be obtained through a complex
expression (func call, array index, etc...), then the code to retrieve
the value prior type-switch was not scheduled. This is now fixed.

This issue is nasty because the behavior is silently changed,
leading potentially to further unrelated issues or runtime panics.

Fixes.
interp: fix use of interfaces in composite types

The representation of non empty interfaces defined in the interpreter is now identical between refType() and frameType() functions, which are used to generate interpreter objects.

Fixes and.
interp: fix redeclarations containing a blank variable

In [short variable declarations](https://go.dev/ref/spec#Short_variable_declarations),
The reuse of existing symbols is possible only if a new variable is defined,
otherwise a new symbol must be created, which was not the case in the issue.

Search for new symbols and correctly ignore blank variables.

Fixes.","Changelog
79747f3 interp: fix redeclarations containing a blank variable
b2aa636 interp: fix spurious variable declaration loop
03ccda1 interp: fix type switch on arbitrary expressions
63825e7 interp: fix use of interfaces in composite types
e026215 interp: improve handling of composed interfaces wrappers
ab869c8 interp: improve method resolution for embedded interfaces"
"interp: support yet another vendoring case

* interp: support another vendoring case

Namely, when the vendor dir is a sibling (or an uncle) relative to the
current pkg

Fixes

* make linter happier

* address review comments

* fix, cleanup, add unit tests

* add dummy files to force dirs into git
extract: new package to extract symbols from a dependency

cmd/goexports is now based on it.

Updates 

Co-authored-by: Marc Vertes <mvertes@free.fr>
fix: type assertion expression was not forwarding type

The detection of special cases of interpreter functions and interfaces
is more precise. It allows at least to complete parsing of
code where type is derived from a type assertion expression.

Fixes.
fix: correct conversion to int in slice index expressions.
fix: correct range on arrays of interface objects
fix: regression on range following
chore: updated linter
feat: refactor type checking

The previous type checking was off and did not do untyped type conversion. This endeavours to fix this with better type checking in its own type.
feature: command line provide sub-commands

The Yaegi command line has been changed to provide subcommands.

The following sub-commands are provided:
- extract (formerly goexports)
- help
- run
- test

The previous behaviour is now implemented in run command which
is the default, so the change should be transparent.

In run command, prepare the ability to run a package or a directory
in addition to a file. Not implemented yet

The test command is not implemented yet.

The extract command is meant to generate wrappers to non stdlib
packages.

Fixes
fix: interface call regression from

Fix changes how interfaces are set on a struct (compositeSparce). This change however makes calling the interface panic. 

This PR reverts part of the change in and adds a test to ensure it does not break again.
feat: add index and composite literal type checking

This adds type checking to both `IndexExpr` and `CompositeLitExpr` as well as handling any required constant type conversion.

This includes a change to the type propagation to the children of a composite literal. Previously in most cases the composite literal type was propagated to its children. This does not work with type checking as the actual child type is needed.
feat: update stdlib mapping for go1.15

- drop stdlib for go1.13
- generate stdlib for go1.15
-  update CI configuration.
chore: update golangci-lint config ()

Disable nlreturn. Fix one comment.
interp: make REPL stricter about parsing errors

So far the REPL loop was treating any parsing error coming from
go/parser to generate the AST, as having occurred because the source
code was not yet complete (unfinished block). And it was therefore
ignoring all of them.

However, some of these errors are legitimate, and must be caught as soon
as they occur, otherwise the REPL cycle would stay in an errored state
forever (even when the block terminates), without the user getting any
feedback about it.

Therefore, this change adds an extra check when a parsing error occurs,
i.e. it verifies that it looks like an ""EOF"" error (unfinished block)
before it ignores it (as the user is supposed to terminate the block
eventually). Otherwise the error is treated just like a ""non-parsing""
(cfg, gta, ...) error and printed out.

Fixes
fix: correct interrupt signal handling in REPL

Avoid goroutines leak, accumulation of defered functions and
spurious resets of signal handlers. Effectively catch interrupt
signal (Ctrl-C) to cancel current eval.

Fixes.","b0cd93a fix: correct interrupt signal handling in REPL
611a8c3 interp: make REPL stricter about parsing errors
1fe75f1 feat: update stdlib mapping for go1.15
cdc352c feat: add index and composite literal type checking
88569f5 fix: interface call regression from
2ac0c6f feature: command line provide sub-commands
bd4ce37 feat: refactor type checking
25c681c fix: regression on range following
9c51f6b fix: correct range on arrays of interface objects
589b2a0 fix: correct conversion to int in slice index expressions.
68911f8 fix: type assertion expression was not forwarding type
e5a7b0d extract: new package to extract symbols from a dependency"
"Add MemoryLow to service file ()
Add support for log verbosity ()

Use stdout for info and debug
Use stderr for warn, error, fatal and panic","Support for log levels
Move info/debug logs to stdout and others to std err
Ability to create a support bundle
Fix for file name conflict with /tmp/etcd.snapshot"
"feat: julia segment

resolves
fix: allow 16 colors in override

resolves","Bug Fixes
allow 16 colors in override (8ed1c90), closes"
"Tutorial flags ()

* Rewrite tutorial file

Signed-off-by: Henrique Moraes <henrique.moraes@zup.com.br>

* Tutorial flags implementation

Signed-off-by: Henrique Moraes <henrique.moraes@zup.com.br>

* Review corrections

Signed-off-by: Henrique Moraes <henrique.moraes@zup.com.br>
Fixing delete credential empty fields bug ()
Fix build with build.sh ()

Signed-off-by: Fabiano Chiareto Fernandes <fabiano.fernandes@zup.com.br>
Update repo fix ()","Bugs Fixed
Fix build with build.sh
Empty item in credential selection
Repos from rit update repo now show all its release"
"refresh history on job delete remove unused function
Fix loading message for previewer
Round corners
run recent jobs without going into history no select on buttons
ios improvements
mobile and safari improvements
other fix
Minor update to default Macros
Add comment in ZA
fixed Macro2 alligator
fix video support on edison
ZT tweaks
Leveler: fix race condition bug. Delete useless xyz file.
Leveler: remove old commented code, add documentation.
Leveler: fix bug when error in triangulation.
Viewer: highlight more running commands.
Fix JH and MH to work in previewer
slight macro edits
Update notes in Cuts and Zero modules
Add find functionality to editor
Fix
Make engine persistent even in the case of a G2 connection failure
Update viewer. Display units according to user configuration. Fixes.
Remove console log
Fix
Fix
Update .gitignore
Update CR Usage description
Hotfix for unit issues
Add weird chalk dependency not covered in a lower package
Add persistent storage of logfiles
Add toString for passthrough runtime
Spacing
fixing weird scrolling on jm
dropping description on small screens in macros
css alternative to hiding description
scroll fix macros better on mobile
dro won't close on move in mobile","Innumerable UI improvements for desktop
Innumerable UI improvements for mobile
fixing weird scrolling on jm
Internal improvements to logging
Fix for inch/metric issues
Update to some SBP command descriptors
Fix
Fix
Improvements to display units in previewer
""Live view"" in previewer
Make engine persistent even in the case of a firmware failure (tools are findable even with bad firmware)
Fix
Add find functionality to editor
Fix JH and MH to work in previewer
Leveler: fix bug when error in triangulation.
Leveler: remove old commented code, add documentation.
Leveler: fix race condition bug. Delete useless xyz file.
ZT tweaks
fix video support on edison
ios improvements
Introduce ""recent jobs""
Fix loading message for previewer
Fix viewer display when a job is running.
Fix errors with wrong line number passed in viewer"
"release(9.4.0): release 9.4.0 ()
ci: update build ()
fix(abc:se): fix invalid auto assigned id under nested `se` component ()
docs: typo ()
ci: update site ()
fix(abc:st): fix losing `nzWidthConfig` ()
fix(chart:pie): fix `isPercent` scope ()
fix(cli:plugin:icon): fix skip cannot be resolved ()
release(9.4.1): release 9.4.1 ()","Bug Fixes
abc:se: fix invalid auto assigned id under nested se component () (cc081b8)
abc:st: fix losing nzWidthConfig () (bf0aa88)
chart:pie: fix isPercent scope () (d8815af)
cli:plugin:icon: fix skip cannot be resolved () (4512f93)
Bug Fixes
abc:se:  se  id  () (cc081b8)
abc:st:  nzWidthConfig  () (bf0aa88)
chart:pie:  isPercent  () (d8815af)
cli:plugin:icon:  () (4512f93)"
"fix: exclude syslog for windows, nacl, and plan9.
chore: add godoc badge.
doc: add playground examples.
doc: Fixes the title and other formattings
doc: first attempt to document goexports command
fix: correct assign to binary interface value ()
feat: improve stdlib generation.
doc: add a Limitations section in README
chore: revert stdlib improvements","Changelog
4c877cc fix: correct assign to binary interface value ()"
"Generate changelog for v1.10.2
Add support for Doctrine persistence version 3.0
Add doctrine/persistence check to the build
Fix Psalm errors
Exclude doctrine persistence 1 with Symfony 6
Fix PHPStan errors
Persistence 1 and doctrine bundle 1.12 are incompatible with Symfony 5
Fix the build
fix(flashbag): fixed addFlash in ControllerTrait for Symfony 6
fix(flashbag): removed potential BC from addFlash function
[CI] Add support for Symfony 6.2
Fix register state machine pass
Fix coding standard
Fix Psalm error
Fix missing pagerfanta ORM adapter error
[HotFix] Flip id an alias on resource loader
Add generic typehint to the TranslatableFactoryInterface
Add overriden method to the TranslatableFactoryInterface
[ECS] Apply ecs fixes
Add support for Symfony 6.4
Generate changelog for v1.10.3","Details
Fix the build on 1.10 branch (@loic425)
Add support for Doctrine persistence version 3.0 (@@loic425)
[HotFix] Flip id with alias on resource loader (@loic425)
Fix missing pagerfanta ORM adapter error (@loic425)
Quick fix for state machine workflow usage with Symfony 6.2 (@loic425)
fix(flashbag): fixed addFlash in ControllerTrait for Symfony 6 (@UlrichHP)
Missed typehint for TranslatableFactoryInterface (@Rafikooo)
Add support for Symfony 6.4 (@loic425)"
"build(all): use ng-packagr to package libraries ()
fix(form): fix ng-alain:view template
releases: 2.0.0-beta.1
fix(form): fix label width style when fixed
build: fix color less
fix(form): fix repeat input in safari browser ()
docs: i18n ()
fix(form): fix missing render readOnly ()
refactor(abc:st): use _HttpClient instead of HttpClient, close ()
feat(abc:global-footer): support item custom template ()
feat(theme:setting.service): support batch replacement layout property ()
build: sync zorro to laster version ()
releases: 2.0.0-beta.2, closes","ng-zorro-antd  1.6.0
skeleton
@delon/form
Safari
readOnly"
"release(9.5.0): release 9.5.0 ()
ci: fix paths
fix(chart:timeline): fix invalid format of slider ()
release(9.5.1): release 9.5.1 ()","Bug Fixes
chart:timeline: fix invalid format of slider () (d445935)
Bug Fixes
chart:timeline:  () (d445935)"
"feat: allow custom folder separator for all styles
refactor: use go-ps from origin
refactor: upgrade gookit/color
refactor: upgrade distatus/battery
refactor: use personal fork of jsonc
chore: add commitlint type config
chore: add enhancement to non-stale issues
chore: include refactor/revert in changelog","chore: add enhancement to non-stale issues (973d7e6)
chore: include refactor/revert in changelog (f0fd885)
refactor: upgrade distatus/battery (3c7b344)
refactor: upgrade gookit/color (9a47ed7)
refactor: use go-ps from origin (1e330b9)
refactor: use personal fork of jsonc (ac5dd0f)"
"fix: hyperlink regex updated

Issue when detecting and replacing text
fix(manjaro): read lsb-release

relates to
fix: provide terminal width from CLI","Bug Fixes
manjaro: read lsb-release (8f3bfd6), closes
provide terminal width from CLI (4c4b97f)"
"fix: wrong background for powerline in some cases

activeBackground color is wrong when a diamong segment follows a
powerline segment.
fix: clear parent colors after block rendering

relates to","Bug Fixes
clear parent colors after block rendering (3a1cbb9), closes"
"fix: do not fetch git stash every time

relates to
chore: spotify segment doc updated

https://github.com/JanDeDobbeleer/oh-my-posh3/issues/317
fix: avoid crash on system with no battey in battery segment","Bug Fixes
avoid crash on system with no battey in battery segment (c57368c)"
"feat: inno installer for Windows
fix: use concurrent map for command caching

relates to","Bug Fixes
use concurrent map for command caching (509309c), closes"
"feat(brewfather): unit conversion routines

functions available to template
documentation
tests
docs: fix typos in plastic scm testing docs
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
refactor: undo specific cmd invocation
fix(git): use actual path instead of empty -C operator

relates to","Bug Fixes
git: use actual path instead of empty -C operator (d3e638e), closes"
"docs(pwsh): correct theme export guide
fix(pwsh): do not validate permissions before set

the current implementation is too flacky and breaks the module on
certain unix systems

relates to","Bug Fixes
pwsh: do not validate permissions before set (59b0595), closes"
"feat(themes):  adding pixelrobots theme
fix(battery): hide segment when no batteries

resolves","Bug Fixes
battery: hide segment when no batteries (90680f2), closes"
"feat(dotnet): display segment extensions updated

display segment when global.json exists
theme: add jblab_2021
Update to include gif ro tooltip
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
theme: add unicorn
docs(dotnet): add fsharp to supported languages

Looking at the source file `src/segment_dotnet.go` it seems like the F# file extensions are supported as well.
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
theme: update negligible
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
docs(dotnet): fix line length issue
chore(schema): languages segment updated with enable_hyperlink

enable_hyperlink added to segments that support it.
java segment title fixe.
fix(path): correctly handle replaced paths for letter style","Bug Fixes
path: correctly handle replaced paths for letter style (da1bb46)"
"fix(go): support 1.16

resolves
fix(pwsh): correct encoding for config export

resolves
docs(pwsh): correct theme export guide","Bug Fixes
pwsh: correct encoding for config export (9b13782), closes"
"chore: use latest wingetcreate self-contained binary
fix: int comes in as float from json

resolves
refactor: remove vertical_offset for transient prompt

relates to
fix(dotnet): correct exit code for different OS architectures

closes","Bug Fixes
dotnet: correct exit code for different OS architectures (db1f6bb), closes
int comes in as float from json (fb83354), closes"
"feat: secondary prompt
fix(migrate): correctly migrate exit segment
fix(init): escape path characters

resolves","Bug Fixes
init: escape path characters (78038aa), closes
migrate: correctly migrate exit segment (39dfca9)"
"fix(pwsh): run command corretly in Constrained Language mode
fix(pwsh): clear suggestion list buffer when rendering transient
docs(transient): correct description about enabling for CMD","Bug Fixes
pwsh: clear suggestion list buffer when rendering transient (4eedd5a)"
"fix: sync DirMatchesOneOf

relates to 2038
fix(project): fully qualified project path

fix an issue with pwsh reading the file from users home instead of cwd
fix(pwsh): set working directory when starting process","Bug Fixes
project: fully qualified project path (f754826)
pwsh: set working directory when starting process (3a15594)"
"feat(shell): perform cleanup for a new initialization
fix(cmd): escape special characters in a tip","Bug Fixes
cmd: escape special characters in a tip (c120527)"
"feat(go): build with go1.19
fix(fish): no transient on autosuggestion

resolves
fix(bash): escape console title sequences

resolves
fix(pwsh): escape backticks correctly","Bug Fixes
bash: escape console title sequences (eabe6b3), closes
fish: no transient on autosuggestion (4572a6a), closes
pwsh: escape backticks correctly (dfae989)"
"fix(git): align git Dir with PWD
fix(git): populate `.Dir` and `.RepoName` correctly
fix(path): map to default registry icon correctly","Bug Fixes
git: populate .Dir and .RepoName correctly (e5b3b00)
path: map to default registry icon correctly (5df8d89)"
"fix(fish): repaint tooltip on sigint
chore(devcontainer): update dependencies
fix(init): lowercase shellname

relates to
fix(init): show invalid config warning

resolves","Bug Fixes
init: lowercase shellname (f93f223), closes
init: show invalid config warning (ef267a8), closes"
"fix(pwsh): move HOME on invalid directory

resolves
chore(deps): bump actions/checkout from 3.0.2 to 3.1.0

Bumps [actions/checkout](https://github.com/actions/checkout) from 3.0.2 to 3.1.0.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/2541b1294d2704b0964813337f33b291d3f8596b...93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(python): do not validate empty env
revert(language): do not error when not installed

this reverts commit f23968a39cf10cd4c9f3a75ca5ac770691e5085f
as this was an incorrect solution to, it can stay as is","Bug Fixes
python: do not validate empty env (266fc56)
Reverts
language: do not error when not installed (a7a59b8), closes"
"feat(exit): implement pipestatus

BREAKING CHANGE: exit segment is now called status segment.

The exit keyword is now deprecated and will be removed in a future
release. Please use the status keyword instead:

```diff
""segments"": {
    {
-     ""type"": ""exit""
+     ""type"": ""status""
    }
}
```

Additionally, the status segment configuration has changed to support
$PIPESTATUS. You can include a status template to customize the
rendering of each individual status code (supported in fish, zsh and
bash).

```json
""segments"": {
    {
        ""type"": ""status"",
        ""properties"": {
            ""status_template"": ""{{ if gt .Code 0 }}\uf071{{ else }}\uf00c{{ end }}"",
            ""status_separator"": "" ""
        }
    }
}
```

In case no $PIPESTATUS is available, the status segment will fall back
to the exit code of the last command using the status template
for rendering.

The `{{ .Meaning }}` property has been marked as deprecated and can be
replaced with `{{ reason .Code }}`, allowing it to be reused in
cross segment templates.

resolves
fix(cursor): allow disabling cursor positioning

resolves
chore(social): trim post length","Bug Fixes
cursor: allow disabling cursor positioning (0af3029), closes"
"feat(platform): add support for OpenBSD
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
theme(1_shell): remove incorrect CPU indication
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(nu): use native right prompt command

resolves

this also avoids renderibng the right prompt twice when the shell
script uses the `oh-my-posh print right` command
fix(font): create Fonts folder when non-existant

resolves","Bug Fixes
font: create Fonts folder when non-existant (3ccafdf), closes
nu: use native right prompt command (b887d13), closes"
"feat(shell): support xonsh
docs(wakatime): fix table and add subsection for API key
fix(windows): use GlobalMemoryStatusEx for memory

resolves
resolves","Bug Fixes
windows: use GlobalMemoryStatusEx for memory (23148ea), closes"
"fix(bash): override pipestatus when BP_PIPESTATUS is greater or equal
fix(ansi): do not print invisible characters

resolves","Bug Fixes
ansi: do not print invisible characters (04b75ec), closes"
"fix(debug): output shell and version
chore(deps): bump actions/checkout from 3.4.0 to 3.5.0

Bumps [actions/checkout](https://github.com/actions/checkout) from 3.4.0 to 3.5.0.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/24cb9080177205b6e8c946b17badbe402adc938f...8f4b7f84864484a7bf31766abe9204da3cbe65b3)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(path): return early when powerlevel is < max_width

resolves","Bug Fixes
path: return early when powerlevel is < max_width (96868bf), closes"
"fix(path): add last element when only 1 level deep

resolves
chore(deps): bump actions/setup-node from 3.8.0 to 3.8.1

Bumps [actions/setup-node](https://github.com/actions/setup-node) from 3.8.0 to 3.8.1.
- [Release notes](https://github.com/actions/setup-node/releases)
- [Commits](https://github.com/actions/setup-node/compare/bea5baf987ba7aa777a8a0b4ace377a21c45c381...5e21ff4d9bc1a8cf6de233a3057d20ec6b3fb69d)

---
updated-dependencies:
- dependency-name: actions/setup-node
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(fonts): register user fonts correctly on Windows

Previously on Windows, fonts installed with `oh-my-posh font install --user` would not show up in the Control Panel nor as an option in program font menus.

Now, fonts are correctly registered.","Bug Fixes
fonts: register user fonts correctly on Windows (a711f9b)"
"feat(nushell): enable set_poshcontext

resolves
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(yaml): update parser to always escape tilde","Bug Fixes
yaml: update parser to always escape tilde (6c29f43)"
"fix(pwsh): patch PowerShell color bleed

relates to
chore(deps): bump goreleaser/goreleaser-action from 4.3.0 to 4.4.0

Bumps [goreleaser/goreleaser-action](https://github.com/goreleaser/goreleaser-action) from 4.3.0 to 4.4.0.
- [Release notes](https://github.com/goreleaser/goreleaser-action/releases)
- [Commits](https://github.com/goreleaser/goreleaser-action/compare/336e29918d653399e599bfca99fadc1d7ffbc9f7...3fa32b8bb5620a2c1afe798654bbad59f9da4906)

---
updated-dependencies:
- dependency-name: goreleaser/goreleaser-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump golangci/golangci-lint-action from 3.6.0 to 3.7.0

Bumps [golangci/golangci-lint-action](https://github.com/golangci/golangci-lint-action) from 3.6.0 to 3.7.0.
- [Release notes](https://github.com/golangci/golangci-lint-action/releases)
- [Commits](https://github.com/golangci/golangci-lint-action/compare/639cd343e1d3b897ff35927a75193d57cfcba299...3a919529898de77ec3da873e3063ca4b10e7f5cc)

---
updated-dependencies:
- dependency-name: golangci/golangci-lint-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump actions/setup-node from 3.7.0 to 3.8.0

Bumps [actions/setup-node](https://github.com/actions/setup-node) from 3.7.0 to 3.8.0.
- [Release notes](https://github.com/actions/setup-node/releases)
- [Commits](https://github.com/actions/setup-node/compare/e33196f7422957bea03ed53f6fbb155025ffc7b8...bea5baf987ba7aa777a8a0b4ace377a21c45c381)

---
updated-dependencies:
- dependency-name: actions/setup-node
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
docs: remove ruby version properties

resolves
fix(path): add last element when only 1 level deep

resolves","Bug Fixes
path: add last element when only 1 level deep (75e098b), closes"
"feat(python): use parent directory as name when ""venv"" or "".venv""
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(umbraco): change made to keep checking through files found alongside umbraco folder

this is because we may have had a web.config file found (that is not for umbraco) before a *.csproj file is later found that does include umbraco installed","Bug Fixes
umbraco: change made to keep checking through files found alongside umbraco folder (0706a5b)"
"fix(yaml): parse uint64 to int

resolves
fix(node): remove leading space for PackageManagerIcon in node segment","Bug Fixes
node: remove leading space for PackageManagerIcon in node segment (192309a)"
"fix(pwsh): clear line after extra prompts

resolves
fix(fish): bind keys to all modes

resolves","Bug Fixes
fish: bind keys to all modes (92c28a2), closes"
"Add changelog for v1.3.0
Fix links in changelog to helm chart repo
Fix typos in README.md
Fix typos in AzureKeyVaultIdentity CRD
Fix typos in AzureManagedIdentity CRD
Fix typos in AzureKeyVaultSecret CRD
build(deps): bump github.com/Azure/aad-pod-identity from 1.8.0 to 1.8.5

Bumps [github.com/Azure/aad-pod-identity](https://github.com/Azure/aad-pod-identity) from 1.8.0 to 1.8.5.
- [Release notes](https://github.com/Azure/aad-pod-identity/releases)
- [Commits](https://github.com/Azure/aad-pod-identity/compare/v1.8.0...v1.8.5)

---
updated-dependencies:
- dependency-name: github.com/Azure/aad-pod-identity
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump k8s.io/client-go from 0.21.2 to 0.22.2

Bumps [k8s.io/client-go](https://github.com/kubernetes/client-go) from 0.21.2 to 0.22.2.
- [Release notes](https://github.com/kubernetes/client-go/releases)
- [Changelog](https://github.com/kubernetes/client-go/blob/master/CHANGELOG.md)
- [Commits](https://github.com/kubernetes/client-go/compare/v0.21.2...v0.22.2)

---
updated-dependencies:
- dependency-name: k8s.io/client-go
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Upgrade to Alpine 3.14.x latest tag to fix CVE-2021-3712 (openssl/libcrypto)
Upgade to Golang 1.16.9 for TLS and miscellations security fixes
build(deps): bump github.com/Azure/azure-sdk-for-go

Bumps [github.com/Azure/azure-sdk-for-go](https://github.com/Azure/azure-sdk-for-go) from 57.2.0+incompatible to 57.4.0+incompatible.
- [Release notes](https://github.com/Azure/azure-sdk-for-go/releases)
- [Changelog](https://github.com/Azure/azure-sdk-for-go/blob/main/CHANGELOG.md)
- [Commits](https://github.com/Azure/azure-sdk-for-go/compare/v57.2.0...v57.4.0)

---
updated-dependencies:
- dependency-name: github.com/Azure/azure-sdk-for-go
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump github.com/spf13/viper from 1.8.1 to 1.9.0

Bumps [github.com/spf13/viper](https://github.com/spf13/viper) from 1.8.1 to 1.9.0.
- [Release notes](https://github.com/spf13/viper/releases)
- [Commits](https://github.com/spf13/viper/compare/v1.8.1...v1.9.0)

---
updated-dependencies:
- dependency-name: github.com/spf13/viper
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump sigs.k8s.io/yaml from 1.2.0 to 1.3.0

Bumps [sigs.k8s.io/yaml](https://github.com/kubernetes-sigs/yaml) from 1.2.0 to 1.3.0.
- [Release notes](https://github.com/kubernetes-sigs/yaml/releases)
- [Changelog](https://github.com/kubernetes-sigs/yaml/blob/master/RELEASE.md)
- [Commits](https://github.com/kubernetes-sigs/yaml/compare/v1.2.0...v1.3.0)

---
updated-dependencies:
- dependency-name: sigs.k8s.io/yaml
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump github.com/Azure/go-autorest/autorest/adal

Bumps [github.com/Azure/go-autorest/autorest/adal](https://github.com/Azure/go-autorest) from 0.9.14 to 0.9.16.
- [Release notes](https://github.com/Azure/go-autorest/releases)
- [Changelog](https://github.com/Azure/go-autorest/blob/master/CHANGELOG.md)
- [Commits](https://github.com/Azure/go-autorest/compare/autorest/adal/v0.9.14...autorest/adal/v0.9.16)

---
updated-dependencies:
- dependency-name: github.com/Azure/go-autorest/autorest/adal
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump github.com/Azure/go-autorest/autorest/azure/auth

Bumps [github.com/Azure/go-autorest/autorest/azure/auth](https://github.com/Azure/go-autorest) from 0.4.2 to 0.5.8.
- [Release notes](https://github.com/Azure/go-autorest/releases)
- [Changelog](https://github.com/Azure/go-autorest/blob/master/CHANGELOG.md)
- [Commits](https://github.com/Azure/go-autorest/compare/autorest/azure/cli/v0.4.2...autorest/azure/auth/v0.5.8)

---
updated-dependencies:
- dependency-name: github.com/Azure/go-autorest/autorest/azure/auth
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump github.com/Azure/go-autorest/autorest

Bumps [github.com/Azure/go-autorest/autorest](https://github.com/Azure/go-autorest) from 0.11.19 to 0.11.21.
- [Release notes](https://github.com/Azure/go-autorest/releases)
- [Changelog](https://github.com/Azure/go-autorest/blob/master/CHANGELOG.md)
- [Commits](https://github.com/Azure/go-autorest/compare/autorest/v0.11.19...autorest/v0.11.21)

---
updated-dependencies:
- dependency-name: github.com/Azure/go-autorest/autorest
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Upgrade to Golang 1.16.12 and improve docker image creation speed
Split go mod download into different step
Remove unused arg from base_builder
fix: 🐛 Replace simple string.Contains match with regex

Use a more refined regex to match valid injectable secret names.

Argo Workflow passes a enviromnet variable with the workflow manifest in JSON, this was being picked up by string.contains match causing it to fail.

The regex match is a lot stricter only trying to replace enviroment variables that only have a injectable secret name.

refactor: ♻️ Compile the regex only once

Regex was being compiled every for loop instead of only once

refactor: ♻️ Use raw strings for regex

fix: 🐛 Correct condition

refactor: ♻️ Use for each instead of checking the len and getting 0 element

fix: 🐛 Correct regex to make ? optional

fix: 🐛 Correct return for akvsName
when generating a secret name fall back to the pod generated name if the pod name is not available
Update CRD from apiextensions.k8s.io/v1beta1 to apiextensions.k8s.io/v1
Upgrade alpine base image 3.15.4
Upgrade go 1.18.1
Fix misspell lint args to go source and markdown files
Fix typo in README.md
Fix typos
Remove unused code and variables
Fix ineffectual assigment to error
Fix typos in crd
Upgrade golangci-lint 1.45.2
Upgrade controller-gen to 0.8.0
Upgrade k8s dependencies v0.23.5

Upgrade k8s code-gen v0.23.5
re-generate clientsets
Upgrade azure-sdk v63.3 & other dependecies
Upgrade ci builder with go 1.18.1
Upgrade k8s-pkg-credentialprovider v1.22.4","The most notable changes in this release are:
Fallback to the Pod generated name when creating a secret for an unnamed pod
Use a more refined regex to match valid injectable secret names
Fixes correct RBAC Role vs ClusterRole when watchAllNamespaces is false SparebankenVest/public-helm-charts
Upgrade k8s client v0.23.5
Upgrade go 1.18
Upgrade alpine base image 3.15.6
Controller
Features
Upgrade k8s client v0.23.5
Upgrade go 1.18
Upgrade alpine base image 3.15.6
Bug Fixes
Fallback to the Pod generated name when creating a secret for an unnamed pod
Use a more refined regex to match valid injectable secret names
Helm Charts
Add priorityClassName spec to akv2k8s controller deployment SparebankenVest/public-helm-charts
Fixes correct RBAC Role vs ClusterRole when watchAllNamespaces is false SparebankenVest/public-helm-charts
Remove duplicate MTLS_PORT environment variable SparebankenVest/public-helm-charts
Upgrade PodDistributionBudget api version to v1 SparebankenVest/public-helm-charts
Update generated CRD
Chart and Image versions
Type
Component
Version
Helm Chart
Docker Image
spvest/azure-keyvault-controller
Docker Image
spvest/azure-keyvault-webhook
Docker Image
spvest/azure-keyvault-env"
"[CI Skip] release/stable 9.4.1

skip-checks: true
Bump deps ()
[CI Skip] bump/beta 9.4.2-0-x

skip-checks: true
Add autoconnect to ScProvider ()

* Add autoconnect to ScProvider

* Add autoconnect flag

* remove autoconnect solution and create resubscribe

* Satisfy lint

* Update packages/rpc-provider/src/substrate-connect/ScProvider.ts

Co-authored-by: Jaco <jacogr@gmail.com>

Co-authored-by: Jaco <jacogr@gmail.com>
[CI Skip] bump/beta 9.4.2-1-x

skip-checks: true
Deps ()
[CI Skip] bump/beta 9.4.2-2-x

skip-checks: true
Add resubscription delete on unsubscribe ()
[CI Skip] bump/beta 9.4.2-3-x

skip-checks: true
Bump metadata ()

* Bump metadata

* historyDepth as const

* bagsList rename

* CHANGELOG
[CI Skip] bump/beta 9.4.2-4-x

skip-checks: true
9.4.2 ()
[CI Skip] release/stable 9.4.2

skip-checks: true","Contributed:
Allow for re-subscriptions on ScProvider (Thanks to https://github.com/wirednkod)
Changes:
Align derives to cater for latest (& previous) Substrate interfaces
Update to latest Substrate, Polkadot & Kusama metadata"
"Update docs for 0.5.0 release
Add appveyor config

Hopefully correct. Turn off appveyor build and deploy steps.
Speed up builds on Appveyor; add pypy to Travis

To reduce the inflated number of versions we cover on Appveyor, remove a
number of the 32-bit builds. I don't think we care very much about that
element of the build matrix.
Specifically, remove all of the Python3 on 32-bit system builds. We'll
keep the 2.7 on 32-bit build so that we hit a 32 bit machine at some
point. py3 on a non-64-bit box is pretty unusual.

In another direction, it would be nice to have Travis capture pypy
status, even if it's in the `allow_failures` mode.

In both cases, parallel builds are a premium feature, so we're not
going to be able to build in parallel using CI features. We could do
parallel builds on a single executor, maybe, in the future.
Additionally, simplify the Appveyor config per direction given by
packaging.python.org ; requires the addition of build.cmd
Put default scopes into OAuth2 flow manager docs

Previously read ""commonly desired scopes for Globus"". However, that's
not specific enough, and not prescriptive for someone creating a client
definition. Just state the requested scopes explicitly, even if it means
repeating ourselves.

Closes
Fix lines which cause flake8 E211 on Windows

In a rare turn of events, flake8 is not consistent on *the same python
version* on different platforms. This is a pretty trivial fix for
whitespace errors.
Fix test issues with py3 on Windows

Now that python3 on Windows is running correctly, we're seeing new test
failures related to next() and bytes(). They're easy to fix, so let's
see if patching them up is sufficient.
Attempt to fix pypy install failure on Travis

Remove specification of the Trusty build environment: it's still in
beta, and likely the cause of this failure.
Clean files in .globus/sharing older than an hour. Also minor python 3 compatability changes
Pass ls params via arguments
Add ValueError catching to exc
Add BaseClient unit tests
Add ConfigParser unit tests
Add GlobusAPIError, GlobusTransferError, and GlobusOptionalDepencdencyError unit tests
Add GlobusResponse and GlobusHTTPResponse tests
Catch deleted .globus dir errors
Add AuthClient unit tests, add additional_params to oauth2_refresh_token(), several small framework changes.
Add AuthClient unit tests
Fixed url formation assumptions
Refactor AuthClient unit tests
Replaced NativeAppFlowManager with mock for unit testing
Add ConfidentialAppAuthClient unit tests and framework needed for them
Add NativeAppAuthClient unit tests
Add GlobusAuthorizationCodeFlowManager and GlobusNativeAppFlowManager unit tests
Add prefill_named_grant support

Closes
Bump version to 0.5.1
Rebuild docs for v0.5.1 release","Add support for the prefill_named_grant option to the Native App authorization flow ()
Unicode string improvements ()
Better handle unexpected error payloads ()"
"Bump version and changelog for release
[pre-commit.ci] pre-commit autoupdate ()

updates:
- [github.com/sirosen/check-jsonschema: 0.16.0 → 0.16.2](https://github.com/sirosen/check-jsonschema/compare/0.16.0...0.16.2)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
add guest collection creation example ()

* add guest collection creation example

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

* changelog

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
(actions) update PR references
[pre-commit.ci] pre-commit autoupdate ()

updates:
- [github.com/psf/black: 22.3.0 → 22.6.0](https://github.com/psf/black/compare/22.3.0...22.6.0)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Add 'setattr' to the lazy importer ()

Results in a ~2000x speedup for repeated attribute access on the
`globus_sdk` module object.
(actions) update PR references
Bump version and changelog for release","Add guest collection example script to docs ()
Use setattr in the lazy-importer. This makes attribute access after imports faster by several orders of magnitude. ()"
"[CI Skip] release/stable 8.6.1

skip-checks: true
LRU Sizing ()
[CI Skip] release/beta 8.6.2-0

skip-checks: true
Bump TS ()

* Bump TS

* Adjust

* Additional TS 4.7.2 fixes
[CI Skip] release/beta 8.6.2-1

skip-checks: true
8.6.2 ()
[CI Skip] release/stable 8.6.2

skip-checks: true","Changes:
Don't apply default to Option<bool> opt-in
Lower default historic LRU cache size (128 entries, 192MB est)
Cater for updates required by TS 4.7.2"
"chore: release v4.8.1 ()
fix(findAnswers): fix typing ()
fix(ts): don't require every attribute to be highlighted ()
chore: release v4.8.2 ()","fix(findAnswers): fix typing () (a935d88), closes
fix(ts): don't require every attribute to be highlighted () (4591d0e), closes"
"[CI Skip] release/stable 5.5.1

skip-checks: true
API health only with providers with subscriptions ()
[CI Skip] release/beta 5.5.2-0

skip-checks: true
Bump dev ()
[CI Skip] release/beta 5.5.2-1

skip-checks: true
Adjust ValidDisputeStatementKind enum ()
[CI Skip] release/stable 5.5.2

skip-checks: true","Upgrade priority: Medium. Contains fixes for parachain types, affecting historic block retrieval on Kusama.
Changes:
Adjust ValidDisputeStatementKind enum to latest version
Only enable API health keepalive on connections supporting subscriptions"
"[CI Skip] release/stable 10.12.5

skip-checks: true
10.12.6 ()
[CI Skip] release/stable 10.12.6

skip-checks: true","NOTE: Because of a broken CI build for 10.12.5 -> 10.12.6 is a replacement
Contributed:
chore: fix typos in error (Thanks to https://github.com/xiaoxianBoy)
Changes:
Upgrade westend types-known for 1009000
Add disableAscii option for toHuman, and toPrimitive
V14 Update substrate latest metadata
V15 Update substrate latest metadata
Bump yarn to 4.1.1
Add assetId getter field to to necessary ExtrinsicPayloads
Add Updated Runtime Defintions
ValidateStatement
MMRApi
Core v5
GenesisBuilder
MixnetApi"
"[CI Skip] release/stable 9.9.3

skip-checks: true
9.9.4 ()
[CI Skip] release/stable 9.9.4

skip-checks: true","Changes:
Fix dispatchQueue preimage retrieval in derives
No change from incorrectly published 9.9.3"
"[CI Skip] release/stable 10.2.1

skip-checks: true
Add repo dev req. for Node.js ()
[CI Skip] bump/beta 10.2.2-0-x

skip-checks: true
support manta author lookup ()

* support manta author lookup

* handle scenarios where queuedKeys is not of the expected type

* add catchError to imports

* should it be square?

* resolve combineLatest deprecation issue

* type safe nimbus author mappings

* precise var names

* remove reference to deprecated combineLatest

* stay simple, that's what works

* implicit type for session.validators

we don't want to change this aspect of the implementation

* clearer comments on the code paths

* explicit variable names
[CI Skip] bump/beta 10.2.2-1-x

skip-checks: true
Bump deps ()
[CI Skip] bump/beta 10.2.2-2-x

skip-checks: true
Bump deps ()
[CI Skip] bump/beta 10.2.2-3-x

skip-checks: true
Bump metadata ()
[CI Skip] bump/beta 10.2.2-4-x

skip-checks: true
10.2.2 ()
[CI Skip] release/stable 10.2.2

skip-checks: true","Contributed:
Support expanded Nimbus lookups to Collators (Thanks to https://github.com/grenade)
Changes:
Update to latest Polkadot, Kusama & Substrate metadata"
"[CI Skip] release/stable 6.0.2

skip-checks: true
Formatting for metadata documentation ()

* Formatting for metadata documentation

* unwrap
[CI Skip] release/beta 6.0.3-0

skip-checks: true
Share TypeSpec between registry instances ()

* Share TypeSpec between registry instances

* 6.0.3
[CI Skip] release/stable 6.0.3

skip-checks: true","Upgrade priority: Low. Recommended for all users on 6.0.2 using api.query.*.*.at calls
Changes:
Fix api.query.<module>.<method>.at queries
Adjust typegen formatting for metadata documentation"
"[CI Skip] release/stable 4.16.1

skip-checks: true
Correct `CompactAssignments` & `RawSolution` types for Polkadot ()

* Correct `CompactAssignments` & `RawSolution` types for Polkadot

* Default to Solution 16
[CI Skip] release/stable 4.16.2

skip-checks: true","Upgrade priority: Low. Recommended for Polkadot with runtime >= 9050.
Changes:
Correct CompactAssignments & RawSolution types for Polkadot"
"chore: release v4.14.0 ()

* chore: release v4.14.0

* Update CHANGELOG.md

* Update CHANGELOG.md

* Update CHANGELOG.md

Co-authored-by: Haroen Viaene <hello@haroen.me>
Co-authored-by: Clément Vannicatte <vannicattec@gmail.com>
fix(types): Updating searchoptions with explain attribute ()

* feat(client-search): Updating searchoptions type to include explain attribute

* feat(client-search): pr feedback
chore: release v4.14.1 ()

Co-authored-by: Haroen Viaene <hello@haroen.me>","fix(types): Updating searchoptions with explain attribute () (c46932e), closes"
"Squashed commit

Always execute migration 9999 (can be used to fix things manually)
Optimized meal plan navigation / date range filtering
Prepared next release
Pulled translations from Transifex
Various code optimizations
Optimized ""auto decimal separator for price inputs"" (references)
Typo
Updated README.md
Fixed duplicate barcode migration error (fixes)
Fixed that the calendar iCal export was broken when having ""Track date only"" chores (fixes)
Also note how to apply database migrations in ""How to update"" section

References and all the other same questions arising after each release multiple times
Fixed migration when having unsupported parent/child product nesting levels (fixes)
Fixed the bug where grocy would return ""Not a grocycode"" all the time ()
Added changelog for
Possible fix for the chore & battery dropdown clearing issue - ()

* Possible fix for the chore & battery dropdown clearing issue -

* Revert formatting changes -

Co-authored-by: Akos Pinter <akos.pinter@mhp.com>
Added changelog for
Extend REQUIRED_PHP_EXTENSIONS check about core extensions ()

* Extend Grocy REQUIRED_PHP_EXTENSIONS

After installing Grocy on FreeBSD, even with all extensions installed that are listed in REQUIRED_PHP_EXTENSIONS, Grocy still couldn't start. The added 3 PHP Extensions are also needed to run Grocy.

* Added note about core extensions

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Restore fixed order for grouped column (fixes)
Change PHP Dependency from >= to ^ ()

* Change PHP Dependency from >= to ^

* Remove name, description, license
Hide elements when printing ()

* Hide elements when printing

* Hide elements when printing

* Also hide the title menu collapse button

* Added a print button

All print-optimized pages have that

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for
fix: confirm grocycode is of PRODUCT type in GetProductIdFromBarcode ()

* fix: confirm grocycode is of PRODUCT type in GetProductIdFromBarcode

* Fixed formatting

* Don't output the given input (for security reasons)

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for
Fixed chore/battery camera barcode scanning blur event handling (fixes)
Restore the rest of ""orderFixed"" (DataTables rowgroup option) (again closes)
Don't consider inactive products to be missing (fixes)
Fixed FEATURE_FLAG_SHOPPINGLIST_MULTIPLE_LISTS clear shopping list confirm message handling (fixes)
Fixed Userfield value assignment handling (`/objects/{entity}` API endpoint) (fixes)
fix: make stockentry grocycodes consume the actual stock entry not the product in general ()

* fix: make stockentry grocycodes consume the actual stock entry not the product in general

if the stock_entry_id is in the request body use this instead of the stockentry grocycode
this may not be the correct way to interpret this but one of them has to win

* Undo formatting changes

* fix: add variable definition and reorder args used in ConsumeProduct

* Simplify

* Fix this also for transferring a product

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for
Fixed external barcode lookup (plugin) add product handling related to barcodes (fixes)
Revert ""Return numbers as numbers on all API endpoints"" (14cd6ca3bf1682ab5f398b744beb1c218bae5c51, fixes)
Pulled translations from Transifex
Updated dependencies
Fixed stock overview dynamic < min. stock amount background handling
Prepared next release","Fixed that the upgrade failed when having ""> 2 times duplicate"" (means the same barcode was added more than 2 times) product barcodes
Fixed that the upgrade failed when having unsupported parent/child product nesting levels
More information on this: Only 1 level is currently supported; creating > 1 level nestings was never possible via the UI/frontend, but not checked/enforced by the backend before v3.0.0 - so it was potentially possible via the API (or any third party app/tool which utilizes it) to create such a nesting which then made this upgrade to fail
Fixed that it was not possible to select a chore/battery on the corresponding tracking pages by mouse/touch
Fixed that grouping by columns in tables may caused duplicate groups
Fixed that grocycode camera barcode scanning didn't recognize the scanned code for chore/battery tracking
Fixed that when having any ""Track date only"" chore on the calendar, the iCal export was broken
Optimized the meal plan page to be properly printable (thanks @MrKrisKrisu)
API
The release before (v3.1.0) introduced that ""numbers are now returned as numbers"": This was reverted since it had unintended side effects (so all fields are technically strings now again, just like before - sorry for that)
Fixed that missing_products of the /stock/volatile endpoint also contained inactive products
Fixed that when having multiple Userfields for an entity, the /objects/{entity} endpoint returned wrong Userfield values
Fixed that the /stock/products/by-barcode/{barcode}/consume and /stock/products/by-barcode/{barcode}/transfer endpoints haven't used the stock entry given by a stock entry grocycode (thanks @lowlee for the initial work on this)
Fixed that the ""Stock by-barcode"" API routes were broken for normal barcodes (only grocycodes were accepted) (thanks @larsverp)
Fixed that the ""Stock by-barcode"" API routes also accepted chore or battery grocycodes (thanks @lowlee)"
"v5.2.0
Airlift `updatePathsForAddon` from the blueprints package

(cherry picked from commit 75f589eb9e5cac83ba5938b7dca4bb0f0090c555)
Remove assumption of `ember-cli-typescript-blueprints` from docs

(cherry picked from commit e3d1227503090dbebae7c255e6f77e864e4ea9d8)
Remove `ember-cli-typescript-blueprints` from devDeps

(cherry picked from commit f929bfbbe8ef2d3aafec3db9a89690d880b5486b)
Always use local e-c-ts, regardless of transitive dependencies

(cherry picked from commit be7b567d44e14a89e3343625d45eeaedd66a7708)
v5.2.1","Fixed
Add back missing function expected from ember-cli-typescript-blueprints, (@dfreeman)"
"v1.3.0
Don't require TypeScript before we've installed it
Anchor watcher ignore patterns at the project root
CHANGELOG entry for 1.3.1.
v1.3.1","What Changed?
Fixed
No longer requires TypeScript before it has been installed.
Properly ignore the root across platforms.
Upgrading
ember install ember-cli-typescript@latest
Please open an issue with ""1.3.1"" in the title if you have any new errors!
Contributors
Thanks to everyone who opened an issue we fixed or PR we merged in this release!
Dan Freeman (@dfreeman)
Bill Heaton (@pixelhandler)
James Alexander Rosen (@jamesarosen)"
"Bump to v0.49.1

Signed-off-by: Miloslav Trmač <mitr@redhat.com>
Use an alternative CNI lock for read-only config dirs

When the configuration directory is on a read-only filesystem,
there's no risk of concurrency issues as there's no possibility
of changing anything. As such, while it prevents the use of our
default lock location, it also removes any need for a lock at
all.

Making the lock entirely optional is a lot of code, so instead of
doing that let's just put it in our temporary files directory,
where it can't hurt anything.

Signed-off-by: Matthew Heon <mheon@redhat.com>
Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
GHA: Use golang 1.18 + run in verbose mode

Signed-off-by: Chris Evich <cevich@redhat.com>
Fix spelling mistakes and codespell

[NO NEW TESTS NEEDED]

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
Add volume plugin timeout to containers.conf

Backported to v0.49 branch for Podman v4.2.0 per RHBZ 2080458

Signed-off-by: Matthew Heon <matthew.heon@pm.me>
Bump to v0.49.2

Signed-off-by: Matthew Heon <mheon@redhat.com>","Use an alternative CNI lock for read-only config dirs
Fix spelling mistakes and codespell
Add volume plugin timeout to containers.conf"
"Bump to v0.1.2

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Move to v0.1.3-dev

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Fix a couple of defaults

The default alternative path for seccomp.json should be /etc/containers/seccomp.json

The DefaultNetwork in network config should be bridge

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Stop validating networkconfig by default

This is causing issues in rootless and remote mode.  We should not be creating
directories on the fly.
Also stop exporting functions that are not used by Buildah and Podman.

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Bump to v0.1.3

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>","Stop validating networkconfig by default
The default alternative path for seccomp.json should be /etc/containers/seccomp.json
The DefaultNetwork in network config should be bridge"
"optional VolumeAttachments check

Watching all VolumeAttachments in the cluster even when the CSI driver
itself doesn't support attach/detach causes unnecessary overhead. It
is now automatically enabled if and only if the driver reports the
PUBLISH_UNPUBLISH_VOLUME controller capability.

Checking the capability is better than checking the ""skip attach"" flag
in the CSIDriver object because the capability is readily available
and constant. It also has the advantage that the watch is disabled for
drivers like csi-host-path-driver which do not support attach/detach
but don't use ""skip attach"" (for whatever reason).

(cherry picked from commit c53bc294019b45a31be29743d39a43b0df3bd110)
release notes for 2.0.2","Overall status
GA
Supported CSI spec versions
Minimum Kubernetes version
Recommended Kubernetes version
1.19: For capacity reporting alpha
1.18: For cloning GA
Container
docker pull registry.k8s.io/sig-storage/csi-provisioner:v2.0.2
Deprecations
All external-provisioner versions < 1.4.0 are deprecated and will stop functioning in Kubernetes v1.20. See and k/k for more details. Upgrade your external-provisioner to v1.4+ before Kubernetes v1.20.
Feature status
Feature
Status
Default
Description
Provisioner Feature Gate Required
Snapshots
Beta
On
Snapshots and Restore.
No
CSIMigration
Beta
On
Migrating in-tree volume plugins to CSI.
No
CSIStorageCapacity
Alpha
Off
Publish capacity information for the Kubernetes scheduler.
No
Full Changelog"
"Upgrade csi-lib-utils to 0.7.1
Add change log for 1.6.1 release
Update v1.6.1 changelog","Overall status
GA
Supported CSI spec versions
Minimum Kubernetes version
Recommended Kubernetes version
1.18: For cloning GA
1.17: For Topology GA, and CSIMigration and restore from snapshots beta features
1.16: For cloning beta feature
1.15: For CSIMigration alpha feature
1.14: For lease-based leader election and Topology feature
Container
docker pull k8s.gcr.io/sig-storage/csi-provisioner:v1.6.1
Deprecations
All external-provisioner versions < 1.4.0 are deprecated and will stop functioning in Kubernetes v1.20. See and k/k for more details. Upgrade your external-provisioner to v1.4+ before Kubernetes v1.20.
There are many other deprecations, please see the full changelog
Feature status
Feature
Status
Default
Description
Provisioner Feature Gate Required
Snapshots
Beta
On
Snapshots and Restore.
No
CSIMigration
Beta
On
Migrating in-tree volume plugins to CSI.
No
Full Changelog"
"Bump to v0.26.0

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Move to v0.26.1-dev

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Bump github.com/spf13/cobra from 1.0.0 to 1.1.0

Bumps [github.com/spf13/cobra](https://github.com/spf13/cobra) from 1.0.0 to 1.1.0.
- [Release notes](https://github.com/spf13/cobra/releases)
- [Changelog](https://github.com/spf13/cobra/blob/master/CHANGELOG.md)
- [Commits](https://github.com/spf13/cobra/compare/v1.0.0...v1.1.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Bump github.com/spf13/cobra from 1.1.0 to 1.1.1

Bumps [github.com/spf13/cobra](https://github.com/spf13/cobra) from 1.1.0 to 1.1.1.
- [Release notes](https://github.com/spf13/cobra/releases)
- [Changelog](https://github.com/spf13/cobra/blob/master/CHANGELOG.md)
- [Commits](https://github.com/spf13/cobra/compare/v1.1.0...v1.1.1)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Bump github.com/containers/storage from 1.23.5 to 1.23.6

Bumps [github.com/containers/storage](https://github.com/containers/storage) from 1.23.5 to 1.23.6.
- [Release notes](https://github.com/containers/storage/releases)
- [Changelog](https://github.com/containers/storage/blob/master/docs/containers-storage-changes.md)
- [Commits](https://github.com/containers/storage/compare/v1.23.5...v1.23.6)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Add time64 syscalls to seccomp.json

12 new syscalls have been added for handling 64 bit time.
These syscalls are breaking containers on newer kernels.

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Fix --format corner cases

* Always Normalize --format value
* Additionaly fixed case where {{range}} with embedded \n caused
  double \n\n on output
* Updated tests to cover these cases

Signed-off-by: Jhon Honce <jhonce@redhat.com>
Bump to v0.26.1

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>","Fix --format corner cases in pkg/format
* Always Normalize --format value
* Additionaly fixed case where {{range}} with embedded \n caused
double \n\n on output
* Updated tests to cover these cases
Add timer64 syscall support to pkg/seccomp"
"v1.0.5
Upgrade to broccoli-typescript-compiler@2.1.1.
Add ember-cli-update.
Upgrade Ember from 2.13.3 to 2.17.1.
Add `'use strict';` to support Node 4 with ember-try.
Just bump to Node 6, to match our Windows support.
Use yarn in ember-try.
v1.0.6","What's new?
Integrate broccoli-typescript-compiler 2.1.1, for proper support for TS 2.6. This should make your build properly respect things like // @ts-ignore special comments.
Upgrading
Run the install command again:
$ ember install ember-cli-typescript@1.0.6
This will run the generators again, so you should review the changes before committing. If you've made specific customizations to your tsconfig.json, you'll need to merge them; see the Notes on tsconfig.json in the README."
"v1.1.6
fix: clean up system temp directory when running.

While the system temp directory gets cleaned up semi-regularly,
on long-running machines (e.g. CI servers), it is possible for
the PID to get reused before the system temp directory gets
cleared. When this happens, the temp directory we create as an
intermediate location for TypeScript build artifacts (to prevent
churn in the build) can end up being used for multiple builds,
even across separate apps. This can result in very bad output
from the build, including total runtime failures from things like
`require` entries including files from different builds or apps.

Prevent this by always running `fs.removeSync` on the temp output
directory prior to setting it and putting new output there.

Fixes.
v1.1.7","What changed?
Fixed
We now correctly clean up the system temp directory we create during builds.
Upgrading
ember install ember-cli-typescript@1.1.7"
"Bump c/common to v0.59.0

As the title says.  Bumping to v0.59.0 in preparation
of Podman v5.1

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[v0.59.0] Bump c/common to v0.59.1-dev

Bump the version to the initial dev for the new c/common
v0.59 release branch.

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[skip-ci] Packit/RPM: more fixes

Packit failed to trigger an automatic fedora package update on the
upstream release v0.59.0 which brought to light further issues which
this commit corrects.

Packit doesn't honor a global `downstream_package_name` key when the
upstream repo and downstream package name don't match. For this very
repo, upstream repo is `common`, while downstream package is
`containers-common`. For such cases, `downstream_package_name`
should be specified at the package level.

The `Source0` URL in rpm spec has also been corrected. This wasn't noticed
in packit jobs on PRs because packit replaces Source0 with a locally
created archive.

The `mv` commands in rpm spec have also been replaced by `cp` so that
consecutive `rpmbuild` runs will not complain about not finding the
source files.

The autosetup step in rpm spec has also been updated to the correct
untarred archive name format.

Misc cleanup includes removal of `update_release: false` from downstream
jobs. It's meaningless in those jobs. Even for copr jobs, we should
prefer packit's default behavior of `update_release: true`.

Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
(cherry picked from commit 3c9661748b1423a20d9e8f3e6a2fb9bb32996634)
Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
[skip-ci] RPM: ensure config files are patched

This commit copies over shortnames.conf, registries.conf
and storage.conf to the rpm build dir before running the patching
script.

Prior to this, the script would complain about not finding those files
but the rpmbuild process itself didn't fail.

Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
(cherry picked from commit 06a4eef094ad34bd3e88c641aac0ddbe93ba45c4)
Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
[skip-ci] RPM: own dirs

The rpm creates and installs to dirs /usr/share/rhel and
/usr/lib/containers . So, it should own them as well.

Resolves: https://bugzilla.redhat.com/show_bug.cgi?id=2283290

Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
(cherry picked from commit c7070a9ba2f725f4b044806ddb7f844aaa0324fd)
Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
fix outdated firewall_driver docs

nftables was implemented for netavark v1.10

Signed-off-by: Paul Holzinger <pholzing@redhat.com>
libnetwork: fix rexec env check for rootlessnetns

For some unknown reason the podman container image sets the
_CONTAINERS_USERNS_CONFIGURED env to an empty value. I don't know what
the purpose of this is but is will trigger the check here which is wrong
when the container is privileged.

To fix this check that the value is set to done like it is by the reexec
logic. Also make sure the lock dir uses the same condition to stay
consistent.

Fixes containers/podman

Signed-off-by: Paul Holzinger <pholzing@redhat.com>
libimage/manifests.list.Add(): preserve artifactType when all=true

When asked to add all of the entries from one index to another, don't
forget to carry over the artifactType.

Signed-off-by: Nalin Dahyabhai <nalin@redhat.com>
fix windows config path regression

The path no longer included the path separator between the env and our
config dir. The regression was added in commit 6c651dfac1.

Fixes

Signed-off-by: Paul Holzinger <pholzing@redhat.com>
[v0.59] Bump to v0.59.1

As the title says.  In preparation for Podman v5.1.1

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>","What's Changed
[v0.59.0] Bump c/common to v0.59.1-dev by @TomSweeneyRedHat in
[v0.59 backport] [skip-ci] Packit/RPM: more fixes by @lsm5 in
[v0.59 backport] [skip-ci] RPM: ensure config files are patched by @lsm5 in
[v0.59 backport] [skip-ci] RPM: own dirs by @lsm5 in
[v0.59] more backports by @Luap99 in
Full Changelog: v0.59.0...v0.59.1"
"workaround
bump version to 0.2.3
bump version to 0.2.4","First release candidate of BeakerX., available with pip.
See the README."
"version 0.21.0
add requests new python dep to Docker base
update binder links
fix foldout font size ()
fix spark progress in lab missing curved corner ()

* fix spark progress in lab missing curved corner

* spark status minimum width ()
- fix for passing context json as process parameter on windows ()
fix CodeCells not working in Lab ()

* fix CodeCells not working in Lab

* yarn.lock
data frame serialization for python autotranslation ()
fix vertical jumping during maven download ()
: fix stacktrace on exit ()
spark ui command connect changed to start, updated notebook description ()
spark status minimum width ()

* fix spark progress in lab missing curved corner

* spark status minimum width

* fix
add image cell renderer ()
changed error message for missing property in beakerx object ()
fix output font in lab ()
fix for autotranslation comm not found error in python magic kernel ()
workaround for
version 0.21.1","This is a beta release with 40 issues closed since 0.20.1.
The highlight of this release is general autotranslation, working between all of BeakerX's languages.
Compared to 0.21.0 this release has:
Fix JS console error on setting beakerx property with %%python magic,
Fix fixed with font in Jupyter Lab,
Improve error message for undefined beakerx property,
Add image format to tables,
Spark status indicators have minimum width to avoid horizontal shifting,
Change spark magic autostart option from -c to -s.
Fix stack trace on exit after using %%python magic,
Fix vertical shifting during maven download,
Autotranslation of Scala structured data,
Fix getCodeCells in Lab,
Fix autotranslation on Windows.
Also included in 0.21.0 are:
Support millisecond and nanosecond formats for dates and date-times in tables,
Truncate tables cells at 1000 chars for all types, not just strings,
By default integers in tables are not formatted,
Fix column drag-n-drop with index column present,
Fix table menu remaining open on blur,
Python table actions define event details,
implement Python plot actions,
Polish Spark UI,
Document widget styling,
Fix Spark UI on Windows,
Fix Spark status toolbar indicator with multiple notebooks in Jupyter Lab, and
Add default imports for MIME types in Scala.
Available via pip, conda, and docker. See the home page."
"Release 1.25.0 ()
hetzner: Generate CCM args from external CCM config
Run hack/update-expected.sh
Run `make crds`
Update dependencies
Avoid spurious changes with bastion hosts due to user data
Run hack/update-expected.sh
Avoid spurious changes with NLB due to access log config
Run hack/update-expected.sh
Add --network-id alias for --vpc flag
cluster-autoscaler : Add iam permission autoscaling:DescribeScalingActivities needed since 1.24 version
Set higher verbosity when logging Gossip DNS info
Validate `--zones` flag earlier
hetzner: Fix metrics-server config to use internal IP
Add create cluster test for arm64
When using kops create, set the provided machinetype in the written IG spec
Nil clouds use amd64
Add test confirming json merge behavior
Add docs to kubelet and masterkubelet making it explicit control plane does not use spec.kubelet
Fix json merge behavior so IG kubelet config takes precedence

Update upup/pkg/fi/cloudup/populate_instancegroup_spec.go

Co-authored-by: Ciprian Hacman <ciprian@hakman.dev>
Fix stringSliceEqual function when strings are out of order
Release 1.25.1 ()","What's Changed
Automated cherry pick of: hetzner: Generate CCM args from external CCM config by @hakman in
Update dependencies for kOps 1.25 by @hakman in
Automated cherry pick of: Avoid spurious changes with NLB due to access log config by @hakman in
Add --network-id alias for --vpc flag by @hakman in
Automated cherry pick of: Avoid spurious changes with bastion hosts due to user by @hakman in
Automated cherry pick of: cluster-autoscaler : Add iam permission by @olemarkus in
Automated cherry pick of: Validate --zones flag earlier by @hakman in
Automated cherry pick of: hetzner: Fix metrics-server config to use internal IP by @hakman in
Automated cherry pick of: Set higher verbosity when logging Gossip DNS info by @hakman in
Automated cherry pick of: Add create cluster test for arm64 by @olemarkus in
Automated cherry pick of: Ensure kubelet configuration from IG takes precedence by @hakman in
Release 1.25.1 by @hakman in
Full Changelog: v1.25.0...v1.25.1"
"Make `j` capable of switching type order
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Make `Ġ` nicer on strings
Only switch when not having two lists
Update elements.yaml
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Add `⋎` for version flag
Version 2.21.5","What's Changed
Make j capable of switching type order by @lyxal in
Update ↔ so it doesn't return a list of chars when given a string by @lyxal in
Make Ġ nicer on strings by returning a list of strings instead of list of lists of characters by @lyxal in
Add command for basic parsing of HTML using BeautifulSoup by @PlaceReporter99 in
Add ⋎ for version flag by @lyxal in
Full Changelog: v2.21.4...v2.21.5"
"fixed bug with deltas
I added a fancy extension to vs code
Black is cool
isort is also cool
Move code into a package ()

* move stuff into a package

TODO: update all the imports to reflect this, of course!

* update import statements to reflect packaged-ness

* fix broken import in words.py
fixed another improting buvcj
Move factorials into separate module, correst spelling of 'bifurcate'
Frickety frack I broke my back
checks not even but odd
Update elements.md
Update elements.txt
Update elements.md
Fix
Fix
bug fix with mapping

Idk what happened. but something really wasn't yes.
fixed a really stupid bug
maybe this makes the build pass...
implement

also:

- made molding great again
- fixed an issue with one-element modifiers
- deleted a few legacy files
Pull functions and global variables out of interpreter ()

* Pull functions and global variables out of interpreter

* Fix circular import in globals and utilities

* Import _safe_apply in parser

* Fix imports and all tests but fizzbuzz

* Put globals back into vyxal.interpreter

* Try decreasing conflicts

* Format changed files

* Try to resolve conflicts

* Use vy_reduce instead of VY_reduce

* Added deep_vectorise
a few little things

I might leave deep vectorise out of the mix for now while we figure out the code cleanup.

I'll add it back in one day when it's suitable to do so
fantastic
Update test_basic.py
because yes
added … flag
Oops
fix issue with `⁺`
fantastic

stupid rename not doing the capitlais prop[erly
and just like that, strings are good
man frick pylint
Fix tests
Make Generator a decorator
Fixed some stuff pointed out by flake8
change readme (mostly testing the webhook) ()

* Fix repository link to Vyxal/Vyxal

The redirect from Lyxal/Vyxal still works, but it is better to point directly to the real repository location.

and a bunch of other useless changes cuz I was testing things
back at it with the testing ()
Extract globals into separate file ()

* Extracted globals, nearly got FizzBuzz working

* Got globals working

* Format code

* Fixed imports after PyCharm messed them up
variables, for some reason, were not yes

but I made them yes.
this is mostly to test the webhooks - hello everyone in the chatroom
Fix, I hope
Nowhere near done, but...
Dosh poggers
Fix
diddly darn vectorisation.

so sad.
fix a little bug
sometimes you might want `y` to be a vowel.
me when new constants (hello hyper)","The code? cleaner
Vectorisation? maybe but probably
Generators? hopefully
Constnats? very epic and cool
The repo? Now an organisation
Bugs? gone
Hotel? Trivago"
"Fix a little issue with `make_expression` and uncomment tests for some math stuff
Make ¨U work NOT online but offline

<insert disapproving lenny face here>
Version 2.18.1","What's Changed
Make ¨U work NOT online but offline by @lyxal in
Fix a little issue with make_expression and uncomment tests for some math stuff by @lyxal in
Full Changelog: v2.18.0...v2.18.1"
"Version 2.21.5
Friendship with tomllib ended. We using importlib.metadata now
[pre-commit.ci] pre-commit autoupdate

updates:
- [github.com/psf/black: 23.3.0 → 23.7.0](https://github.com/psf/black/compare/23.3.0...23.7.0)
add function in helpers.py to hook to element
hook helper function fron_base_list to the element
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Add element to parse string using alphabet
Add (str, list) overload to the from_base element
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Update elements.yaml
fix a whoopsie in the yaml
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Create refresh to refresh test

Yea a test is taking too long.
You need to fix this

The check doesn’t normally take 1h 44m
fix the test
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
I found the problem

I forgot to break
fix from_base_list

I had to resort to having tuples containing the index of the item.
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
try again

this should fix it
I MADE A BIG MISTAKE

i forgot to reverse the list xd
Update the auto-type switching to not switch on (str, lst)
Somebody forgot a ctx in their function call
Add hash elememt (SHA256)
Add SHA256 element test and explanation
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Implement @ysthakur's suggestion
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Oh wait I'm supposed to fill that in
Update vyxal/elements.py
Update pyproject.toml","What's Changed
Make β work with lists by @PlaceReporter99 in
Fix a bug with the version flag by @lyxal in
Add element to parse string using alphabet by @PlaceReporter99 (accidentally attributed to Lyxal by github) in
Add SHA256 hash function by @PlaceReporter99 in
Full Changelog: v2.21.5...v2.21.6"
"Remove duplicated functions

Found by using LGTM
Remove blank lines after docstring
Make sorting 0 work

Closes
Make some online interpreter autocompletes work properly
Make divmod work when rhs is 0
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Allow closing multiple structures at once

This also means that, let's say you have two if statements open, [[, then if you don't have a while loop open, } will close all open structures. (Or even if you do have a while loop open on the top level.)
Update elements.yaml
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
Make `vy_floor` work properly with strings.

Closes

Frick you sympy.
Make pushing numbers work right

So apparently we changed vy_floor but not the thing that actually pushes numbers
Change it everywhere else too
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
big brained the transpiler test
Version 2.15. 1","What's Changed
øḋ (to float string) now vectorises on lists thanks to @lyxal ()
ḋ (divmod) works when dividing by 0 thanks to @lyxal ()
Sorting 0 now works thanks to @lyxal ()
Parsing an integer from a string now works in all cases thanks to @lyxal ()
Also, sympy's nsimplify function transforms a python value into a sympy value. You'd expect it to transform a string representing an integer into a sympy value representing that integer, right?
Wrong.
>>> sympy.nsimplify('4678')
And yes, that does resolve to 4678, but why sympy does this I have no idea.
Anyway, using rational=True seems to solve the problem (we hope). Fixing the last of the previous list exposed many new bugs - things also using sympy.nsimplify on strings. @lyxal went through and patched all of these ()
New stuff
You can now close multiple structures at once! Stuff like ƛ[3|5]; no longer requires the closing ], as the closing delimiters ])}; close structures up to and including the one they match. For example, with 5(ƛ[3|5; the ; closes the [ and the ƛ, but not the ( as it's reached ƛ which it matches.
Thanks to  @Steffan153 for this ()
Online interpreter
Some autocompletes now work correctly thanks to @lyxal ()
Full Changelog: v2.15.0...v2.15.1"
