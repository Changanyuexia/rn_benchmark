commits,release
"Version bump (0.15.7)
Fixed prefetch_login unhandled exception
Do not sync on non-owner profile
Fixed UnicodeEncodeError when UpNext sending play_callback

The error occurred only when using UpNext addon from the Kodi library
with tvshows that had special chars on title

2019-10-29 08:24:34.543 T:3766571904   ERROR: EXCEPTION Thrown
(PythonToCppException) : -->Python callback/script returned the following error<--
- NOTE: IGNORING THIS CAN LEAD TO MEMORY LEAKS!
Error Type: <type 'exceptions.UnicodeEncodeError'>
Error Contents: 'ascii' codec can't encode character u'\xf3' in position 81: ordinal not in range(128)
Traceback (most recent call last):
File ""/storage/.kodi/addons/script.module.addon.signals/lib/AddonSignals.py"", line 52, in onNotification
self._slots[sender][signal](_decodeData(data))
File ""/storage/.kodi/addons/plugin.video.netflix/resources/lib/services/nfsession/nfsession.py"", line 533, in play_callback
common.play_media(data['play_path'])
File ""/storage/.kodi/addons/plugin.video.netflix/resources/lib/common/kodiops.py"", line 120, in play_media
xbmc.executebuiltin('PlayMedia({})'.format(media))
UnicodeEncodeError: 'ascii' codec can't encode character u'\xf3' in position 81: ordinal not in range(128)
Updated german translation ()

* Updated german translation
Fixed problem of non working cookies

it seems that the cause is due to website updates, because the cookies
have not expired and apparently there are no other factors that
determine invalidity
Version bump (0.15.8)","Fixed addon open issue caused to a broken cookies
Updated de translations
Fixed an issue that cause UpNext sometimes to fail
Minor fixes"
"Version bump (0.16.3)
Added is_debug_verbose
Fixed wrong mpd seconds strings
Use notification_offset for upnext
Changed upnext default behaviour
Cleanups
Manage caches from the service individually

-avoids possible cache locks due to improper use of cache buckets
-makes it possible to use cache within the service even if it does not contain the data used by the frontend cache
Load the manifest from cache
Add Up Next install option and fixed labels
Updated italian translation
Revert ""Removed html parser from profile name""

This reverts commit 95a347bb65ec27abe0258941b25d5502702ffb3d.
Check if the user id token is still valid
Fixed strm resume workaround
Fixed error on py3 due to wrong decode
Added get methods for infolabels info
Added runtime info to Up Next
Reset user id token after an handshake
Czech language ()

* Czech language

Translated into Czech language

* Update strings.po
Added czech language to video content
Dropped no longer maintained languages
Fixed czech translation
Updated german translation for v.0.16.4 (see) ()
Added debug option to always show codec info on playback

*reused an unused id language
Moved debug settings to the right position
Updated es translation
Added ""because you liked"" to raccomendations menu
Removed kodi-addon-checker requirement

after the new release of xmlschema to 1.1.0
cause errors to building wheel in Travis CI
on Python 2.7 enviroment
Updated german translation for v.0.16.4 (see) ()
Update czech language ()

* Update czech language

Added czech translation ....

* Update czech language

Added czech translation ....

* Update strings.po
Updated ESN generator

on android now is mandatory append the widewine uuid system identifier
Update addon.xml ()

* Update czech language

Added czech translation ....

* Update czech language

Added czech translation ....

* Update strings.po

* Update addon.xml

Add czech plugin description....
Version bump (0.16.4)","Up Next is now supported only from version 1.1.0 and up
Added czech language
Added ""because you liked"" to recommendations menu
Added Up Next install option
Implemented Up Next feature, end time information
Implemented Up Next feature, fast start next video
Fixed the error ""Request failed validation during key exchange""
Fixed an issue that causing opening Up Next notification in wrong position
Fixed html tags in profiles names
Fixed STRM files resume workaround
Fixed retrieving infolabels from library on python 3
Managed user id token key expiration
Manifest is saved to hdd with enabled verbose debugging only
Updated de, es, hu, it translations
Some minor changes, fixes"
"ASD-943 - Add estimated order amount to button render/updates, remove
decoupled render/checkout
Fix phpcs warnings
Version bump to 5.14.1 and update changelog","Changed how buttons are rendered for compatibility with estimated order amount feature
Removed estimated order amount from PDP button"
"Include error in log output if one occurs during move
Fix permissions not being checked correctly for admins","Fixed
Fixes SFTP authentication failing for administrative users due to a permissions adjustment on the Panel.
SHA256 Checksum"
"Update README.md
backups(s3): send uploaded parts in complete request
Update FUNDING.yml
ci: pin go-version to 1.18.7
Add configuration for trusted proxies ()
docker: add configuration for user namespace remapping ()
go: update minimum to 1.18, update dependencies ()
server(transfers): track progress of archive creation and extraction ()
docker: use go1.18
Update CHANGELOG.md","Fixed
The S3 backup driver now supports Cloudflare R2
Added
During a server transfer, there is a new ""Archiving"" status that outputs the progress of creating the server transfer archive.
Adds a configuration option to control the list of trusted proxies that can be used to determine the client IP address.
Adds a configuration option to control the Docker user namespace setting when Wings creates containers.
Changed
Releases are now built using Go 1.18 — the minimum version required to build Wings is now Go 1.18.
SHA256 Checksum"
"ASD-755 - if no phone number is provided, use ""0"" to satisfy Amazon API
ASD-755 - also remove fields from address if they are a single dash ""-""
Version bump to 5.7.1 and add to changelog","Fixed issue when phone number not required and entered in Magento
Updated API calls to take in a masked cart ID so they can be used without relying on Magento sessions
Updated logging to sanitize some data"
"Update CHANGELOG.md
Bump PID limit to 512 by default","Changed
Upped the process limit for a container from 256 to 512 in order to address edge-cases for some games that spawn a lot of processes.
SHA256 Checksum"
"Fixed memory leak in CombinedCancellationToken ()
Fix typos ()
Make implicit nullable types explicit ()
Remove ignore-platform-req and extend PHP versions
Avoid psalm phar

psalm phar is only compatible with ^7.1, while the source version is compatible with ^7.1|^8 for some reason.
Fix PsalmTest and skip it on newer versions

There are parse errors, likely caused by the old version of psalm.
Skip PsalmTest also on older versions
Fix optional before required parameter deprecation","What's Changed
Fix typos by @krsriq in
Make implicit nullable types explicit by @nicolas-grekas in
New Contributors
@krsriq made their first contribution in
@nicolas-grekas made their first contribution in
Full Changelog: v2.6.2...v2.6.3"
"Use `_rewriting_take` and `_chunk_iter` path during `__getitem__` and `__iter__` respectively when the Array is fully replicated

For example:

```
k1, k2 = jax.random.split(key, 2) # where key is fully replicated on 8 devices
```

Then `k1` and `k2` should also maintain the sharding of `key` since `key` is fully replicated.

PiperOrigin-RevId: 480434272
Port more tests from jtu.cases_from_list to jtu.sample_product.
Update version.py, setup.py and CHANGELOG post jax 0.3.22 release
Update Colab TPU driver version
Reenable some tests disabled in the past because of an LLVM bug.

The issue no longer reproduces at head.

PiperOrigin-RevId: 480505525","Changes
Update Colab TPU driver version for new jaxlib release."
"[sparse] validate BCOO on instantiation
Remove the cached check in aot compiled call in MeshExecutable because a fast C++ dispatch path exists. This leads to a better error message which contains the shape and arg value.

PiperOrigin-RevId: 494815311
Finish jax and jaxlib release 0.4.0

PiperOrigin-RevId: 494833878
Remove the specialized sm versions for testing. It caused release wheels to ship without correct sm versions compiled in.

PiperOrigin-RevId: 494854373
Update CHANGELOG to indicate that 0.4.0 was yanked.

PiperOrigin-RevId: 494868884
Update values for release 0.4.1

PiperOrigin-RevId: 494889744","Changes
Support for Python 3.7 has been dropped, in accordance with JAX's
{ref}version-support-policy.
The behavior of XLA_PYTHON_CLIENT_MEM_FRACTION=.XX has been changed to allocate XX% of
the total GPU memory instead of the previous behavior of using currently available GPU memory
to calculate preallocation. Please refer to
GPU memory allocation for
more details.
The deprecated method .block_host_until_ready() has been removed. Use
.block_until_ready() instead."
"Move `array.py` and `sharding.py` from `experimental/` to `_src/`.

PiperOrigin-RevId: 477201711
Update version and changelog for jax 0.3.19 release
setup: bundle *.pyi files with distribution
Disintegrate `Array` into DeviceBuffers inside GDA. This is required for backwards compatibility changes as users can create GDAs and pass that to pjit even when Array is switched on.

PiperOrigin-RevId: 477297406
Add `addressable_` counterparts of `local_` to GDA to make it easier for users to move to Array as both will have the same API.

PiperOrigin-RevId: 477332697
Fix the bug where XLA doesn't provide shardings for all the outputs if all the elements in the output tuple have the same sharding. XLA decides to run the `FusionTupleDeduplicator` to put the sharding on ROOT instead of the tuple.

PiperOrigin-RevId: 477343328
[c++ jit] only set use_fastpath in cache_miss if all args are DeviceArrays

fixes

Co-authored-by: Peter Hawkins <phawkins@google.com>
Co-authored-by: Kuangyuan Chen <chky@google.com>
Propagate `name` through ExecuteReplicated for `dispatch.check_special`

PiperOrigin-RevId: 477351323
Make addressable_shards a property like local_shards

PiperOrigin-RevId: 477358276
Fix test failure in GPU CI if NCCL_DEBUG is enabled.

If NCCL_DEBUG is enabled, NCCL prints extra status information. Make
test accept this.
jax/jaxlib 0.3.20 release candidate.
Disable multiprocess_gpu_test that fails on ROCm.","Notable changes:
Adds missing .pyi files that were missing from the previous release ().
Fixes an incompatibility between jax 0.3.19 and the libtpu version it pinned (). Requires jaxlib 0.3.20.
Fix incorrect pip url in setup.py comment ()."
"Polish
Case pattern marshaled into Case Expressions ()

Co-authored-by: Tyler Van Gorder <tkvangorder@users.noreply.github.com>
FindImports getVisitor public visibility
Fix the JavaTemplate AnnotationTemplateGenerator so that MethodDeclaration and VariableDeclaration annotations are templated correctly. ()
Break apart recipe and take advantage of new markup syntax ()
Added normalizeName to VariableNameUtils.
Added variable name normalization to ReplaceDuplicateStringLiterals.
fixes
Insert the replaced string literal after the J.EnumValueSet in ReplaceDuplicateStringLiterals.
fixes
Revert support for duplicate string literals on enums in ReplaceDuplicateStringLiterals until JavaTemplate is fixed.
Replace duplicate String literals of enums in ReplaceDuplicateStringLiterals without JavaTemplate.
Use MavenSettings and activeProfiles set when an AST is parsed to subsequently resolve dependencies in recipes / fixes","What's Changed
Maven recipe running will now use the effective MavenSettings and active profiles that existed at parsing time.
Case pattern marshaled into Case Expressions by @tkvangorder in
Fix the JavaTemplate AnnotationTemplateGenerator so that MethodDeclar… by @pway99 in
Break apart recipe and take advantage of new markup syntax by @shanman190 in
Full Changelog: v7.32.0...v7.32.1"
"Version bump (1.23.2) ()
[access] fix react context data paths
[msl_utils] Updated manifest endpoint
[session] updated page to get email

its backward compatible with old account interface
[infolabels] workaround for missing arts

Recently request paths data for images such as: boxarts, interestingMoment,
artWorkByType, storyArt

sometime website dont return the data
hoping this in future will be fixed on website
we request also itemSummary data to get the boxArt value as fallback
[api_requests] Disabled login with credentials
Version bump (1.23.3) ()","Disabled login with e-mail/password (new website protections)
Add workaround for missing images to tvshow/movies
Fixed login with Auth key due to e-mail parsing problem"
"Fix ListUtils NPE (fixes)
Code cleanup recipe that lists all cleanup recipes (fixes)

* Move XXE vulnerability fix into the security package and rename for consistency
* Add XXE vulnerability fix to JavaSecurityBestPractices
UseDiamondOperator (fixes) and UnnecessaryExplicitTypeArguments (fixes)
Add test for issue
Fix spurious import added for static fields (fixes)
Fixing tests ()
Cleanup recipe for Converting Primitive Wrapper Class Constructors to valueOf ()

* Cleanup recipe for Converting Primitive Wrapper Class Constructors to valueOf. Fixes
moving Java11PrimitiveWrapperClassConstructorToValueOfTest from Java11TreeDebugTests.kt to Java11VisitorDebugTests.kt
Adding thrown exceptions to JavaType.Method  ()

* Adding thrown exceptions to method types.

Adding thrown exceptions to method types.

interim checkin

interim checkin

interim checkin

Adding access flags to JavaType.Class ()

Interim Check-in

* Adding throw exceptions to JavaType.Method

* Adding throw exceptions to JavaType.Method

* Adding throw exceptions to JavaType.Method

* Incorporating review feedback
Fixing NPE in TypeUtils
Polish display name and description of XXE vulnerability
Fix reporting of which recipes made changes. Fixes
Fix ArrayIndexOutOfBounds in MethodNameCasing
Revert ""Fix reporting of which recipes made changes. Fixes""

This reverts commit 2607e2abcaf72344ea811216c2f0bf0ed79e5a6d.
Revert ""Revert ""Fix reporting of which recipes made changes. Fixes""""

This reverts commit f819f7757d0efbc4b5c9e42c7ba16726a34fde3c.
Use ShallowClass for JavaType.Method throw list
Create 0002-recipe-naming.md
Update README.md
Update 0002-recipe-naming.md
disabled unit test for issue. AddImport does not consider the J.FieldAccess.target.type
Update 0002-recipe-naming.md
Update 0002-recipe-naming.md
Update 0002-recipe-naming.md
UnnecessaryThrows (fixes) and RedundantFileCreation

* Added constructorType to J.NewClass.
* JavaType.Method throw types are deep again.
AddImport considers J.FieldAccess.target.type when comparing types.  Fixes
Experimental support for recipe and parsing timeout (fixes) ()
Rename ModifierResults to Java11ModifierResults to avoid runtime name collisions with the Java 8 equivalent","Fix reporting of which recipes made changes. ( )
Fix possible runtime name collision between rewrite-java-11 and rewrite-java-8 versions of class ""ModifierResults"" cae57bc
Fix ArrayIndexOutOfBounds in MethodNameCasing 2c55ec3
Fix NPE in TypeUtils 9da463a
Fix spurious import added for static fields ()
UseDiamondOperator () and UnnecessaryExplicitTypeArguments ()
Adding thrown exceptions to JavaType.Method ()
Add Cleanup recipe for Converting Primitive Wrapper Class Constructors to valueOf ()"
"Bumped patch version
Moved enforcement of network address rules to Apache client DNS resolver to avoid race condition where rules can be bypassed via successive lookups returning different IP addresses
Applied DNS resolver enforcement to webhooks extension
Make NetworkAddressRulesAdheringDnsResolver testable

By using composition rather than inheritance
Stop NetworkAddressRules doing DNS lookups

By distinguishing between DomainNameWildcard rules and IP based rules
Bumped patch version","Security
This security release addresses the following issues
CVE-2023-41327 - Controlled SSRF through URL in the WireMock Webhooks Extension and WireMock Studio
Base CVSS Score: 4.6 (AV:A/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L/E:F/RL:O/RC:C)
CVE-2023-41329 - Domain restrictions bypass via DNS Rebinding in WireMock and WireMock Studio webhooks, proxy and recorder modes
Base CVSS Score: 3.9 (AV:A/AC:H/PR:H/UI:N/S:U/C:L/I:L/A:L/E:F/RL:O/RC:C)
NOTE: WireMock Studio, a proprietary distribution discontinued in 2022, is also affected by those issues and also affected by CVE-2023-39967 - Overall CVSS Score 8.6 - “Controlled and full-read SSRF through URL parameter when testing a request, webhooks and proxy mode”. The fixes will not be provided. The vendor recommends migrating to WireMock Cloud which is available as SaaS and private beta for on-premises deployments
Related releases
WireMock Docker 3.0.3-1 - Docker Image with the Patch
WireMock 2.35.1 /  WireMock Docker 2.35.1-1 - Backport to WireMock 2.x
Python WireMock 2.6.1 - Python library that bundles the WireMock JAR file
NOTE: Other distributions like Testcontainers modules or Helm chart need explicit version declaration, and hence a user action is needed to update the dependencies should they be considered a risk
Credits
@W0rty, @numacanedo, @Mahoney, @tomakehurst, @oleg-nenashev"
"Fix - 100% CPU usage in NativeDriver

Also use better bounds for timer - it must not execute before, but may execute a little later (on my system it were up to 7 ms actually)
Update Loop::now() docs
Fix - Ensure nowUpdateNeeded is set to true after a blocking wait in NativeDriver

So that expired timeouts also indeed do trigger immediately instead of in the next tick.
Move nowUpdateNeeded setting to getTimeout()

Essentially the same fix as @bwoebi committed, just placed at the source of the problem.
Use a custom priority queue for timers

Fixes by allowing immediate removal of the watcher from the queue. Insert and extract is O(log(n)), peeking is O(1), and removal is O(n).
Fix phpdoc types for call / asyncCall ()

Incorrect types were indicated, due to which static analysis led to false positives.
Fix typo on homepage ()
Fix signal handler in NativeDriver when used with pcntl_async_signals

Fixes.
Test on PHP 7.3 & 7.4
Use shared style repo
Note method to retreive array of exceptions
Fix typo ()
Annotate that throwIfRequested might throw CancelledException
Add failing Coroutine test
Fix exceptions bubbling from Coroutine::__destruct

This has been an edge case potentially hiding some exceptions. The tests have been refactored to error if the loop has watchers leaking from one test to another test.
Fix code style
Catch also \Exception in clearLoopRethrows()
Improve try / catch nesting
Move Coroutine::__destruct to Placeholder
Declare variables as static within function
Swap sign of returned time on 32-bit systems
Bump nokogiri from 1.8.2 to 1.10.3 in /docs ()

Bumps [nokogiri](https://github.com/sparklemotion/nokogiri) from 1.8.2 to 1.10.3.
- [Release notes](https://github.com/sparklemotion/nokogiri/releases)
- [Changelog](https://github.com/sparklemotion/nokogiri/blob/master/CHANGELOG.md)
- [Commits](https://github.com/sparklemotion/nokogiri/compare/v1.8.2...v1.10.3)
Remove Gemfile.lock
Different approach for 32-bit support

Prior version made time run backwards… oops.
Support 32-bit platforms
Warn if time is about to overflow on 32 bit
Ignore code coverage for getCurrentTime on 32 bit","Fixed issue where the loop time in NativeDriver was not refreshed after waiting for I/O streams ()
Fixed compatibility issue of NativeDriver with pcntl_async_signals() ()
A custom queue is now used for timers in NativeDriver to allow cancelled timers to be garbage collected immediately instead of after their original expiration time ()
Resolving a promise with an object that throws when destructed will now forward that exception to the event loop error handler ()
Fixed loop time to support 32-bit systems ()"
"Leave leftpadded AST unchanged if visitor does not change it
Recipe.noop()
Skip UTF-8 BOM characters in XMLLexer.","Fixes
Skip UTF-8 BOM characters in XMLLexer.
Features
Add Recipe.noop() for use especially in tests validating parsing logic by running a no-op recipe over the input and expecting the source code to be unchanged."
"Changed version to 3.0.0
update
update
update
update
Replace Guava by JDK (Partly)
Replace Guava by JDK (Partly)
Replace Guava by JDK (Partly)
update
Bump io.netty:netty-all from 4.1.96.Final to 4.1.97.Final

Bumps [io.netty:netty-all](https://github.com/netty/netty) from 4.1.96.Final to 4.1.97.Final.
- [Commits](https://github.com/netty/netty/compare/netty-4.1.96.Final...netty-4.1.97.Final)

---
updated-dependencies:
- dependency-name: io.netty:netty-all
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
update
Added beta warning comment to all stores interfaces (other than Stores which already had it)
Excluded transitive jsr305 dependency from build to avoid javax.annotation classes ending up in the standalone JAR
Shadow additional packages ()
Removed redundant relocation of javax.annotation from the build
Add annotations for Beta and Internal APIs ()

* Add annotations for Beta and Internal APIs

* Spotless

* Excluded transitive jsr305 dependency from build to avoid javax.annotation classes ending up in the standalone JAR

* Replace Guava by JDK (Partly)

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* update

* Replace Guava by JDK (Partly)

* Replace Guava by JDK (Partly)

* Replace Guava by JDK (Partly)

* update

* update

* Shadow additional packages ()

* Removed redundant relocation of javax.annotation from the build

* Fixed Spotless errors

---------

Co-authored-by: Tom Akehurst <tom@wiremock.org>
Co-authored-by: Kirill Peshin <kirill.peshin@bscmsc.ru>
Co-authored-by: jluehe <janluehe@yahoo.com>
Respect StopAction in V1 Filter

We should only continue to V2 filters if the V1 filters return a ContinueAction.
Stop returning 500s for unmatched path patterns

The Diff rendering did not handle the `SubExpressionException` thrown in
e.g. `MatchesJsonPathPattern`. This makes it catch that exception and
output it in the diff.
Bump com.diffplug.spotless from 6.20.0 to 6.21.0

Bumps com.diffplug.spotless from 6.20.0 to 6.21.0.

---
updated-dependencies:
- dependency-name: com.diffplug.spotless
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Revert ""Stop returning 500s for unmatched path patterns""
Stop returning 500s for unmatched path patterns

The Diff rendering did not handle the `SubExpressionException` thrown in
e.g. `MatchesJsonPathPattern`. This makes it catch that exception and
output a useful value in the diff.
Revert Release Drafter to semver after the 3.0.0 release
Ensured that the shadow JAR is always built last. Relocated dependencies in webhooks. ()
Added validation of UUIDs in path parameters in the admin API so that clearer errors are reported when non UUIDs are provided or item isn't found
Fixed get patch version function in build
Fixed bump patch and minor versions logic
Stopped updating package-lock.json when bumping versions
Bump patch version to 3.0.1","Bug fixes
Stop returning 500s for unmatched path patterns () @Mahoney
Ensure that the shadow JAR is always built last to ensure webhooks fat JAR wins () @tomakehurst
Added validation of UUIDs in path parameters in the admin API so that clearer errors are reported when non UUIDs are provided or item isn't found rather than throwing a 500 error () @tomakehurst
Respect StopAction in V1 Filter () @Mahoney
Thanks to the regression reporters: @defnngj , @oleg-nenashev , @Mahoney"
"Version bump (1.20.0) ()
Improvement to check service at startup
Fix MSL manifest xid for linux devices
Settings changes for about/logout
Allow execute settings without check login
Version bump (1.20.1) ()","Fixed playback on linux devices
Protected Logout setting with a confirmation dialog
Wait for service startup without notification
Add support info on add-on settings"
"Version bump (1.20.5) ()
Fix set_value sqlite params
Update Polish translation ()
Updated czech translation ()
[pylint] fix broad-exception-raised
Version bump (1.20.6) ()","Fix SQLite error on startup using some linux systems
Update translations po, cs_cz"
"Nuclei detection should be more stable across regions ()

This does a better job of detecting the average color of the area being
analyzed to reduce individual tile effects.  It also fixes a potential
infinite loop in a degenerate case.

Closes.
Fix divide zero guard ()
Update conf.py","What's Changed
Fix divide zero guard by @manthey in
Full Changelog: v1.3.3...v1.3.4"
"Added support for annotations in fully qualified type names. ()

* Added support for annotations in fully qualified type names.

* Add `J.AnnotatedType#getAllAnnotations()`

Also removed some code from `J.MethodDeclaration#getAllAnnotations()` and `J.VariableDeclarations#getAllAnnotations()` as that returned type annotations rather than annotations on the variable / method.

---------

Co-authored-by: Knut Wannheden <knut@moderne.io>
Again try to improve error message from `AddPluginVisitor`
Include Recipe class simple name in validation errors ()

Fixes
Maven POM downloader optimizations ()

* Maven POM downloader optimizations

* Fix missing cache metrics for Maven POM cache

* Add back `@NonFinal` to `knownToExist`, because Lombok add `knowToExist\' to the list of required arguments in the constructor
filePattern on FindSourceFiles is now nullable, and matches all files… ()

filePattern on FindSourceFiles is now nullable, and matches all files on blank input, to make it a little more convenient to use in place of HasSourcePath
`SimplifyBooleanExpression` should only remove parens when related

The `SimplifyBooleanExpressionVisitor` should only remove unnecessary parentheses when the visitor already changed the parenthesized expression.
Fix test failure on main after b70c34b3767afe5bfc5c5db08d833b8823f2f79d
`SemanticallyEqual`: Fix bug in `visitFieldAccess()` ()

* `SemanticallyEqual`: Fix bug in `visitFieldAccess()`

When comparing `J.FieldAccess` instances, the targets also needs to be compared.

* Start adding some more `SemanticallyEqualTest` test cases

* Polish

* Polish

* Add more tests

* Add more tests
Fix another `SemanticallyEqualVisitor` bug

The logic to compare field accesses against identifiers must also be used when comparing identifiers against field accesses.
Add more `SemanticallyEqualVisitor` tests
Fix another `SemanticallyEqual` bug
Add `J.NullableType` for Kotlin / C# ()

* Add J.NullableType for kotlin/JS/C#

* fix

* Add visiting annotations

* Add visitNullableType to JavaIsoVisitor

* Fix a bug

* Add suffix space location and some cosmetics

---------

Co-authored-by: Knut Wannheden <knut@moderne.io>
Adjust test after new `maven-compiler-plugin` release
Ensure ExplicitPluginVersionTest needs no further updates
Modify `J.Annotation#getSimpleName()` for Kotlin

Kotlin's multi annotations are now modelled using a ""dummy"" annotation which then contains the individual annotations. This requires a custom LST element to be used for `J.Annotation#annotationType`.

Note: An alternative to this solution would be to add a `getSimpleName()` method to the `NameTree` interface.
Delete `data-flow/model.csv` resource

This resource was moved to `rewrite-analysis`.
added plugins to ResolvedPom + some tests ()

* added plugins to ResolvedPom + some tests

* started logic to merge plugins

* merge configurations

* basic executions

* fix potential NPE

* fix NPE

* avoid empty configs

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
Fixed prefix on key after folder scalars.
Feat:token length estimator ()

* calculate token len for class and method definition

* changed datatable to take in name instead of whole code snippet

---------

Co-authored-by: juju <justine.gehring@gmail.com>","What's Changed
Include Recipe class simple name in validation errors by @timtebeek in
Maven POM downloader optimizations by @ammachado in
filePattern on FindSourceFiles is now nullable, and matches all files… by @nmck257 in
SemanticallyEqual: Fix bug in visitFieldAccess() by @knutwannheden in
Add J.NullableType for Kotlin / C# by @kunli2 in
added plugins to ResolvedPom + some tests by @joanvr in
Fixed prefix on key after folder scalars. by @traceyyoshima in
Feat:token length estimator by @justine-gehring in
Full Changelog: v8.11.2...v8.11.3"
"Add null check. A non null ref can point to a null objectId: ()

* Add null check. A non null ref can point to a null objectId:

SymbolicRef[HEAD -> refs/heads/main=0000000000000000000000000000000000000000(-1)]

* cleanup
fix: prevent all referenced properties from updating to latest regardless of recipe ()
Add headers for FindCommitters data tables ()
Fix UpgradeDependencyVersion so it doesn't use the same GradleProject marker for every project in a multi-project build.
Add logic to simplify `J.Ternary`
feat: add from date option to FindCommitters recipe ()

* Add date option for FindCommitters

* Add test

* Formatting

* fix description
Handle empty string option ()

* Handle empty string option

* default null
Add recipe which encloses all parameters interpolated into Groovy GStrings in curly braces
License headers
Add FindClassHierarchy recipe to produce a data table of class declarations, their superclasses, and interfaces
Make DependencyUseStringNotation compatible with G.GString ()

* Fixes

* Fixes

---------

Co-authored-by: Jente Sondervorst <jente.sondervorst@colruytgroup.com>
Improve AddProperty to insert in alphabetical order by key
Update AddProperty description to reflect its new behavior
Get gradle AddPropertyTest passing given changes to underlying AddProperty recipe
Normalization of maven repositories that don't permit directory listing ()","What's Changed
fix: prevent all referenced properties from updating to latest regardless of recipe by @ajohnsonz in
Add headers for FindCommitters data tables by @pstreef in
feat: add from date option to FindCommitters recipe by @pstreef in
Handle empty string option by @pstreef in
Make DependencyUseStringNotation compatible with G.GString by @Jenson3210 in
Normalization of maven repositories that don't permit directory listing by @jkschneider in
New Contributors
@Jenson3210 made their first contribution in
Full Changelog: v8.14.3...v8.14.4"
"Fix - Maven repositories in settings.xml override repositories of the same id in pom.xml, including the default maven central repository
Add simple single file multipart file upload to HttpSender ()","What's Changed
Add simple single file multipart file upload to HttpSender by @pstreef in
Full Changelog: v8.13.2...v8.13.3"
"Add simple single file multipart file upload to HttpSender ()
Do not unwrap negated assignment

Fixes https://github.com/openrewrite/rewrite/issues/3913
Fix `TypesInUse` regression ()

* Fix `TypesInUse` regression

Introduced in 9d264b4f4991b62854572c5e576e2ab0514361d5

Fixes:

* Correct method name detection

* Update rewrite-java-test/src/test/java/org/openrewrite/java/RemoveUnusedImportsTest.java

Co-authored-by: Tim te Beek <tim@moderne.io>

---------

Co-authored-by: Tim te Beek <tim@moderne.io>
`FindParseFailures`: Null-safe
Find `@Option` annotations without `example` values ()

* Find `@Option` annotations without `example` values

As came up in Slack: https://github.com/openrewrite/gh-automation/issues/45#issuecomment-1891827588

* Skip boolean fields
Add CommitMessage marker
License headers
Print idempotence for prefix of varargs parameters in Javadoc","What's Changed
Fix TypesInUse regression by @knutwannheden in
Find @Option annotations without example values by @timtebeek in
Do not unwrap negated assignment 670dd5c
FindParseFailures: Null-safe ef368c0
Add CommitMessage marker 8a42e33
Print idempotence for prefix of varargs parameters in Javadoc 8955881
Full Changelog: v8.13.3...v8.13.4"
"Bump version: 0.5.1 → 1.0.0
Fix README for PyPI rendering

Title underline too short.
Create TAXII query correctly. closes
Simplify FilterSet instance in MemorySource
Add support for 'real_stix_objs' for test cases
Finish merging all the changes from @mbastian1135
Finish adding new tests for TAXII datastore. closes
Add `medallion` dependency to Travis CI tests
Sort import statements in tests.
Add two more tests for the `dict` case in TAXIICollectionSink
Remove 'real_stix_objs1' as it is unused in the tests
Update file taxii_example.py
Update TAXII2 filter fields in documentation
Remove dev and nightly Python builds from Travis.
Fix make_constant when value is already a constant

Fixes.
Update CHANGELOG for v1.0.1
Bump version: 1.0.0 → 1.0.1","Fixes bug with incorrect TAXII parameters ().
Fixes bug with constructing patterns ()."
"`ChangeMethodName`: Slightly improve performance

Don't call `DeclaresMethod` twice when `ignoreDefinition = true`.
Don't call `J.ClassDeclaration#withBody()` using `null`

See: openrewrite/rewrite-static-analysis
Constructor call type attribution should include generics ()

* Constructor call type attribution should include generics

When the target type of a constructor call declares generic type variables, the `J.NewClass` type attribution should also include these details. So for example the type attribution for `new ArrayList<String>()` should be a `JavaType.Method` which as the declaring type has `java.util.ArrayList<String>` rather than just `java.util.ArrayList`.

An alternative to this would be to add a new `type` field to `J.NewClass`.

* Polish

* Update other Java parsers

* Guard against NPE

* Add another test case to `NewClassTest`

* Try something slightly different

* Keep type attribution as is for anonymous subclasses

* No diamond operator for anonymous subclasses in Java 8
`UnnecessaryParentheses`: Fix for negated `instanceof`

Fixes:
Improve error messages in RewriteTest relating to erroneous creation/non-creation of files
Add pretty checkmarks to error message about unexpected file creation in recipe tests.
Oops, fix conditional
Fix LOWER_CAMEL, UPPER_CAMEL to handle uppercase abbreviation better ()

* Fix LOWER_CAMEL, UPPER_CAMEL to handle uppercase abbreviation better

* Apply comment

---------

Co-authored-by: 김선우 <seonwoo960000@toss.im>
`SpacesVisitor`: Remove spaces before statement semicolon ()
Validate that Change(Managed)DependencyGroupIdAndArtifactId updates GAV ()

ChangeDependencyGroupIdAndArtifactId and ChangeManagedDependencyGroupIdAndArtifactId are intended to be set up to *change* maven coordinates. If the pre- and post-coordinates are the same, it's likely that the UpgradeDependencyVersion recipe was intended. This change adds validation of the newGroupId/newArtifactId options.

See https://github.com/openrewrite/rewrite-java-dependencies/issues/55
Fix - Maven repositories in settings.xml override repositories of the same id in pom.xml, including the default maven central repository","What's Changed
Constructor call type attribution should include generics by @knutwannheden in
Fix LOWER_CAMEL, UPPER_CAMEL to handle uppercase abbreviation better by @seonwoo960000 in
SpacesVisitor: Remove spaces before statement semicolon by @knutwannheden in
Validate that Change(Managed)DependencyGroupIdAndArtifactId updates GAV by @tobli in
Fix - Maven repositories in settings.xml override repositories of the same id in pom.xml, including the default maven central repository by @sambsnyd in 9cf0f03
Full Changelog: v8.13.0...v8.13.2"
"chore(release): 1.8.32 [skip ci]

## [1.8.32](https://github.com/iamkun/dayjs/compare/v1.8.31...v1.8.32) (2020-08-04)

### Bug Fixes

* Add Experimental Timezone Plugin ([](https://github.com/iamkun/dayjs/issues/974)) ([e69caba](https://github.com/iamkun/dayjs/commit/e69caba1b0957241a855aa0ae38db899fa2c3795))
* fix parse date string error e.g. '2020/9/30' ([](https://github.com/iamkun/dayjs/issues/980)) ([231790d](https://github.com/iamkun/dayjs/commit/231790da62af0494732960c2c50d86ae9bf63ec6)), closes [](https://github.com/iamkun/dayjs/issues/979)
* update monthDiff function to get more accurate results ([19e8a7f](https://github.com/iamkun/dayjs/commit/19e8a7f2f7582b717f49d446822e39603694433c))
* Update UTC plugin to support keepLocalTime ([](https://github.com/iamkun/dayjs/issues/973)) ([9f488e5](https://github.com/iamkun/dayjs/commit/9f488e5aca92f0b4c2951459436829d79f86d8d7))
fix: Update pt-br locale weekStart 0 ()
fix: Fix Timezone plugin UTCOffset rounding bug ()

fix
fix: Fix isoWeek Plugin cal bug in UTC mode ()
fix: Fix Timezone plugin parsing js date, Day.js object, timestamp bug && update type file ()

fix, fix
fix: Fix UTC plugin bug while comparing an utc instance to a local one ()
fix: Add PluralGetSet plugin for plural getters/setters ()
chore: Reduce main bundle size ()
test: update test
fix: Add typescript type defs in esm build ()
chore: update build esm script
chore: update build script
chore(release): 1.8.33 [skip ci]

## [1.8.33](https://github.com/iamkun/dayjs/compare/v1.8.32...v1.8.33) (2020-08-10)

### Bug Fixes

* Add PluralGetSet plugin for plural getters/setters ([](https://github.com/iamkun/dayjs/issues/996)) ([f76e3ce](https://github.com/iamkun/dayjs/commit/f76e3ce2fbe5d3e9ed9121086baf55eb0cc4d355))
* Add typescript type defs in esm build ([](https://github.com/iamkun/dayjs/issues/985)) ([50e3b3c](https://github.com/iamkun/dayjs/commit/50e3b3c6719cb0b4ec6eff394dacd63d5db8f253))
* Fix isoWeek Plugin cal bug in UTC mode ([](https://github.com/iamkun/dayjs/issues/993)) ([f2e5f32](https://github.com/iamkun/dayjs/commit/f2e5f327aaf12b4572296ec6e107ecc05fcf76e7))
* Fix Timezone plugin parsing js date, Day.js object, timestamp bug && update type file ([](https://github.com/iamkun/dayjs/issues/994)) ([22f3d49](https://github.com/iamkun/dayjs/commit/22f3d49405da98db6da56d1673eebcd01b57554b)), closes [](https://github.com/iamkun/dayjs/issues/992) [](https://github.com/iamkun/dayjs/issues/989)
* Fix Timezone plugin UTCOffset rounding bug ([](https://github.com/iamkun/dayjs/issues/987)) ([b07182b](https://github.com/iamkun/dayjs/commit/b07182bbdf5aef7f6bf1e88fcd38432e2b8ee465)), closes [](https://github.com/iamkun/dayjs/issues/986)
* Fix UTC plugin bug while comparing an utc instance to a local one ([](https://github.com/iamkun/dayjs/issues/995)) ([747c0fb](https://github.com/iamkun/dayjs/commit/747c0fb4eba6353755b5dad3417fd8d5a408c378))
* Update pt-br locale weekStart 0 ([](https://github.com/iamkun/dayjs/issues/984)) ([0f881c1](https://github.com/iamkun/dayjs/commit/0f881c18efb02b9d0ba7f76cba92bb504226fa95))","Bug Fixes
Add PluralGetSet plugin for plural getters/setters () (f76e3ce)
Add typescript type defs in esm build () (50e3b3c)
Fix isoWeek Plugin cal bug in UTC mode () (f2e5f32)
Fix Timezone plugin parsing js date, Day.js object, timestamp bug && update type file () (22f3d49), closes
Fix Timezone plugin UTCOffset rounding bug () (b07182b), closes
Fix UTC plugin bug while comparing an utc instance to a local one () (747c0fb)
Update pt-br locale weekStart 0 () (0f881c1)"
"chore(release): 1.8.10 [skip ci]

## [1.8.10](https://github.com/iamkun/dayjs/compare/v1.8.9...v1.8.10) (2019-03-10)

### Bug Fixes

* **locale:** Add nepali (ne) locale ([](https://github.com/iamkun/dayjs/issues/524)) ([bdbec01](https://github.com/iamkun/dayjs/commit/bdbec01))
* Add WeekYear plugin ([a892608](https://github.com/iamkun/dayjs/commit/a892608))
* API .locale() with no argument should return current locale name string ([8d63d88](https://github.com/iamkun/dayjs/commit/8d63d88))
* CustomParseFormat correct parse HH:mm:ss with only one digit like 0:12:10 ([600d547](https://github.com/iamkun/dayjs/commit/600d547))
* CustomParseFormat plugin parse Do format string ([bf27fda](https://github.com/iamkun/dayjs/commit/bf27fda)), closes [](https://github.com/iamkun/dayjs/issues/522)
* Expand setters like .year(2000) .hour(12) ([ac532a0](https://github.com/iamkun/dayjs/commit/ac532a0))
* Move toObject, toArray API to separate plugin from core ([40a3431](https://github.com/iamkun/dayjs/commit/40a3431))
fix: Correct typescript definition `add`

fix
fix: Add locale support for Azerbaijani language (az) ()
fix: Fix CustomParseFormat plugin formatting bug ()

fix:
fix: Update pt locale ()

Added some missing properties and localized formats
fix: Add .add('quarter') .startOf('quarter') through plugin quarterOfYear

fix, fix
docs: Update quarterOfYear docs
docs: fix doc error
test: remove local test
chore(release): 1.8.11 [skip ci]

## [1.8.11](https://github.com/iamkun/dayjs/compare/v1.8.10...v1.8.11) (2019-03-21)

### Bug Fixes

* Add .add('quarter') .startOf('quarter') through plugin quarterOfYear ([dde39e9](https://github.com/iamkun/dayjs/commit/dde39e9)), closes [](https://github.com/iamkun/dayjs/issues/537) [](https://github.com/iamkun/dayjs/issues/531)
* Add locale support for Azerbaijani language (az) ([](https://github.com/iamkun/dayjs/issues/535)) ([eeb20fa](https://github.com/iamkun/dayjs/commit/eeb20fa))
* Correct typescript definition `add` ([22a249c](https://github.com/iamkun/dayjs/commit/22a249c)), closes [](https://github.com/iamkun/dayjs/issues/531)
* Fix CustomParseFormat plugin formatting bug ([](https://github.com/iamkun/dayjs/issues/536)) ([8578546](https://github.com/iamkun/dayjs/commit/8578546)), closes [](https://github.com/iamkun/dayjs/issues/533)
* Update pt locale ([](https://github.com/iamkun/dayjs/issues/538)) ([1ac9e1e](https://github.com/iamkun/dayjs/commit/1ac9e1e))","Bug Fixes
Add .add('quarter') .startOf('quarter') through plugin quarterOfYear (dde39e9), closes
Add locale support for Azerbaijani language (az) () (eeb20fa)
Correct typescript definition add (22a249c), closes
Fix CustomParseFormat plugin formatting bug () (8578546), closes
Update pt locale () (1ac9e1e)"
"ceph: helm chart fix for rook-ceph

Go's template language doesn't treat infix `and` as a short-circuit,
which led to fatal errors after an update in Go 1.14 surfaced that as
a fatal error.  This commit removes the infix `and` and replaces it with
a default dict to handle the case of a missing Heml value.

Closes: https://github.com/rook/rook/issues/5378
Signed-off-by: Judson <nyarly@gmail.com>
(cherry picked from commit f89ecb615695ffee602b76156b7b94104ee78dff)
tests: fix aws_1.11.x test failure

kubelet in aws_1.11.x test requires kubernetes-cni 0.7.5.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
ceph: update to ceph/ceph:v14.2.10

Update to the latest ceph release build for nautilus as the base
image for the operator and the default in cluster.yaml

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
ceph: remove legacy target_size_ratio example

The target_size_ratio moved under the parameters element of
the pool settings. While the target size ratio is still supported
under the previous location for backward compatibility, the
example is preferred under parameters.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 3af205d958f53c3f54ea414a6ac87f5cdb9bed8c)
ceph: capture logging from the osd daemon

The OSD daemon has been missing critical flags for logging to stderr
where k8s can capture the logs. Without the --log-to-stderr=true,
all the OSD logging was essentially lost until now.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 8f9df75f7b7067dd1aea5fc64d7ced65edf43a4d)
ceph: resync crds when update from 1.2

Some CRDs definitions were missing, rending some CRD unusable. Now if
someone upgrades from 1.2, all CRDs will work as expected.

Closes: https://github.com/rook/rook/issues/5742
Signed-off-by: Sébastien Han <seb@redhat.com>
docs: remove references to xfs for ceph volumes

When mounting a ceph volume, xfs may cause issues with potential
deadlocks if the volume is on the same node as the OSDs. To avoid
this issue the default recommendation is ext4.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ba590396e858c5fbcea80f3d82707262a1bf6557)
ceph: fix manifest ceph version support comment

Adjust the comment for `cephVersion:allowUnsupported` in the
`cluster.yaml` manifest to correctly document that Nautilus and
Octopus are supported (not Mimic and Nautilus).

Signed-off-by: Blaine Gardner <blaine.gardner@suse.com>
(cherry picked from commit b8aea86cedf1a7c3a299950f2792f10c153e8e46)
ceph: remove an outdated document of mon placement

Although the document describes we can't set Pod{,Anti}Affinity
to mon's placement, the current implementation permits to do so.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 63d077ffdea4d3d4cf2d42e1791889e8d35fb225)
ceph: fix mon endpoints split when using external ceph hosts

When hostname has hypen and/or numbers, the mon_endpoints is incorrectly
split and can point to invalid monitor names inside toolbox, Add fix to
split the hostname/ip that can include hypen, underscore or numbers.

Signed-off-by: Vasu Kulkarni <vasu@redhat.com>

Fixes

Signed-off-by: Vasu Kulkarni <vasu@redhat.com>
(cherry picked from commit 33bd58e07247c105a14accf9b922b0ea67dbbf4c)
ceph: ignore PodAntiAffinity for detect-version placement

When a PodAntiAffinity is set to mon, detect-version may not be scheduled because detect-version has the same PodAntiAffinity with mon.
This commit fixes this issue.

Closes

Signed-off-by: Hiroshi Muraoka <h.muraoka714@gmail.com>
(cherry picked from commit e2b1a2230df871b4feaf3ac22dc7775e9804539a)
build: set manifest versions to v1.3.8

Set manifest versions to v1.3.8 for the release

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.3.8 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Helm chart templating update (, @nyarly)
Update to the latest Ceph Nautilus release v14.2.10 (, @travisn)
Capture logging from the OSD daemons (, @travisn)
Ignore pod anti-affinity for the detect-version job placement (, @tapih)
Resync crds when updated from 1.2 (, @leseb)
Toolbox connection allowed for independent mode (, @vasukulkarni)"
"chore(release): 1.11.10 [skip ci]

## [1.11.10](https://github.com/iamkun/dayjs/compare/v1.11.9...v1.11.10) (2023-09-19)

### Bug Fixes

* Add Korean Day of Month with ordinal ([](https://github.com/iamkun/dayjs/issues/2395)) ([dd55ee2](https://github.com/iamkun/dayjs/commit/dd55ee2aadd1009242235e47d558bbf028827896))
* change back fa locale to the Gregorian calendar equivalent ([](https://github.com/iamkun/dayjs/issues/2411)) ([95e9458](https://github.com/iamkun/dayjs/commit/95e9458b221fe35e59ee4a160a5db247313a68fb))
* duration plugin - MILLISECONDS_A_MONTH const calculation ([](https://github.com/iamkun/dayjs/issues/2362)) ([f0a0b54](https://github.com/iamkun/dayjs/commit/f0a0b546b074b3b511c2319a1ce83d412894b91f))
* duration plugin getter get result  0 instead of undefined ([](https://github.com/iamkun/dayjs/issues/2369)) ([061aa7e](https://github.com/iamkun/dayjs/commit/061aa7ed6c31696974665fc9b11a74d30841ebed))
* fix isDayjs check logic ([](https://github.com/iamkun/dayjs/issues/2383)) ([5f3f878](https://github.com/iamkun/dayjs/commit/5f3f8786c796cd432fe6bcb6966a810daea89203))
* fix timezone plugin to get correct locale setting ([](https://github.com/iamkun/dayjs/issues/2420)) ([4f45012](https://github.com/iamkun/dayjs/commit/4f4501256fa1bc72128aae1d841bbd782df86aed))
* **locale:** add meridiem in `ar` locale ([](https://github.com/iamkun/dayjs/issues/2418)) ([361be5c](https://github.com/iamkun/dayjs/commit/361be5c7c628614ee833d710acbe154a598b904d))
* round durations to millisecond precision for ISO string ([](https://github.com/iamkun/dayjs/issues/2367)) ([890a17a](https://github.com/iamkun/dayjs/commit/890a17a8d8ddd43c7c8b806e3afc7b27f3288d27))
* sub-second precisions need to be rounded at the seconds field to avoid adding floats ([](https://github.com/iamkun/dayjs/issues/2377)) ([a9d7d03](https://github.com/iamkun/dayjs/commit/a9d7d0398d22ebd4bfc3812ca0134a97606d54d9))
* update $x logic to avoid plugin error ([](https://github.com/iamkun/dayjs/issues/2429)) ([2254635](https://github.com/iamkun/dayjs/commit/22546357f30924fcff3b3ffa14fd04be21f97a5e))
* Update Slovenian locale for relative time ([](https://github.com/iamkun/dayjs/issues/2396)) ([5470a15](https://github.com/iamkun/dayjs/commit/5470a15e437fac803797363063b24f3ba3bd5299))
* update uzbek language translation ([](https://github.com/iamkun/dayjs/issues/2327)) ([0a91056](https://github.com/iamkun/dayjs/commit/0a910564d76dc7c128da8e0d85d8e11ebdb5660b))
chore: Readme add usage trend ()
Update README.md
chore: Update README.md
fix: update locale Bulgarian monthsShort Jan ()

* fix: update locale Bulgarian monthsShort Jan
chore: Update README.md
chore: Update README.md
chore: Update README.md
fix: Update 'da' locale to match correct first week of year ()

The first week of the year in Denmark is always the week containing January 4th
chore: add french README.md ()
fix: day of week type literal ()
chore(release): 1.11.11 [skip ci]

## [1.11.11](https://github.com/iamkun/dayjs/compare/v1.11.10...v1.11.11) (2024-04-28)

### Bug Fixes

* day of week type literal ([](https://github.com/iamkun/dayjs/issues/2630)) ([f68d73e](https://github.com/iamkun/dayjs/commit/f68d73efe562fdedd9e288ecb0ce6565e602f507))
* improve locale ""zh-hk"" format and meridiem ([](https://github.com/iamkun/dayjs/issues/2419)) ([a947a51](https://github.com/iamkun/dayjs/commit/a947a5171aad5695eaf593bc95fe073de0f0894a))
* Update 'da' locale to match correct first week of year ([](https://github.com/iamkun/dayjs/issues/2592)) ([44b0936](https://github.com/iamkun/dayjs/commit/44b0936ad709212b63e48672d8b9c225e2c3b830))
* update locale Bulgarian monthsShort Jan ([](https://github.com/iamkun/dayjs/issues/2538)) ([f0c9a41](https://github.com/iamkun/dayjs/commit/f0c9a41c6ec91528f3790e442b0c5dff15a4e640))","Bug Fixes
day of week type literal () (f68d73e)
improve locale ""zh-hk"" format and meridiem () (a947a51)
Update 'da' locale to match correct first week of year () (44b0936)
update locale Bulgarian monthsShort Jan () (f0c9a41)"
"Edgefs:3181 prevents multiple targets deployment on the same node

Signed-off-by: Anton Skriptsov <sabbotagge@gmail.com>
(cherry picked from commit a0edbf627fe6e83f3918260bb45f994f6b753698)
Added separator to enable creation of multiple SCC

Signed-off-by: Umanga Chapagain <chapagainumanga@gmail.com>
(cherry picked from commit 32057646ccb284be2e02cb72bead036e964cb66a)
ceph: Check before copying binaries in osd pods

Before performing the copy, the OSD init container now checks
destination path exists. If the destination exists, it skips the copy.

The OSD pods copy the rook and tini binaries into a shared volume using
an init container. In restarting pods, this copy could fail with 'text
file busy'(ETXTBUSY), because the destination file in the shared volume
could be under execution. The restarting pods will enter a
'Init:CrashLoopBackOff' state after this, leaving the ceph cluster
degraded. Skipping the copy will allow the init containers to complete
successfully, allowing the pod to restart.

Fixes.

Signed-off-by: Kaushal M <kshlmster@gmail.com>
(cherry picked from commit f48f73300f9d129cc8fdc48c71934bfec02788aa)
Updated ceph image from v14.2.0-20190319 to v14.2.1-20190430

ceph image v14.2.0-20190319 has 3 high vulnerabilities so
updated it to v14.2.1-20190430
Signed-off-by: rohan47 <rohgupta@redhat.com>
(cherry picked from commit d4a29735ff0ff1519dc4c5620596e5d112bd1137)
ceph docs: quickstart uses the test configuration for a single osd

Since the default OSD is no longer created under dataDirHostPath,
the most common issue in the 1.0 release is that users don't have OSD
created in the cluster. Now the quickstart doc will guide users to
create a test cluster to get them going with a filestore OSD in
a directory, with clear guidance that this is not expected in production

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 346f2c9fd4912e5ce749ad9d91be825768b7e19d)
use ceph fsid to filter ceph volume OSDs

- Updated getCephVolumeOSDs method to use fsid filter while retriving devices.
- This solves ""failed to fetch mon config (--no-mon-config to skip)"" error when multiple ceph clusters are running on same Node

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit ec2e6ea888b98f18f432c4c5541c17c6fd32ef87)
Signed-off-by: Santosh Pillai <sapillai@redhat.com>
fixed ceph pg dump pgs_brief json deserialization

Signed-off-by: rohan47 <rohgupta@redhat.com>
(cherry picked from commit a380ca7dc1044876d06f59fd2154fd46fb3b287a)
ceph: fix pod memory check

This commit fixes the second test case where limit and request are
either identical or different but still we use limit as a value.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 24abbddf14904d6599872b7beb42f1fc039bbc7d)
ceph: add resource limit check for rbdmirror

The memory check was missing and will be trigger if resources limit are
configured for the rbdmirror pod.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit d3c8d5612b790dbdff5c3261c493e3aa4a3f4181)
ceph: add missing documentation for resource limits

This commit documents the minimum amount of memory accepted by Rook to
 run Ceph pods properly.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 62b69d08e5cdf7ff35a016042bf5f26f191034dd)
ceph: set the fsgroup only on the top level of the mount

If setting the fsgroup recursively on a shared filesystem mount is
not desirable, the fsgroup capability on the flex driver
should first be disabled in the operator env vars. Now the driver
will apply the fsgroup only at the top level instead of
recursively for the entire shared filesystem.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit fd341ae928d4664671a7b94faacb55691fb33afc)
discover: handle false-positives observed by users

the only exception to a naive device list comparison had been to ignore
drive UUID information which was unreliable when a device wasn't
formatted / partitioned. however various users have reported different
type of false positives that resulted in orchestration being run
continuously due to the wrong observation that devices were changing.

this patch fixes the cases we have observed and attempts to be slightly
more conservative in the calculation.

1. the devlinks is ignored. when a device is setup for lvm, for example,
the devlinks will be updated with different paths that point to the
device in addition to its standard paths addressable by pci address.

2. in the lvm case, the ""model"" field and ""filesystem"" field may also
change.

3. we ignore devices with devlinks that contain ""usb"" to avoid issues
when using usb drives.

4. be smart about detecting device availability. if a device transitions
from a non-empty (or has-partitions) state to an empty (or unpartitioned)
state then orchestration is triggered. this like observing that a device
is now available (e.g. in the allDevices case). however, when a device
transistions from empty to non-empty, then this is ignored as while it
is a change, it's generally a change associated with the new consumption
of the device.

fixes:
fixes:
fixes:

Signed-off-by: Noah Watkins <noahwatkins@gmail.com>
(cherry picked from commit 3966f163ede02deef9fef395eff05b4597543057)
ceph: retry on detecting ceph version

Sometime the kube engine needs a bit of time to return the logs of a
given job and fails to read the stream.
Retrying up to detect the Ceph version seems reasonnable to
overcome this issue.

Fixes: https://github.com/rook/rook/issues/3227
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 6438d9907ec7be0dd06f97f00b8144be4f00cfdd)
enable proper values for metadataOnly property

Signed-off-by: Dmitry Yusupov <dmitry.yusupov@nexenta.com>
(cherry picked from commit 41d92cee3efda14bc0a4c53cdfa0e95a013ccc83)
ceph: added resource quantity comparer when checking cluster changes

the resource struct has non-exportable fields which panics when
doing the diff comparison

Signed-off-by: d-luu <david@davidluu.info>
(cherry picked from commit d22886da37223974f0ace84e0bffcd88a647c7ac)
set the release version to v1.0.2 in deployment manifests

Signed-off-by: travisn <tnielsen@redhat.com>","Rook v1.0.2 is a patch release limited in scope and focusing on bug fixes.
Improvements
Ceph
Handle false positives for triggering orchestration after hotplugging devices (, @noahdesu)
Set fsgroup only on the top level of the cephfs mount (, @travisn)
Improved diff checking when the CR changes (, @d-luu)
Retry checking the ceph version if failed (, @leseb)
Resource limits: Document the minimum limits, add limits for rbd mirror daemons, and fix the memory check (@leseb)
Deserialization of pg dump for nautilus when removing OSDs (, @rohan47)
Start OSDs only for correct ceph cluster when there are multiple ceph clusters on the same nodes (, @sp98)
Clarify documentation for creating OSDs (, @travisn)
Update the operator base image to v14.2.1 (, @rohan47)
Add separator to scc yaml example (, @umangachapagain)
Check before copying binaries in osd pods (, @kshlm)
EdgeFS
Proper use of metadataOnly property (, @dyusupov)
Prevent multiple targets deployment on the same node (, @sabbot)"
"chore(release): 1.11.3 [skip ci]

## [1.11.3](https://github.com/iamkun/dayjs/compare/v1.11.2...v1.11.3) (2022-06-06)

### Bug Fixes

*  customParseFormat plugin to parse comma as a separator character ([](https://github.com/iamkun/dayjs/issues/1913)) ([41b1405](https://github.com/iamkun/dayjs/commit/41b1405971e099431211ae6c2a100cd797da4427))
* update Dutch [nl] locale ordinal ([](https://github.com/iamkun/dayjs/issues/1908)) ([5da98f8](https://github.com/iamkun/dayjs/commit/5da98f8085d2d2847d79e38c795082703a14f24b))
test: update test case
ci: fix node 18 travis issue
ci: fix node 18 travis issue
chore(release): 1.11.4 [skip ci]

## [1.11.4](https://github.com/iamkun/dayjs/compare/v1.11.3...v1.11.4) (2022-07-19)

### Bug Fixes

* correct past property in ku (kurdish) locale ([](https://github.com/iamkun/dayjs/issues/1916)) ([74e82b9](https://github.com/iamkun/dayjs/commit/74e82b9da5ec8b90361fc27ac7c8b63faf354502))
* fix French [fr] local ordinal ([](https://github.com/iamkun/dayjs/issues/1932)) ([8f09834](https://github.com/iamkun/dayjs/commit/8f09834a88b8e7f8353c6e7473d4711596890a8c))
* fix objectSupport plugin ConfigTypeMap type ([](https://github.com/iamkun/dayjs/issues/1441)) ([](https://github.com/iamkun/dayjs/issues/1990)) ([fd51fe4](https://github.com/iamkun/dayjs/commit/fd51fe4f7fa799d8c598343e71fa59299ec4cf93))
* fix type error to add ordianl property in InstanceLocaleDataReturn and GlobalLocaleDataReturn types ([](https://github.com/iamkun/dayjs/issues/1931)) ([526f0ae](https://github.com/iamkun/dayjs/commit/526f0ae549ffbeeb9ef1099ca23964791fc59743))
* update locale ar-* meridiem function ([](https://github.com/iamkun/dayjs/issues/1954)) ([3d31611](https://github.com/iamkun/dayjs/commit/3d316117f04362d31f4e8bd349620b8414ce5d0c))
* zh-tw / zh-hk locale ordinal error ([](https://github.com/iamkun/dayjs/issues/1976)) ([0a1bd08](https://github.com/iamkun/dayjs/commit/0a1bd08e736be7d4e378aaca280caa6543f8066d))","Bug Fixes
correct past property in ku (kurdish) locale () (74e82b9)
fix French [fr] local ordinal () (8f09834)
fix objectSupport plugin ConfigTypeMap type () () (fd51fe4)
fix type error to add ordianl property in InstanceLocaleDataReturn and GlobalLocaleDataReturn types () (526f0ae)
update locale ar-* meridiem function () (3d31611)
zh-tw / zh-hk locale ordinal error () (0a1bd08)"
"chore(release): 1.8.11 [skip ci]

## [1.8.11](https://github.com/iamkun/dayjs/compare/v1.8.10...v1.8.11) (2019-03-21)

### Bug Fixes

* Add .add('quarter') .startOf('quarter') through plugin quarterOfYear ([dde39e9](https://github.com/iamkun/dayjs/commit/dde39e9)), closes [](https://github.com/iamkun/dayjs/issues/537) [](https://github.com/iamkun/dayjs/issues/531)
* Add locale support for Azerbaijani language (az) ([](https://github.com/iamkun/dayjs/issues/535)) ([eeb20fa](https://github.com/iamkun/dayjs/commit/eeb20fa))
* Correct typescript definition `add` ([22a249c](https://github.com/iamkun/dayjs/commit/22a249c)), closes [](https://github.com/iamkun/dayjs/issues/531)
* Fix CustomParseFormat plugin formatting bug ([](https://github.com/iamkun/dayjs/issues/536)) ([8578546](https://github.com/iamkun/dayjs/commit/8578546)), closes [](https://github.com/iamkun/dayjs/issues/533)
* Update pt locale ([](https://github.com/iamkun/dayjs/issues/538)) ([1ac9e1e](https://github.com/iamkun/dayjs/commit/1ac9e1e))
fix: Update ko locale weekdaysShort  ()
fix: Add 79 locales ()
fix: Add plugin minMax to sopport .max .min
docs: update minMax plugin docs
fix: Add isoWeeksInYear plugin
docs: Add IsoWeeksInYear docs
fix: Add Calendar plugin
fix: Fix set Month Year error in last day of the month
docs: Add Calendar plugin docs
fix: Add .get API
docs: Update .get docs
docs: Update available units table doc
fix: Update localizedFormat plugin to support lowercase localizable formats (l, ll, lll, llll) ()
test: Update test to keep locale name and file name the same
fix: Add Occitan (oc-lnc) locale file ()
docs: Update zh-cn doc
chore: calendar plugin get config from locale file ()
chore(release): 1.8.12 [skip ci]

## [1.8.12](https://github.com/iamkun/dayjs/compare/v1.8.11...v1.8.12) (2019-04-02)

### Bug Fixes

* Add .get API ([7318797](https://github.com/iamkun/dayjs/commit/7318797))
* Add 79 locales ([](https://github.com/iamkun/dayjs/issues/541)) ([f75a125](https://github.com/iamkun/dayjs/commit/f75a125))
* Add Calendar plugin ([d1b9cf9](https://github.com/iamkun/dayjs/commit/d1b9cf9))
* Add isoWeeksInYear plugin ([2db8631](https://github.com/iamkun/dayjs/commit/2db8631))
* Add Occitan (oc-lnc) locale file ([](https://github.com/iamkun/dayjs/issues/551)) ([c30b715](https://github.com/iamkun/dayjs/commit/c30b715))
* Add plugin minMax to sopport .max .min ([2870a23](https://github.com/iamkun/dayjs/commit/2870a23))
* Fix set Month Year error in last day of the month ([d058f4a](https://github.com/iamkun/dayjs/commit/d058f4a))
* Update ko locale weekdaysShort  ([](https://github.com/iamkun/dayjs/issues/543)) ([317fd3e](https://github.com/iamkun/dayjs/commit/317fd3e))
* Update localizedFormat plugin to support lowercase localizable formats (l, ll, lll, llll) ([](https://github.com/iamkun/dayjs/issues/546)) ([f2b5ebf](https://github.com/iamkun/dayjs/commit/f2b5ebf))","Bug Fixes
Add .get API (7318797)
Add 79 locales () (f75a125)
Add Calendar plugin (d1b9cf9)
Add isoWeeksInYear plugin (2db8631)
Add Occitan (oc-lnc) locale file () (c30b715)
Add plugin minMax to sopport .max .min (2870a23)
Fix set Month Year error in last day of the month (d058f4a)
Update ko locale weekdaysShort  () (317fd3e)
Update localizedFormat plugin to support lowercase localizable formats (l, ll, lll, llll) () (f2b5ebf)"
"ceph: expose c-v log per pvc

We now use a defined directory for each prepare job so that logs won't
be entangled with each other.
Also, if an error occurs, we print the log file too so we don't have to
ssh onto a host to find the c-v debug log.

Closes: https://github.com/rook/rook/issues/3888
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 35ee1af42a0169a71a766f6b7235bd7351e1071e)
ceph: client CRD test fixes

wait for client to be updated before verifying caps

Signed-off-by: Mateusz Los <los.mateusz@gmail.com>
(cherry picked from commit cd713b11cb8d95d288796614a596f6428ddcf57e)
ceph: fix resources for prepare job

Now, we purely rely on what the user puts in the CR and apply it.
Prior to this commit we were putting 0 if not declared, this was not the
intentional.

Closes: https://github.com/rook/rook/issues/4713
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit ef8ef454c3975b1ec261605aa5dd0b8b9e1f8ec1)
ceph: ensure crush-location osd command args is always the same

Currently each time the ceph operator restart, osds also restart.
This is due to a change in the crush-location args with location not ordered
At each restart the location order can change and lead to that kind of change in the osd deployment
104c105
<                             ""--crush-location=root=default host=hostname datacenter=PAR pod=2 rack=2"",
---
>                             ""--crush-location=root=default host=hostname pod=2 rack=2 datacenter=PAR"",
Sorting the topology to ensure stability of this command arg

Signed-off-by: n.fraison <n.fraison@criteo.com>

(cherry picked from commit 7bac0277962d04b86bd0f94b01ccd639cbb39c89)
ceph: fix external cluster config override cm creation

If an image is specified in the external cluster CR, the
'rook-ceph-config' config map will be created and then child CRs like
rgw/mds/nfs can be created.

Also, calling config.GetStore() was a mistake since it's calling by the
health check if new mons are being added to clusterInfo.

Closes: https://github.com/rook/rook/issues/4686
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit f59bdd626a33c5317ae441bb13cadae4b256af22)
ceph: fixed Ceph external cluster, repeatedly saving mon endpoints to config

Before, every few seconds the config files for the cluster where written to disk.
Even when there were no changes in the clusters monitors.

Fixes: https://github.com/rook/rook/issues/4717
Signed-off-by: Elias Wimmer <elias.wimmer@tuwien.ac.at>
(cherry picked from commit 70f312e35de8f43aff64b1daea89447f5d477d7f)
ceph: add ceph version to cluster status

In order for deployments managed outside the immediate scope of
the ClusterController to accurately detect the Ceph version of
their images, the ClusterController must store the detected
version. This change records the Ceph version as part of the
cluster status and modifies the crashcollector deployment to
consume this field to record its own Ceph version. This replaces
an earlier solution to this problem in which the Ceph version
for a given image to version mapping was stored in a global
in-memory map by the operator.

Resolves: rook
Signed-off-by: Elise Gafford <egafford@redhat.com>
(cherry picked from commit b19f8d498988285da70137eb5bee9e7d2bbefe41)
Ceph: MDS pod placement adheres to fault domain topology

With this modification is guaranteed that at least 1 MDS pod is going to be
placed in each of the available zones in the k8s cluster.
This would be improved in the future using:
<Pod Topology Spread Constraints> (still in alpha state since kubernetes V.1.16)

This modification obtain the number of zones in the k8s cluster and appends an
<antiaffinity> term using the topologyKey
<topology.kubernetes.io/zone> in the same number of MDS pods.
In the case that will be more MDS pods than zones, the <antiaffinity> term won't
be added in these extra pods.

Important Note:
The antiaffiniy term only will work with nodes labeled using the NEW label:
 <topology.kubernetes.io/zone> present in k8s V.1.17 clusters.
For previous versions of k8s clusters the label used is:
 <failure-domain.beta.kubernetes.io/zone>
And therefore, in this kind of clusters this modification won't work.

Resolves

[test ceph]

Signed-off-by: Juan Miguel Olmo Martínez <jolmomar@redhat.com>
(cherry picked from commit f62b2fa30557e0a3713821169fdd3bbbb96117f5)
CSI: update ceph-csi image tag to v2.0.0

ceph-csi v2.0.0 is released. This commit updates
the image tag to latest released ceph-csi version

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 0abb3b9e1bee6e4025e7c9de68034190901cb4aa)
CSI: add missing image tag ENV to openshift operator

CSI image tag ENV required to select the image tag
is missing in operator-openshift.yaml, This commit
adds the missing image tag ENV to operator-openshift.yaml

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit a5605e80637532e8491863908ba3a4eec8c8996a)
CSI: Remove containerized flag from rbd daemonset template

In ceph-csi release v2.0.0, deprecated `containerized` flag
is removed.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 29f8749ded003129f1b1315ca066bf06a4898a79)
CSI: update csi-attacher from v1.2.0 to v2.1.0

external-attacher v2.x is not compatible with v1.x
This PR makes the require changes in csi templates
and upgrade documentation for easily upgrade

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 06d2dd2994d563e4322266c3510419f5d6417f62)
CSI: upgrade node-driver-registrar from v1.1.0 to v1.2.0

latest released upstream version is v1.2.0,this
PR updates it to latest releasd version.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 8c1a90ca0116265ba6aa5bfe6a698ff2a5743d9d)
CSI: Add support for CSI volume expansion

This PR makes the necessary changes required
for volume expansion support for both cephfs and
rbd.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit cf161848997a897dad8e6ea93fcb464bccba67d8)
CSI: Add support for rbd erasure coded pool

In ceph-csi v2.0.0 added a support for specifing
the erasure coded pool in storageclass which will be
used to store data.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 5a685fba77b218e4f3aebe4b4396a3158f5ca2d5)
CSI: Add log if the CSI volume expansion  is not supported

Added warning log in opeartor, if csi volume
expansion is not supported.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 1cab0985d5ec8bb42f6d932e0118037bff146cdd)
integration: update CSI clusterRoles

Updated rbd-external-provisioner-runner and
cephfs-external-provisioner-runner CSI
clusterroles inintegration tests.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 57c9002b92c883dd7cffb6a2ac3ac26b70ee956b)
CSI: Add support for external-attacher v1.2.x

To avoid upgrade issue if user is still using v1.2.0
we have added a version check and set the required
arguments to support v1.2.0 external attacher.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
CSI: Disable resizer if cephcsi is v1.2.2

as ceph-csi doesnot implement the RPC calls
required for cephfs and rbd resizer,disable the
deployment of resizer container if the cephcsi
image tag is v1.2.2

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
ceph: Add nil check for ceph version

as CephVersion is pointer added a nil check
for CephVersion in status to avoid panic.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 34e1585f54edc8fdf936cfc4a294eb0e10ed376f)
Ceph: Assure mon canary pods deletion

If for any cause the operator processing a mon failover is restarted, the
mon canary pods created in order to get the right placement for this
kind of pods can remain in <pending> state forever.

The following labels have been added to the mon canary deployments:
""mon_type"" = ""canary""
""canary_pvc_name"" = <PVC name used for the canary pod>

A separate <removeCanaryDeployments> has been implemented for
removing the dependence of the variable <canaryCleanup>.
This function uses the <canary> labels to obtain the <real>
and <existing> list of mon canary deployments in any moment.

This change, by itself, will avoid most of the problems with
pending canary pods, but as second safe guard measure a call to this
function has been added in the health check, to <force> a canary pod
deletion if the cluster of monitors is healthy and complete (this implies
that no canary pods should be present)

Resolves

[test ceph]

Signed-off-by: Juan Miguel Olmo Martínez <jolmomar@redhat.com>
(cherry picked from commit b4ae856c7026a270e74bc599305f41c106327ecf)
ceph: skip the upgrade checks in tests

The integration tests only have a single node so the upgrade
checks do not provide any real safety for the cluster during
the upgrade. We will be able to improve the reliability and speed
of the tests by disabling these checks.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 153f28344e83d923253d586f10490f1a5caf01fc)
ci: add external cluster functional test

Add coverage in the CI for the external cluster feature.

Closes: https://github.com/rook/rook/issues/3691
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 84fc10cdc1b2a46ca17c16a0024297281a2c3a9d)
CSI: rename upgrade-from-v1.2-apply.yaml to  enable-csi-2.0-rbac.yaml

renamed the file to be more clean that this is
only fopr csi v2.0 .

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
ceph: add missing codegen for CephVersion

CephVersion was added recently in types.go but the codegen wasn't
applied.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 458ee5b6919c0e5d3d5c9bc03d5d41ed4150ec46)
ceph: fix TuneSlowDeviceClass spec

TuneSlowDeviceClass wasn't part of the StorageClassDeviceSet types but
only in VolumeSource which is not exposed in the CR spec so setting the
option would never work.
The only issue is that this apply to all volumeClaimTemplates
where each can point to a particular storage class...

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit a60a18c477deb5f3063138771855f68dd935190a)
ceph: add partition support

We now support partitions via 2 ways:

* if `useAllDevice: true`: partitions will be taken into account and
presented as OSD candidate
* if specified in the cluster CR: it'll picked up as well

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit dd659de46f099290c8ed194b1e714af1bdf5de47)
ceph: fix garbage collection for csi driver

The CSI driver was disappearing in some clusters after certain events such
as restarting the operator or master nodes being restarted. This is due to
an incorrect owner reference on the csi driver back to the configmap. The
owner reference must specify core/v1 instead of v1 for the APIVersion
of the configmap. This issue is only hit when the k8s garbage collector
rebuilds its cache, which would happen at indeterminate times from
Rook's perspective.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 48499115f86763485b554af3977c86210c037e99)
ceph: ability to enable the balancer module

The balancer module is a special module that needs particular actions to
be enabled.

Closes: https://bugzilla.redhat.com/show_bug.cgi?id=1790500
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 488b27a5b7bb4639841aea76eb491d08c7baf098)
ceph: skip partitions depending on the ceph version

If we detect a partition we should not use it if the ceph version is not
at least 14.2.8 since it has the necessary changes to support partitions
with ceph-volume.
Inspiration of https://github.com/rook/rook/pull/4783.

Signed-off-by: Sébastien Han <seb@redhat.com>
ceph: allow for empty all annotations

When the annotations are generated for a ceph daemon,
the all annotations are merged with the component annotations.
If there are no all annotations, the component annotation
calculation was crashing. Now we check for the case where
the all annotations are not defined.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 16b2058432a864f329cde6d0c6862da7bde8f7b8)
build: update manifest version to v1.2.3

With the v1.2.3 release we update the manifests to the new version.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.2.3 is a patch release limited in scope and focusing on bug fixes.
Ceph
Fix garbage collection for the disappearing CSI driver (, @travisn)
Allow enabling of the Ceph-CSI v2.0.0 driver, with the default still as CSI v1.2.2 (, @Madhu-1)
Allow for empty ""all"" annotations (, @travisn)
Ability to enable the balancer module (, @leseb)
Fix TuneSlowDeviceClass spec (, @leseb)
Skip the upgrade checks in integration tests (, @travisn)
Add an external cluster functional test (, @leseb)
Remove unnecessary mon canary pods after an aborted mon failover (, @jmolmo)
Ensure MDS pod placement adheres to zone topology if specified (, @jmolmo)
Add nil check for ceph version in crash controller (, @Madhu-1)
Add ceph version to cluster status (, @egafford)
Ceph external cluster repeatedly saving mon endpoints to config (, @eliaswimmer)
Fix resource limits for the OSD prepare job (, @leseb)
Ensure OSD location is consistent to avoid unnecessary osds restarts (, @ashangit)
Fix external cluster config override configmap creation (, @leseb)
Improved ceph-volume logging in the OSD prepare job (, @leseb)
Integration test fix for the client CR (, @mateuszlos)"
"chore(release): 1.8.19 [skip ci]

## [1.8.19](https://github.com/iamkun/dayjs/compare/v1.8.18...v1.8.19) (2020-01-06)

### Bug Fixes

* Add UpdateLocale plugin to update a locale's properties ([](https://github.com/iamkun/dayjs/issues/766)) ([82ce2ba](https://github.com/iamkun/dayjs/commit/82ce2ba8d7e402e40f6d005d400eb5356a0b0633))
* Fix CustomParseFormat Plugin 'YYYY-MM' use first day of the month ([ba709ec](https://github.com/iamkun/dayjs/commit/ba709eca86a71ae648bc68bf67d9abdc229198d4)), closes [](https://github.com/iamkun/dayjs/issues/761)
* Fix CustomParseFormat Plugin to set correct locale ([66ce23f](https://github.com/iamkun/dayjs/commit/66ce23f2e18c5506e8f1a7ef20d3483a4df80087))
* Fix WeekOfYear Plugin wrong calender week number bug ([79b86db](https://github.com/iamkun/dayjs/commit/79b86dbbf3cfd3f1e2165b3d479a7061ad1b6925)), closes [](https://github.com/iamkun/dayjs/issues/760)
* Update RelativeTime plugin to support function to make additional processing ([](https://github.com/iamkun/dayjs/issues/767)) ([4bd9250](https://github.com/iamkun/dayjs/commit/4bd9250fbe7131e2fddfb5fa1b3350e8c2262ca9))
* Update ru, uk, cs locale to support relativeTime with plural ([3f080f7](https://github.com/iamkun/dayjs/commit/3f080f7d6bfdc4018cbb7c4d0112ff1ead4ef6b8))
fix: Fix weekOfYear plugin to support yearStart locale for better week number result ()
fix: Add Bislama Locale (bi) ()
fix: Update pl locale fusional config
chore: Add locale comment
fix: Update LocaleData plugin to support dayjs.localeData().weekdays() API

fix
fix: Update LocaleData plugin to support dayjs.months dayjs.weekdays API

fix
fix: Update et (Estonian) locale relativeTime ()
chore(release): 1.8.20 [skip ci]

## [1.8.20](https://github.com/iamkun/dayjs/compare/v1.8.19...v1.8.20) (2020-02-04)

### Bug Fixes

* Add Bislama Locale (bi) ([](https://github.com/iamkun/dayjs/issues/780)) ([9ac6ab4](https://github.com/iamkun/dayjs/commit/9ac6ab481bc883dd4ecc02caab12c8b2fc218a42))
* Fix weekOfYear plugin to support yearStart locale for better week number result ([](https://github.com/iamkun/dayjs/issues/769)) ([f00db36](https://github.com/iamkun/dayjs/commit/f00db36e70bc7beaca1abadeb30a9b1fbb3261ee))
* Update et (Estonian) locale relativeTime ([](https://github.com/iamkun/dayjs/issues/790)) ([d8e0f45](https://github.com/iamkun/dayjs/commit/d8e0f45f6cd2d5e5704b9797929227454c92d1a5))
* Update LocaleData plugin to support dayjs.localeData().weekdays() API ([287fed6](https://github.com/iamkun/dayjs/commit/287fed6db9eb4fd979b4861aca4dacbd32422533)), closes [](https://github.com/iamkun/dayjs/issues/779)
* Update LocaleData plugin to support dayjs.months dayjs.weekdays API ([144c2ae](https://github.com/iamkun/dayjs/commit/144c2ae6e15fbf89e3acd7c8cb9e237c5f6e1348)), closes [](https://github.com/iamkun/dayjs/issues/779)
* Update pl locale fusional config ([d372475](https://github.com/iamkun/dayjs/commit/d3724758bb27d5b17587b995ba14e7e80dcd1151))","Bug Fixes
Add Bislama Locale (bi) () (9ac6ab4)
Fix weekOfYear plugin to support yearStart locale for better week number result () (f00db36)
Update et (Estonian) locale relativeTime () (d8e0f45)
Update LocaleData plugin to support dayjs.localeData().weekdays() API (287fed6), closes
Update LocaleData plugin to support dayjs.months dayjs.weekdays API (144c2ae), closes
Update pl locale fusional config (d372475)"
"chore(release): 1.8.29 [skip ci]

## [1.8.29](https://github.com/iamkun/dayjs/compare/v1.8.28...v1.8.29) (2020-07-02)

### Bug Fixes

* Duration plugin supports parse ISO string with week (W) ([](https://github.com/iamkun/dayjs/issues/950)) ([f0fc12a](https://github.com/iamkun/dayjs/commit/f0fc12adadcab53fb0577ad8f5e2f1cf784fd8f5))
* LocaleData plugin supports locale order ([](https://github.com/iamkun/dayjs/issues/938)) ([62f429d](https://github.com/iamkun/dayjs/commit/62f429db73a0a069b1267231dea172b85f4b90e3)), closes [](https://github.com/iamkun/dayjs/issues/936)
* Update type definition to support array format ([](https://github.com/iamkun/dayjs/issues/945)) ([81d4740](https://github.com/iamkun/dayjs/commit/81d4740511d47e34f891b21afeb0449ef8a28688)), closes [](https://github.com/iamkun/dayjs/issues/944)
* Update type definition to support strict mode ([](https://github.com/iamkun/dayjs/issues/951)) ([8d54f3f](https://github.com/iamkun/dayjs/commit/8d54f3f7d4d161e72c767fa09699e70a2b3d681c))
chore: Update readme
fix: Update French (fr) locale to set correct yearStart

fix
fix: Add Haitian Creole (ht) and Spanish Puerto Rico (es-pr) locale configs ()
fix: Fix UTC plugin wrong hour bug while adding month or year  ()
Fix: Locale presets type definition ()
chore: update LocalePresetType
chore(release): 1.8.30 [skip ci]

## [1.8.30](https://github.com/iamkun/dayjs/compare/v1.8.29...v1.8.30) (2020-07-22)

### Bug Fixes

* Add Haitian Creole (ht) and Spanish Puerto Rico (es-pr) locale configs ([](https://github.com/iamkun/dayjs/issues/958)) ([b2642e2](https://github.com/iamkun/dayjs/commit/b2642e2d1f87734a34808c66e5176cb18bc0414d))
* Fix UTC plugin wrong hour bug while adding month or year  ([](https://github.com/iamkun/dayjs/issues/957)) ([28ae070](https://github.com/iamkun/dayjs/commit/28ae070024ff26685c88ce4cc8747307e86923c9))
* Update French (fr) locale to set correct yearStart ([14ab808](https://github.com/iamkun/dayjs/commit/14ab808a7b7e226f2eb2cbe894916a18ed5d967d)), closes [](https://github.com/iamkun/dayjs/issues/956)","Bug Fixes
Add Haitian Creole (ht) and Spanish Puerto Rico (es-pr) locale configs () (b2642e2)
Fix UTC plugin wrong hour bug while adding month or year  () (28ae070)
Update French (fr) locale to set correct yearStart (14ab808), closes"
"ceph: only set isUpgrade when the image changes

The isUpgrade flag was being set every time the operator
was started. This caused the upgrade checks to be run every
time the operator restarted. Thus, if any mons were down,
you likely would get stuck on the upgrade checks since another
mon could not be stopped. We need to rely on the upgrade being
detected either by a different image name from the cluster CR
update, or from different versions of the daemons running
in case the operator was restarted in the middle of an upgrade.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit b79c223986cd94899be273cb7a66de1a5e7518a2)
ceph: fix object bucket provisioner when rgw not on port 80

Solves issue where provisioner would not handle other ports

Signed-off-by: Brian Sperduto <brian.sperduto@gmail.com>
(cherry picked from commit 78f72d48d631e7073467c9dc26fd31c5a8202a6b)
CSI: Add privileged securityContext to all daemonset containers

On systems with SELinux enabled, non-privileged containers
can't access data of privileged containers.
Since the socket is exposed by privileged containers,
all sidecars must be privileged too.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit d9dd91d9fb7d9558aadf72b4fdbb08afa1623aa1)
CSI: use empty dir to store provisioner socket file

currently we are making use of hostpath
directory to store the provisioner socket, as this
socket is not needed by anyone else other than containers
inside the provisioner pod using empty directory
to store this socket is  the best option.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 7a7e65a9b255a99d3f0d3d38bc754db1fd78d838)
build: set the v1.1.9 release tag

With the v1.1.9 release we update the manifests with the new tag.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.1.9 is a patch release limited in scope and focusing on bug fixes.
Ceph
CSI driver handling of upgrade from OCP 4.2 to OCP 4.3 (, @Madhu-1)
Fix object bucket provisioner when rgw not on port 80 (, @bsperduto)
Only perform upgrade checks when the Ceph image changes (, @travisn)"
"chore(release): 1.10.5 [skip ci]

## [1.10.5](https://github.com/iamkun/dayjs/compare/v1.10.4...v1.10.5) (2021-05-26)

### Bug Fixes

* add meridiem in ar locales ([](https://github.com/iamkun/dayjs/issues/1375)) ([319f616](https://github.com/iamkun/dayjs/commit/319f616e572a03b984013d04d1b3a18ffd5b1190))
* Added Zulu support to customParseFormat ([](https://github.com/iamkun/dayjs/issues/1359)) ([1138a3f](https://github.com/iamkun/dayjs/commit/1138a3f0a76592c6d72fb86c4399e133fa41e2ec))
* fix Bengali [bn] locale monthsShort error ([a0e6c0c](https://github.com/iamkun/dayjs/commit/a0e6c0cf3e1828020dfa11432c6716990f6ed5e0))
* fix missing types for ArraySupport plugin ([](https://github.com/iamkun/dayjs/issues/1401)) ([b1abdc4](https://github.com/iamkun/dayjs/commit/b1abdc40ee6c9d18ff46c311a114e0755677ea6f))
* fix Ukrainian [uk] locale ([](https://github.com/iamkun/dayjs/issues/1463)) ([0fdac93](https://github.com/iamkun/dayjs/commit/0fdac93ff2531542301b76952be9b084b2e2dfa0))
* hotfix for `Duration` types ([](https://github.com/iamkun/dayjs/issues/1357)) ([855b7b3](https://github.com/iamkun/dayjs/commit/855b7b3d049a3903794f91db3419f167c00dabd2)), closes [](https://github.com/iamkun/dayjs/issues/1354)
* timezone plugin DST error ([](https://github.com/iamkun/dayjs/issues/1352)) ([71bed15](https://github.com/iamkun/dayjs/commit/71bed155edf32bff24379930ac684fc783538d8f))
* Update duration plugin change string to number ([](https://github.com/iamkun/dayjs/issues/1394)) ([e1546d1](https://github.com/iamkun/dayjs/commit/e1546d1a0cdb97ae92cf11efe61d94707af6a3a3))
* update Duration plugin to support no-argument ([](https://github.com/iamkun/dayjs/issues/1400)) ([8d9a5ae](https://github.com/iamkun/dayjs/commit/8d9a5ae0749e1b4e76babd4deeaa3b1d9776c29b))
* Update Finnish [fi] locale to set yearStart  ([](https://github.com/iamkun/dayjs/issues/1378)) ([f3370bd](https://github.com/iamkun/dayjs/commit/f3370bda4e435118f714c8a7daf5c88cfc4b69ba))
* update Russian [ru] locale meridiem and unit tests ([](https://github.com/iamkun/dayjs/issues/1403)) ([f10f39d](https://github.com/iamkun/dayjs/commit/f10f39de7db70244a3c35e4a421090a12972457b))
* update Russian [ru] locale yearStart config  ([](https://github.com/iamkun/dayjs/issues/1372)) ([5052515](https://github.com/iamkun/dayjs/commit/5052515fe35b2444201ef8ef87220b1876a94d0a))
* update Slovenian [sl] locale to set correct ordinal  ([](https://github.com/iamkun/dayjs/issues/1386)) ([cb4f746](https://github.com/iamkun/dayjs/commit/cb4f74633b3020d6dbf19548c8cb13613dafca18))
* update Spanish [es] locale to change month names to lowercase ([](https://github.com/iamkun/dayjs/issues/1414)) ([9c20e77](https://github.com/iamkun/dayjs/commit/9c20e77caf7b1b5eccf418175203b198d4e29535))
* update Swedish [sv] locale to set correct yearStart ([](https://github.com/iamkun/dayjs/issues/1385)) ([66c5935](https://github.com/iamkun/dayjs/commit/66c59354964ef456bcd5f6152819618f44978082))
* update UTC plugin to support string argument like +HH:mm ([](https://github.com/iamkun/dayjs/issues/1395)) ([656127c](https://github.com/iamkun/dayjs/commit/656127cc44eda50923a1ac755602863fc32b9e69))
fix: update UTC plugin type file for strict parsing ()
fix: update names of weekdays and months in Bulgarian [bg] to lowercase ()
fix: add invalid date string override () ()
fix: Fix DayOfYear plugin when using BadMutable plugin ()
fix: Implement ordinal in Bulgarian translation (fixes) ()
fix: update customParseFormat plugin to custom two-digit year parse function ()
fix: update type file `.diff` ()
doc: Russian readme link changes & license translation ()
fix: parameter type ()
fix: add sv-fi Finland Swedish locale ()
fix: more strict delimiter in REGEX_PARSE ()
fix: dayjs ConfigTypeMap add null & undefined ()
fix: customParseFormat support parsing X x timestamp ()
chore(release): 1.10.6 [skip ci]

## [1.10.6](https://github.com/iamkun/dayjs/compare/v1.10.5...v1.10.6) (2021-07-06)

### Bug Fixes

* add invalid date string override ([](https://github.com/iamkun/dayjs/issues/1465)) ([](https://github.com/iamkun/dayjs/issues/1470)) ([06f88f4](https://github.com/iamkun/dayjs/commit/06f88f425828b1ce96b737332d25145a95a4ee9d))
* add sv-fi Finland Swedish locale ([](https://github.com/iamkun/dayjs/issues/1522)) ([8e32164](https://github.com/iamkun/dayjs/commit/8e32164855cff724642e24c37a631eb4c4d760c8))
* customParseFormat support parsing X x timestamp ([](https://github.com/iamkun/dayjs/issues/1567)) ([eb087f5](https://github.com/iamkun/dayjs/commit/eb087f52861313b8dd8a5c1b77858665ec72859e))
* dayjs ConfigTypeMap add null & undefined ([](https://github.com/iamkun/dayjs/issues/1560)) ([b5e40e6](https://github.com/iamkun/dayjs/commit/b5e40e6f16abeaea6a0facfa466d20aefaa8a444))
* Fix DayOfYear plugin when using BadMutable plugin ([](https://github.com/iamkun/dayjs/issues/1511)) ([0b0c6a3](https://github.com/iamkun/dayjs/commit/0b0c6a31ec9c0aff991b0e8dd6eed116201274cc))
* Implement ordinal in Bulgarian translation (fixes [](https://github.com/iamkun/dayjs/issues/1501)) ([](https://github.com/iamkun/dayjs/issues/1502)) ([b728da5](https://github.com/iamkun/dayjs/commit/b728da5ed9ed08210004ed20ce5fcd52a92de7da))
* more strict delimiter in REGEX_PARSE ([](https://github.com/iamkun/dayjs/issues/1555)) ([bfdab5c](https://github.com/iamkun/dayjs/commit/bfdab5c0d45a5736b68e8e1b1354fc021e05f607))
* parameter type ([](https://github.com/iamkun/dayjs/issues/1549)) ([f369844](https://github.com/iamkun/dayjs/commit/f369844dd69d253c4c7cbf68150939db3db233be))
* update customParseFormat plugin to custom two-digit year parse function ([](https://github.com/iamkun/dayjs/issues/1421)) ([bb5df55](https://github.com/iamkun/dayjs/commit/bb5df55cd3975dc7638b8f4e762afa470b6620f7))
* update names of weekdays and months in Bulgarian [bg] to lowercase ([](https://github.com/iamkun/dayjs/issues/1438)) ([b246210](https://github.com/iamkun/dayjs/commit/b24621091fec9cf6704de21e4b323f6f0c4abbf1))
* update type file `.diff` ([](https://github.com/iamkun/dayjs/issues/1505)) ([6508494](https://github.com/iamkun/dayjs/commit/6508494a4e62977b4397baaeef293d1bcf3c7235))
* update UTC plugin type file for strict parsing ([](https://github.com/iamkun/dayjs/issues/1443)) ([b4f28df](https://github.com/iamkun/dayjs/commit/b4f28df219fe63202dffdbeeaec5677c4d2c9111))","Bug Fixes
add invalid date string override () () (06f88f4)
add sv-fi Finland Swedish locale () (8e32164)
customParseFormat support parsing X x timestamp () (eb087f5)
dayjs ConfigTypeMap add null & undefined () (b5e40e6)
Fix DayOfYear plugin when using BadMutable plugin () (0b0c6a3)
Implement ordinal in Bulgarian translation (fixes) () (b728da5)
more strict delimiter in REGEX_PARSE () (bfdab5c)
parameter type () (f369844)
update customParseFormat plugin to custom two-digit year parse function () (bb5df55)
update names of weekdays and months in Bulgarian [bg] to lowercase () (b246210)
update type file .diff () (6508494)
update UTC plugin type file for strict parsing () (b4f28df)"
"chore(release): 1.8.34 [skip ci]

## [1.8.34](https://github.com/iamkun/dayjs/compare/v1.8.33...v1.8.34) (2020-08-20)

### Bug Fixes

* Fix Timezone plugin to preserve milliseconds while changing timezone ([](https://github.com/iamkun/dayjs/issues/1003)) ([5f446ed](https://github.com/iamkun/dayjs/commit/5f446eda770fa97e895c81a8195b3ba5d082cef0)), closes [](https://github.com/iamkun/dayjs/issues/1002)
* support parsing unlimited decimals of millisecond ([](https://github.com/iamkun/dayjs/issues/1010)) ([d1bdd36](https://github.com/iamkun/dayjs/commit/d1bdd36a56e3d1786523a180e3fc18068f609135)), closes [](https://github.com/iamkun/dayjs/issues/544)
* update Duration plugin to support global locale ([](https://github.com/iamkun/dayjs/issues/1008)) ([1c49c83](https://github.com/iamkun/dayjs/commit/1c49c83e79811eede13db6372b5d65db598aee77)), closes [](https://github.com/iamkun/dayjs/issues/1007)
fix: fix LocaleData plugin to support instance.weekdays() API ()

fix
fix: Fix BadMutable plugin bug in .diff ()
fix: Update Dutch (nl) locale to set correct yearStart
chore(release): 1.8.35 [skip ci]

## [1.8.35](https://github.com/iamkun/dayjs/compare/v1.8.34...v1.8.35) (2020-09-02)

### Bug Fixes

* Fix BadMutable plugin bug in .diff ([](https://github.com/iamkun/dayjs/issues/1023)) ([40ab6d9](https://github.com/iamkun/dayjs/commit/40ab6d9a53e8047cfca63c611c25dd045372d021))
* fix LocaleData plugin to support instance.weekdays() API ([](https://github.com/iamkun/dayjs/issues/1019)) ([a09d259](https://github.com/iamkun/dayjs/commit/a09d259a407b81d1cb6bb5623fad551c775d8674)), closes [](https://github.com/iamkun/dayjs/issues/1017)
* Update Dutch (nl) locale to set correct yearStart ([1533a2c](https://github.com/iamkun/dayjs/commit/1533a2cc1475270032da2d87b19fc3d62327e6e3))","Bug Fixes
Fix BadMutable plugin bug in .diff () (40ab6d9)
fix LocaleData plugin to support instance.weekdays() API () (a09d259), closes
Update Dutch (nl) locale to set correct yearStart (1533a2c)"
"ceph: mention helm upgrade path for csi driver

Update documentation to mention helm chart upgrade path for csi driver.

This prevents the user from manually applying the RBAC roles when the helm chart does it for him also notifies him where to set the images for CSI in the helm chart.

Signed-off-by: Paul <paulcatinean@gmail.com>
(cherry picked from commit 6cd49153adb821538397430056436bea2519d232)
ceph: avoid duplication of mon anti-affinity

The default pod anti-affinity for the mons that rook adds
automatically intended to be appended to any anti-affinity that
is specified in the cluster CR.

There is a bug in the ApplyToPodSpec() method that has long existed.
The issue is that when antiaffinity is appended, it will append not only
to the pod spec, but will modify the original placement spec. Thus, each
mon that is started will have one more antiaffinity clause than the previous mon.

This condition is rarely hit or noticed because it commonly is only hit
in the canary pods. Since these pods are immediately deleted,
there are no side effects of the duplicate affinity clauses. The place
where it becomes an issue is when the mons are backed by a PVC. In this case,
the mons do not have node affinity and will hit the code path that appends
to the antiaffinity and thus modifies the original antiaffinity.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
k8sutil: set ResourceVersion for PrometheusRule

This change sets the ResourceVersion on the PrometheusRule object before
it is updated in Kubernetes.
This change fixes the following error
```
is invalid: metadata.resourceVersion: Invalid value: 0x0: must be specified for an update
```
which can occur during update when no ResourceVersion is set.

Resolves

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 430e4dc0f4fee5b87b3016dffe64833a40aa6d14)
Ceph: fix updates for servicemonitor

with older implementation, servicemonitor was not getting
updated due to missing resource version. This fix adds
resource version to the servicemonitor definition and
ensures that the object is properly created or
updated.

Signed-off-by: Umanga Chapagain <chapagainumanga@gmail.com>
(cherry picked from commit db3735656c64b77ba57fb0c4f5be7282a36255b7)
CSI: Fix enable resizer and attacher leader election

If the user has specified the custom ceph-csi image
name in the operator the starting of the resizer and
attacher leaderelection will fail,
this Fix will use the last index of slice to check
the image version is v2.x or not.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
ceph: double check for a filesystem

It appears that udev does not report `ID_FS_TYPE` sometimes so let's try
again with lsblk before not skipping the device.

Closes: https://github.com/rook/rook/issues/5022
Signed-off-by: Sébastien Han <seb@redhat.com>
ceph: reject small devices

disk/partition smaller than 5GiB will be skipped and not used for OSD.

Signed-off-by: Sébastien Han <seb@redhat.com>
ceph: set pg_num for rgw metadata pools to lower default

The PG count on metadata pools should default to rgw_rados_pool_pg_num_min
instead of the more general default pg count. This means rgw pools
will default to 8 PGs instead of 32 PGs, which means a lot more pools
can be created before hitting the default PG limit.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
build: set manifest versions to v1.2.7

Set the manifest versions and docs to v1.2.7 for the patch release

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.2.7 is a patch release limited in scope and focusing on bug fixes.
Ceph
Apply the expected lower PG count for rgw metadata pools (, @travisn)
Reject devices smaller than 5GiB for OSDs (, @leseb)
Add extra check for filesystem to skip boot volumes for OSD configuration (, @leseb)
Avoid duplication of mon pod anti-affinity (, @travisn)
Update service monitor definition during upgrade (, @umangachapagain)
Resizer container fix due to misinterpretation of the cephcsi version (, @Madhu-1)
Set ResourceVersion for Prometheus rules (, @galexrt)
Upgrade doc clarification for RBAC related to the helm chart (, @PCatinean)"
"ceph: add privileged securityContext to cephfs deployment

cephfs csi driver still uses the ceph CLI for all the
ceph fs operations, when cephcsi gets a request from
the kubernetes it will internally starts threads for
each call. in cephcsi we are setting the pids
limit to max, to set this value the container has
to be running as the privileged one.

if we go with default pid limit we will face core dump
due to resource crunch.

without privileged access we will see Failed to set new
PID limit to -1: open /sys/fs/cgroup/pids/kubepods.slice/
kubepods-besteffort.slice/kubepods-besteffort-pod1029ed37_bebc_466d_9e53_79e7323a67ed.slice/crio-9ef6768d027916f414bf30b54ef13eebad8efd0aa4741d97618affa838d7b4c0.scope/pids.max: permission denied

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 8f5196a559d23b45a97838776dac4b1e3b6b5db3)
docs: clarify the meaning of cleanup policy of ceph cluster crd

The description of cleanupPolicy is a bit ambiguous. First, we should clarify
that both skipping orchestration and data cleanup will happen iff
""yes-really-destroy-data"" is set to `confirmation`. Second, We should also
describe wiping devices will happen even if user don't specify `sanitizeDisks`
explicitly.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 21cef906f776347a6ecb71b6327a69fd3ba87e11)
ceph: fill in rgw deployment version

The RGW deployment's ceph-version label should now display the same
version as the image it is using.

It previously displayed an empty version: 0.0.0-0.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 98d5c73d5ef22274d10f76054f48822e86058c10)
ceph: update base image and examples to v15.2.5

For the v1.5 release we use the latest version of ceph by default,
which is now v15.2.5

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit a5b9fbc994388e235a604593c95002753f427815)
ceph: remove ""createInstance"" function

Since we moved to the controller-runtime, events are processed one by
one and so are reconciles. This means we won't have multiple
orchestrations happening at the same time. Thus removing this code.

Also removing one unused variable.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 10dd8e118499860fd92e39582f3ebab153433ea2)
ceph: export isDoNotReconcile function

Since the predicate for the CephCluster object will soon move into its
own predidacte we need to export isDoNotReconcile so that it can be
consummed by the ""cluster"" package.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 9b9f45b7927a5ea7d6811534f54bdbcfdf671092)
ceph: add dedicated predicate for CephCluster object

Since we want to pass a context to it, let's extract the logic into its
own predicate.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 70c6752e0e927b794aad0c40780451a5c2787d81)
ceph: ability to abort orchestration

We can now prioritize orchestrations on certain event. Today only two
events will cancel on-going orchestrations (if any):

* request for cluster deletion
* request for cluster upgrade

If one of the two are caught by the watcher we will cancel the on-going
orchestration.
For that we implemented a simple approach based on check points, where
we will check for a cancellation request in certain part of the
orchestration. Mainly before each mons/mgr/osds orchestration loops.

This solution is not perfect, but we are waiting for the
controller-runtime to release its 0.7 version which will embed context
support. With that we will be able to cancel reconciles more precisely
and rapidly.

Operator log example:

```
2020-11-24 13:54:59.499719 I | op-mon: parsing mon endpoints: a=10.109.126.120:6789
2020-11-24 13:54:59.499719 I | op-mon: parsing mon endpoints: a=10.109.126.120:6789
2020-11-25 12:59:12.986264 I | ceph-cluster-controller: done reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:33.776947 I | ceph-cluster-controller: CR has changed for ""rook-ceph"". diff=  v1.ClusterSpec{
        CephVersion: v1.CephVersionSpec{
                Image:            ""ceph/ceph:v15.2.5"",
-               AllowUnsupported: true,
+               AllowUnsupported: false,
        },
        DriveGroups: nil,
        Storage:     {UseAllNodes: true, Selection: {UseAllDevices: &true}},
        ... // 20 identical fields
  }
2020-11-25 13:07:33.777039 I | ceph-cluster-controller: reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:33.785088 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:33.788626 I | ceph-cluster-controller: detecting the ceph image version for image ceph/ceph:v15.2.5...
2020-11-25 13:07:35.280789 I | ceph-cluster-controller: detected ceph image version: ""15.2.5-0 octopus""
2020-11-25 13:07:35.280806 I | ceph-cluster-controller: validating ceph version from provided image
2020-11-25 13:07:35.285888 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:35.287828 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:35.288082 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:35.621625 I | ceph-cluster-controller: cluster ""rook-ceph"": version ""15.2.5-0 octopus"" detected for image ""ceph/ceph:v15.2.5""
2020-11-25 13:07:35.642688 I | op-mon: start running mons
2020-11-25 13:07:35.646323 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:35.654070 I | op-mon: saved mon endpoints to config map map[csi-cluster-config-json:[{""clusterID"":""rook-ceph"",""monitors"":[""10.107.242.49:6789"",""10.109.71.30:6789"",""10.98.93.224:6789""]}] data:a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789 mapping:{""node"":{""a"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""b"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""c"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""}}} maxMonId:2]
2020-11-25 13:07:35.868253 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:35.868573 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:37.074353 I | op-mon: targeting the mon count 3
2020-11-25 13:07:38.153435 I | op-mon: checking for basic quorum with existing mons
2020-11-25 13:07:38.178029 I | op-mon: mon ""a"" endpoint is [v2:10.107.242.49:3300,v1:10.107.242.49:6789]
2020-11-25 13:07:38.670191 I | op-mon: mon ""b"" endpoint is [v2:10.109.71.30:3300,v1:10.109.71.30:6789]
2020-11-25 13:07:39.477820 I | op-mon: mon ""c"" endpoint is [v2:10.98.93.224:3300,v1:10.98.93.224:6789]
2020-11-25 13:07:39.874094 I | op-mon: saved mon endpoints to config map map[csi-cluster-config-json:[{""clusterID"":""rook-ceph"",""monitors"":[""10.107.242.49:6789"",""10.109.71.30:6789"",""10.98.93.224:6789""]}] data:a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789 mapping:{""node"":{""a"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""b"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""},""c"":{""Name"":""minikube"",""Hostname"":""minikube"",""Address"":""192.168.39.3""}}} maxMonId:2]
2020-11-25 13:07:40.467999 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:40.469733 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:41.071710 I | cephclient: writing config file /var/lib/rook/rook-ceph/rook-ceph.config
2020-11-25 13:07:41.078903 I | cephclient: generated admin config in /var/lib/rook/rook-ceph
2020-11-25 13:07:41.125233 I | op-mon: deployment for mon rook-ceph-mon-a already exists. updating if needed
2020-11-25 13:07:41.327778 I | op-k8sutil: updating deployment ""rook-ceph-mon-a"" after verifying it is safe to stop
2020-11-25 13:07:41.327895 I | op-mon: checking if we can stop the deployment rook-ceph-mon-a
2020-11-25 13:07:44.045644 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-a""
2020-11-25 13:07:44.045706 I | op-mon: checking if we can continue the deployment rook-ceph-mon-a
2020-11-25 13:07:44.045740 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:44.109159 I | op-mon: mons running: [a b c]
2020-11-25 13:07:44.474596 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:44.478565 I | op-mon: deployment for mon rook-ceph-mon-b already exists. updating if needed
2020-11-25 13:07:44.493374 I | op-k8sutil: updating deployment ""rook-ceph-mon-b"" after verifying it is safe to stop
2020-11-25 13:07:44.493403 I | op-mon: checking if we can stop the deployment rook-ceph-mon-b
2020-11-25 13:07:47.135524 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-b""
2020-11-25 13:07:47.135542 I | op-mon: checking if we can continue the deployment rook-ceph-mon-b
2020-11-25 13:07:47.135551 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:47.148820 I | op-mon: mons running: [a b c]
2020-11-25 13:07:47.445946 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:47.448991 I | op-mon: deployment for mon rook-ceph-mon-c already exists. updating if needed
2020-11-25 13:07:47.462041 I | op-k8sutil: updating deployment ""rook-ceph-mon-c"" after verifying it is safe to stop
2020-11-25 13:07:47.462060 I | op-mon: checking if we can stop the deployment rook-ceph-mon-c
2020-11-25 13:07:48.853118 I | ceph-cluster-controller: CR has changed for ""rook-ceph"". diff=  v1.ClusterSpec{
        CephVersion: v1.CephVersionSpec{
-               Image:            ""ceph/ceph:v15.2.5"",
+               Image:            ""ceph/ceph:v15.2.6"",
                AllowUnsupported: false,
        },
        DriveGroups: nil,
        Storage:     {UseAllNodes: true, Selection: {UseAllDevices: &true}},
        ... // 20 identical fields
  }
2020-11-25 13:07:48.853140 I | ceph-cluster-controller: upgrade requested, cancelling any ongoing orchestration
2020-11-25 13:07:50.119584 I | op-k8sutil: finished waiting for updated deployment ""rook-ceph-mon-c""
2020-11-25 13:07:50.119606 I | op-mon: checking if we can continue the deployment rook-ceph-mon-c
2020-11-25 13:07:50.119619 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:50.130860 I | op-mon: mons running: [a b c]
2020-11-25 13:07:50.431341 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:50.431361 I | op-mon: mons created: 3
2020-11-25 13:07:50.734156 I | op-mon: waiting for mon quorum with [a b c]
2020-11-25 13:07:50.745763 I | op-mon: mons running: [a b c]
2020-11-25 13:07:51.045108 I | op-mon: Monitors in quorum: [a b c]
2020-11-25 13:07:51.054497 E | ceph-cluster-controller: failed to reconcile. failed to reconcile cluster ""rook-ceph"": failed to configure local ceph cluster: failed to create cluster: CANCELLING CURRENT ORCHESTATION
2020-11-25 13:07:52.055208 I | ceph-cluster-controller: reconciling ceph cluster in namespace ""rook-ceph""
2020-11-25 13:07:52.070690 I | op-mon: parsing mon endpoints: a=10.107.242.49:6789,b=10.109.71.30:6789,c=10.98.93.224:6789
2020-11-25 13:07:52.088979 I | ceph-cluster-controller: detecting the ceph image version for image ceph/ceph:v15.2.6...
2020-11-25 13:07:53.904811 I | ceph-cluster-controller: detected ceph image version: ""15.2.6-0 octopus""
2020-11-25 13:07:53.904862 I | ceph-cluster-controller: validating ceph version from provided image
```

Closes: https://github.com/rook/rook/issues/6587
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit ad24990473a876ba014b11ef61f8d63d46190ec0)
ceph: ignore unscheduled ceph daemons while cleaning up

Before cleaning up the cluster, we wait for all the daemon pods to be cleaned up. This fails when
a daemon is in pending state and has no NodeName. This PR ignores daemon pods that are not scheduled on any node.

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit 753bdb3526ab56e6c6ce51215a6b97099bda7df9)
core: fix label merge

This makes it so the label merging function returns a new Labels object
with the merged content instead of modifying the existing one, which
would cause previously merged labels to be returned for a different set
of input labels.

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 48d21947c2fade80c943cc666973f6559cb4c242)
ceph: update examples and base image to v15.2.7

With the release of the latest octopus v15.2.7 we update the base
of the operator image and set the examples to use the same release
to pick up the security and other bug fixes.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 0a35a08f2fe582ea17a09d24ed2b948e633feaec)
build: update release version to v1.4.8

For the patch release we update the manifest versions to v1.4.8.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.4.8 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Update base operator image and example manifests to Ceph v15.2.7 (, @travisn)
Merge custom labels properly with other labels in the spec (, @galexrt)
Uninstall cleanup ignores ceph daemon pods that are in pending state (, @sp98)
Orchestration is aborted and restarted if the cluster CR is updated (, @leseb)
Restore mon clusterIP if the service is missing in disaster recovery scenarios (, @travisn)
Set the RGW deployment version label (, @BlaineEXE)
Add privileged securityContext to CephFS provisioner (, @Madhu-1)"
"ci: skip mgr pod restart count upgrade 1.22.x suite

for now, let's skip the mgr pod restart count
for upgrade suite 1.22.x to get the CI green
and so that we don't skip any other error in name
of mgr restart count.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 1bd4ab9d81fc1a5c77f08a851602a239e89b0c80)
ci: increase upgrade test timeout to 40m

with reef, we are now upgrading 2 ceph versions which
takes time to complete the ci.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit e139fd20beb84357d720c852961873a7d5785ecc)
ci: add github action to free space in runner

adding github action to free space in runner
which will help us avoiding mon low space error

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 334a632ecd34c7bab474b06360a7639aa8f17c2f)
ci: same ceph version in toolbox and cluster-test

Let's use same ceph version(latest Reef) in both
cluster-test and toolbox.yaml so that we don't need
to pull image twice. Alos, github action helper script
was calling `deploy_manifest_with_local_build` which
is required for operator.yaml and not for toolbox.yaml.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit b9c41fd548bc6b14cb89405efdaba3334b9a039f)
multus: use right interface in ci validation

runner version `2.306` had the interface `net`
but somehow version `2.307.1` which is latest
doesn't have `net` it has `eth0*` so using that.

```
cat /proc/net/dev
Inter-|   Receive                                                |  Transmit
 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:       0       0    0    0    0     0          0         0        0       0    0    0    0     0       0          0
 tunl0:       0       0    0    0    0     0          0         0        0       0    0    0    0     0       0          0
  eth0:     446       5    0    0    0     0          0         0        0       0    0    0    0     0       0          0
sh-4.4# grep etho /proc/net/dev
sh-4.4# grep eth0 /proc/net/dev
  eth0:     446       5    0    0    0     0          0         0        0       0    0    0    0     0       0          0
sh-4.4# exit
```

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 4502ea8ee141834a87b91fed3f41517f1d9285f6)
ci: update the release test timeout to 40m

recentally, upgrade tests are getting
longer than 30m to pass since reef upgrade.
So, increasing the timeout to 40m.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 07bb18feba73288bb7c2d711e7ce1e6b9c84b8c3)
mon: delete ParseMonEndpoints from mon package

The function ParseMonEndpoints existed twice, once in the mon package
and once in the controller package. It has now been deleted from the
mon package. Usages in the mon package now reference the function
in the controller package.

Signed-off-by: Henry Davies <henrydavies@hotmail.co.uk>
(cherry picked from commit 2c8949e195161489cfc4be8a27b589f418c26a20)
helm: additional ServiceMonitor labels

add a value in rook-ceph chart to add additional labels to the
generated ServiceMonitor when monitoring is enabled

Signed-off-by: Cyril Jouve <jv.cyril@gmail.com>
(cherry picked from commit abd81e3c80cf558ad6064b7cfc2dca2255b80735)
object: fix s5cmd for s3 endpoint verification

add a new toolbox yaml manifest which will use the
rook image instead of ceph image
for running s5 cmd container needs to run with rook image

closes: https://github.com/rook/rook/issues/12227

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 8a3f0583291e150c1c3854c14a35d5059610b793)
operator: fix formatting of some logger methods

Some logging instructions use formatting syntax `%q`, but the logging method is
`Info` or `Debug` instead of `Debugf` and `Infof`. As a result, the arguments of
the method were concatenated instead of formatted properly.

Signed-off-by: Lucas Henry <polyedre@disroot.org>
(cherry picked from commit c948183c0e3d9a4729a607649546e799fd52c494)
csi: add holder pods to the list to delete pod

Add holder pods label to the list so that Rook
can get all the pods on the failed node and
force delete the pods stuck in terminating state.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 22bfc9de3d518d640d4beea4c0296ba6ede4fb1d)
csi: add nfs pods to the list to delete pod

Add nfs pods label to the list so that Rook
can get all the pods on the failed node and
force delete the pods stuck in terminating state.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 29faca9032a72bed543cb442a2665c9458627c6a)
csi: add maxUnavailable for cephfs csi daemonset

Adding maxUnavailable parameter to the cephfs csi daemonset. The
default value of maxUnavailable = 1 can make the upgrade process
slower in environments with large number of nodes.

Fixes:
Signed-off-by: karthik-us <ksubrahm@redhat.com>
(cherry picked from commit 2675c976d5a9d93fd4d576d6080a1915f70dc1e2)
ci: improve the canary toolbox operator pod check

the wait command is provided by kubernetes so
instead of using manually shell hack using the wait
command

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 64d3df4fcd62a790e54a18340b44de12891e3c96)
ci: fix testobjectsuite ci

Current reason for failure
clients: ""cephbuckettopic"" ""my-topic"" exist, but ARN was not set

Added some more re-try as it might take some more time to
update the ARN in status

OBC bound status was failing and going into
race condition adding a seprate timeout
makes recover it from that state

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 715bd31a0ac4dbe64787d3da3176054390f914be)
ci: update the objectsuite test timeout to 40m

While running object test we need some more time
to run the cosi test completely so increasing the timeout

Also update timeout of ntegration-tests-on-release.yaml

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 8617e2e9240a719dafa38efcafe9a63892961478)
ci: add free disk action to release/master ci

I missed adding the action which free some disk space
which may help with low resource issues.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 2eee0c7e1e24305b9eb03f51e8e3fa0520a62bf0)
multus: add sample job manifest for multus config validation

added a sample job manifest named `multus-validation` that
validates the multus configuration in the cluster.

Signed-off-by: Nikhil-Ladha <nikhilladha1999@gmail.com>
(cherry picked from commit 9fea9cd8656a00a60b359b55e36e899a24a4ffda)
nfs: run dbus-daemon sidecar as dbus user instead of root

When the dbus-daemon in the sidecar is started as ""root"" user, it fails
with the following log entry:

Failed to start message bus: Failed to drop capabilities: Operation not permitted

By starting the sidecar as ""dbus"" user (uid=81), the executable does not
try to drop capabilities, and starts successfully.

Signed-off-by: Niels de Vos <ndevos@ibm.com>
(cherry picked from commit 320b112cc6db5377004ed3d1b642a29bb5273cc7)
file: ignore exit code 22 when adding datapool

Ignore the exit code 22 when adding the
datapool to a filesystem.

updates:

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit bd9b42d221883836f68fc4ea64820bff5ac6d5f9)
build: update patch version to v1.12.2

For the patch release the examples and the docs are updated
to v1.12.2.

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.12.2 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
file: Handle filesystem add pool error for Reef (, @Madhu-1)
nfs: Run dbus-daemon sidecar as dbus user instead of root (, @nixpanic)
multus: Add sample job manifest for multus config validation (, @Nikhil-Ladha)
csi: Add CSI pods to the list to force delete when stuck terminating (, @Madhu-1)
csi: Configurable maxUnavailable for CephFS CSI Daemonset for faster updates (, @karthik-us)
mon: Cleanup ParseMonEndpoints from mon package (, @henrydavies1)
helm: Configure additional ServiceMonitor labels (, @jouve)
operator: Fix formatting of some logger methods (, @polyedre)
object: Fix s5cmd documentation for s3 endpoint verification (, @parth-gr)"
"mgr: failed to update the port of mgr's dashboard

if port was used by other daemon，the dashboard will start failed and the status of the ceph will be err，then we update the port to a unused port，the operator can not deal with it

Signed-off-by: zc <zc@zcdeMacBook-Pro.local>
(cherry picked from commit caf7b8c7536436f985799f44669e8f56ae90e9a3)
external: do not enforce rbd, cephfs and rgw flags for the external cluster

there might be a user who only wants to use rbd, so don't enforce them
to to create all the pools and pass the flags

Closes: https://github.com/rook/rook/issues/11846
Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit e734911532802451755356b58df9f27b761f477b)
test: check rgw pod is running for canary github workflow

For the RGW daemon validation please check whether pod is Running than
the exisitng checks

Signed-off-by: Jiffin Tony Thottan <thottanjiffin@gmail.com>
(cherry picked from commit 715c89bcd86ee541f23cbf2786981cefbff5ee86)
docs: an update to disaster recovery with new scenario

add recovering steps when rook crs and ceph daemons are all deleted.

Signed-off-by: Ben Gao <bengao168@msn.com>
(cherry picked from commit 19cb58bf5ed69f006eef551fe6a93f4f99944a96)
helm: add option to scale down rook operator

Some administrative actions require the user to scale down the rook operator to zero replicas to stop any potential conflicts where the operator is attempting to do something contrary to the current goals of the administrator.

closes: https://github.com/rook/rook/issues/11927
Signed-off-by: TomHellier <me@tomhellier.com>
(cherry picked from commit 13b1585ac2d1045b9a8978a654efe3fa689e529a)
helm: drop snapshot.storage.k8s.io/v1beta1

v1 exists since k8s v1.20

Signed-off-by: Mathieu Parent <mathieu.parent@insee.fr>
(cherry picked from commit 1578d55b4db85f467cc12fb0162c2c416cd2cb50)
core: add clusterID to MCS spec

ClusterID uniquely identifies a cluster. It is used as a prefix to
nslookup exported services.
For example: <clusterid>.<svc>.<ns>.svc.clusterset.local

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit aefe0054c49666369272083013c2626965afa712)
core: use clusterID for service nslookup

use ClusterID of the k8s cluster while doing nslookup of the
exported mon or osd service IP

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit 9e8e85d68bab469106f9ec2f280dd3484256895d)
core: update default image to ceph v17.2.6

With the release of ceph v17.2.6, the examples and the base
image for the operator are updated to pick up the latest
and greatest.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 609ac91cb1b51e98d762f19925fd611ffa55eb2b)
external: add alias rbd pool name to support . pools name

if restricted permission was on the . was appended to k8s secret and
failed to create the secret so added a alias name is user wan't to suuport
pool with . in name

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 6c3dabcf5fe9fc131a736072da725727b9108914)
core: disable exporter for Ceph v17.2.6

The expected ceph version for exporter is changed temporarily because
some regression was detected in Ceph version 17.2.6.
Thus, disabling ceph-exporter for now until all the regression are fixed.

Signed-off-by: avanthakkar <avanjohn@gmail.com>
(cherry picked from commit 3e46522423466757ff885ffed83a6905682a7625)
external: do not enforce need for monitoring endpoint

Add --skip-monitoring-endpoint to create-external-cluster-resources.py
to allow the script to work with Ceph clusters without an enabled
prometheus module.

Document the new flag in external-cluster.md and add relevant unit tests

Signed-off-by: Angelos Kolaitis <neoaggelos@gmail.com>
(cherry picked from commit 9e4a6ddee5bbfc45d6ffa19a8fc859ac93def634)
docs: update krew link osd removal docs

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit bb103f3a1b6acf2721434b886d01f3b99cee85e6)
external: add support for multisite in external cluster

Add support for realm, zone and zonegroup

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit b60da0b8c1170f1e5691cf39e100750aef1f67ea)
build: update examples and docs to v1.11.4

For the patch release update the examples and docs to
v1.11.4

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.11.4 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
core: Update default image to Ceph v17.2.6 (, @travisn)
core: Disable the Ceph exporter daemon (, @avanthakkar)
helm: Add option to scale down rook operator (, @TomHellier)
helm: Drop snapshot.storage.k8s.io/v1beta1 (, @sathieu)
external: Add support for RGW multisite in external cluster script (, @parth-gr)
external: Do not require the monitoring endpoint (, @neoaggelos)
external: Allow creating pools with special characters in name (, @parth-gr)
external: Do not enforce rbd, cephfs and rgw flags for the external cluster (, @parth-gr)
core: Use cluster ID for ns lookup on exported multi-cluster service (, @sp98)
docs: Add scenario for deleted namespace to the disaster recovery guide (, @gaord)
mgr: Failed to update the port of dashboard (, @zhucan)"
"ceph: target_size_ratio must be a string instead of float

The pool parameters must be strings. In the pool examples now we add
quotes around the sample target_size_ratio to avoid deserialization
errors.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 5be965c1c3179de2c17eb709afa107a3ecf1b359)
docs: fix placement of param in ceph pool crd

`requireSafeReplicaSize` is now a sub-param of `replicated` and not of
Ceph's `parameters`.

Signed-off-by: Blaine Gardner <blaine.gardner@suse.com>
(cherry picked from commit 0a08480c3a2314b33a5af9fb8a21866876597a0e)
ceph: change command to add 3300 port for monmap

In the latest version of rook-ceph, disaster recovery does not work properly with the following command. Therefore, the command was updated to the latest command.

Closes: https://github.com/rook/rook/issues/5662
Closes: https://github.com/rook/rook/issues/5649

Signed-off-by: caffeinism <make.dirty.code@gmail.com>
(cherry picked from commit 7ac0ce6873ce5f2906ae2915c384b9757ab81590)
ceph: skip first mon health check at startup

At startup there is a race condition between the goroutine checking
for mon health and the first reconcile of the mons. There is a lock
that ensures only one of them will check the mon health at a time.
The issue is that if the wrong one gets there first, it will not
have the desired mon count initialized from the cluster CR as expected
and the healther checker will use a desired mon count of 0.
The desired count of 0 leads the health checker to remove
a mon since there are extra mons. Only one mon is allowed
to be removed at a time, and adjusting to fewer than two mons is
disallowed once there are at least two mons.

After the health checker is completed, the main reconcile of the mons
will proceed with the correct desired mon count of 3 and attempt
to restore to the real desired quorum size.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
ceph: remove unwanted metadatastore and mountcache flag

metadatastore and mountcache are required for cephcsi v1.0.0

as rook doesnot used ceph-csi v1.+ version
we can remove this flag. Removing these flags doesnot
affect the functionality of anything.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 73e1ee41c3197065e4f8ed015f352addd64c192f)
ceph: report error on timeout

If the healthcheck goroutine cannot check for the ceph status/times out
(if the mons are not in quorum) this should still be reflected in the
CRD status field.

Example:

```
status:
  ceph:
    details:
      error:
        message: 'failed to get status. . timed out: exit status 1'
        severity: Urgent
    health: HEALTH_ERR
    lastChanged: ""2020-07-20T14:11:05Z""
    lastChecked: ""2020-07-20T14:11:05Z""
    previousHealth: HEALTH_WARN
```

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 954074b707dd88fd920a038a451c3a3565b488f1)
ceph: let the healthcheck set the status phase

Instead of setting the Phase of the CR once the reconcile is done, let's
actually set in from the healthcheck so it is more accurate.

Closes: https://github.com/rook/rook/issues/5249
Signed-off-by: Sébastien Han <seb@redhat.com>
ceph: make rgw option on external script

Some clusters do not have rgws deployed so let's make it optional.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit faad0a45acaed4679d96fcd30e39de21a7624f27)
ceph: add provisioner toleration for csi version check job

Added a provisioner toleration to the csi version
check job, so that we can schedule the csi version
check on the node where the nodes are tainted.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit d6b2ad142d4dc553cbd1550463bb8ed63f76a953)
ceph: do not warn about no redundancy in test cluster

In test environments the default pool size is set to 1, so there is no
redundancy. This causes recent Ceph versions to complain with
HEALTH_WARN as POOL_NO_REDUNDANCY get set.

By disabling the mon_warn_on_pool_no_redundancy option in ceph.conf, the
warning is not reported and the cluster is marked HEALTHY.

Signed-off-by: Niels de Vos <ndevos@redhat.com>
(cherry picked from commit bb2b4096d1b8cc9b230cc64204e30fe688244d96)
ceph: allowing ceph filesystem argument to be optional

If we are unable to get or infer a default value for ceph filesystem
script won't be throwing an error.

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 18b32023c5eef98ab738c2828ce3d8d64f55af60)
ceph: provide storageclass-es if there are valid parameters

'ceph-rgw' storageclass will be provided only if 'rgw_endpoint' exists
'cephfs' storageclass will be provided only if ceph-fs and/or data-pool
parameters are valid.

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit cba605a9300e680b4cc745ac758b68d9d9ba78ba)
ceph: add http dial to verify external endpoint

If there is a typo in the rgw endpoint, then the user will be notified
that the gateway is not accessible or does not return the 200 HTTP code.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 83e1ff102db55818ad4f07bad0c6e9650906812f)
ceph: do not validate rgw pool if no endpoint

If no endpoint is specified, we don't need to validate the rgw pools.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 9ebc006391a5c627d4b91cd93325209a9b46651a)
build: update manifests with the v1.3.9 version

With the patch release we update the manifest versions to v1.3.9

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.3.9 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Avoid removing a healthy mon unexpectedly when the operator restarts (, @travisn)
External cluster export script enhancements (, @leseb @aruniiird)
Toleration for CSI version check job (, @Madhu-1)
Remove obsolete CSI metadatastore and mountcache flags (, @Madhu-1)
Report cluster status error on heatlh check timeout (, @leseb)
Pool CR settings must be strings (, @travisn)"
"docs: cephfs mirroring updates around peer tokens

This commit updates the CephFS mirroring documentation
around Peer tokens to get the token created correctly.

Signed-off-by: Gaurav Sitlani <gauravsitlani@riseup.net>
(cherry picked from commit 27f2098ad911a1ab6ee8701a7c6170a83fe32f45)
docs: improve descriptions in localrules.yaml

Parallel upstream changes via https://github.com/ceph/ceph/pull/47284

Signed-off-by: Anthony D'Atri <anthonyeleven@users.noreply.github.com>
(cherry picked from commit dc53497d374ef2efd36a583b0ebe6eba22525e6c)
Revert ""ci: use ceph v17.2.1 instead of latest v17""

This reverts commit 3279cb91870e59eccabb9b5eff903d71beb31594.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit c4742278d1ad09313192a533c622ccd0ddee7af7)
csi: disable liveness sidecar by default

A Liveness sidecar container that is deployed
with the CSI pods will be helpful to check
csi driver is properly responding or not.
and there is no liveness or readiness
kubernetes probe added for this one.
Providing an option to enable this
sidecar deployment and disabling it by default.

fixes

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 187bea6701b5bccebbcdb8a5c0dbefde6962fb9e)
core: add support to rotate log based on logfile size

this commits add new field `MaxLogSize` inside `LogCollectorSpec` of
cephCluster cr which will take max size of log after which we want to
rotate the log.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 62f73dcd989dde83eca48f58c47a7d27d98b6bc1)
monitoring: fix localrule indent

Indentation level for the rule array for pools was inconsistent, leading to a broken YAML array.
This commit corrects indentation level for pool rules to align with the rest of the array.

Closes: https://github.com/rook/rook/issues/10653
Signed-off-by: James Harmison <jharmison@gmail.com>
(cherry picked from commit 2ae305749ab73d095bf95600f84c22edf3c08f99)
docs: cephfs mirroring documentation added

This is a new documentation added for cephfs mirroring

Signed-off-by: gauravsitlani <gauravsitlani@riseup.net>
(cherry picked from commit 46c475751f0d46970d8791372e472a16d97559ae)
csi: introduce new log level for sidecars

This commit introduces new log level called csidecarLogLevel
for the sidecars which are not maintained by the csi-driver.
This will allow to have different configuration options
for the sidecars like snapshotter, resizer, attacher and
provisioner containers which will help to avoid the
spamming of logs to an extent.

Signed-off-by: yati1998 <ypadia@redhat.com>
(cherry picked from commit ecc67faa5c1942cb80c2726b25dcc9e241cb48bd)
test: increase timeout waiting for file deletion status

The file deletion status has been intermittently failing for several
months. Investigation shows that the timeout is just missing by
a few seconds. Now we increase the timeout from 15 to 45 seconds
to stabilize the test.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 13d527b5904fc049881ee53e0ea7b0702f31a728)
core: operator skips reconcile of mons and osds in debug

During certain maintenance tasks the admin will own running
operations on the ceph mons and osds, and the operator should
not interfere with those operations. If the operator sees
any mon in debug mode, every reconcile and mon health check
will be skipped. Thus, mons will not be updated while any
one of them is in maintenance. During OSD reconcile, individual
OSD deployment updates will only be skipped for OSDs that are
actively being debugged.

The debug mode for osd and mon deployments is signaled by
creating the ceph.rook.io/do-not-reconcile label.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 7c56b9328a69a20a6823422e5918cfe31eeb4943)
external: fix cluster id naming in import-external-cluster script

Cluster_ID variable that we export from python script was different
from what we going to use in import script so changed it

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 62fec90c192238524c15c2f1759a18dad8b94d24)
docs: rename Rook-Ceph to Rook Ceph

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit fe2000e6d854832db1c8e6285cc6d4932e5f5294)
docs: add ci configuration page

This page contains initial information on Rook's CI setup, such as
environment variables.

Signed-off-by: Alexander Trost <galexrt@googlemail.com>
(cherry picked from commit 9872b3f7d6acfb62b1eedee6c3d44053a1b1a7d0)
core: skip ceph upgrade check in external cluster

Closes: rook
Signed-off-by: Joseph Lee <joseph@jc-lab.net>
(cherry picked from commit 9639b60fc47f28c713da629ec6623d6c89e7db37)
build: update the release version to v1.9.9

For the patch release update the examples and docs to
v1.9.9

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.9.9 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
core: Skip ceph upgrade check in external cluster (, @jclab-joseph)
core: Operator to skip reconcile of mons and osds in debug mode (, @travisn)
docs: CephF mirroring documentation added (, @gauravsitlani)
csi: Introduce new log level for sidecars (, @yati1998)
test: Increase timeout waiting for file deletion status (, @travisn)
monitoring: Correct indentation level for pool alert (, @solacelost)
core: Add support to rotate log based on logfile size (, @subhamkrai)
csi: Disable liveness sidecar by default (, @Madhu-1)
docs: CephFS mirroring updates around Peer Tokens (, @gauravsitlani)
Improve descriptions in localrules.yaml (, @anthonyeleven)"
"ceph: fix ineffective break statement

The `break` statement is not necessary, especially since we don't want
to break out of the outerloop.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 23298ba62d33d4fff23fdb71246e019a94d61be7)
ceph: update cluster-on-pvc example for proper OSD scheduling

The topology spread constraint example allowed scheduling even
if the TSC could not be satisfied when scheduling the osd prepare
jobs. This could lead to unevenly spread OSDs especially when
the cluster was not using the zone labels. Now the topology will be
required for scheduling, to ensure proper spread of the OSDs.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 9f6615033dc6fbb55d7a6f33123243c32f9d0e1f)
ceph: fix overwriting shared livenessProbe

When the Operator set the livenessProbe of the POD, it overwrote the contents of the shared
desiredProbe. Therefore, the wrongly configured livenessProbe was applied to other PODs,
resulting in a CrashLoop. In this PR, I created another instance to avoid overwriting the
desiredProbe.

Closes: https://github.com/rook/rook/issues/8196
Signed-off-by: Yuji Ito <llamerada.jp@gmail.com>
(cherry picked from commit d7c46d70d3ef05fb58285be0680f838a8e871d36)
ceph: ability pass rgw certificate to external mode

We now have a new option called --rgw-tls-cert-path to specify a
certificate path for the rgw external mode.

Example output:

```
[root@rook-ceph-tools-78cdfd976c-25942 /]# python3 /etc/ceph/create-external-cluster-resources.py --rbd-data-pool-name device_health_metrics --monitoring-endpoint 172.17.0.11 --rgw-tls-cert-path my-cert --rgw-endpoint 10.108.182.47:80
[{""name"": ""rook-ceph-mon-endpoints"", ""kind"": ""ConfigMap"", ""data"": {""data"": ""a=10.100.223.211:6789"", ""maxMonId"": ""0"", ""mapping"": ""{}""}}, {""name"": ""rook-ceph-mon"", ""kind"": ""Secret"", ""data"": {""admin-secret"": ""admin-secret"", ""fsid"": ""5cd5684c-8b8b-4d59-a98a-525f63ae69a3"", ""mon-secret"": ""mon-secret""}}, {""name"": ""rook-ceph-operator-creds"", ""kind"": ""Secret"", ""data"": {""userID"": ""client.healthchecker"", ""userKey"": ""AQBnx9BgnH9kDxAAb6T0nmMpetfmwNw5gKgA2w==""}}, {""name"": ""rook-csi-rbd-node"", ""kind"": ""Secret"", ""data"": {""userID"": ""csi-rbd-node"", ""userKey"": ""AQAe0bhgVvahJxAAGJLuP/Tajh2fz6ExqxYT/A==""}}, {""name"": ""ceph-rbd"", ""kind"": ""StorageClass"", ""data"": {""pool"": ""device_health_metrics""}}, {""name"": ""monitoring-endpoint"", ""kind"": ""CephCluster"", ""data"": {""MonitoringEndpoint"": ""172.17.0.11"", ""MonitoringPort"": ""9283""}}, {""name"": ""rook-csi-rbd-provisioner"", ""kind"": ""Secret"", ""data"": {""userID"": ""csi-rbd-provisioner"", ""userKey"": ""AQAe0bhgkpHWGhAAJNPrBBD5OfbQvGRAYUrbCg==""}}, {""name"": ""ceph-rgw-tls-cert"", ""kind"": ""Secret"", ""data"": {""cert"": ""-----BEGIN CERTIFICATE-----\nMIIFODCCAyCgAwIBAgIRAJW+FqD3LkbxezmCcvqLzZYwDQYJKoZIhvcNAQEFBQAw\nNzEUMBIGA1UECgwLVGVsaWFTb25lcmExHzAdBgNVBAMMFlRlbGlhU29uZXJhIFJv\nb3QgQ0EgdjEwHhcNMDcxMDE4MTIwMDUwWhcNMzIxMDE4MTIwMDUwWjA3MRQwEgYD\nVQQKDAtUZWxpYVNvbmVyYTEfMB0GA1UEAwwWVGVsaWFTb25lcmEgUm9vdCBDQSB2\nMTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAMK+6yfwIaPzaSZVfp3F\nVRaRXP3vIb9TgHot0pGMYzHw7CTww6XScnwQbfQ3t+XmfHnqjLWCi65ItqwA3GV1\n7CpNX8GH9SBlK4GoRz6JI5UwFpB/6FcHSOcZrr9FZ7E3GwYq/t75rH2D+1665I+X\nZ75Ljo1kB1c4VWk0Nj0TSO9P4tNmHqTPGrdeNjPUtAa9GAH9d4RQAEX1jF3oI7x+\n/jXh7VB7qTCNGdMJjmhnXb88lxhTuylixcpecsHHltTbLaC0H2kD7OriUPEMPPCs\n81Mt8Bz17Ww5OXOAFshSsCPN4D7c3TxHoLs1iuKYaIu+5b9y7tL6pe0S7fyYGKkm\ndtwoSxAgHNN/Fnct7W+A90m7UwW7XWjH1Mh1Fj+JWov3F0fUTPHSiXk+TT2YqGHe\nOh7S+F4D4MHJHIzTjU3TlTazN19jY5szFPAtJmtTfImMMsJu7D0hADnJoWjiUIMu\nsDor8zagrC/kb2HCUQk5PotTubtn2txTuXZZNp1D5SDgPTJghSJRt8czu90VL6R4\npgd7gUY2BIbdeTXHlSw7sKMXNeVzH7RcWe/a6hBle3rQf5+ztCo3O3CLm1u5K7fs\nslESl1MpWtTwEhDcTwK7EpIvYtQ/aUN8Ddb8WHUBiJ1YFkveupD/RwGJBmr2X7KQ\narMCpgKIv7NHfirZ1fpoeDVNAgMBAAGjPzA9MA8GA1UdEwEB/wQFMAMBAf8wCwYD\nVR0PBAQDAgEGMB0GA1UdDgQWBBTwj1k4ALP1j5qWDNXr+nuqF+gTEjANBgkqhkiG\n9w0BAQUFAAOCAgEAvuRcYk4k9AwI//DTDGjkk0kiP0Qnb7tt3oNmzqjMDfz1mgbl\ndxSR651Be5kqhOX//CHBXfDkH1e3damhXwIm/9fH907eT/j3HEbAek9ALCI18Bmx\n0GtnLLCo4MBANzX2hFxc469CeP6nyQ1Q6g2EdvZR74NTxnr/DlZJLo961gzmJ1Tj\nTQpgcmLNkQfWpb/ImWvtxBnmq0wROMVvMeJuScg/doAmAyYp4Db29iBT4xdwNBed\nY2gea+zDTYa4EzAvXUYNR0PVG6pZDrlcjQZIrXSHX8f8MVRBE+LHIQ6e4B4N4cB7\nQ4WQxYpYxmUKeFfyxiMPAdkgS94P+5KFdSpcc41teyWRyu5FrgZLAMzTsVlQ2jqI\nOylDRl6XK1TOU2+NSueW+r9xDkKLfP0ooNBIytrEgUy7onOTJsjrDNYmiLbAJM+7\nvVvrdX3pCI6GMyx5dwlppYn8s3CQh3aP0yK7Qs69cwsgJirQmz1wHiRszYd2qReW\nt88NkvuOGKmYSdGe/mBEciG5Ge3C9THxOUiIkCR1VBatzvT4aRRkOfujuLpwQMcn\nHL/EVlP6Y2XQ8xwOFvVrhlhNGNTkDY6lnVuR3HYkUD/GKvvZt5y11ubQ2egZixVx\nSK236thZiNSQvxaz2emsWWFUyBy6ysHK4bkgTI86k4mloMy/0/Z1pHWWbVY=\n-----END CERTIFICATE-----""}}]
```

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit d6451527437e8e999c3ea6d38d17f7969e32b989)
ceph: do not require rgw 'instances' spec

When the cluster is external we don't have any instances of rgw running
so let's not have this as a required field in the spec.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit e25e0e81039d00752b17c98d9a1e86d5f3956436)
ceph: ignore atari partitions when scanning disks

Ceph bluestore raw disks can sometimes appear as though they have Atari
(AHDI) partitions on them. If a disk has Atari partitions, we just
ignore them as though they don't exist. This should be a safe assumption
since the hardware was last manufactured in 1992 and likely can't run
Kubernetes.

If we don't ignore the Atari partitions, Rook can create a new OSD on a
disk that is already running an OSD, corrupting the first and possibly
also the latest OSD. This can happen an arbitrary number of times per
disk.

More info: https://github.com/rook/rook/issues/7940

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 7f516b9e3d1bc6a343617abe56ab304eda676d1a)
ceph: give resource request preference for mds_cache_memory_limit

earlier, for mds, when resource limit is not defined it has
default limit of `""mds_cache_memory_limit"": ""4294967296""`
even if resouce.request is defined.

Now, resource request will be given preference when both
request and limit is defined and if only limit is defined
it will be applied or otherwise.

Closes: https://github.com/rook/rook/issues/8143
Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit d41878cb9ec4f6799a86395fc6b5eb1f6dae30d8)
ceph: silence harmless errors

Let's not look at misleading errors if the operator is still
initializing.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 8c589a37851f94e3cc4dd7cd10bf0476f315d6ef)
cassandra: remove dependency on k8s.io/kubernetes

PublishNotReadyAddresses replaced the deprecated TolerateUnreadyEndpointsAnnotation in k8s v1.11

Signed-off-by: Andy Bursavich <abursavich@gmail.com>
ceph: extract flexvolume dependency on k8s.io/kubernetes

Signed-off-by: Andy Bursavich <abursavich@gmail.com>
test: extract utils dependency on k8s.io/kubernetes

Signed-off-by: Andy Bursavich <abursavich@gmail.com>
build: update golangci-lint version and nolint comment format

Signed-off-by: Andy Bursavich <abursavich@gmail.com>
build: remove k8s.io/kubernetes, cleanup directives, and tidy

Signed-off-by: Andy Bursavich <abursavich@gmail.com>
ceph: update CSIDriver object from betav1 to v1

Update the CSIDriver object to v1 from betav1 as it will be
deprecated in v1.19+ and become unavailable in v1.22+

Signed-off-by: Yug <yuggupta27@gmail.com>
(cherry picked from commit d513dc4bc597ca8fc0e9b332e6c66e38bdd6a587)
ceph: debug log the k8s version instead of info

The info log is rather verbose with all the filtering of the K8s version
like the following:
returning version v1.19.0 instead of v1.19.0+43983cd

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit aaa939f6868ab8995d0f683d05955f759d470b16)
ceph: operator pod killed due to resource limit

when operator pod resources are set(which are
default in case of helm), operator pod are
killed due to using concurrency while creating
object store.

this commit checks if operator resources are set
or not. if set then we'll *not* create object store
in concurrency or if not set then we'll create in
concurrency.

Closes: https://github.com/rook/rook/issues/8149
Co-authored-by: Sébastien Han <seb@redhat.com>
Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 4241ce7e6670fd84afe04d061125556b017dcee4)
ceph: retry reconcile immediately after cancellation

If the reconcile is cancelled due to a CR update, we want to retry the next
reconcile immediately rather than wait for the exponential backoff timeout
if the reconcile was already failing. The wait can easily be minutes
if the reconcile was in this state, which makes it appear the operator
is ignoring the request to start a new reconcile.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit c39c1c7ddfa96b0296fedf3f6b50690f62b23ea6)
build: update release version to v1.6.7

With the patch release we update the docs and manifests to v1.6.7

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.6.7 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Ignore atari partitions for OSDs when scanning disks. This is a partial fix for multiple OSDs being created unexpectedly per disk, causing OSD corruption. See details to know if your OSDs are affected (, @BlaineEXE)
Update CSIDriver object from betav1 to v1 (, @Yuggupta27)
Retry cluster reconcile immediately after cancellation (, @travisn)
Avoid operator resource over-usage when configuring RGW pools and memory limits are applied (, @subhamkrai)
Remove k8s.io/kubernetes as a code dependency (, @abursavich)
Silence harmless errors if the operator is still initializing (, @leseb)
If MDS resource limits are not set, assign mds_cache_memory_limit = resource requests * 0.8 (, @subhamkrai)
Do not require rgw instances spec for external clusters (, @leseb)
Add tls support to external rgw endpoint (, @leseb)
Stop overwriting shared livenessProbe when overridden (, @llamerada-jp)
Update cluster-on-pvc example for proper OSD scheduling (, @travisn)"
"ceph: fix panic in reCreateCSIDriverInfo

Initialize the client and the csidriver object
before calling the reCreateCSIDriverInfo
function.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit d48f67a82cb580791b42102f693962a404009094)
ceph: fix logging of csidriver

log the successful message about
starting CSIDriver after creating
the daemonset and deployment objects.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit e2dc41837151c4b9372701c65459fd3e09af2ba2)
ceph: remove variable declaration

remove csiDriver and csiClient variables
creation and reuse them from the method
receivers.
Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit d246dde443bc2e68ce63f4a8575968ab16ff7c9d)
ceph: do not check ok-to-stop when OSDs are in CLBO

This handles the scenario where the OSDs have been created but not yet
started due to a wrong CR configuration.
For instance, when OSDs are encrypted and Vault is used to store
encryption keys, if the KV version is incorrect during the cluster
initialization the OSDs will fail to start and stay in CLBO until the
CR is updated again with the correct KV version so that it can start.

For this scenario, if the CRUSH map has no host registered yet it's fair
to assume the initialization broke and we need to fix it. So when don't
need to call ok-to-stop since it will always fail and eventually force
pass but let's not wait for nothing.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 88048cc4e871ced8cb452245cbf034f4cbf9e666)
ceph: test against release version in the branch

The release version needs to be the same in the example/test manifests
as it is in the local build image. The github actions are different in
this regard than the Jenkins builds were. The Jenkins builds always
locally used the master tag instead of a release-specific tag.
Now that the github actions use the release-specific tag, the test
framework no longer should be using the master tag in release branches.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 23b772643bb36b4e4b27ef32477f4b7141d87896)
cassandra: suppress integration test errors temporarily

The Cassandra tests are failing in the CI, although they pass when
run locally on a developer cluster. Until the issue can be tracked
down we need to disable these checks to get to a green CI again.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 5489dd7b58540296464c3050e8bd5b498829aef8)
ceph: making script backward compatible with python2

Variable name `exec`, was raising an error with python2.
Renamed it to `execErr`.

Signed-off-by: Arun Kumar Mohan <amohan@redhat.com>
(cherry picked from commit 888d4ea7064763cf564813ba925a411296332a89)
ceph: merge toleration for osd/prepareOSD pod if specified both places

earlier, `ApplyToPodSpec()` was only taking one toleration and ignoring
tolerations from `placement.ALL()`.

this commit merge toleration for Mgr,Mon,Osd pod
example, for osd it will merge
spec.placement.all and
storageDeviceClassSets.Placement(in case of pvc) or
spec.placement.osd(in case of non-pvc's).

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit e1f232eeb7ac716e53ec27912ac0556062085a83)
Signed-off-by: subhamkrai <srai@redhat.com>
bot: add more ceph commit prefixes

With the storage providers moved to their own repo,
we add more possible prefixes for commits to the
ceph operator, including the ceph daemons and csi
driver.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit a32b11c5729145e5349a43d65d5a25f70f942bce)
ceph: reconcile osd pdb if allowed disruption is 0

Rook checks for down OSDs by checking the `ReadyReplicas` count
in the OSD deployement. When an OSD pod goes into CBLO due to
disk failure, there is a delay before this `ReadyReplicas` count
becomes 0. The deplay is very small but may result in rook missing
OSD down event. As a result no blocking PDBs will be created and
only default PDB with `AllowedDisruptions` count as 0 is available.
This PR tries to solve this. The OSD pdb reconciler will be
reconciled again if `AllowedDisruptions` count in the main
PDB is 0.

Signed-off-by: Santosh Pillai <sapillai@redhat.com>
(cherry picked from commit 7480f6ba621edc29fbeabe24e7b4378aa92dad89)
build: update release version to v1.6.10

The patch release for v1.6.10 is ready, thus updating the example manifests
and documentation.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.6.10 is a patch release limited in scope and focusing on small feature additions and bug fixes.
Ceph
Reconcile OSD PDB if allowed disruptions are 0 (, @sp98)
Merge tolerations for the OSDs if specified in both all and osd placement (, @subhamkrai)
External cluster script compatibility with python2 (, @aruniiird)
Do not check ok-to-stop when OSDs are in CLBO (, @leseb)
Fix panic when recreating the csidriver object (, @Madhu-1)"
"mon: set stretch tiebreaker reliably during failover

The failover of the arbiter mon in a stretch cluster was sometimes
failing due to the new tiebreaker not being set in ceph.
Rook would repeatedly try to remove the old tiebreaker mon
and keep failing because the new tiebreaker had not been set.
Now we make setting the tiebreaker idempotent in case the operator
restarts in the middle of the operation or some other corner
case causes the expected tiebreaker to be set. In that case,
the next reconcile will also ensure the tiebreaker mon is
set as expected.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit d55669293a515f6647daa24927dcda54ead802b1)
osd: truncate osd prepare job names further

In K8s 1.22 there is a bug in the job name generation that
the job name is truncated an additional 10 characters. This can cause an issue
in the generated pod name if it then ends in a non-alphanumeric character. In that case,
we more aggressively generate a hashed job name.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit ee83ca74af6a155e0338d0087743bc76035aacea)
test: generate long node name depending on test suite

The generation of a long node name in the integration tests was
being done based on the k8s version. In the past, older K8s versions
did not support the changing name. Now it's more maintainable if
we generate the long name depending on the test suite.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 9d2aa1f6bddb8894de68dd49ee5bf0e211604a06)
docs: clarify helm chart version upgrades

Since the cluster helm chart was created in v1.7, the new helm
chart specifies the ceph image, so we clarify the upgrade
doc with the latest info.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 1002c6fd2e7224e449b1033c017d84769fdee42b)
core: always return nil on error

We should always return a nil pointer of clusterInfo if
CreateOrLoadClusterInfo() returns an error.

Closes: https://github.com/rook/rook/issues/9314
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit fdd243d3dea1d3f7972ef0bfaf04163506799017)
core: fix error message

Let's have a more accurate and correct error message that reflects what
the failing function tried to do.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 4f1a2d47a41f6ef9fa5ad44af1eef3e630dc67ad)
core: continue and create an initial cluster info or fail

Let's catch the correct error when no cluster info exists yet. If we
have another error, we fail the orchestration and try again. This could
help up catching small API hiccups for example.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit e5ce6abac0b8d944752bba76daa4869d424d7b3f)
mds: skip sanity check during upgrades to 16.2.7

The mons need to be configured to skip the mds sanity check
during upgrade to 16.2.7 or the mons may crash during that
upgrade.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 0c19f62df275dd0b0668635ec4a318bb3fb1ea71)
build: update release version to v1.7.10

With the latest patch release we update the docs
and example manifests.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.7.10 is a patch release limited in scope and focusing on small feature additions and bug fixes to the Ceph operator.
mds: Skip MDS sanity check during upgrades to Ceph 16.2.7 to avoid mon crash (, @travisn)
pool: Clean up health checkers during filesystem and object store deletion (, @BlaineEXE)
core: On failure initializing the cluster, return the error instead of continuing (, @leseb)
osd: Truncate name of the osd prepare job to avoid pod generation failure on K8s 1.22 (, @travisn)
mon: Set stretch tiebreaker reliably during mon failover (, @travisn)"
"docs: add CSI section to Multus design doc

Add a section detailing a design to handle the volume-operations-blocked
on CSI restart issue when running with Multus.

See: https://github.com/rook/rook/issues/8085

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 2bf1e1f07b648418486cec7754c0151ff9e46c1c)
csi: make create and get process separate for csi users

Currently if we run external-script and user already exit,
it fails to create/run same user again if the caps are upgraded,
so we need to check first if user is already present.
And for upgrading user we can do upgrade after this
PR: https://github.com/rook/rook/pull/9609 will get merged.

Closes: https://bugzilla.redhat.com/show_bug.cgi?id=2048458

Signed-off-by: parth-gr <paarora@redhat.com>
(cherry picked from commit 4f43f2d93e3da4b1e8a6d1dcb6318f64288b8bd2)
object: update pool properties during reconcile

The reconcile was skipping updating most pool properties for
object stores. The implementation of pools between the file,
object, and pool controllers had some duplicate code, so
this change also factors out the common code for better
reuse in a single place. Anytime a pool is created or updated,
it will now consistently update all the pool properties
that are expected to be modifiable.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 221b3dfb72bab3a97b8020fb4da451acdcb65fc1)
docs: adds doc for implementation of csi-addons

This commit adds the documentation for implementation
of csi-addons.

Signed-off-by: yati1998 <ypadia@redhat.com>
(cherry picked from commit 045cc87e03d53023f5516d6815fa1ef570e4b65d)
osd: add namespace in vault client

If the KMS connection details for Vault have a VAULT_NAMESPACE we must
use it when building the vault client to auto-detect the KV internal
version.

Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 23832c8cc7961ba15efb52bbc9ac49651913469e)
csi: bump registar image to v2.5.0

Upgrades image:

- k8s.gcr.io/sig-storage/csi-node-driver-registrar: v2.4.0 -> v2.5.0

Detailed changelog:

- https://github.com/kubernetes-csi/node-driver-registrar/blob/v2.5.0/CHANGELOG/CHANGELOG-2.5.md

Signed-off-by: Mathieu Parent <mathieu.parent@insee.fr>
(cherry picked from commit 405dcaadace878eec500051f57477ad1c54c08ca)
core: do not dereference a non-pointer

In this case `oldMappingToGo` and `newMappingToGo` were not pointers so
there is nothing to dereference.
This happens when the monitors endpoints configmap is updated, but only
on the pool and file controllers. They are watching for changes on that
configmap so that they can reconcile and upate the bootstrap peers token
when replication is enabled.

Closes: https://github.com/rook/rook/issues/9714
Signed-off-by: Sébastien Han <seb@redhat.com>
(cherry picked from commit 32998cbda4291e414be363d5f7ccb7fe9ec7c933)
build: update release version to v1.8.5

With the patch release the example manifests and docs are
updated to v1.8.5

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.8.5 is a patch release limited in scope and focusing on small feature additions and bug fixes to the Ceph operator.
core: Operator was crashing when the mon endpoints were updated (, @leseb)
csi: Bump registar image to v2.5.0 (, @sathieu)
osd: Add namespace in vault client (, @leseb)
doc: Add documentation for deploying the csi-addons (, @yati1998)
object: Update object pool properties during reconcile (, @travisn)
csi: Create separate csi users in external cluster configuration (, @parth-gr)"
"docs: add documentation for sharing a CephFS PVC across namespaces

Signed-off-by: Guillaume Moutier <guillaume.moutier@gmail.com>

various corrections following reviews

Signed-off-by: Guillaume Moutier <guillaume.moutier@gmail.com>
(cherry picked from commit 85244d187ad27182a76f2e8a04d0f1b03cd65a6d)
docs: add yaml way of configuring pg_num and pgp_num

- adds description on how to configure default pg_num and pgp_num
  parameters on per pool basis while deploying rook based ceph cluster.
- advices user to declare them during initial startup.

uptil now, docs only covered cli way of configuring them.

Closes: https://github.com/rook/rook/issues/10361

Signed-off-by: Deepika Upadhyay <deepika@koor.tech>
(cherry picked from commit 5a27780e91a3f16a19c1039b9c6513db7b9cbaf9)
ci: ignore body-max-line-length

We don't care the line length of commit message.

ref.
https://github.com/rook/rook/pull/10445

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 2f66e7d15be4e0ca6ac86862eed64c8fcd2c7962)
osd: disallow to create osd on lv with metadata device

OSD on logical volume is raw mode. This mode can'set metadata device.
We should not mark a logical volume as available in this case.

Closes: https://github.com/rook/rook/issues/10747

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 8b513a4a7469fd50e767e9d87c1521e0900d0ad5)
docs: add missed sssdConfigFile params for NFS CRD

Initial commit of NFS CRD docs missed two params, causing some users to
experience problems setting it up.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit f027140a9772f1d9d7db1cf4d6c9b1f28c85ead3)
ci: remove older k8s config since we moved to 1.19

no need of using older config to setup older k8s
since we moved to 1.19 as min k8s version.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 80be5b5fc0c63edb0fa3eeec73db41e36e5a29d8)
docs: update the latest-release docs to 1.10

With the v1.10.0 release out, the latest-release docs need
to point to the 1.10 release. With each release we will
update to the next release branch when we have shipped.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit c4304e4b926bca9f7914776e8e9cececf208c8d9)
ci: fix release tests configuration

I missed to remove older config for release
tests yaml.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit bfa78b7ea27d43a1341d1ee4b8d1a24bf679e496)
csi: set daemonset set name as template name

Currently daemonset template.metadata.name is
empty and the way we are setting is not correct
use the daemonset name as the template.metadata.name

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 2dae7f67784cfdf69de96887a33485faaca60bf0)
csi: add missing serviceAccoutName to holder

Add missing serviceAccountName for the holder
daemonset to create the pods with required
access.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 32943b64e353a00be1b4b004e9a9df4b2376fd5c)
test: wait for resource deletion during helm uninstall

The helm integration test was immediately removing both the cluster
and the operator charts, without waiting for any resource deletion
between the deletions. This causes intermittent failures in the
test since the cluster CR and mon secret and configmap to never
be deleted because the operator will be stopped before their
finalizers can be removed. Now we wait for their finalizers
to be removed before removing the operator chart.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 5c478e5e04e80c4e4b71919be905234d992e6ceb)
osd: refactor code

Simplify osd management code.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 00b3d0f323d54a9d6a534d8536a0eebe02c5190a)
csi: change the default fsgroup policy for CSI driver object

This commit change the default fsgroup policy for csi driver object
to ""File"" type which is the better/correct setting for the CSI volumes
We have been using default value which is ""ReadWriteOnceWithFSType"".
with this change backward compatibility should be preserved.

Signed-off-by: Humble Chirammal <hchiramm@redhat.com>
(cherry picked from commit 32ecc37d378fa6d70b6f5ff242e8a510eae2c724)
ci: no need to copy working dir to GOPATH

this commits remove using working-dire and copying
files to GOPATH since they are not required anymore.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit c2cc8d3a66202ec635040deda211a3cad7db7f5c)
csi: use cephcsi image for nfs nodeserver

Cephcsi v3.7 now supports nfs nodeserver.
This commit changes nfs nodeserver image to
cephcsi image and makes other necessary
modifications to template.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 9405b59ff4f32af1fff0a80ebdc1013140ac5b26)
csi: add holder pod support for nfs

This commit adds holder pod support
for nfs to be able to work in non-host
networking scenario, without being
affected by restarts of csi-nfsplugin.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 7c6e4d71bcdf36e4e6e7b69f47af724cddf4ba00)
csi: remove nfs image

This commit remove nfs image
since it is no longer needed.
Cephcsi itself will act as nfs
nodeserver.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 7722226521cb9528c0fc5eed2aa2fe9278d5e6c8)

# Conflicts:
#	deploy/examples/images.txt
ci: add e2e for csi-nfsplugin restart

This commit adds e2e for csi-nfsplugin restart
when it is not on host-networking.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 07aac106df8c198ab823302bd2806e24c08ea28f)
manifest: fix unexpected end of stream

Signed-off-by: Khris Richardson <khris.richardson@gmail.com>
(cherry picked from commit 9614428f54f693e87ede61b780107adea74548ba)
rbdmirror: remove volume replication sidecar

The volume replication operator is being moved to
kubernetes-csi-addons. This commit hence, removes
the volume replication sidecar and updates the
related documentation.
It will also update the csi-addons sidecar version
to the latest one.

Closes:

Signed-off-by: yati1998 <ypadia@redhat.com>
(cherry picked from commit 9b4361b3790d9528dca007e7fb79ee179e02a7e9)
csi: remove controller-ip from csi-addons

This commit removes controller-ip parameter from
csi-addons sidecar as it is no longer required to be
passed.

Signed-off-by: yati1998 <ypadia@redhat.com>
(cherry picked from commit cc4fd0c5472ce1f1a38aa4bab67661c5293d7871)
build: remove volume replication crd from build

This commit removes the creation of volume
replication crds from build.

Signed-off-by: yati1998 <ypadia@redhat.com>
(cherry picked from commit 69a233be4e3d264ac93bae01d360f785870ee868)
helm: set OBC storageclass name to right namespace

OBC storageclasses should have their names based on the cluster
namespace and not the operator namespace. Fix the chart to reflect this.

Signed-off-by: Blaine Gardner <blaine.gardner@redhat.com>
(cherry picked from commit 5f00d291c9a3cd7048452060b45ecf7c3556cb25)
csi: remove findCSIChange from predicate

findCSIChange will work only for single
line values/configration in the configmap,
If the value is multiline the regex will not
be able to indentify the change because of this
one no configurations will be applied to the
csi driver. Removing this check so that if there
is any update on the configmap we will
reconcile the csi driver.

Note:- This might looks heavy but updating of config
map is not a frequent event.

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 5b843a17a1704f771ed3ab3a4e19328a555c7029)
operator: improve ProbeHandler error message

This commit implements more diagnostic error for unsccessful
Liveness- and Readiness-Probe of Pods.

Added codes are expected to catch failures of
`ceph status` and `ceph mon_status`, and report it.

Closes: https://github.com/rook/rook/issues/9846
Closes: https://github.com/rook/rook/issues/9852

Signed-off-by: motorailgun <motoi_public@mail.aria-on-the-planet.es>
Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit ff0951738fcd2479c53d6b1ac472b5176530f028)
ci: improve the log on intermittent build failure

The build process sometimes fails with intermittent problems. Some of them
are known problems and then we retry build process. However, there still
are unknown problems. In this case, it's hard to find the reason because
the build process exits immediately.

ref.
https://github.com/rook/rook/runs/8225144002?check_suite_focus=true#step:3:926

```
+ case ""$o"" in
+ exit 1
Error: Process completed with exit code 1.
```

To make debugging easier, let's print the output of `make`. This log won't be
too long since `make` prints most messages to stderr.

Signed-off-by: Satoru Takeuchi <satoru.takeuchi@gmail.com>
(cherry picked from commit 47f7aefa20a5bdf056c0ad3c3ba55ac6be2b8182)
docs: warn to upgrade to 1.9.10 before k8s 1.25

The helm chart is blocked from upgrading to newer versions of Rook
if v1.9.10 is not installed before upgrading to K8s 1.25. The
helm chart is confused by the PSPs that still exist in the installed
chart and fails to upgrade to the new chart.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit 9cad930b4d57cff92ba925762f0d4cf00fc50532)
csi: add NFS snapshot support

This commit adds snapshotter sidecar to
NFS driver and required yamls and docs too.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 73042c753135dfd24e2879ef26d342151e303ac1)
csi: add NFS clone support

This commit reqired yaml and docs
changes too for NFS clone support.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit f8eb2a2fbc34f962abaedc5cbe50c6c9b8a7c72d)
csi: add NFS expansion support

This commit adds resizer sidecar to
NFS driver and required storageclass
and rbac changes.

Signed-off-by: Rakshith R <rar@redhat.com>
(cherry picked from commit 9c4592720c924fa6ad4cfcc31332637c7a8da069)
build: update the release version to v1.10.1

For the patch release update the documentation and manifests
to v1.10.1

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>","Improvements
Rook v1.10.1 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
nfs: Add support for NFS snapshots, restore clone & resize (, @Rakshith-R)
docs: Warn to upgrade Helm chart to 1.9.10 before upgrading to K8s 1.25 (, @travisn)
operator: Improve ProbeHandler error message (, @motorailgun)
helm: Set OBC storageclass name to correct namespace. If the operator is in a different namespace from the cluster, will require deleting the OBC storage class before upgrade. (, @BlaineEXE)
manifest: Fix unexpected end of stream (, @khrisrichardson)
rbd-mirror: Move volume replication sidecar to CSI-Addons (, @yati1998)
csi: Trigger CSI driver reconcile for every update to the configmap rook-ceph-operator-config (, @Madhu-1)
csi: Use cephcsi image for nfs nodeserver + holder design (, @Rakshith-R)
osd: Small refactor for maintainability (, @satoru-takeuchi)
csi: Change the default fsgroup policy for CSI driver object to File (, @humblec)
csi: Fix holder pod creation in openshift multus cluster (, @Madhu-1)
docs: Sharing a CephFS PVC across namespaces (, @guimou)
docs: Add example for configuring pg_num and pgp_num (, @ideepika)
osd: Disallow to create OSDs on an LV with metadata device (, @satoru-takeuchi)
docs: Add missed sssdConfigFile params for NFS CRD (, @BlaineEXE)"
"fix(checkForWebGL): throw Error on failure
fix(viewer): Add background color toggle button

Adds a main ui button that allows toggling between a set of pre-defined
background colors (currently black, white, and grey).  Also emits a new
event 'backgroundColorChanged', as well as making sure to re-render the
scene when the existing publicAPI method for changing the background is
called.
fix(viewer): Expose labelMapBlend event and set method

Also internally renames labelMapOpacity to labelMapBlend","Bug Fixes
checkForWebGL: throw Error on failure (b4dba84)
viewer: Add background color toggle button (4d0c87e)
viewer: Expose labelMapBlend event and set method (e8463e8)"
"Bump scikit-learn from 0.24.2 to 1.0

Bumps [scikit-learn](https://github.com/scikit-learn/scikit-learn) from 0.24.2 to 1.0.
- [Release notes](https://github.com/scikit-learn/scikit-learn/releases)
- [Commits](https://github.com/scikit-learn/scikit-learn/compare/0.24.2...1.0)

---
updated-dependencies:
- dependency-name: scikit-learn
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Update inverse transform for plotting
Bump pytorch-lightning from 1.4.8 to 1.4.9

Bumps [pytorch-lightning](https://github.com/PyTorchLightning/pytorch-lightning) from 1.4.8 to 1.4.9.
- [Release notes](https://github.com/PyTorchLightning/pytorch-lightning/releases)
- [Changelog](https://github.com/PyTorchLightning/pytorch-lightning/blob/master/CHANGELOG.md)
- [Commits](https://github.com/PyTorchLightning/pytorch-lightning/compare/1.4.8...1.4.9)

---
updated-dependencies:
- dependency-name: pytorch-lightning
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
update poetry lock
Bump pyarrow from 5.0.0 to 6.0.0

Bumps [pyarrow](https://github.com/pandas-dev/pandas) from 5.0.0 to 6.0.0.
- [Release notes](https://github.com/pandas-dev/pandas/releases)
- [Changelog](https://github.com/pandas-dev/pandas/blob/master/RELEASE.md)
- [Commits](https://github.com/pandas-dev/pandas/commits)

---
updated-dependencies:
- dependency-name: pyarrow
  dependency-type: direct:development
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump ipykernel from 6.4.1 to 6.4.2

Bumps [ipykernel](https://ipython.org) from 6.4.1 to 6.4.2.

---
updated-dependencies:
- dependency-name: ipykernel
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump scikit-learn from 1.0 to 1.0.1

Bumps [scikit-learn](https://github.com/scikit-learn/scikit-learn) from 1.0 to 1.0.1.
- [Release notes](https://github.com/scikit-learn/scikit-learn/releases)
- [Commits](https://github.com/scikit-learn/scikit-learn/compare/1.0...1.0.1)

---
updated-dependencies:
- dependency-name: scikit-learn
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump pytest-github-actions-annotate-failures from 0.1.3 to 0.1.5

Bumps [pytest-github-actions-annotate-failures](https://github.com/utgwkk/pytest-github-actions-annotate-failures) from 0.1.3 to 0.1.5.
- [Release notes](https://github.com/utgwkk/pytest-github-actions-annotate-failures/releases)
- [Changelog](https://github.com/utgwkk/pytest-github-actions-annotate-failures/blob/main/CHANGELOG.md)
- [Commits](https://github.com/utgwkk/pytest-github-actions-annotate-failures/compare/v0.1.3...v0.1.5)

---
updated-dependencies:
- dependency-name: pytest-github-actions-annotate-failures
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump black from 21.9b0 to 21.10b0

Bumps [black](https://github.com/psf/black) from 21.9b0 to 21.10b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump coverage from 6.0.2 to 6.1.1

Bumps [coverage](https://github.com/nedbat/coveragepy) from 6.0.2 to 6.1.1.
- [Release notes](https://github.com/nedbat/coveragepy/releases)
- [Changelog](https://github.com/nedbat/coveragepy/blob/master/CHANGES.rst)
- [Commits](https://github.com/nedbat/coveragepy/compare/6.0.2...6.1.1)

---
updated-dependencies:
- dependency-name: coverage
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump ipykernel from 6.4.2 to 6.5.0

Bumps [ipykernel](https://ipython.org) from 6.4.2 to 6.5.0.

---
updated-dependencies:
- dependency-name: ipykernel
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump isort from 5.9.3 to 5.10.0

Bumps [isort](https://github.com/pycqa/isort) from 5.9.3 to 5.10.0.
- [Release notes](https://github.com/pycqa/isort/releases)
- [Changelog](https://github.com/PyCQA/isort/blob/main/CHANGELOG.md)
- [Commits](https://github.com/pycqa/isort/compare/5.9.3...5.10.0)

---
updated-dependencies:
- dependency-name: isort
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Fix inattention mutation to `x_cont`.
Bump isort from 5.10.0 to 5.10.1

Bumps [isort](https://github.com/pycqa/isort) from 5.10.0 to 5.10.1.
- [Release notes](https://github.com/pycqa/isort/releases)
- [Changelog](https://github.com/PyCQA/isort/blob/main/CHANGELOG.md)
- [Commits](https://github.com/pycqa/isort/compare/5.10.0...5.10.1)

---
updated-dependencies:
- dependency-name: isort
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
update CHANGELOG.
Fix trailing whitespace.
Update metrics.py

fixing the signature for the base metric class
Add PR number to changelog
Fix condition for UserWarning (issue)
Bump pydata-sphinx-theme from 0.7.1 to 0.7.2

Bumps [pydata-sphinx-theme](https://github.com/pydata/pydata-sphinx-theme) from 0.7.1 to 0.7.2.
- [Release notes](https://github.com/pydata/pydata-sphinx-theme/releases)
- [Changelog](https://github.com/pydata/pydata-sphinx-theme/blob/master/docs/changelog.rst)
- [Commits](https://github.com/pydata/pydata-sphinx-theme/compare/v0.7.1...v0.7.2)

---
updated-dependencies:
- dependency-name: pydata-sphinx-theme
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump coverage from 6.1.1 to 6.1.2

Bumps [coverage](https://github.com/nedbat/coveragepy) from 6.1.1 to 6.1.2.
- [Release notes](https://github.com/nedbat/coveragepy/releases)
- [Changelog](https://github.com/nedbat/coveragepy/blob/master/CHANGES.rst)
- [Commits](https://github.com/nedbat/coveragepy/compare/6.1.1...6.1.2)

---
updated-dependencies:
- dependency-name: coverage
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump statsmodels from 0.13.0 to 0.13.1

Bumps [statsmodels](https://github.com/statsmodels/statsmodels) from 0.13.0 to 0.13.1.
- [Release notes](https://github.com/statsmodels/statsmodels/releases)
- [Changelog](https://github.com/statsmodels/statsmodels/blob/main/CHANGES.md)
- [Commits](https://github.com/statsmodels/statsmodels/compare/v0.13.0...v0.13.1)

---
updated-dependencies:
- dependency-name: statsmodels
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
fixed accessing model.val_dataloader
Bump matplotlib from 3.4.3 to 3.5.0

Bumps [matplotlib](https://github.com/matplotlib/matplotlib) from 3.4.3 to 3.5.0.
- [Release notes](https://github.com/matplotlib/matplotlib/releases)
- [Commits](https://github.com/matplotlib/matplotlib/compare/v3.4.3...v3.5.0)

---
updated-dependencies:
- dependency-name: matplotlib
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump black from 21.10b0 to 21.11b0

Bumps [black](https://github.com/psf/black) from 21.10b0 to 21.11b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump black from 21.11b0 to 21.11b1

Bumps [black](https://github.com/psf/black) from 21.11b0 to 21.11b1.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump pyarrow from 6.0.0 to 6.0.1

Bumps [pyarrow](https://github.com/pandas-dev/pandas) from 6.0.0 to 6.0.1.
- [Release notes](https://github.com/pandas-dev/pandas/releases)
- [Changelog](https://github.com/pandas-dev/pandas/blob/master/RELEASE.md)
- [Commits](https://github.com/pandas-dev/pandas/commits)

---
updated-dependencies:
- dependency-name: pyarrow
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump ipykernel from 6.5.0 to 6.5.1

Bumps [ipykernel](https://ipython.org) from 6.5.0 to 6.5.1.

---
updated-dependencies:
- dependency-name: ipykernel
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump sphinx from 4.2.0 to 4.3.0

Bumps [sphinx](https://github.com/sphinx-doc/sphinx) from 4.2.0 to 4.3.0.
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/4.x/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v4.2.0...v4.3.0)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
fixed accessing model.val_dataloader
Bump pytorch-lightning from 1.4.9 to 1.5.2

Bumps [pytorch-lightning](https://github.com/PyTorchLightning/pytorch-lightning) from 1.4.9 to 1.5.2.
- [Release notes](https://github.com/PyTorchLightning/pytorch-lightning/releases)
- [Changelog](https://github.com/PyTorchLightning/pytorch-lightning/blob/1.5.2/CHANGELOG.md)
- [Commits](https://github.com/PyTorchLightning/pytorch-lightning/compare/1.4.9...1.5.2)

---
updated-dependencies:
- dependency-name: pytorch-lightning
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump torch from 1.9.1 to 1.10.0

Bumps [torch](https://github.com/pytorch/pytorch) from 1.9.1 to 1.10.0.
- [Release notes](https://github.com/pytorch/pytorch/releases)
- [Changelog](https://github.com/pytorch/pytorch/blob/master/RELEASE.md)
- [Commits](https://github.com/pytorch/pytorch/compare/v1.9.1...v1.10.0)

---
updated-dependencies:
- dependency-name: torch
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Fix adamw test by reducing learning rate
Bump pylint from 2.11.1 to 2.12.1

Bumps [pylint](https://github.com/PyCQA/pylint) from 2.11.1 to 2.12.1.
- [Release notes](https://github.com/PyCQA/pylint/releases)
- [Changelog](https://github.com/PyCQA/pylint/blob/main/ChangeLog)
- [Commits](https://github.com/PyCQA/pylint/compare/v2.11.1...v2.12.1)

---
updated-dependencies:
- dependency-name: pylint
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
remove trainer dependency from optimizer config
remove AdamW to check if segmentation fault in CI is related
add weight decay > 0 for adamw tests
remove adamw ro test segmentation fault
replace adamw with SGD tests
add support for testing with lightning
add tests
edit changelog
fix minor bug
random commit to trigger CI
reduce number of batches to test for
Test SGD
Test if segmentation fault is a compounding issue
remove direct passing of optimizer class - something going wrong with memory
Bump coverage from 6.1.2 to 6.2

Bumps [coverage](https://github.com/nedbat/coveragepy) from 6.1.2 to 6.2.
- [Release notes](https://github.com/nedbat/coveragepy/releases)
- [Changelog](https://github.com/nedbat/coveragepy/blob/master/CHANGES.rst)
- [Commits](https://github.com/nedbat/coveragepy/compare/6.1.2...6.2)

---
updated-dependencies:
- dependency-name: coverage
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Make 0.9.2 release","Added
Added support for running pytorch_lightning.trainer.test ()
Fixed
Fix inattention mutation to x_cont ().
Compatability with pytorch-lightning 1.5 ()
Contributors
eavae
danielgafni"
"fix(createRenderingMachine): wait on requestAnimationFrame to render again
fix(ImageRenderingActor): avoid camera modified
perf(ImageRenderingActor): avoid slow unused range calculation
fix(Viewer): remove app level calls to renderWindow.render()","Bug Fixes
createRenderingMachine: wait on requestAnimationFrame to render again (899cae5)
ImageRenderingActor: avoid camera modified (dff35c4)
Viewer: remove app level calls to renderWindow.render() (72ea2e4)
Performance Improvements
ImageRenderingActor: avoid slow unused range calculation (0a00194)"
"fix(vtk.js): bump vtk.js to 26.9.15
chore(babelrc): avoid warnings
fix(createViewerTest): bump timeout","Bug Fixes
createViewerTest: bump timeout (48ed757)
vtk.js: bump vtk.js to 26.9.15 (e08eea0)"
"csi: update cmdline args as used by ceph-csi

This commit adds cmdline args to enable
1. RecoverVolumeExpansionFailure
2. PreventVolumeModeConversion
3. HonorPVReclaimPolicy

Signed-off-by: Praveen M <m.praveen@ibm.com>
(cherry picked from commit a80396df1bf30e58acbebf7fd66eef0741f7bc4d)
csi: update csi provisioner to 3.6.3

updating csi provisioner to 3.6.3 to
as we have a bug in 3.6.2

resolves:

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 85b86efee1f8900ee6a29f6a153b4d47e613de44)
csi: make leader election flags configurable

This commit adds the flexibility to configure
leader election flags as per the user
requirement and also keeps the existing values
as the default one.

resolve:

Signed-off-by: Madhu Rajanna <madhupr007@gmail.com>
(cherry picked from commit 9b418d24a1681c835be2796d15e2b1274e0f2ef7)
manifest: remove pg_autoscaler from mgr modules examples

The pg_autoscaler mgr module is no longer possible to disable.
Ceph requires the module to always be enabled. Now the
autoscaling configuration is done with a per-pool setting.

Now the rook module is shown as an example to enable.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit f0c30e2edb0b1836d230f2c7dfb9deece784ed49)
exporter: skip reconcile on exporter deletion

The exporter pod is ephemeral and frequently being deleted
and re-created when ceph daemons are created. Therefore,
we need to skip reconciling based on the deletion
of the exporter deployment.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit 995a64fb3a2a35e26f6f5d3141ef6e966c2e429c)
osd: wait for the pgs to be clean

If migration of the OSDs is enabled, operator should wait
for the pgs to be clean after the all the OSDs have reconciled.
This will help add the exponential backoff for the operator
restarts when OSD migration is needed but PGs are still rebalancing the
data after last OSD migration.

Signed-off-by: sp98 <sapillai@redhat.com>
(cherry picked from commit 43d3bf147aee36720098e1d653276b0ecbdcfcc1)
helm: fix indentation/whitespace

Removing whitespace for consistency and wrong indentation level.
There's one actual ""oopsie-fix"" in here for CSI_ENABLE_READ_AFFINITY

Signed-off-by: Erik Berg <erikberg@usit.uio.no>
(cherry picked from commit 9a2d8505e78749c5c2a53c3637659f4ba7a2ec72)
helm: remove duplicate key for toolbox keyring

We set `ceph_secret=${ROOK_CEPH_SECRET}` just a couple lines above,
and this duplicate is probably just an oversight.

This duplicate key is not present in the similar scripts in
  examples/toolbox.yaml
  examples/toolbox-operator-image.yaml

Signed-off-by: Erik Berg <erikberg@usit.uio.no>
(cherry picked from commit 2a225ac718820949102d66a53b4a7b3da200101a)
operator: increase cpu limits

The operator needs to burst significantly when reconciling,
then will quiet down and nearly not consume any cpu.
Therefore, we allow the operator to burst to more than
a full cpu instead of limiting it to a half cpu.

Signed-off-by: travisn <tnielsen@redhat.com>
(cherry picked from commit ca288874032ddcb802cff98a1aeeef72e27a1fc9)
build: update release version to v1.13.3

For the patch release update the examples and docs
to v1.13.3

Signed-off-by: travisn <tnielsen@redhat.com>","Improvements
Rook v1.13.3 is a patch release limited in scope and focusing on feature additions and bug fixes to the Ceph operator.
operator: Increase resource limits to 1.5 CPU (, @travisn)
helm: Remove duplicated toolbox keyring (, @eb4x)
exporter: Skip reconcile on exporter deletion (, @travisn)
manifest: Remove obsolete pg_autoscaler from mgr modules examples (, @travisn)
csi: Make leader election flags configurable (, @Madhu-1)
csi: Update csi provisioner to 3.6.3 (, @Madhu-1)
csi: Update feature gates cmdline args (, @iPraveenParihar)"
"monitoring: set honor labels on the service monitor

The endpoint property honorLabels: true should be set so that
different rgw instances can show separate prometheus
values instead of being aggregated.

Signed-off-by: Travis Nielsen <tnielsen@redhat.com>
(cherry picked from commit eed10334854b1017f0c145f0cac4f0ff9abb9f53)
monitoring: fix CephPoolGrowthWarning expression

Prometheus found duplicate series for the match group `pool_id`
and `instance` when evaluating the CephPoolGrowthWarning alert
expression. This alert has an evaluation interval of 2 days and
did not consider the changing POD names during the Rook migration process.

This commit adds the `pod` label to the set of considered labels.

Signed-off-by: Matej Feder <matej.feder@dnation.cloud>
(cherry picked from commit 6ba084f35accd48d6e1c3ae4440e75d37004231f)
core: increase storage deviceset name limit to 50

initially, we have the limit of 40 char set on
storageclassdeviceset.Name but seems like that is not enough and
upgrade clusters can face issue with this. So, increasing the limit to
50.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit 1dcc99ec1d899429259ba00157a78fcf33602681)
build: set release version to v1.14.7

For the patch release update the examples and documentation
to v1.14.7

Signed-off-by: Blaine Gardner <blaine.gardner@ibm.com>
core: revert increase storage deviceset name limit to 50

This reverts commit 1dcc99ec1d899429259ba00157a78fcf33602681.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit c7d07562c4b7fb77215aca84add06ff9f6766409)
osd: revert limit storageClassDeviceSets to 63 chars

This reverts commit 6f5cc9b01dd78924dc6bb8cff1f7215e6286aa0c.

Signed-off-by: subhamkrai <srai@redhat.com>
(cherry picked from commit e8aeb0d2633473dc97b956e451e71ab0e148d046)","What's Changed
monitoring: fix CephPoolGrowthWarning expression (, @matofeder)
monitoring: Set honor labels on the service monitor (, @travisn)
Full Changelog: v1.14.6...v1.14.7"
"Improve committing the first commit

Fixes
Replaces
See also

On or before the first commit, generating the diff against ""HEAD"" for
""commit -a"" or ""HEAD^"" for ""commit --amend"" fails as they don't point
to anything.  Catch such errors, generate the immutable empty tree sha,
and use it as the parent.
Add rebase action ""Show previous tip of the branch""

Only showing the previous tip (`branch@{1}`) is a bit easier to read
than the full `--reflog`.  From there a user can easily diff against the
HEAD or reset HEAD to the previous state.

You can also toggle ""all"" to make the previous tip the top of the graph
view.
Probe previous tip and scroll to it

Probe `@{1}` *before* updating the view state as otherwise ""refresh""
will throw in an unpleasant way.  Especially it will not even redraw
the prelude/help section, and of course throw on each focus, so closing
the view would be the only option for the user.

Since we now have the sha just `follow` it which really helps with
orientation.
Always bring hunk into viewport

For `jump_to_hunk`, if there is no hunk to jump to still bring the
selection, which might be on the only hunk currently available, into
the viewport.

Basically, show the cursor if a ""jump"" is requested for orientation.
Add ""Make fixup commit"" to the rebase menu

Fixes
Remove unused argument
Log background status calls
Trigger status refresh in main global_events

This is so that the status bar ""controller"" participates on the
IGNORE_NEXT_ACTIVATE signal.

We let go the first `on_activated` event even if we come from a widget,
for example the Command Palette.  This is because usually the user opens
a file using `ctrl+p`, and we must set our status in that case.

T.i. for normal views we trigger an status update on the first activate.
For our ""special"" views this is a no-op because they're still in a blank
state on the first *sync* activate event.  Neither any settings nor the
view syntax has been set at that point.
Rewrite throttler for the status bar

Fixes

The old throttler had a 100ms wait time but this is not a functionality
we need here. E.g. if you create a new view, Sublime puts two events on
the queue, namely 'on_new' and 'on_activated'.

By using the `runtime.throttler` we ensure that only one task on the
worker wins and gets executed.

Note that the implementation does not differentiate between different
views, windows, or repo paths. So there is a risk to undercall now.
Although it is very unlikely to get multiple triggers from different
sources in exactly one task, we capture and merge such events until the
worker thread is ready again which can be at any time in the future.
Note though that the *last* event wins in such cases.
Remove unsused `disable_logging` function
Automatically close ""used"" diff views after commit
Probe all consecutive diff views on the left

It is possible that the user had many diffs open directly on the left
side before committing.  Just go over all of them and stop the
synchronous update as soon as one view on the left did not close.
Prevent double refreshes by setting a flag

If we just checked a diff view and it did not close, it will receive
the focus after closing the commit view.  Prevent a second ""refresh""
in response to the obligatory `on_activated` event by setting a flag
manually.
Check if view has been closed before refreshing

If we delegate to the worker thread for refreshing, catch the edge case
that the view has been closed in between and abort early.  (Otherwise
the code throws unhandled.)
Switch to `on_activated` for the diff view for finer control
Draw diff views for single files synchronous initially

Generally, being synchronous ""on init"" looks way better.  Assume diffing
a single file is fast enough to do so.
Improve diff-view syntax

Restructure the simple diff-view syntax so that we can select the
prelude/header (via `comment.header`) and the content itself
(`git-savvy.diff`) easily.
Optimize if we should navigate after drawing

Storing the `raw_diff` on the view is not cheap, just compute if we
currently show any content using `find_by_selector`.
Shorten comment about psychoses
Make `view` and `settings` local variables for readability
Assume `commit -a` if nothing is staged yet

As quality-of-life hack: If you enter the commit process with nothing
staged, assume `include_unstaged`.

This is transparent as we always commit what's visible in the diff in
the commit message view.  If `-a` is not what you want, the user can
either just close the view, stage something and usually using `[c]` in
some of the views enter the commit process again.  She can also just
switch to a diff view, stage something and hit `[c]`, t.i. without
closing the view, as the view will update.
Rename local variables","Add ""Make fixup commit"" and ""Show previous tip"" to the rebase menu in the ""Repo History""
The latter is really the easier to use --reflog option which was already available in that view.
Often we only want to see the most recent previous tip after a rebase.  From there, we either
look up the diff against HEAD or maybe reset --hard.
Preparing a fixup commit directly from the ""Repo History"" also feels natural.  Please be sure
you already made the actual fixup, t.i. you changed and saved the code, before entering the
commit phase, otherwise there would be nothing to commit.  (Not that GitSavvy would commit
nothing then, but you would have to go back and redo.)
Quality-of-life improvements:
Automatically assume you want to commit -a if nothing is staged.
Automatically close ""stranded"" diff views after committing. ()"
"Add mv command.

Fixes.
set the default for max_items_in_tags_dashboard to -1

so that PackageDev will be able to pick up the setting
-1 is in effect of selecting all tags.
Fix: do not pass kwargs to Exception
Enhancement: select commit as base in rebase dashboard
Fix: handle cancellation of the panel
changelog: [IMP] add BREAKING syntax

Should result in something like:

```
changelog:
 -  [IMP] add BREAKING syntax
        BREAKING: Line1 ...
                  Line 2 ...
                  Line 3 ...
```
Fix: Use correct argument for blame all commits

For blame to detect moved or copied lines in all commits, the command
line argument is -CCC, this was changed to -CC in the blame refactor.

-C detects in the modifying commit
-CC detects in the modifying commit AND the commit that created the file
-CCC detects moved or copied lines in all commits
Fix: ignoring file was not working ()

* Fix: ignoring file was not working

close

* Refactor: set throw_on_stderr=False when checking autocrlf

.. global configuration; instead of catching all Exceptions
Fix: ""OS error"" message not going away ()

* Fix: OS error messeage not going awayy

* Revert ""Fix: OS error messeage not going awayy""

This reverts commit c5bb2af86a840392045b4c02315cc48e851824f8.

* Fix: OS error message not going away
Fix: Commit view respect the include_unstaged ()

Fix
Fix: find() returns index instead of True/False ()
add 2.16.6 message","Changes since 2.16.5:
New Feature:
Add mv command.
Fix:
various small fixes
Use correct argument for blame all commits
fix ignoring file functionality
don't show ""OS error"" in rebase view
Commit view respect the include_unstaged
Enhancement:
set the default for max_items_in_tags_dashboard to -1
select commit as base in rebase dashboard
Contributors:
Randy Lai
David Arnold
Eric Huss
David Devlin
Simon"
"feat: add onDayPointerEnter, onDayPointerLeave props ()
chore: Upgrade dependencies ()
Create dependabot.yml","What's Changed
feat: add onDayPointerEnter, onDayPointerLeave props by @norbertkeresztes in
New Contributors
@norbertkeresztes made their first contribution in
Full Changelog: v8.3.7...v8.4.1"
"Revert ""repo: remove links to docs""

This reverts commit f5f50fba70b6f87691788453a92b0da002f3ff90.
website: restore algolia search
chore(website): update example’s footers
fix: toMonth to include the full month ()
chore: add test for DateRange
chore: update date-fns imports ()
chore(website): add env var to deploy script
Bump v8.0.3","What's Changed
fix: toMonth to include the full month by @mputilov in
chore: update date-fns imports by @gpbl in
New Contributors
@mputilov made their first contribution in
Full Changelog: v8.0.2...v8.0.3"
"Fix: Correctly draw gutter for initial revision of a file

`previous_commit` can return empty for the initial revision of a file.
`get_file_content_at_commit` though returns the current revision of a
file if the second arg is empty.

We special case here, and return the empty string as previous version
which in turns marks every line as newly added.
Let `previous_commit`/`next_commit` return `Optional[str]`

Instead of returning the empty string for failure, just return `None`.
This makes it at least clear for the caller that we have to expect
such special values here.  (In our case, `get_file_content_at_commit`
also accepts `None` as input so it would not have catched anything.)
Fix type of `get_file_content_at_commit` accepting `None` as input
Rename constant `HUNKS_LINES_RE` to `EXTRACT_B_START`
Rename internal var `fpath` to `file_path` per our convention
Correctly use `line` instead of `row`
Add type comment
Move parsing hunk header logic to `parse_diff`
Rewrite `util.parse_diff` using the newer `core.parse_diff`
Fix ""inline-diff"" when showing the initial revision of a file

The refactoring just before this commit were necessary to make this
work.  The old `util.parse_diff` code could not parse such initial
diffs because it expected exactly 4 lines of file header information
in the diff.  (For new files there are more.)
Fix: Better viewport scrolling esp. when navigating back

Generally, the commands `prev_modification` and `next_modification`
already jump, so the `view.show` in `set_sel` was probably never needed.

That being said, the way we jump back likely overjumps because we call
`prev_modification` twice.  We thus revert exactly this second jump
using `dont_move_viewport`.

We slightly optimize the general jump using `show_region` to ensure
some context at the top or bottom of the view is visible.
Restore original state if there is nothing to jump to","Teach the ""inline_diff"" and the ""File Revision View"" to correctly recognize and handle initial revisions of a file. ()
Fix unwanted viewport jumps when using gs_next_hunk or gs_prev_hunk. ()"
"Added season cookies/eggs gotten stats
Minor text changes
Fix multi click Golden Cookie issue (issue 5)
Complete refactoring to convert all innerHTML to pure DOM + file organization
Addition to previous commit
Added back reset bonus income stat","Fixed multi click Golden Cookie issue (issue)
Change all string concatenate innerHTML to DOM (maybe small performance improvement)
Split source code into files to make it easier to manage
Added back reset bonus income statistics (highly requested)"
"Provide the empty string as default for `stdout` and `stderr`

If the git output is not decodable we throw a `GitSavvyError` without
providing `stdout` nor `stderr`.  This results in throwing a `TypeError`
in `commit.py` where we serach for a string  in `stderr` without
checking if `stderr` is not `None`.

Instead of doing the `None`-check in `commit.py` provide the empty
string as default here to avoid possible other checks throughout our
code base.

Ref
Typecheck `GitSavvyError`
Type `LoggingProcessWrapper.communicate` to get more type errors
Fix: Do not naively decode output just for logging

In case `decode` is `False`, especially to avoid our standard decode
error handling, the automatic logging would have thrown anyway.

Just avoid the decoding here altogether as `log_git` does that for us
in a defensive way t.i. without throwing.
Fix: Let the diff view catch decode errors again

Regression since 4060ae79 (Other: improve catching errors, Jul 2017)

The diff view catched a `GitSavvyError` and looked for a
`UnicodeDecodeError` in its first argument.  This is never the case
since the refactoring in 4060ae79.

Opt-out of automatic decoding using `decode=False`.  Instead of showing
a modal dialog in case of an error, just print a message in place of
the usual diff.
Do not open an inline diff if the diff is not decodable

In case of an `UnicodeDecodeError` we showed the modal dialog but kept
an empty view afterwards.

Rather catch the error and close the view automatically.  (We also
close the view automatically if the diff is a combined diff, t.i. the
file has a merge conflict currently.  So this behavior is consistent.)
Catch decode errors in the commit message view

Fixes

Showing the diff is optional in the commit message view.  It is good to
have but a user can commit anyway.

In the case the diff is not decodable, do not show the error modal
dialog anymore.  Instead print an error message in place of the diff
just like we do in the diff view.
Show partially decoded data after the help text
Safely decode commit blobs for ""Show Commit""

Ref

""Show commit"" (and the details panels from the ""Repo History"") are
read-only views.  Throwing is not an option here as seen in.

Instead show a warning and the partially (""safe"") decoded output.","Improve UX when we can't decode a diff or patch.  This affects the diff and inline
diff view, the commit message view, and the ""Show Commit"" panel/view.  ()"
"Fix a typo on the in the status template
Fix mypy complaints
Remove unused fn `trace_for_tag`
Remove fn `trace` and unused setting `dev_trace`
Remove unused fn `pprint`
Remove unused fn `log_on_exception`
Remove unused fn `dump` and `dump_var`
Snake case and define `__all__` for `debug.py`
Fix: Do not log same working dir in a row

We used `functools.lru_cache` here because we're lazy.  Ignore
whitespace changes properly.

Seen here: https://github.com/timbrel/GitSavvy/issues/1527#issuecomment-1077610112
Add more test cases to the output panel syntax test
Do not mark commit sha's in the middle of a word
Simplify sha regex
Flash status message when trying to discard staged files

Ideally we would support this but it gets complicated rather quickly.

a) a file can have staged and unstaged parts
b) a file can be actually untracked, only ""i-t-a""
Flash status message when trying to discard staged changes
Use `flash` fn throughout `diff.py`
Rename local variable `output_view` to `view`
Colorize intra-line differences
Flash status message when trying to discard staged changes (2)
Let `LogMixin` inherit from `GitCommand`
Fix typo
Fix off-by-one error when jumping from historical to working dir file

Note (again) that `rowcol` returns 0-based information but `open_file`
expects 1-based line/col values.
Rename `row` to `line` to clarify used metric","Maintenance sprint with small fixes and internal changes.
Notable:
The already unused setting dev_trace has been removed."
"Added a tooltip for reset bonus income.  Also added a tooltip per wrinkler that shows the amount it will give on pop ()
Version change, minor optimizations in wrinker tooltip/reset bonus income tooltip, move wrinkler tooltip a little right to minor game
Added the option to turn off wrinkler tooltip (issue)
Fixed issue (tooltip is cut off at bottom)
A single word corrected by anonymous
Changed default Golden Cookie sound (issue
Changed default Golden Cookie sound (issue)
Fixed userscript section on README
Added the option to change sounds played when a Golden Cookie/Season Special spawns (Fixed issue)
Fixed minor flaw in README","Added the option to turn off wrinkler tooltip (Issue)
Fixed tooltip being cut off at bottom of screen (Issue)
Fixed URL for default sound of Golden Cookie and added the option to change the URL of the Golden Cookie/Season Special spawns (Issue)"
"v2.2.1
readme: add badge
v2.2.2","Major bug fix concerning timeouts and babel runtime. See
In 2016 shared mutable state is still the root of all evil..."
"3.5.2
revert hapi dep to 15.2.0

fixes
3.5.3","Bugfixes
Reverted the HapiJs dependecy to a node v4.3.2-compatible version."
"Update default API node to api.bts.mobi
Remove link to hackthedex.io

The site was long down and the domain name is lost
Remove text about bounty
Update gitignore and publish CLA
fix for issue using Notify websocket as per example in docs
excluding virtual env directory to git ignore
fix: fix
fix:
fix:
fix: linting via black
ci: Integrate semantic-release
docs: release flow and conventional commits
style: linting via black
Revert ""fix: fix""

This reverts commit 3b38b9939175a3d67bad15091fa9c544ff9c4afc.
fix: unitests now working
ci: build every push in gh actions
style: no more globbing for flake8
ci: use PAT instead of GITHUB_TOKEN to get push permissions on master
ci: try make semantic-release work with protected branch
0.7.1

Automatically generated by python-semantic-release","Fix
Unitests now working (77716a6)
Linting via black (6b4ac7f)
Fix (3b38b99)
Documentation
Release flow and conventional commits (4958a6e)"
"v9.1.0
fix: worker-runner timout option ()
fix: round getRemainingTimeInMillis to nearest integer
fix: use Math.floor()
refactor: use object shorthand for getRemainingTimeInMillis
fix: default lambda timeout
doc: process.env.IS_OFFLINE description
doc: use IS_OFFLINE env variable in example
doc: remove some comments
doc: import env from node:process
doc: fix github actions build badge
doc: fix badge link
doc: import ApiGatewayManagementApi from aws-sdk
doc: add markdown yml file extension
doc: add java to supported runtimes
doc: remove whitespace
doc: nit
doc: extend lambda.invoke example
doc: add markdown yml file extension
doc: add initial section about run modes for node.js handlers
doc: add missing run modes link
doc: fix spelling
test: add tests for getRemainingTimeInMillis with worker threads
refactor: use try/finally
refactor: replace execaSync with execa (promise) ()
chore: bump deps
refactor: nit
test: move java tests to runtimes
test: move ruby tests to runtimes
test: move python tests to runtimes
test: move go tests to runtimes
test: fix plugin path
test: remove .only
test: fix go plugin path
test: fix java tests
test: move test helpers to test root
doc: fix versions
v9.1.1","Bug Fixes
default lambda timeout (ad217e2)
round getRemainingTimeInMillis to nearest integer (2106504)
use Math.floor() (f6145d9)
worker-runner timout option () (3437822) thank you @moroine
Maintenance Improvements
nit (6d82e3e)
replace execaSync with execa (promise) () (7fe54c5)
use object shorthand for getRemainingTimeInMillis (a9078df)
use try/finally (58698fa)"
"v13.5.0
Update README.md
fix: skip adding authorizer to event if no authorizer is configured ()

* dont add authorizor to event if no authorizer is configured

* update test descriptions

* Update src/events/http/HttpServer.js

Co-authored-by: Dorian <46839236+DorianMazur@users.noreply.github.com>

---------

Co-authored-by: Dorian <46839236+DorianMazur@users.noreply.github.com>
refactor: use provided log utils ()

* refactor: use provided log utils

* refactor: use provided log utils

* chore: prettier fix

* fix: change log to log.debug

* chore: add .DS_Store to gitignore

---------

Co-authored-by: MazurDorian <mazur.dorian15@gmail.com>
v13.5.1","Bug Fixes
skip adding authorizer to event if no authorizer is configured () (68f8f53) thank you @cnuss
Maintenance Improvements
use provided log utils () (93fafdb) thank you @czubocha"
"v7.3.1.0: Improve error handling and streamline data formatting

This update reviews and adjusts multiple code segments across the project. The improvements are mainly focused on error handling with more informative exceptions and error messages. Additionally, data formatting and retrieval have been streamlined, mainly regarding JSON data preparation and use in several functions, which should expedite the data processing and enhance the code maintainability. Minor changes were also done on the front-end logic for error handling and improved user interaction.
v7.3.2.0

https://roxy-wi.org/changelog_3_2
v7.3.2.0: Update nginx version in ansible-galaxy install command

The version of nginx being installed via the ansible-galaxy command in the installation.py file has been updated. The version number has been changed from 0.23.2 to 0.24.2, adhering to up-to-date libraries and compatibility improvements that the new version provides.
v7.3.2.0: Refactor auth.py and rollback version in installation.py

In auth.py, removed an unnecessary pass statement and reassigned unused bind variables. Also, added a check to assign a default value to 'session_ttl' if it is None. In installation.py, rolled back the nginxinc.nginx version used during ansible galaxy installation from 0.24.2 to 0.24.1.
v7.3.2.0: Refactor user_id retrieval function call

The user id retrieval function, get_user_id_by_username, in the config module was refactored. The changes included the removal of unnecessary use of keyword argument on a function call. This change simplifies the code, making it more readable and easier to understand.
v7.3.2.0: Add user parameter to save_config route

Imported user module to the routes module and added a user parameter decorator to the save_config route. This parameter fetches the user ID, which is then used to fetch the username. This username is passed to the upload_and_restart functions as a login argument.
v7.3.2.0: Enhance user parameter handling in various routes

Added decorator `@get_user_params()` to various route handlers in `routes.py`. Adjusted user handling in `config.py` by eliminating checks for 'login' and directly accessing user parameters from Flask's global variable `g`. Also moved user retrieval process from `routes.py` to lower level operations allowing for better abstraction and less redundancy.
v7.3.2.0: Refactor javascript code and update error handling in API

This commit includes two major changes. Javascript code in udp.js has been refactored to fix the sequence of operations. We have moved the getScript function inside the bracket to ensure smoother operation. Also, error handling in api_funct.py has been simplified and made more consistent by passing json.loads instead of raw strings to install_service method, and by directly setting 'e' as a value in case of exceptions. A minor style change has also been added on ha_cluster.html.
v7.3.2.0: Refactor action_service method in roxy module

Refactoring of the function 'action_service' has been completed in the roxywi module. The function for different actions ('start', 'stop', and 'restart') has been replaced by a dictionary for more clean and efficient code. This change also enhances code readability and maintainability.","Refactoring Filesystem backup installation
Refactoring working with Git
The possibility to view UDP balancer status"
"cue: deprecate Value.FieldByName

Can be replaced by LookupPath.

Also
- make Def behave like LookupDef
- update some other deprecation comments
- copy over tests

Change-Id: If7fa60fda28c9fea1b5328a41d79f52fafde394b
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/9349
Reviewed-by: CUE cueckoo <cueckoo@gmail.com>
Reviewed-by: Paul Jolly <paul@myitcv.org.uk>
internal/core/export: export floats as float literals

This avoids round-tripping problems when floats can
be represented as integers.

Fixes

The real solution is probably to make integer a direct
subclass of float. This, however, is a far more substantial
change. See.

Change-Id: I1fa532677a4ba2dcbe85446fcd7134f5bc3a542d
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/9381
Reviewed-by: CUE cueckoo <cueckoo@gmail.com>
Reviewed-by: Paul Jolly <paul@myitcv.org.uk>
internal/core/export: fix decl export printing and extraction

Fixes

A few related fixes:

- Extract from all evaluated structs, not just unevaluated
conjuncts, which results in dropping merged values.
(Note that unlike with fields attributes, the the declaration
attributes are value-bound, and thus need to be included.)

- Decl attrs were not always printed in export. This has now
been fixed.

- Changed the (internal) API to accept a Vertex, instead
of a list of conjuncts, which is a better abstraction.

Change-Id: Id598fefa88aff88aefd126fb80f1637b3f50c7fb
Reviewed-on: https://cue-review.googlesource.com/c/cue/+/9382
Reviewed-by: CUE cueckoo <cueckoo@gmail.com>
Reviewed-by: Paul Jolly <paul@myitcv.org.uk>
Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>","Not a big release, just a couple of API bug fixes.
Changelog
c8b7fe0 internal/core/export: export floats as float literals
f1d3d81 internal/core/export: fix decl export printing and extraction"
"v9.2.2
refactor: path.resolve parameter
refactor: remove default parameter
refactor: path.resolve parameter, Part 2
refactor: use function statements
fix: [ERR_MISSING_ARGS]: The ""message"" argument must be specified when using --useChildProcesses ()

Co-authored-by: dnalborczyk <dnalborczyk@gmail.com>
v9.2.3","Bug Fixes
[ERR_MISSING_ARGS]: The ""message"" argument must be specified when using --useChildProcesses () (91ae1e1) thank you @khanguyen88
Maintenance Improvements
path.resolve parameter (733dcdf)
path.resolve parameter, Part 2 (48ee32f)
remove default parameter (b657cbf)
use function statements (d213921)"
"v11.2.0
refactor: remove default get method from fetch
refactor: use destructuring
refactor: use Array.prototype.map to iterate layers
refactor: use array destructuring
refactor: replace aws-sdk lambda client with more lightweight @aws-sdk scoped package
v11.2.1","Maintenance Improvements
remove default get method from fetch (8f40327)
replace aws-sdk lambda client with more lightweight @aws-sdk scoped package (1a482ad)
use array destructuring (97de51b)
use Array.prototype.map to iterate layers (6fc9e90)
use destructuring (414cf4a)"
"v7.2.2.0

Fix haproxy command
v7.2.2.0

https://roxy-wi.org/changelog_2_2
v7.2.2.0: Update WAF nginx module path in Ansible scripts

Path of the WAF nginx module in Ansible scripts has been updated from NGINX_PATH to SERVICE_PATH. This refactoring enhances the organization of the configuration files and improves code base understanding. Changes have been applied in the WAF configuration and service execution files.
v7.2.2.0: Refactor JavaScript code and adjust paths

This commit updates variable declarations from 'var' to 'let' in 'install.js' for better scope control. It additionally includes error-handling for undefined 'select_id' in 'parseAnsibleJsonOutput' function. The 'waf.js' file is moved to the 'app/static/js' directory and paths are updated accordingly in both 'waf.js' and 'waf.html'. The success handler in 'waf.js' is also updated to use 'parseAnsibleJsonOutput'.
v7.2.2.0: Update paths in waf.js file

The paths for waf.js and the loading image in waf.js have been updated to point to the correct locations. Also, unnecessary code related to the AJAX calls for metrics and installation has been removed, simplifying the code structure.
v7.2.2.0: Add timezone support to WAF rule configuration

The update adds timezone handling for web application firewall (WAF) rule configurations using roxy_wi_tools.GetDate method. This provides flexibility to manage configurations based on the specified timezone in SQL setting.
v7.2.2.0: Update error handling in waf.js and fix favicon and script paths

Refactored error handling in the waf.js file to simplify and reduce conditional checks. Also updated the paths for favicon images and included scripts to ensure accurate addressing, enhancing the consistency and reliability of the application's behavior.","The Whois tool has been added to the Nettools
The possibility to clone settings for S3 backup
Refactoring WAF installation"
"v4.8.0
v4.8.1","Bugfixes
Using resource proxy, query strings were not passed along. This update now will pass query strings. See"
"v12.0.1
test: scenario tests, revert middy to v3 -> node v14 compat
test: add http code test with timeout
chore: bump deps
chore: fix broken test ()
refactor: order nit
chore: formatting
refactor(alb): remove unused last request options
fix: set status code 200 for empty responses ()
v12.0.2","Bug Fixes
set status code 200 for empty responses () (5c1efcf)
Maintenance Improvements
alb: remove unused last request options (cc5064c)
order nit (5fe57af)"
"v7.3.0.0: Update UDP terminology in language templates

This commit changes the term ""UDP balancers"" to ""UDP listeners"" across all language templates. This adjustment ensures consistency and correctness in how we refer to this network entity in different languages.
v7.3.0.1

https://roxy-wi.org/changelog_3_1
v7.3.1.0: Refactor error handling and improve README.md readability

The error handling has been refactored in the Roxywi overview and routes files to raise and return more comprehensive exceptions. Unnecessary commented out JSON parsing code in the service installation file has been removed for better code clarity. Aside from these, various minor grammar and formatting fixes have been made to the README.md to improve readability.
v7.3.1.0: Refactor server-side code to use JSON-based APIs

The commit refactors the server-side modules of the Roxy-WI web interface to use JSON-based APIs for improved data exchange. Specifically, methods for user, group and SSH management have been updated to accept and return JSON data. Simultaneously, error handling is improved to give more informative responses instead of plain strings. The client-side JavaScript code is also refactored to accommodate these changes. Additionally, some minor corrections are made in the UI templates.
v7.3.1.0: Refactor and optimize server applications for better error handling and accuracy

The code changes focus on enhancing the server application's functionality by improving the error handling mechanism and streamlining the logic. Modifications include refining how servers get created, updated, and deleted, optimizing how ssh related actions are performed, and ensuring more accurate server scanning. The changes help reduce potential errors and make the application more efficient.
v7.3.1.0: Refactor and optimize server applications for better error handling and accuracy

The code changes focus on enhancing the server application's functionality by improving the error handling mechanism and streamlining the logic. Modifications include refining how servers get created, updated, and deleted, optimizing how ssh related actions are performed, and ensuring more accurate server scanning. The changes help reduce potential errors and make the application more efficient.
v7.3.1.0: Return insert result in db module

Modified the cred module in the db modules package. The insert statement under the try block was updated to return the result of the .execute() method. This will allow for better handling and control of the execution flow depending on the result of the insert operation.
v7.3.1.0: Remove OpenVPN code and update error handling in alert system

This commit removes unneeded OpenVPN related code and improves error handling in the alert system. All OpenVPN related functions and html files have been removed. Also, changes are made in the alerting module to raise exceptions instead of returning error messages, which provides a more pythonic way of error handling.
v7.3.1.0: Improve error handling and streamline data formatting

This update reviews and adjusts multiple code segments across the project. The improvements are mainly focused on error handling with more informative exceptions and error messages. Additionally, data formatting and retrieval have been streamlined, mainly regarding JSON data preparation and use in several functions, which should expedite the data processing and enhance the code maintainability. Minor changes were also done on the front-end logic for error handling and improved user interaction.","The possibility to use VIP address as outgoing instead of server's IP
Incoming and outgoing connections are updated automatically on the HAProxy overview page
Refactoring S3 backup installation"
"v7.0.0.0

Changelog: https://roxy-wi.org/changelog.0.0
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Changelog: https://roxy-wi.org/changelog.0.1
v7.0.1.0

Fix showing Roxy-WI tools versions on the Tools and Update pages
v7.0.1.0

Set correct versions in requirements for EL7, 8
v7.0.1.0

Fix viewing internal logs
v7.0.1.0

Add correct installation command
v7.0.1.0

Fix update tools versions for sqlite db","The possibility to update Roxy-WI logs on the Overview page
Background jobs have been added. Actions like deleting old logs, history, check versions, etc now work in background"
"v4.10.2
add 4.10.2 changelog
demo: add new demos
bugfix: Fixed the problem of alternative refresh without any configuration
updated setting drawer Italian locale ()
bugfix: fix header style error in mobile
bugfix: change a to span tag

close
bugfix: Fixed issue where scroll bar would not appear in fixed menu mode
bugfix: when path is url,no need wrap /
bugfix: fix ? duplicate question
add 4.10.3 chanhelog
v4.10.3","add 4.10.3 chanhelog  540fc41
bugfix: fix ? duplicate question  21c2ae5
bugfix: when path is url,no need wrap /  099d573
bugfix: Fixed issue where scroll bar would not appear in fixed menu mode  e638aca
bugfix: change a to span tag  2c0c42b
bugfix: fix header style error in mobile  37ffbf2
updated setting drawer Italian locale ()  958c8c0
bugfix: Fixed the problem of alternative refresh without any configuration  86275f4
demo: add new demos  ad8ccc6
add 4.10.2 changelog  a727e88"
"v4.9.10
add menuDateRender test
big test router data
fix lint error
bugifx: fix mobile menu ()
feat: decoupling item path ()

* decoupling item path

* update snapshot
bugfix: remove height for layout

ref ant-design/ant-design-pro
feat: add children Wrapped div className ()

* add children Wrapped div className

* update snapshot
bigfix: layout add BFC
add 4.9.11 changelog
update snapshot
v4.9.11","add 4.9.11 changelog  d606df2
bigfix: layout add BFC  abd9eb0
feat: add children Wrapped div className ()  2372e69
bugfix: remove height for layout  2752721
feat: decoupling item path ()  8bcdfb2
bugifx: fix mobile menu ()  f985046
fix lint error  6783c23
big test router data  27cb868
add menuDateRender test  bb88440"
"as: Add application packages processing timeout
as: Add application packages transaction registry
dev: Update third party folder path
as: Fix IS mock race
all: Replace populate_all opts with explicit opts for specific messages
all: Remove NetID customnames
js: Remove obsolete test; empty JoinEUI is allowed
js: Rewrite tests without populators
all: Remove gogoproto.marshaler and unmarshaler options
all: Use ShouldEqualProto assertion for proto messages
all: Use internal should package when comparing proto messages
gs,ns,as: Compare slices of proto messages manually
util: Use proto.Equal instead of reflect.DeepEqual
ns: Manually compare equality
all: Cache Root CA for TLS client auth
util: Rewrite encoding/lorawan tests without populators
dev: Avoid redundant frontend builds within runner matrix
util: Fix TTL in Redis mutex tests
console: Disable factory preset freq for certain bands
as,ns: Compare application ID instead of identifiers
all: Do not compare proto messages using ==
console: Update delete modal button component
console: Fix application deletion handling
console: Fix gateway deletion handling
console: Fix organization deletion handling
all: Remove gogoproto sizer options
ci: Do not duplicate snapshot name
api: Validate order fields in search RPCs on API level
is: Return error when removing last _ALL right from collaborator
dev: bump query-string from 7.0.0 to 7.0.1

Bumps [query-string](https://github.com/sindresorhus/query-string) from 7.0.0 to 7.0.1.
- [Release notes](https://github.com/sindresorhus/query-string/releases)
- [Commits](https://github.com/sindresorhus/query-string/compare/v7.0.0...v7.0.1)

---
updated-dependencies:
- dependency-name: query-string
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump eslint-plugin-react from 7.23.2 to 7.24.0

Bumps [eslint-plugin-react](https://github.com/yannickcr/eslint-plugin-react) from 7.23.2 to 7.24.0.
- [Release notes](https://github.com/yannickcr/eslint-plugin-react/releases)
- [Changelog](https://github.com/yannickcr/eslint-plugin-react/blob/master/CHANGELOG.md)
- [Commits](https://github.com/yannickcr/eslint-plugin-react/compare/v7.23.2...v7.24.0)

---
updated-dependencies:
- dependency-name: eslint-plugin-react
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @storybook/addon-links from 6.2.9 to 6.3.6

Bumps [@storybook/addon-links](https://github.com/storybookjs/storybook/tree/HEAD/addons/links) from 6.2.9 to 6.3.6.
- [Release notes](https://github.com/storybookjs/storybook/releases)
- [Changelog](https://github.com/storybookjs/storybook/blob/next/CHANGELOG.md)
- [Commits](https://github.com/storybookjs/storybook/commits/v6.3.6/addons/links)

---
updated-dependencies:
- dependency-name: ""@storybook/addon-links""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
api: Remove IDContains customname
console: Fix frequency plan warning
console: Fix missing required prop in gateway form
api: Remove CorrelationID customnames
api: Remove ID customnames
api: Remove BrandID and ModelID customnames
api: Remove UserIds customname
api: Remove BandID and FrequencyPlanID customnames
api: Remove VersionIDs customnames
api: Remove remaining ID customnames
api: Remove RSSI customnames
api: Remove SNR customname
api: Remove KEK customnames
api: Remove CUPS and LNS customnames
api: Remove URI customnames
api: Remove APIKey, OAuth and Token customnames
api: Remove ineffective customname options
api: Remove remaining customname options from cluster.proto
api: Remove remaining customname options from dcs proto
api: Remove remaining customname option from events.proto
api: Remove remaining customname option from gateway.proto
api: Remove remaining customname option from mqtt.proto
api: Remove remaining customname options from regional.proto
all: Remove remaining customname options from LoRaWAN protos
util: Remove customname option handling
console: Fix gateway rights check
console,account: Refactor button component to allow data props
pba: Update API and fill out new fields
all: Add FindDownlinkDataRate
gs: Add TODOs for getting rid of the data rate index
pba: Use new error codes
pba: Map AS923-1 to AS923
pba: Use fully described data rate
pba: Use default LoRa coding rate and add TODO
gs: Add TODO to set coding rate from data rate
pba: Set forwarder gateway ID if known
all: Make diff between protos readable
pba: Account for coding rate in data rate
pba: Adapt to updated API
console,account: Add error details to error view
console,account: Update shared messages
dev: Update locales
dev: Update changelog
console,account: Preload fonts
ns: Skip the application uplink queue if the peer is available
dev: bump tar from 6.1.0 to 6.1.4

Bumps [tar](https://github.com/npm/node-tar) from 6.1.0 to 6.1.4.
- [Release notes](https://github.com/npm/node-tar/releases)
- [Changelog](https://github.com/npm/node-tar/blob/main/CHANGELOG.md)
- [Commits](https://github.com/npm/node-tar/compare/v6.1.0...v6.1.4)

---
updated-dependencies:
- dependency-name: tar
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
api: Update ClaimGatewayRequest fields
console: Add gateway antenna placement options
gcs: Add metrics
dev: Update changelog
gcs: Restrict allowed values of station
gcs: Remove labels
dev: Make webpack config more deterministic wrt i18n
console,account: Refactor with-locale component wrt new i18n system
dev: Remove xx locale and locale generation
console,account: Refactor footer for i18n and styling fixes
console,account: Various styling fixes related to i18n
dev: Add japanese locale
dev: Update changelog
console: Fix relative time component re-render bug
pba: List unlisted networks and tenants with a policy defined
pba: Increase update gateway timeout and interval
console,account: Fix active styling of dropdown items
console,account: Use correct assets URL
console,account: Fix hardcoded footer support link
console,account: Do not provide error details for not found errors
console: Resolve error view related styling issues
data: Update external repositories
all: Bump to version 3.14.1","Added
New config option --as.packages.timeout to control the message processing timeout of application packages.
Option to view and copy error details in full view errors in the Console.
Metrics for CUPS requests.
Language chooser in the footer in the Console.
Japanese language support in the Console.
Changed
Cache Root CA for client TLS configuration.
Identity Server no longer allows removing the _ALL right from entity collaborators if that leaves the entity without any collaborator that has the _ALL right.
The Network Server application uplink queue may now be skipped if the Application Server peer is available at enqueue time.
The interval for updating gateways in Packet Broker is now 10 minutes (was 5 minutes) and the timeout is 5 seconds (was 2 seconds).
Fixed
Improved errors when ordering search requests by non-existent fields.
LNS authentication key handling for gateways in the Console.
Docker images
docker pull thethingsnetwork/lorawan-stack:3.14
docker pull thethingsnetwork/lorawan-stack:3.14.1
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.14
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.14.1"
"Added the possibility of sending data to the ""qso"" method API also in www-x-form-urlencoded format to allow the automatic sending of QSOs via software such as Log4OM
minor translation correction
Added flags to QSO tables and in detail
formatted code better
Removed redundant code
tag 2.6.14
[Station Locations] catched showing us grid in testing","What's Changed
Added flags to QSO tables and in detail (You can enable this in your account settings) by @emics in
Added support in Station Locations for more country states by @magicbug
Improved Dashboard automatic updating by @magicbug
Fixed bug with Hamsat where it was checking 6 char grids instead of first 4 by @magicbug
Probably forgot a few other bits.
Full Changelog: 2.6.13...2.6.14"
"as: Do not propagate the key unwrapping error
pba: Fix report deadlock
pba: Propagate cancelation to publisher workers
all: Use SameSite=Lax for all cookies
all: Use SameSite=None for OAuth state cookies
ci: Remove arm64 snapshots
console: Fix gateway secrets permission issue

Check rights for reading and writing gateway secrets before fetching or submitting
ci: Skip building Mage on cache hit
ci: Remove Coveralls from Go workflow
ci: Only run Proto workflow when relevant files changed
dev: Update CODEOWNERS
dev: Speed up end-to-end tests
ci: Add Go build cache
dev: Enable end-to-end test parallelization
all: Change signature of log interface
dev: Replace mock logger with memory handler
all: Remove multi log handler
all: Remove test log entry
all: Require log handler when setting up logger
all: Remove global logger
all: Add new log formats
dev: Fix reading logs from end-to-end tests
console: Fix pseudo rights selection
dev: bump @storybook/addon-actions from 5.3.21 to 6.2.9

Bumps [@storybook/addon-actions](https://github.com/storybookjs/storybook/tree/HEAD/addons/actions) from 5.3.21 to 6.2.9.
- [Release notes](https://github.com/storybookjs/storybook/releases)
- [Changelog](https://github.com/storybookjs/storybook/blob/next/CHANGELOG.md)
- [Commits](https://github.com/storybookjs/storybook/commits/v6.2.9/addons/actions)

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump eslint from 7.25.0 to 7.28.0

Bumps [eslint](https://github.com/eslint/eslint) from 7.25.0 to 7.28.0.
- [Release notes](https://github.com/eslint/eslint/releases)
- [Changelog](https://github.com/eslint/eslint/blob/master/CHANGELOG.md)
- [Commits](https://github.com/eslint/eslint/compare/v7.25.0...v7.28.0)

---
updated-dependencies:
- dependency-name: eslint
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump dns-packet from 1.3.1 to 1.3.4

Bumps [dns-packet](https://github.com/mafintosh/dns-packet) from 1.3.1 to 1.3.4.
- [Release notes](https://github.com/mafintosh/dns-packet/releases)
- [Changelog](https://github.com/mafintosh/dns-packet/blob/master/CHANGELOG.md)
- [Commits](https://github.com/mafintosh/dns-packet/compare/v1.3.1...v1.3.4)

Signed-off-by: dependabot[bot] <support@github.com>
dev: Remove usage of isolated yarn dependency in tooling
dev: Disable PR labeling workflow for dependabot PRs
ns,as: Add uplink latency histograms
ns: Reduce buckets for uplink_gateways metric
ci: Add release signing
pba: Fix uneven balance in message handler and reporter worker pools
dev: Update changelog
ci,dev: Initialize and cache device repository index outside Docker
is: Clear EUI in gateway rights query
console: Adjust object diff function
console: Fix attributes handling applications
console: Fix attributes handling gateways
util: Extend default values for gateway fields
console: Fix attributes handling devices
console,account: Extend modal component props
util,console: Add purge methods
console: Extend feature checks

Add entry to check if the user can purge entities
console: Add delete-modal-button component
console: Change delete modal for organizations
console: Change delete modal for gateways
console: Change delete modal for applications
dev: Update locales
console: Add tooltips to device selection in device repo
api: Make claiming API consistent with TTS
cli: Make gateways claim command consistent with TTS
dev: bump postcss from 7.0.35 to 7.0.36

Bumps [postcss](https://github.com/postcss/postcss) from 7.0.35 to 7.0.36.
- [Release notes](https://github.com/postcss/postcss/releases)
- [Changelog](https://github.com/postcss/postcss/blob/main/CHANGELOG.md)
- [Commits](https://github.com/postcss/postcss/compare/7.0.35...7.0.36)

---
updated-dependencies:
- dependency-name: postcss
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Update messages
cli: Update fetching CUPS trust from file
ns: Disable ADR for multicast devices
dev: Update changelog
data: Update external repositories
all: Bump to version 3.13.2","Added
Configurable log formats with the log.format configuration option.
The console format that prints logs as more human-friendly text. This is the new default.
The json format that prints logs as JSON. This is the recommended format for production deployments.
The old format (deprecated). This can be used if you need to adapt your log analysis tooling before v3.14.
ttn_lw_gs_ns_uplink_latency_seconds, ttn_lw_ns_as_uplink_latency_seconds and ttn_lw_gtw_as_uplink_latency_seconds metrics to track latency of uplink processing.
Signing of releases.
Hard delete option to delete applications, gateways and organizations in the Console.
Changed
Relaxed the cookie policy for cross-origin requests from Strict to Lax.
Changed the cookie policy for OAuth state to None.
Deprecated
The old log format is deprecated and will be removed in v3.14.
Fixed
Permissions issue for reading and writing gateway secrets in the Console.
Current and future rights selection for organization collaborators in the Console.
Current and future rights selection for user api keys in the Console.
Low or no throughput of message handling from Packet Broker when the ingress is high when Packet Broker Agent starts.
Unset ADR bit in downlink messages to multicast devices.
Docker images
docker pull thethingsnetwork/lorawan-stack:3.13
docker pull thethingsnetwork/lorawan-stack:3.13.2
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.13
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.13.2"
"cli: Make list of allowed values in storage commands consistent
api: Remove unused file
ns: Use uplink data rate index for ADR
api: Improve validation of CreateAPIKeyRequests
console,account: Fix byte input value handling in onChange
ci: Fix glob of public dir in tar.gz archives
ci: Upload proto files to S3
api: Add listed to PacketBrokerNetwork
pba: Get and set whether the home network is listed
console: Retrieve all webhook template fields
console: Use fields default values
api: Add optional field to webhook template fields
console: Fix side navigation restricted entries
console: Fix lorawan version handling
console: Display None in the rights field if the API key has no rights
util: Add as service to js sdk
console: Extend console api definitions

Add application server methods to encode/decode downlink/uplink
console: Add payload formatter testing form
dev: Update locales
console,account: Extend icons list
console,account: Add field-group component
gs: Pass local variable ref to event call
console: Close event stream when caller rights revoked
gs: Use different down instance in ScheduleDown
is: Add options to reject common passwords
console: Allow empty template fields
util: Only print actual/expected in verbose tests
api: Allow empty uplink frequency
ns: Fix `factory_preset_frequency` handling

- Assume `factory_preset_frequency` represents all enabled uplink
  channels on reset
- Merge with PHY channels instead of replacing
dev: Update jest dependency
data: Update external repositories
api: Add explicit validators for request messages with embedded messages
dev: Use dev protoc image
api: Skip validation of some empty fields
as: Add required uplink message to tests
ns: Set FPort in tests
is: Fix CUPS URI in Gateway test
console: Add required fields to simulateUplink message
console: Make hardcoded fields consistent
all: Bump to version 3.12.1","Added
Payload formatter testing functionality in the Console.
Options in the Identity Server to reject passwords that contain the user ID (is.user-registration.password-requirements.reject-user-id) or common passwords (is.user-registration.password-requirements.reject-common).
Changed
Network Server now takes uplink data rate index for ADR.
Event streams are now closed when the callers rights are revoked.
Fixed
It is no longer possible to accidentally create API keys without any rights.
Application overview page crashing for collaborators without certain rights.
mac_settings.factory_preset_frequencies handling in US-like bands.
Security
This release fixes an issue that prevented some request messages from being validated correctly, allowing invalid values in certain fields.
Release notes
Docker images
docker pull thethingsnetwork/lorawan-stack:3.12
docker pull thethingsnetwork/lorawan-stack:3.12.1
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.12
docker pull ghcr.io/thethingsnetwork/lorawan-stack:3.12.1"
"Remap sat_name for Tevel sats in LOTW controller
Update migration.php to version 122
Reupload Tevel QSOs to LOTW
Fix typo in Lotw.php controller for Tevel sats
[Visual decorations] Small decoration for header of the log overview view.
Transformed decoration to CSS class
Sepatate CSS classes for decoration station logbook name and station location name.
Add mode to CAT banner
We need to update QSO dates on cert update as well
Fix typos
Fix https://github.com/m0urs/Cloudlog/issues/147
Add German translations for lately added lang stuff
Add missing lang tags
Make eQSL buld download fucntion backwards compatible
[Contesting] Fixed sorting when adding qsos to table
Revert ""Merge pull request from cats-shadow/view-decoration""

This reverts commit 596480f029a0de06312cb4e8d954d368b5f8c9ab, reversing
changes made to a8f93191c242a9c1e080a9fcc4e700c6f34e4cda.
Fix missing span and remove not needed SQL column
Fix some typos and naming for activated grids
Add German
Fix confirmed activated grids function
[LoTW] Added table with users. Query to find unconfirmed QSOs and L marking in advanced logbook
Use datetime for db column and fix typos
[QSO Display] Added Lotw info in popup
Make contest table use padding for SRX and STX
Add some space before search box
[Advanced Logbook] Added formatting of date/time and country name
[LoTW mouse over] Formatted date
[Advanced Logbook] Fixed sorting for custom date format
[LoTW] use Ajax for manual sync

When you click the LoTW manual sync button it now loads the contents into the page using ajax get request using htmx.
[LoTW] Makes the cert table fill the card box rather than have a border
Link QSOs in eQSL card view
[Dashboard] Update radio frequency display every 5 seconds
[Dashboard] Load the radio table on page load
Update index.php
Show radio info updated every 5mins on public display
Update Visitor.php
fixed bugs
removed as it doesn't appear to be used","What's Changed
Make SAT filter appear also if propmode SAT is selected by @phl0 in
[User selectable columns] Add Location to possible columns by @dg0tm in
Fixes a few things that I forgot in the release the first time. by @magicbug in
Remove useless file writing by @phl0 in
added ""deleted DXCC"" translation by @cats-shadow in
[Translation] Translated the menu and header by @AndreasK79 in
[Translations][Russian] Added menu translation by @cats-shadow in
[QSL Card] Adjusted class and css to make QSL card images more responsive by @AndreasK79 in
Eqsl card download by @phl0 in
Deleted badge dxcc award by @phl0 in
Better language support by @AndreasK79 in
[Translation][Russian] Added ""eQSL view"" menu item translatiom by @cats-shadow in
[QSL Card] Centered QSL image at QSO data block. by @cats-shadow in
Remap & Reupload Tevel Sat QSOs to LOTW by @ve1cwj in
[Translation][Russian] mistype corrected by @cats-shadow in
[Translation][Russian] Statistics (partially), User, Options views by @cats-shadow in
[Visual decorations] Small decoration for header of the log overview … by @cats-shadow in
[CAT] Add mode to CAT banner by @phl0 in
[LotW] We need to update QSO dates on cert update as well by @phl0 in
German translations by @phl0 in
Add one more digit to frequency display in CAT Banner by @m0urs in
eQSL bulk download function by @phl0 in
Make eQSL buld download fucntion backwards compatible by @phl0 in
[Contesting] Fixed sorting when adding qsos to table by @AndreasK79 in
Update Distances_model : change ""round"" to ""ceil"" by @abarrau in
Fix missing span and remove not needed SQL column by @phl0 in
Fix activators by @phl0 in
Make contest table use padding for SRX and STX by @phl0 in
Add some space before search box by @phl0 in
Lotw information by @AndreasK79 in
Link QSOs in eQSL card view by @phl0 in
Merge dev into master by @magicbug in
Full Changelog: 2.4.2...2.4.3"
"all: Bump to version 3.4.0
is: Remove base url from component api config when disabled
console: Improve component card rendering
console: Improve welcome message
ci: Make Github Actions TEST_SLOWDOWN same as Travis
doc: Add Network Server documentation
doc: Add Network Server API reference
api: Fix NS service ordering
api: Regenerate
is: Move ordering to List/Find funcs
is: Add ordering to search
is: Make FindMemberships more consistent with FindEntities
is: Order sessions and tokens by created_at
api: Set validation rules on order field of list requests
is: Parse order specification
is: Add ordering to list and search RPCs
is: Rewrite order field of organization and user IDs
cli: Add support for ordering in list comands
doc: Add ordering of List RPCs to CHANGELOG
doc: Clarify user search in Console
doc: Add vi key bindings
gs: Reduce UDP expiry times and block address while gateway is connected
gs: Rollover clock from 31 bits shift
gs: Support concentrator timestamp rollovers detected by the server
gs: Add synchronizing clock with known concentrator time
gs: Store session before handling upstream message
gs: Recover Basic Station concentrator time epoch
all: Update release notes
all: Regenerate messages
all: Bump to version 3.4.1","Added
Support for ordering in List RPCs.
Detect existing Basic Station time epoch when the gateway was already running long before it (re)connected to the Gateway Server.
Changed
Reduce the downlink path expiry window to 15 seconds, i.e. typically missing three PULL_DATA frames.
Reduce the connection expiry window to 1 minute.
Reduce default UDP address block time from 5 minutes to 1 minute. This allows for faster reconnecting if the gateway changes IP address. The downlink path and connection now expire before the UDP source address is released.
Fixed
Fix class A downlink scheduling when an uplink message has been received between the triggering uplink message.
Changelog
Docker images
docker pull thethingsnetwork/lorawan-stack:latest
docker pull thethingsnetwork/lorawan-stack:3
docker pull thethingsnetwork/lorawan-stack:3.4
docker pull thethingsnetwork/lorawan-stack:3.4.1"
"all: Bump to version 3.4.1
dev: Fix propagation of Go tags to unconvert
console: Fix pseudo right issue
doc: Update changelog
console: Extend form component
add enableReinitialize prop
console: Extend device general settings messages
console: Add collapse component
console: Add is device edit form
console: Add as device edit form
console: Add js device edit form
console: Add ns device edit form
console: Add delete section for device edit form
console: Add utils for device form
console: Refactor device general settings page
util,console: Extend device request field mask
util,console: Extend js field mask
console: Change dev_eui field description
console: Fix appEUI field description
console: Fix byte input nullable value
console: Add toast notification on device update
console: Fix nwk_s_key field title and description
console: Refactor device reducer
console: Fix ns form in device gs
dev: Add lodash dependency
dev: Add lodash babel plugin
console: Fix merging updated devices in the store
use lodash to deeply merge updated devices. this is needed mostly for entries like root_keys and session that can be updated separately and should be handled properly among devices of different types
util: Ignore mismatched ns and as adresses
console: Move device deletion to is form
console: Add support for joined otaa devices
dev: Update locales
console: Fix js section whe external js used
console: Fix as section description
console: Change message in device modal
inform the user about non reusable ids
console: Change network keys message descriptors
util: Batch component adresses fetch in js sdk
console: Cleanup ns form
console: Remove hidden field from js form
dev: Update locales
console: Simplify is form
console: Simplify ns form
console: Simplify js form
console: Add description for dev_addr field
console: Add description for net_id field
console: Add description for frequency_plan_id field
console: Add description for lorawan_version field
console: Add description for lorawan_phy_version field
dev: Update locales
all: Support multiple copyright years in headers check
console: Fix require component condition
console: Add feature toggles to application status bar
console: Add feature toggles to gateway status bar
console: Add feature toggles to organization status bar
is: Allow restricted users to view own user info
util: Add simple event system to JS SDK
util: Emit warning event for header warnings in responses
util: Add auth service to JS SDK
util: Add util to add missing state prop to users
console,oauth: Add option to prevent toast flooding
console: Add auth info to api tree
console: Enhance init logic to account for users with too few rights
console: Remove unnecessary decoration from user logic
console: Move toast container
console: Forward sdk warnings to toast message queue
dev: Update locales
doc: Update changelog
doc: Update changelog
console: Refactor device store for pagination
console: Streamline device store files
console: Refactor api key store logic for new pagination workflow
console: Refactor collaborator store logic for new pagination workflow
console: Refactor webhook store
console: Refactor pubsub store
console: Use unique combined id for devices
console: Remove unnecessary shared name
dev: Update copyright year for new files
console: Fix faulty default props
console,oauth: Fix header items styling
console: Fix logo dimension bug
console: Improve wording of automatic linking
console: Improve application general settings form
dev: Update locales
doc: Add NASYS LoRaWAN Outdoor Gateway connection guide
gs: Increase ScheduleTimeLong to 500 ms

This increases the chance that packets arrive on time on gateways with a
high latency backhauls, like 3G.

This is a trade-off between delay in transmitting class C downlink
messages and making sure the packet arrives on time on the gateway. This
should serve as a reasonable default value for all gateways.
console: Fix deadlock of application add form submit after error
doc: Update changelog
doc: Update Kerlink Wirnet Station provisioning documentation
doc: Add Kerlink Wirnet iStation provisioning guide
dev: Add myself and Krishna to gcs and pfconfig code owners
gcs: Include Gateway EUI on configuration
cli: Fix `gateways update` command refusing to update EUI
all: Fail component start when interop server can't start
all: Bump to version 3.4.2","Added
Forwarding of backend warnings to the Console.
Auth Info service to the JavaScript SDK.
Subscribable events to the JavaScript SDK.
Include gateway_ID field in Semtech UDP configuration response from Gateway Configuration Server.
Changed
Increase time that class C messages are scheduled in advance from 300 to 500 ms to support higher latency gateway backhauls.
Fixed
Fix selection of pseudo wildcard rights being possible (leading to crash) in the Console even when such right cannot be granted.
Fix loading spinner being stuck infinitely in gateway / application / organization overview when some rights aren't granted to the collaborator.
Fix deadlock of application add form in the Console when the submit results in an error.
Fix ttn-lw-cli sometimes refusing to update Gateway EUI.
Changelog
Docker images
docker pull thethingsnetwork/lorawan-stack:latest
docker pull thethingsnetwork/lorawan-stack:3
docker pull thethingsnetwork/lorawan-stack:3.4
docker pull thethingsnetwork/lorawan-stack:3.4.2"
"all: Enter release date of version 3.28.0 into the changelog
dev: Increase release tag resources
ns: Add limit to deduplication of accumulated metadata
console: Add protocol authentication
console: Add events API rate limiting
is: Skip membership chains check if no entities are to be checked
dev: bump axios from 1.5.1 to 1.6.0 in /sdk/js

Bumps [axios](https://github.com/axios/axios) from 1.5.1 to 1.6.0.
- [Release notes](https://github.com/axios/axios/releases)
- [Changelog](https://github.com/axios/axios/blob/v1.x/CHANGELOG.md)
- [Commits](https://github.com/axios/axios/compare/v1.5.1...v1.6.0)

---
updated-dependencies:
- dependency-name: axios
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/cli from 7.22.9 to 7.23.0

Bumps [@babel/cli](https://github.com/babel/babel/tree/HEAD/packages/babel-cli) from 7.22.9 to 7.23.0.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.23.0/packages/babel-cli)

---
updated-dependencies:
- dependency-name: ""@babel/cli""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @formatjs/intl-pluralrules from 5.2.4 to 5.2.7

Bumps [@formatjs/intl-pluralrules](https://github.com/formatjs/formatjs) from 5.2.4 to 5.2.7.
- [Release notes](https://github.com/formatjs/formatjs/releases)
- [Commits](https://github.com/formatjs/formatjs/compare/@formatjs/intl-pluralrules@5.2.4...@formatjs/intl-pluralrules@5.2.7)

---
updated-dependencies:
- dependency-name: ""@formatjs/intl-pluralrules""
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/runtime-corejs2 from 7.22.5 to 7.23.2

Bumps [@babel/runtime-corejs2](https://github.com/babel/babel/tree/HEAD/packages/babel-runtime-corejs2) from 7.22.5 to 7.23.2.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.23.2/packages/babel-runtime-corejs2)

---
updated-dependencies:
- dependency-name: ""@babel/runtime-corejs2""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/preset-react from 7.22.5 to 7.22.15

Bumps [@babel/preset-react](https://github.com/babel/babel/tree/HEAD/packages/babel-preset-react) from 7.22.5 to 7.22.15.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.22.15/packages/babel-preset-react)

---
updated-dependencies:
- dependency-name: ""@babel/preset-react""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump eslint-import-resolver-webpack from 0.13.7 to 0.13.8

Bumps [eslint-import-resolver-webpack](https://github.com/import-js/eslint-plugin-import) from 0.13.7 to 0.13.8.
- [Release notes](https://github.com/import-js/eslint-plugin-import/releases)
- [Changelog](https://github.com/import-js/eslint-plugin-import/blob/main/CHANGELOG.md)
- [Commits](https://github.com/import-js/eslint-plugin-import/compare/resolvers/webpack/v0.13.7...resolvers/webpack/v0.13.8)

---
updated-dependencies:
- dependency-name: eslint-import-resolver-webpack
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
api: Add initial relay MAC commands
api: Add relay metadata
api: Add relay related MAC parameters
api: Add relay zero field support
all: Add relay command marshaling
ns: Implement RelayConfReq
ns: Implement RelayConfigureFwdLimitReq
ns: Implement RelayNotifyNewEndDeviceReq
ns: Implement RelayEndDeviceConfReq
all: Add relay root key derivation
ns: Add BatchGetByID
ns: Sanitize pending requests after downlink generation
ns: Add relay key derivation service
ns: Implement RelayUpdateUplinkListReq
ns: Add relay MAC state generation
api: Add relay fields to allowed field mask
ns: Add relay uplink flow
all: Support relay metadata
ns: Add relay session key delivery during join
ns: Relay downlink flow
ns: Add relay forwarding rule unique index
ns: Implement RelayCtrlUplinkListReq
ns: Validate relay fields
ns: Add zero field checks
dev: bump @babel/register from 7.22.5 to 7.22.15

Bumps [@babel/register](https://github.com/babel/babel/tree/HEAD/packages/babel-register) from 7.22.5 to 7.22.15.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.22.15/packages/babel-register)

---
updated-dependencies:
- dependency-name: ""@babel/register""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @sentry/browser from 7.57.0 to 7.77.0

Bumps [@sentry/browser](https://github.com/getsentry/sentry-javascript) from 7.57.0 to 7.77.0.
- [Release notes](https://github.com/getsentry/sentry-javascript/releases)
- [Changelog](https://github.com/getsentry/sentry-javascript/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/getsentry/sentry-javascript/compare/7.57.0...7.77.0)

---
updated-dependencies:
- dependency-name: ""@sentry/browser""
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/nats-io/nats-server/v2 from 2.10.2 to 2.10.4

Bumps [github.com/nats-io/nats-server/v2](https://github.com/nats-io/nats-server) from 2.10.2 to 2.10.4.
- [Release notes](https://github.com/nats-io/nats-server/releases)
- [Changelog](https://github.com/nats-io/nats-server/blob/main/.goreleaser.yml)
- [Commits](https://github.com/nats-io/nats-server/compare/v2.10.2...v2.10.4)

---
updated-dependencies:
- dependency-name: github.com/nats-io/nats-server/v2
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump go.packetbroker.org/api/mapping/v2 from 2.1.32 to 2.2.1

Bumps [go.packetbroker.org/api/mapping/v2](https://github.com/packetbroker/go-api) from 2.1.32 to 2.2.1.
- [Release notes](https://github.com/packetbroker/go-api/releases)
- [Commits](https://github.com/packetbroker/go-api/compare/mapping/v2.1.32...iam/v2.2.1)

---
updated-dependencies:
- dependency-name: go.packetbroker.org/api/mapping/v2
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump go.packetbroker.org/api/iam/v2 from 2.7.13 to 2.8.1

Bumps [go.packetbroker.org/api/iam/v2](https://github.com/packetbroker/go-api) from 2.7.13 to 2.8.1.
- [Release notes](https://github.com/packetbroker/go-api/releases)
- [Commits](https://github.com/packetbroker/go-api/compare/iam/v2.7.13...iam/v2.8.1)

---
updated-dependencies:
- dependency-name: go.packetbroker.org/api/iam/v2
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
# Conflicts:
#	go.mod
#	go.sum
dev: bump go.packetbroker.org/api/iam from 1.7.0 to 1.8.1

Bumps [go.packetbroker.org/api/iam](https://github.com/packetbroker/go-api) from 1.7.0 to 1.8.1.
- [Release notes](https://github.com/packetbroker/go-api/releases)
- [Commits](https://github.com/packetbroker/go-api/compare/iam/v1.7.0...iam/v1.8.1)

---
updated-dependencies:
- dependency-name: go.packetbroker.org/api/iam
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
# Conflicts:
#	go.mod
#	go.sum
dev: bump github.com/redis/go-redis/v9 from 9.2.1 to 9.3.0

Bumps [github.com/redis/go-redis/v9](https://github.com/redis/go-redis) from 9.2.1 to 9.3.0.
- [Release notes](https://github.com/redis/go-redis/releases)
- [Changelog](https://github.com/redis/go-redis/blob/master/CHANGELOG.md)
- [Commits](https://github.com/redis/go-redis/compare/v9.2.1...v9.3.0)

---
updated-dependencies:
- dependency-name: github.com/redis/go-redis/v9
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
# Conflicts:
#	go.mod
dev: bump golang.org/x/oauth2 from 0.12.0 to 0.13.0

Bumps [golang.org/x/oauth2](https://github.com/golang/oauth2) from 0.12.0 to 0.13.0.
- [Commits](https://github.com/golang/oauth2/compare/v0.12.0...v0.13.0)

---
updated-dependencies:
- dependency-name: golang.org/x/oauth2
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/prometheus/common from 0.44.0 to 0.45.0

Bumps [github.com/prometheus/common](https://github.com/prometheus/common) from 0.44.0 to 0.45.0.
- [Release notes](https://github.com/prometheus/common/releases)
- [Commits](https://github.com/prometheus/common/compare/v0.44.0...v0.45.0)

---
updated-dependencies:
- dependency-name: github.com/prometheus/common
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
# Conflicts:
#	go.mod
dev: Update go.packetbroker.org/api/routing to v1.9.1
dev: Update github.com/google/go-cmp to v0.6.0
dev: Update github.com/vmihailenco/msgpack/v5 to v5.4.1
dev: Update github.com/hellofresh/health-go/v5 to v5.5.0
dev: Update github.com/getsentry/sentry-go to v0.25.0
dev: Update github.com/google/uuid to v1.4.0
dev: Update google.golang.org/appengine to v1.6.8
dev: Update github.com/aws/aws-sdk-go to v1.47.1
dev: Update golang.org/x/sync to v0.4.0
dev: Update github.com/spf13/viper to v1.17.0
dev: Update github.com/dop251/goja to v0.0.0-20231027120936-b396bb4c349d
api: Increase gateway identifiers limit
dev: bump golang.org/x/image from 0.5.0 to 0.10.0

Bumps [golang.org/x/image](https://github.com/golang/image) from 0.5.0 to 0.10.0.
- [Commits](https://github.com/golang/image/compare/v0.5.0...v0.10.0)

---
updated-dependencies:
- dependency-name: golang.org/x/image
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Use Go 1.21
dev: Remove experimental slices package
dev: Partially remove experimental maps package
dev: Update Packet Broker API
pba: Fix comment
pba: Set caller network identifier
console: Use Gateway Stats Batch API
dev: bump eslint-plugin-import from 2.27.5 to 2.29.0

Bumps [eslint-plugin-import](https://github.com/import-js/eslint-plugin-import) from 2.27.5 to 2.29.0.
- [Release notes](https://github.com/import-js/eslint-plugin-import/releases)
- [Changelog](https://github.com/import-js/eslint-plugin-import/blob/main/CHANGELOG.md)
- [Commits](https://github.com/import-js/eslint-plugin-import/compare/v2.27.5...v2.29.0)

---
updated-dependencies:
- dependency-name: eslint-plugin-import
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/preset-env from 7.22.5 to 7.23.2

Bumps [@babel/preset-env](https://github.com/babel/babel/tree/HEAD/packages/babel-preset-env) from 7.22.5 to 7.23.2.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.23.2/packages/babel-preset-env)

---
updated-dependencies:
- dependency-name: ""@babel/preset-env""
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
all: Do not expose gRPC trailers in the gRPC bridge
Update CODEOWNERS

Add @PavelJankoski as codeowner for web-related files
all: Add HTTP client transport compression
all: Add HTTP server transport compression
all: Fix experimental definition tests
console: Fix camera switching for ios, android and desktop
console: Fix linting error
dcs: Apply context to claim request
doc: Fix links ()
dev: bump go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc

Bumps [go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc](https://github.com/open-telemetry/opentelemetry-go-contrib) from 0.45.0 to 0.46.0.
- [Release notes](https://github.com/open-telemetry/opentelemetry-go-contrib/releases)
- [Changelog](https://github.com/open-telemetry/opentelemetry-go-contrib/blob/main/CHANGELOG.md)
- [Commits](https://github.com/open-telemetry/opentelemetry-go-contrib/compare/zpages/v0.45.0...zpages/v0.46.0)

---
updated-dependencies:
- dependency-name: go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
console: Fix fetching stats if there are no gateways
console: Updated CHANGELOG.md
gs: Ensure deterministic order of frequency plans
is: Fix universal rights effect on batch gateway rights assertions
api: Add band ID to list frequency plans RPC
api: Add band ID to list frequency plans request
all: Use upstream grpc-gateway/v2
all: Cut off changelog version 3.28.1
all: Bump to version 3.28.1
console: Add request
all: Enter release date of version 3.28.1 into the changelog","Added
The http.client.transport.compression experimental flag. It controls whether the HTTP clients used by the stack support gzip and zstd decompression of server responses. It is enabled by default.
The http.server.transport.compression experimental flag. It controls whether the HTTP servers used by the stack support gzip compression of the server response. It is enabled by default.
Changed
The Things Stack is now built with Go 1.21.
Statistics for gateways are now fetched in a single request.
Fixed
Resolve scroll jumps when selecting different tabs of a table in the Console.
BatchGetGatewayConnectionStats RPC rights check in certain cases."
"all: Enter release date of version 3.27.0 into the changelog
all: Ensure that jitter can be called
dev: bump @sentry/integrations from 7.57.0 to 7.61.0

Bumps [@sentry/integrations](https://github.com/getsentry/sentry-javascript) from 7.57.0 to 7.61.0.
- [Release notes](https://github.com/getsentry/sentry-javascript/releases)
- [Changelog](https://github.com/getsentry/sentry-javascript/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/getsentry/sentry-javascript/compare/7.57.0...7.61.0)

---
updated-dependencies:
- dependency-name: ""@sentry/integrations""
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump eslint-plugin-jest from 27.2.2 to 27.2.3

Bumps [eslint-plugin-jest](https://github.com/jest-community/eslint-plugin-jest) from 27.2.2 to 27.2.3.
- [Release notes](https://github.com/jest-community/eslint-plugin-jest/releases)
- [Changelog](https://github.com/jest-community/eslint-plugin-jest/blob/main/CHANGELOG.md)
- [Commits](https://github.com/jest-community/eslint-plugin-jest/compare/v27.2.2...v27.2.3)

---
updated-dependencies:
- dependency-name: eslint-plugin-jest
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/eslint-parser from 7.22.5 to 7.22.9

Bumps [@babel/eslint-parser](https://github.com/babel/babel/tree/HEAD/eslint/babel-eslint-parser) from 7.22.5 to 7.22.9.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.22.9/eslint/babel-eslint-parser)

---
updated-dependencies:
- dependency-name: ""@babel/eslint-parser""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump jest from 29.6.0 to 29.6.2

Bumps [jest](https://github.com/facebook/jest/tree/HEAD/packages/jest) from 29.6.0 to 29.6.2.
- [Release notes](https://github.com/facebook/jest/releases)
- [Changelog](https://github.com/jestjs/jest/blob/main/CHANGELOG.md)
- [Commits](https://github.com/facebook/jest/commits/v29.6.2/packages/jest)

---
updated-dependencies:
- dependency-name: jest
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump cypress-io/github-action from 4 to 5

Bumps [cypress-io/github-action](https://github.com/cypress-io/github-action) from 4 to 5.
- [Release notes](https://github.com/cypress-io/github-action/releases)
- [Changelog](https://github.com/cypress-io/github-action/blob/master/CHANGELOG.md)
- [Commits](https://github.com/cypress-io/github-action/compare/v4...v5)

---
updated-dependencies:
- dependency-name: cypress-io/github-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump gocloud.dev/pubsub/natspubsub from 0.30.0 to 0.32.0

Bumps [gocloud.dev/pubsub/natspubsub](https://github.com/google/go-cloud) from 0.30.0 to 0.32.0.
- [Release notes](https://github.com/google/go-cloud/releases)
- [Commits](https://github.com/google/go-cloud/compare/v0.30.0...v0.32.0)

---
updated-dependencies:
- dependency-name: gocloud.dev/pubsub/natspubsub
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump @babel/cli from 7.22.5 to 7.22.9

Bumps [@babel/cli](https://github.com/babel/babel/tree/HEAD/packages/babel-cli) from 7.22.5 to 7.22.9.
- [Release notes](https://github.com/babel/babel/releases)
- [Changelog](https://github.com/babel/babel/blob/main/CHANGELOG.md)
- [Commits](https://github.com/babel/babel/commits/v7.22.9/packages/babel-cli)

---
updated-dependencies:
- dependency-name: ""@babel/cli""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
console: Refactor application title section
console: Refactor gateway title section
console: Refactor organization title section
dev: Update locales
console: Fix middleware error
all: Update pull request template
console: Update e2e tests
console: Fix locales
dev: Tidy tools
console: Refactor modal button
console: Refactor key value map component
console: Refactor table component
dev: bump github.com/emersion/go-smtp from 0.16.0 to 0.17.0

Bumps [github.com/emersion/go-smtp](https://github.com/emersion/go-smtp) from 0.16.0 to 0.17.0.
- [Release notes](https://github.com/emersion/go-smtp/releases)
- [Commits](https://github.com/emersion/go-smtp/compare/v0.16.0...v0.17.0)

---
updated-dependencies:
- dependency-name: github.com/emersion/go-smtp
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/aws/aws-sdk-go from 1.44.294 to 1.44.314

Bumps [github.com/aws/aws-sdk-go](https://github.com/aws/aws-sdk-go) from 1.44.294 to 1.44.314.
- [Release notes](https://github.com/aws/aws-sdk-go/releases)
- [Commits](https://github.com/aws/aws-sdk-go/compare/v1.44.294...v1.44.314)

---
updated-dependencies:
- dependency-name: github.com/aws/aws-sdk-go
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump go.uber.org/automaxprocs from 1.5.2 to 1.5.3

Bumps [go.uber.org/automaxprocs](https://github.com/uber-go/automaxprocs) from 1.5.2 to 1.5.3.
- [Release notes](https://github.com/uber-go/automaxprocs/releases)
- [Changelog](https://github.com/uber-go/automaxprocs/blob/master/CHANGELOG.md)
- [Commits](https://github.com/uber-go/automaxprocs/compare/v1.5.2...v1.5.3)

---
updated-dependencies:
- dependency-name: go.uber.org/automaxprocs
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Tidy tools
dev: Tidy tools
dev: Tidy tools
dev: bump github.com/getsentry/sentry-go from 0.22.0 to 0.23.0

Bumps [github.com/getsentry/sentry-go](https://github.com/getsentry/sentry-go) from 0.22.0 to 0.23.0.
- [Release notes](https://github.com/getsentry/sentry-go/releases)
- [Changelog](https://github.com/getsentry/sentry-go/blob/master/CHANGELOG.md)
- [Commits](https://github.com/getsentry/sentry-go/compare/v0.22.0...v0.23.0)

---
updated-dependencies:
- dependency-name: github.com/getsentry/sentry-go
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Tidy tools
dev: bump google.golang.org/grpc from 1.56.2 to 1.57.0

Bumps [google.golang.org/grpc](https://github.com/grpc/grpc-go) from 1.56.2 to 1.57.0.
- [Release notes](https://github.com/grpc/grpc-go/releases)
- [Commits](https://github.com/grpc/grpc-go/compare/v1.56.2...v1.57.0)

---
updated-dependencies:
- dependency-name: google.golang.org/grpc
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/iancoleman/strcase from 0.2.0 to 0.3.0

Bumps [github.com/iancoleman/strcase](https://github.com/iancoleman/strcase) from 0.2.0 to 0.3.0.
- [Commits](https://github.com/iancoleman/strcase/compare/v0.2.0...v0.3.0)

---
updated-dependencies:
- dependency-name: github.com/iancoleman/strcase
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/nats-io/nats-server/v2 from 2.9.19 to 2.9.20

Bumps [github.com/nats-io/nats-server/v2](https://github.com/nats-io/nats-server) from 2.9.19 to 2.9.20.
- [Release notes](https://github.com/nats-io/nats-server/releases)
- [Changelog](https://github.com/nats-io/nats-server/blob/main/.goreleaser.yml)
- [Commits](https://github.com/nats-io/nats-server/compare/v2.9.19...v2.9.20)

---
updated-dependencies:
- dependency-name: github.com/nats-io/nats-server/v2
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Tidy tools
dev: Tidy tools
dev: Tidy tools
dev: bump gocloud.dev/pubsub/natspubsub from 0.32.0 to 0.33.0

Bumps [gocloud.dev/pubsub/natspubsub](https://github.com/google/go-cloud) from 0.32.0 to 0.33.0.
- [Release notes](https://github.com/google/go-cloud/releases)
- [Commits](https://github.com/google/go-cloud/compare/v0.32.0...v0.33.0)

---
updated-dependencies:
- dependency-name: gocloud.dev/pubsub/natspubsub
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/grpc-ecosystem/grpc-gateway/v2

Bumps [github.com/grpc-ecosystem/grpc-gateway/v2](https://github.com/grpc-ecosystem/grpc-gateway) from 2.16.0 to 2.16.2.
- [Release notes](https://github.com/grpc-ecosystem/grpc-gateway/releases)
- [Changelog](https://github.com/grpc-ecosystem/grpc-gateway/blob/main/.goreleaser.yml)
- [Commits](https://github.com/grpc-ecosystem/grpc-gateway/compare/v2.16.0...v2.16.2)

---
updated-dependencies:
- dependency-name: github.com/grpc-ecosystem/grpc-gateway/v2
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/smarty/assertions from 1.15.0 to 1.15.1

Bumps [github.com/smarty/assertions](https://github.com/smarty/assertions) from 1.15.0 to 1.15.1.
- [Commits](https://github.com/smarty/assertions/compare/v1.15.0...v1.15.1)

---
updated-dependencies:
- dependency-name: github.com/smarty/assertions
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/eclipse/paho.mqtt.golang from 1.4.2 to 1.4.3

Bumps [github.com/eclipse/paho.mqtt.golang](https://github.com/eclipse/paho.mqtt.golang) from 1.4.2 to 1.4.3.
- [Release notes](https://github.com/eclipse/paho.mqtt.golang/releases)
- [Commits](https://github.com/eclipse/paho.mqtt.golang/compare/v1.4.2...v1.4.3)

---
updated-dependencies:
- dependency-name: github.com/eclipse/paho.mqtt.golang
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump go.uber.org/zap from 1.24.0 to 1.25.0

Bumps [go.uber.org/zap](https://github.com/uber-go/zap) from 1.24.0 to 1.25.0.
- [Release notes](https://github.com/uber-go/zap/releases)
- [Changelog](https://github.com/uber-go/zap/blob/master/CHANGELOG.md)
- [Commits](https://github.com/uber-go/zap/compare/v1.24.0...v1.25.0)

---
updated-dependencies:
- dependency-name: go.uber.org/zap
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: bump github.com/jackc/pgx/v5 from 5.4.1 to 5.4.2

Bumps [github.com/jackc/pgx/v5](https://github.com/jackc/pgx) from 5.4.1 to 5.4.2.
- [Changelog](https://github.com/jackc/pgx/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jackc/pgx/compare/v5.4.1...v5.4.2)

---
updated-dependencies:
- dependency-name: github.com/jackc/pgx/v5
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
dev: Tidy tools
dev: Tidy tools
dev: Tidy tools
dev: Tidy tools
dev: Tidy tools
console: Refactor fetch table and remove with request
console: Remove unnecessary fetching and error selectors
console: Refactor rights group
console: Refactor require component
console: Add computed props hook
console: Fix entry component
console: Fix CI
is: Restrict client creation's notification for admin users
dev: Update changelog
ns: Validate current channels length
console: Use useMemo()
console: Add useDerivedRightsProp hook
console: Fix entry
console: Fix hook
console: Fix entry
console: Fix argument
api: Reorganize protos
api: Add buf module and workspace
dev: Format and lint proto files
dev: Push protos to Buf Schema Registry
console: Fix network links in PB panel
console: Fix display issue with loading spinner
dev: Update changelog
console: Apply comments
as: Propagate received at timestamps
as: Use full identifiers on uplink generation
dev: Update changelog
console: Fix application last seen
dev: Swap CLI telemetry UUID dependency
cli: Enable telemetry collection by default
is: Enable telemetry collection by default
cli: Add telemetry log message informing that is enabled
is: Add log info message when telemetry is enabled
dev: Allow stack telemetry's UID elements to be specified by the user
dev: Update CHANGELOG
all: Use paho.mqtt.golang unreleased version
all: Remove css-hot-loader
ns: Pick device address prefixes in a weighted manner
ns: Fix prefix count test
is: Mock BatchGet
dcs: Fetch devices from IS for Unclaim and GetClaimStatus
api: Update comments
dev: Generate messages
api: Add BatchUnclaim RPC
dcs: Implement batch unclaiming RPC
dcs: Implement BatchUnclaim logic
dcs: Add TTJSv2 unit tests
dcs: Add RPC tests
api: Add GetInfoByEUIs RPC
dcs: Implement GetInfoByJoinEUIs
cli: Support unclaiming on end device batch deletion
dev: Generate items
api, dcs: Make returned error a map
dcs: Update error type
cli: Log return value
dev: Format files
dcs: Concatenate errors
cli: Account for invalid device registrations
dev: bump loader-utils from 2.0.2 to 2.0.4

Bumps [loader-utils](https://github.com/webpack/loader-utils) from 2.0.2 to 2.0.4.
- [Release notes](https://github.com/webpack/loader-utils/releases)
- [Changelog](https://github.com/webpack/loader-utils/blob/v2.0.4/CHANGELOG.md)
- [Commits](https://github.com/webpack/loader-utils/compare/v2.0.2...v2.0.4)

---
updated-dependencies:
- dependency-name: loader-utils
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
all: Refactor health checks
gs: Wait for secondary gateway disconnection
gs: Refactor ping pong tests
gs: Fix ping race condition
console: Fix wording and styling of CH upgrade notification
console: Fix PB network policy selectors
gs: Fix off by one error
console: Fix wrong order of device view breadcrumbs
gs: Handle missing ping pong settings
ns: Change error margins for device address allocations
dcs: Fix map ordering race in tests
all: Cut off changelog version 3.27.1
all: Bump to version 3.27.1
console: Fix extra limitless request
all: Enter release date of version 3.27.1 into the changelog","Added
Add support for administrative_contact and technical_contact in the Console.
Reimplement move away prompt in payload formatter views in the Console.
Add telemetry collection for the CLI. A background process was added to the CLI in order to send the following information: Operating System, Architecture, Binary version and Golang version. The message is sent every 24 hours and it contains an unique random number as an identifier. It is enabled by default and in order to disable it, set telemetry.enable to false in the CLI configuration. For more information, consult the documentation here.
Add telemetry collection for the IdentityServer. A background task was added in the Identity Server which is responsible for collecting information regarding the amount of each entity in the database, this has the purpose of allowing us to better understand how users are interacting with the system, an example being if tenants are using Organizations or just Users. All information is sent every 24 hours and it contains an identifier composed of the URLs present in the following configuration fields console.ui.[is|gs|ns|as|js].base-url. It is enabled by default and in order to disable it, set telemetry.enable to false in the Stack configuration. For more information, consult the documentation here.
Fixed
OAuth clients created by an admin no longer trigger an email requesting approval from one of the tenant's admins.
Broken network routing policy links in the Packet Broker panel of the admin panel in the Console.
Application Server downlink related events now contain the complete set of end device identifiers, and the received at timestamp is now provided at all times.
Wrong order of breadcrumbs in the device views of the Console."
"Sync local fallback files - 2022-04-03
Add test case which causes fatal error in DOM
Skip noscript fallback images from being considered for hero optimization","Bugfixes
Harden hero image optimization when noscript > img fallbacks are present []
Meta
Sync local fallback files []
Full Changelog: 0.11.0...0.11.1"
"v0.10.0 ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
config: omit empty subpolicies in yaml/json () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
authorize: add databroker url check () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: prepare for enterprise / oss split () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: add / redirect () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: fix redirect loop () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
docs: image, sitemap and redirect fixes () ()

* docs: fix image linkes for cdn

* docs: use relative top level redirect

* docs: generate sitemap under /docs/

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
docs: fix in-action video () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
docs: use .com sitemap hostname () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
autocert: fix  bootstrapped cache store path () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
azure: support deriving credentials from client id, client secret and provider url () ()
authorize: log users and groups ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
pkg/storage/redis: update tests to use local certs + upstream image () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
docs: v0.10.1 changelog ()

* Update changelog for v0.10.1

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>","Changes
config: omit empty subpolicies in yaml/json @travisgroth GH-1230
New
authorize: add databroker url check @desimone GH-1231
azure: support deriving credentials from client id, client secret and provider url @calebdoxsey GH-1300
Fixed
autocert: fix  bootstrapped cache store path @desimone GH-1291
authorize: log users and groups @desimone GH-1303
Documentation
docs: prepare for enterprise / oss split @desimone GH-1239
docs: add / redirect @desimone GH-1242
docs: remove enterprise button @desimone GH-1246
docs: image, sitemap and redirect fixes @travisgroth GH-1265
docs: fix in-action video @travisgroth GH-1269
docs: use .com sitemap hostname @desimone GH-1275"
"Update changelog for v0.10.5 ()
chore(deps): envoy 1.15.1 () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
deps: update envoy arm64 to v1.15.1 () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
Update changelog for v0.10.6 ()","Security
Envoy released a security update to addresses the following CVE(s):
CVE-2020-25017 (CVSS score 6.5, Medium): Incorrect handling of duplicate HTTP headers
This patch updates the underlying embedded version of Envoy to 1.15.1. If you instead are using the Envoy from your local $PATH you are encouraged to upgrade that binary as well.
deps: envoy 1.15.1 @desimone GH-1473
deps: update envoy arm64 to v1.15.1 @travisgroth GH-1475"
"google: fix nil name () ()

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
docs: add reference to the go-sdk () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
ci: fix usage of env variable in latest tag () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
deployment: set maintainer field in packages () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
ci: pin goreleaser ahead of go 1.16 () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>","NOTE: Due to a release error, a version of v0.12.2 was briefly published off the incorrect commit.  The correct version is 0.12.2-1613583129+2060f4e.
Full Changelog
Fixed
[Backport 0-12-0] deployment: set maintainer field in packages (@github-actions[bot])
Changed
[Backport 0-12-0] ci: fix usage of env variable in latest tag (@github-actions[bot])
[Backport 0-12-0] docs: add reference to the go-sdk (@github-actions[bot])"
"docs: update changelog for 0.10.2 ()
docs: add nginx example () ()

* docs: add nginx example

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
internal/controlplane: add telemetry http handler () ()

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
internal/directory/okta: accept non-json service account () ()

Fixes

Co-authored-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>
internal/directory/okta: remove rate limiter () ()

We did honor the rate limit header from okta, so don't bother to add our
rate limiter there.
docs: update azure docs () ()

Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>

Co-authored-by: bobby <1544881+desimone@users.noreply.github.com>
Desimone/authenticate default logout ()

* authenticate: fix unset post_logout_redirect_uri
* don't show url if does not exist
Signed-off-by: Bobby DeSimone <bobbydesimone@gmail.com>
proxy: remove impersonate headers for kubernetes () ()

* proxy: remove impersonate headers for kubernetes

* master on frontend/statik

Co-authored-by: Caleb Doxsey <cdoxsey@pomerium.com>
ci: publish cloudrun latest tag () ()

* ci: publish cloudrun latest tag

Co-authored-by: Travis Groth <travisgroth@users.noreply.github.com>
Update changelog for v0.10.3 ()","Changes
ci: publish cloudrun latest tag @travisgroth GH-1398
docs: add nginx example @travisgroth GH-1329
docs: update azure docs @desimone GH-1377
internal/directory/okta: accept non-json service account @cuonglm GH-1359
internal/directory/okta: remove rate limiter @cuonglm GH-1370
Fixed
authenticate: fix unset post_logout_redirect_uri @desimone GH-1390
internal/controlplane: add telemetry http handler @travisgroth GH-1353
Security
proxy: remove impersonate headers for kubernetes @calebdoxsey GH-1394"
"v15.5.0
Resetting package fields for development
Yarn upgrade ()

Apologies if this means everyone has to `rm -rf node_modules`: react-ace
decided to turn some paths that were regular files into directories
and it turns out this really confuses yarn: https://github.com/securingsincity/react-ace/issues/1048
Refactor thread model to be created from the root event ()
Add thread relation to sticker message ()
Keep a reference to the latest thread created ()
Add thread relation in sendEvent if it's missing ()
MatrixEvent.getRoomId can return undefined ()
TypeScript: opts parameter of client.startClient is optional ()
Fix initial sync fail when event fetching unsuccessful ()
Avoid re-doing as much work when processing m.receipt event ()
Out of sync thread summary in main timeline ()
Send references to thread root to threads, even out of order ()

Co-authored-by: Germain <germains@element.io>
Account for encryption in `maySendMessage()` ()
Fix edge cases around RR calculations ()
Don't store streams that are only used once ()

Signed-off-by: Šimon Brandner <simon.bra.ag@gmail.com>
Expose room state helper ()
Fix issue with rooms not getting marked as unread ()
Prepare changelog for v15.5.1-rc.1
v15.5.1-rc.1
Revert event-mapper optimisations () ()

Co-authored-by: Germain <germains@element.io>
Prepare changelog for v15.5.1
v15.5.1","Bug Fixes
Fix issue with rooms not getting marked as unread (). Fixes element-hq/element-web.
Don't store streams that are only used once (). Fixes element-hq/element-web. Contributed by @SimonBrandner.
Fix edge cases around RR calculations (). Fixes element-hq/element-web.
Account for encryption in maySendMessage() (). Contributed by @SimonBrandner.
Send references to thread root to threads, even out of order ().
Fix initial sync fail when event fetching unsuccessful (). Fixes element-hq/element-web.
Don't decrypt redacted messages (). Contributed by @SimonBrandner."
"release v1.4.8
Added 8-band asset types and 3-band UDM2 asset type to DEFAULT_ASSET_TYPES.
Updates CHANGES with current changes.
Updated version by +0.0.1
Reverted back to v1.4.8 and will change in next release.
Updates CHANGES with changes for v1.4.9
Updated version by +0.0.1 to v1.4.9","New: analytic_8b_udm2 asset
New: basic_analytic_8b_udm2 asset
New: analytic_8b_sr_udm2 asset
New: analytic_3b_udm2 asset
Add support for 8-band asset types
Add support for 3-band UDM2 asset type"
"fix development status classifier
bump version
undo RELEASE.md changes
revert RELEASE.md
add release information for maintenance releases, differentiate maintenance and feature releases
Create .gitlab-ci.yml
Update .gitlab-ci.yml
release 2.0.3","Changed:
Orders CLI now forces STAC to false for GEE deliveries. This is due to the
Orders API change to surface validation errors when stac is specified for GEE
orders.()"
"bump to next dev version
Add conda-forge package build notes

The package builds are largely automated, only need a human maintainer to click a button or two.
Security Peace-of-mind

Eliminates the chance that someone could make an evil custom theme.
fixed docstrings to new syntax
changed wording
added another high level example to the subscriptions file
formatted documents
Update docs/custom_theme/home.html

Co-authored-by: JuLee Burdekin <91982271+JuLeeAtPlanet@users.noreply.github.com>
Update docs/custom_theme/home.html

Co-authored-by: JuLee Burdekin <91982271+JuLeeAtPlanet@users.noreply.github.com>
Update planet/clients/subscriptions.py

Co-authored-by: Kevin Lacaille <kevinlacaille@gmail.com>
removed redundant lines
Removed the --pre flag for the install command.
Removed the --user flag, as is not needed.
Fixed two broken links.
Fixed a broken link.
enforce restricting secret file permissions to user read/write
move log message to info, simplify for readability
release 2.0.1","Fixed:
Fix security issue where secret file was being created with read access other
users on the machine. Automatically fixes the file permissions to only read
and write the first time the file is accessed and continues to enforce the
proper file permissions going forward.
Docs:
Fixed broken links on ""CLI for Data API Tutorial"" page ().
Protect against injecting javascript:URI into edited href tags in docs ().
Remove --pre --user from pip install instructions ().
Update the syntax of example code in the docstrings in the Order and Data
clients and add example code to the Subscriptions client docstring ()."
"added toleration and node selector for dedicated nodepool
create and delete commands for node pool in develop-image/README.md
init container and configmap
working init container
setup works but script doesn't execute
deployment for debug
run shell with bash not python
readme update
updates to benchmark script
add readmes for benchmark
split main bench script
restructure scripts
update readme, remove sleep in deployment yaml
update script and deployment
clean up and set experiment params
remove unnecessary vars from run benchmark
run only multi-agent benchmark
benchmark: latency count for multi agent test
benchmark: rtt and latency for multiagent
temporarily reduce run number
set debugging parameters
restore final parameters
try with 32, 64 and 128 agents
prepare benchmark branch for merging
fix bash tests
fix tests with wrong skill refs
update package versions and api docs
bump to 0.6.1
add history.md items and docs updates
fix readme in contract api
address test coverage gaps
change default connection exception policy
fix broken tests
agent_info for generic command response
coverage fix","Adds a standalone script to deploy an ACN node
Adds filtering of out-dated addresses in DHT lookups
Updates multiple developer scripts
Increases code coverage of all protocols to 100%
Fixes a disconnection issue of the multiplexer
Extends soef connection to support additional registration commands and search responses
Extends oef_search protocol to include success performative and agent info in search response
Adds README.mds to all skills
Adds configurable exception policy handling for multiplexer
Fixes support for http headers in http server connection
Adds additional consistency checks on addresses in dialogues
Exposes decision maker address on skill context
Adds comprehensive benchmark scripts
Multiple docs updates including additional explanations of soef usage
Multiple additional tests and test stability fixes"
"[Conjure Java Runtime] Part 14: Experiment Running Proxy and Data Collection ()

* Predicate switch impl

* Test

* Add log when banning experiments

* Don't enable experiments jsut yet

* Add a test and minor refactor

* CR
Bumped tracing library ()

* Bumped tracing library

* Add generated changelog entries
Autorelease 0.160.1","Type
Description
Link
Improvement
Tracing library bump to 3.2.0 from 2.16.0. See these release notes."
"[LW] Hacky LW Test Service ()

* APIs, clients and wiring

* Modify ALS to make it compile

* LockWatchingService impl and unit tests + more wiring

* duck

* Duck

* Be nicer

* Log impl

* Addres CR comments

* Wire tests mocks in correctly

* Make impl thread safe and fix ranges bug

* AtlasLockDescriptorRanges tests

* Fix merge

* Slightly clean up code

* Be better and add some tests

* Do not include LockTokens in the log

* Wip

* CR comments

* Pull in base branch changes, change impl to log repeated lock watch requests

* Be better

* Make update more sensible

* Address more CR comments

* Propagate base branch changes

* Add hacky test service

* Seconds -> minutes

* Improve logging

* CR comments

* Address CR

* ypos
reduce sweep queue logspam for short-lived write-heavy tables ()
[PDS-95791] Stop deserialising! ()

* Stop deserialising!

* Add step by step logging.

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.176.1","Type
Description
Link
Improvement
[PDS-95791] Shore up TransactionPostMortemRunner
Improvement
reduce sweep queue logspam for short-lived, write-heavy tables"
"Autorelease 0.158.4
Add licence to Ec2HostLocationSupplier ()
Add check for one datacenter being a prefix of the other ()

* Add check for one datacenter being a prefix of the other

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.158.5","Type
Description
Link
Fix
Add check for one datacenter being a prefix of the other, for when Cassandra appends additional information to the datacenter that cannot be easily retrieved in Atlas."
"Only whitelist certain TransactionService methods for metrics. ()
Remove unused PersistentLockManager from BackgroundSweeperImpl. ()
Cassandra Blacklist NPE fix ()

* Handle pool changes better

* Add tests

* Add generated changelog entries
Autorelease 0.164.1","Type
Description
Link
Fix
We now handle blacklisting and un-blacklisting of Cassandra nodes correctly when the nodes in the cluster have changed underneath us. Previously, when attempting to un-blacklist a node that was no longer part of the cluster, we would encounter a NullPointerException."
"mv legacy code to branch with-legacy.
调整 Linux 下的菜单项。
..
Update .gitattributes
处理远程方案在 Windows/Unix 下换行符不一致的问题。
修复远程 hosts 刷新时如果内容无变化 loading 状态不停止的问题。
小调整。
开始引入 antd 。
菜单项添加中文翻译。
antd 样式微调；使用本地 iconfont 。
添加注释。
公共文件的打包使用 dll 方式抽离。
更新添加、编辑窗口的组件。
调整分组样式。
调整图标等。
选项界面调整。
修复组合部分有时内容没有清空的问题。
调整搜索框。
..
修复垂直居中的问题。
替换通知组件。
修复「启动时隐藏」选项的问题。
小改进。
文案调整。
小调整。","Adjusted the menu items under Linux
Fixed an issue about line-break difference between Unix/Windows
Fixed an issue about the loading status while refreshing remote hosts
Rewrite some UI widgets with ant.design
Other small bug fixes
Linux
Unix/Windows
hosts  loading
ant.design
bug
Download from"
"Autorelease 0.213.2
Serializable index need not lock anything ()

* Serializable index need not lock anything

* Add generated changelog entries

* Update atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/ConflictHandler.java

* Update ConflictHandler.java

* Update atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/ConflictHandler.java

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>
Autorelease 0.213.3","Type
Description
Link
Improvement
Optimize serializable_index locking strategy to avoid taking out redundant locks."
"Autorelease 0.208.0
Reduce retained memory in delete executor work queue ()

* fix possible leak in deleteCells

* style

* Add generated changelog entries

* Add generated changelog entries

* Add comment

* Add generated changelog entries

* Address comments

Co-authored-by: Sudiksha Nanda <snanda@palantir.com>
Autorelease 0.208.1","Type
Description
Link
Improvement
The retained memory in delete executor work queue is reduced. Previously, each runnable in deleteExecutor had SnapshotTransaction reference, which could mean a lot of memory was unnecessarily retained."
"Autorelease 0.227.6
Override blocking thrift threadpool. ()
Autorelease 0.227.7","Type
Description
Link
Improvement
Allow overriding blocking Cassandra thrift blocking call threadpool."
"Autorelease 0.227.11
[PD$-110002] Part 1: Targeted Sweep Metrics, Configurable By Strategy ()

* transactionsReadFromDb

* Pass in which metrics to use

* Fix tests

* configurability

* Tests

* bits and bobs

* Add generated changelog entries

* bad separation

* histos
Autorelease 0.227.12","Type
Description
Link
Improvement
Targeted Sweep metrics are now configurable for use-cases where one sweep strategy is used exclusively or almost exclusively."
"Autorelease 0.234.2
[TimeLock Adjudication] Handle duplicate case ()

* Handle duplicate case

* Add generated changelog entries
Autorelease 0.234.3","Type
Description
Link
Fix
TimeLock Adjudication now handles cases where the reports for leaderTime and startTransaction were completely identical. Previously we would throw an exception when trying to build a KeyedStream - health checks would go red, though users would not be affected."
"Autorelease 0.227.10
Feedback 1 ()

* timeLock metrics | poc

* remove redundant code

* poc

* clean

* refactor

* Fix

* client feedback

* remove redundant import

* Cleanup

* remove redundant dependency

* Stream of optionals

* Address comments - I

* conjure

* conjure-objects

* Address comments

* remove clientFeedback

* test

* test

* remove redundant code

* Use namedThreadFactory

* Test fixes

* Add generated changelog entries

* Fix tests

* Minor refactor

* Add TimeLock feedback task to list of closeables

* Add test + register closeable

* Use client and not throw

* Fix tests | checkstyle

* resolve comment

* Remove redundant code

* Make logger static

* Address comment
Override serviceName
Revert ""Override serviceName""

This reverts commit e26bd3fcac8c8535b31a8d70350ecf286d7ce4e1.
override service name ()

* override service name

* Update atlasdb-config/src/test/java/com/palantir/atlasdb/factory/TransactionManagersTest.java

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>

* Add generated changelog entries

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>
Autorelease 0.227.11","Type
Description
Link
Improvement
Have a background task collect and report client feedback every 30 sec for timeLock adjudication.
Improvement
Override service name so services with multiple keyspaces can be accounted as one."
"Autorelease 0.227.14
Add serviceId ()

* Add serviceId

* Add generated changelog entries

* Address comment
Autorelease 0.227.15","Type
Description
Link
Improvement
An override-able serviceIdentifier property is added in TransactionManagers."
"Autorelease 0.206.0
[Timelock Partitioning/Perf] Reduce context switches ()

* Refactor out latest round verifier so we can pass one in.

* Wire up different latestRoundVerifier based on mode.

* Async retrier uses direct executor for first attempt, and also for processing the result.

* Happy case on the hot path does not knowingly switch threads up until the network client.

* Silly bug.

* Update leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java

Co-Authored-By: David Schlosnagle <schlosna@gmail.com>

* Wrap supplier to catch any exceptions and convert them to failed futures.

* Add generated changelog entries

Co-authored-by: David Schlosnagle <schlosna@gmail.com>
Remove qos-service-impl. ()
[Timelock Partitioning] Allow Switching to Batched Single Leader ()

* Wip

* Refactor

* Add file

* Add tests

* Fix tests and some small nits:

* Fix other template

* Add generated changelog entries

* Address CR
[PDS-111849] Rolling in the Deep, Part 5: Only One Dedicated Executor ()

* rearchitecture

* fixes

* Baseline

* timestamp paxos should be restricted too

* Revert ""timestamp paxos should be restricted too""

This reverts commit dcfdd422e176b33de0abbc720c44391036211f41.

* cs

* Add generated changelog entries

* Remove stray comment

* merge conflict
Autorelease 0.206.1","Type
Description
Link
Improvement
Reduce number of context switches on the hot path inside AwaitingLeadershipProxy when checking for leadership.
Feature
Added a new paxos runtime configuration enable-batching-for-single-leader to timelock runtime configuration. If set to true, timelock internal communication will use the batched endpoints in a single leader mode. This feature is experimental, contact the altasdb team if you wish to enable it.
Improvement
Added further protections around thread explosion when a non-leader node goes down. Previously this was limited at 100 * num_clients: we now will not spin up more than 100 threads per remote across clients when talking to a remote acceptor."
"Autorelease 0.198.3
Lazy Initialization for ReplaceIfExceptionMatchingProxy ()

* Lazy initialization

* Add generated changelog entries

* Add generated changelog entries

* test

* Remove volatile read

* Refactor memoization to a factory

* oops

* Fix checkstyle
Autorelease 0.198.4","Type
Description
Link
Fix
ReplaceIfExceptionMatchingProxy is now lazy, allowing users that manipulate static remoting-layer state to (generally) have static proxies again. Previously these might be initialised before static state changes have gone through."
"Address Some Known Flakes ()
[Dialogue] Part 6: Road to Multitenancy ()

* Wiring through TMs

* Finish off

* :hocho

* Fix console

* bleh

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries

* shift config block to TMs

* unused crap

* More unused things

* Add generated changelog entries

* Add generated changelog entries

* Update TransactionManagers.java

Co-authored-by: James Baker <jbaker@palantir.com>
Autorelease 0.220.1","Type
Description
Link
Improvement
AtlasDB now allows users to pass in a DialogueClients.ReloadingFactory to the builder of TransactionManagers. This is likely to be useful for AtlasDB-Proxy, which wishes to share its Dialogue connection pools across TransactionManagers. If not provided, AtlasDB will create its own factory."
"Update migration.rst ()
SweepStrategyManagers only load one table metadata on cache miss () ()

* SweepStrategyManagers only load one table metadata on cache miss ()

* SweepStrategyManagers first init is synchronous ()
Autorelease 0.189.1","Type
Description
Link
Fix
After first initialization, SweepStrategyManagers now only loads one table metadata on a cache miss, rather thanloading all tables' metadata each time (which could include a LOT of tables). This should improve performancewhen there are many dynamic tables being created.
Improvement
First initialization of SweepStrategyManagers is synchronous. Thishelps avoid a scenario where multiple queries all try to load all tables' metadataat the same time.Also, add a duration for that cache so that tables that tables that get deleted caneventually leave the cache."
"com.palantir.refreshable 1.0 ()

* com.palantir.refreshable 1.0

* imports
SetupRunTask properly uses generics in argument ()

* Fix to correctly use generic

* Add generated changelog entries
Autorelease 0.216.1","Type
Description
Link
Fix
SetupRunTask properly uses generics in argument"
"Autorelease 0.218.1
[PaxosStateLog] Migrator and unit tests ()

* First impl, needs tests

* Wip

* Finish up

* Remove unused code and fix checkstyle

* Clear up name

* Clean up tests

* Exit early if nothing to migrate

* Remove phantom spacing
[PaxosStateLog] File to Sqlite Integration Tests ()

* First impl, needs tests

* Wip

* Finish up

* Remove unused code and fix checkstyle

* Clear up name

* Clean up tests

* Exit early if nothing to migrate

* Add file to sqlite migration tests
[Dialogue] Part 4: Runtime Configuration and ETE Testing ()

* Wire up Dialogue

* ETE tests with Dialogue

* Missing lines

* Add generated changelog entries

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.218.2","Type
Description
Link
Feature
AtlasDB now allows Dialogue to be enabled when communicating with TimeLock. Importantly, note that this is limited to AtlasDB's communication with TimeLock - internode communication between TimeLock nodes, or services using leader blocks or remote timestamp and lock services, still takes place over Conjure-Java-Runtime. Furthermore, AtlasDB currently will not share its client pools or Dialogue factories with its users.This feature is in beta and APIs are unlikely to be stable at this time: please talk to the AtlasDB team should you wish to use this feature in production."
"[PaxosLog] Sqlite implementation without namespaces ()

* sqlite

* Checkpoint

* Clean up a bit and add tests

* Improve test

* Allow overwriting

* Fix nits

* Checkstyle

Co-authored-by: Jeremy Kong <jeremykong@hotmail.com>
Modify getRanges api to use GetRangesQuery ()

* Modify getRanges api to use GetRangesQuery

* Demo generated code

* Add generated changelog entries

* Regenerate Schemas
Autorelease 0.210.1","Type
Description
Link
Fix
The original range requests in a getRanges call is preserved so that the range requests seen by the provided visitable processor are equal to the ones provided. Previously, the range request were optimized without preserving the original request."
"Autorelease 0.229.1
Remove old warning ()
report feedback to timeLock ()

* report feedback to timeLock | poc

* Reloading proxies

* Use dialogue

* Address comments

* refactor

* Sanity test

* Use broadcasting dialogue service provider

* clean up

* Refactor

* clean

* Add generated changelog entries

* Checkstyle

* Try

* refactor

* fix + refactor

* Use refreshable

* versioned user agent

* Update test

* checkstyle

* Address comments - 1

* Test fix + address comments

* bug fix

* kill log

* Address comments
Autorelease 0.229.2","Type
Description
Link
Improvement
AtlasDB now reports metrics of endpoints used for TimeLock adjudication to TimeLock feedback service."
"Autorelease 0.242.1
B g fix ()

* Rate limit greening node's attempts to become leader

* Remove

* Add generated changelog entries

* Fix

* Address comments

* Add generated changelog entries

* Add generated changelog entries
Autorelease 0.242.2","Type
Description
Link
Improvement
A greening node's attempts to gain leadership are now rate limited. Previously, repeated attempts of the greening node to gain leadership could lead to leader thrashing."
"Autorelease 0.254.3
[TL] Persist Schema Version in Sqlite ()

* Persist timelock schema version

* they see me rollin

* add warning

* Add generated changelog entries

* Throw if schema version mismatch

* spotless
[LE] Implement SlidingWindowWeightedMeanGauge ()

* Impl and tests

* Nit

* Add generated changelog entries

* Add generated changelog entries

* run spotless apply

* Add generated changelog entries

* Address CR

Co-authored-by: Jolyon Shah <jshah@palantir.com>
[TimeLock corruption detection] | Timestamp corruption checks ()

* WIP

* WIP

* Minor cleanup

* Remove redundant changes

* Minor refactor

* Refine

* Fix

* Fix test build

* Address comments - 1

* Fix build

* Address comments

* Refactor

* Minor
Autorelease 0.254.4","Type
Description
Link
Improvement
Timelock now persists its schema version in SQLite.
Improvement
Implement a new gauge to aggregate metrics from Timelock clients for the purpose of leader election metric reporting."
"Autorelease 0.239.2
[LW] Fix exception handling in ResilientLockWatchEventCache ()

* fix resilient cache

* Add generated changelog entries
Autorelease 0.239.3","Type
Description
Link
Fix
ResilientLockWatchEventCache now does not switch to the backup cache if it encounters a TransactionLockWatchFailedException as originally intended."
"Autorelease 0.248.2
Excavator: Upgrade dependencies ()

* Excavator: Upgrade dependencies

* wiremock breaking change

* regenerate schema

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
Co-authored-by: Anjor Kanekar <akanekar@palantir.com>
Use jboss-threads ViewExecutor instead of our own ()

Use jboss-threads ViewExecutor instead of our own
Rename IdentifiedVersion ()
[LW] Remove StartTransactionsv5 ()

* Remove STV5

* Remove STRV5

* Remove newline

* Undo botched rebase
Autorelease 0.248.3","Type
Description
Link
Improvement
Use jboss-threads ViewExecutor instead of our own"
"Autorelease 0.239.9
[PD$-110002] Part 13: Filter Resiliency ()

* MPA should be resilient

* Update test

* Add generated changelog entries

* baseline

* Update atlasdb-api/src/main/java/com/palantir/atlasdb/metrics/MetricPublicationArbiter.java

Co-authored-by: Carter Kozak <ckozak@ckozak.net>

Co-authored-by: Carter Kozak <ckozak@ckozak.net>
Autorelease 0.239.10","Type
Description
Link
Fix
Metrics filters are now resilient to exceptions (e.g. when querying timelock)."
"Autorelease 0.285.1
[Cross Client Batching] Autobatchers support configurable wait strats ()

* Autobatchers support configurable wait strats

* Add generated changelog entries

* Bad bad bad
Autorelease 0.285.2","Type
Description
Link
Improvement
AutobatcherBuilder now supports configurable wait strategies for the underlying Disruptor."
"Autorelease 0.290.2
Clean naked sentinels in thoroughly swept tables ()

* Wip

* Commit

* Add generated changelog entries

* address CR

* Spottlles testss
Autorelease 0.290.3","Type
Description
Link
Improvement
Transactions encountering naked sweep sentinels in thoroughly swept tables will now submit a task to clean them up."
"Autorelease 0.290.3
Update ""Cahill 2009"" link in isolation_levels.rst ()

- The link to the ""Cahill 2009"" paper was inaccessible at the time of this PR, and returned a ""500 Internal Server Error""
- Changed the link to the pdf link available on ""The University of Sydney Library"" website
- Alternatively the permalink provided by the university could be used (http://hdl.handle.net/2123/5353)
Excavator: Prefer AssertJ ()

* Excavator: Prefer AssertJ

* Address comments

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
Co-authored-by: Sudiksha Nanda <snanda@palantir.com>
Add the getRowKeysInRange method to the KVS interface ()
Autorelease 0.290.4","Type
Description
Link
Improvement
Added the getRowKeysInRange method to the KVS interface, so we can access the Cassandra KVS implementation from a transaction manager. This may be removed at any time, and if you wish to use it, contact the atlasdb team for support."
"I know what I am doing ()
[CCB] | MultiClientTransactionStarter refactor - part 1 ()

* Extract interfact for TransactionStarter

* Refactor + fix build

* Move utility methods

* Address comments
[TS] Better shard balancing ()
Autorelease 0.301.1","Type
Description
Link
Improvement
Improved CellReference.hashCode() method to use a more standard implementation rather than depend on Cell.hashCode(). This fixes imbalance in the targeted sweep queue caused by writes to cells where row and column names match."
"[LW] Leader Election Tests ()

* nowhere

* lol

* da

* worked it out

* refactor
[LW] Cache getRows ()
Autorelease 0.337.1","Type
Description
Link
Feature
The Lock Watch cache is now also used for getRows() calls on cached tables. This can result in an additional KVS lookup when only partial results are present in the cache, but this should be offset by having to fetch fewer results."
"Remove repo info from everywhere ()
[LW] Resolve TODOs ()
[LW] Bound Cache by size ()
[PDS-146088] Time out when borrowing objects from the Cassandra object pool ()
Autorelease 0.329.1","Type
Description
Link
Fix
Time out after a default time of ten minutes when borrowing objects from the Cassandra client pooling container.
Improvement
Added size-based eviction for the lock watch value cache."
"Excavator: Upgrade dependencies ()

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
Excavator: Update conjure plugins and dependencies ()

Co-authored-by: svc-excavator-bot <svc-excavator-bot@palantir.com>
further isolate dbkvs tests ()

* further isolate dbkvs tests

Changes the postgres container to not bind to the default postgres port
and changes the service name to make sure that no other ete tests were
somehow relying on this container.

* fix maxConnectionAge for hikari test

Hikari internally appears to require this value be at least 30 seconds
(otherwise it overrides the value to be *30 minutes* instead).
Only log detailed logs if DEBUG enabled ()
Autorelease 0.311.1","Type
Description
Link
Fix
We now only get the description of a v1 lock for purposes of a debug log line in the lock service if debug logging is actually enabled there."
"Excavator: Update conjure plugins and dependencies ()
[LW/AC] Keep events around for active transactions ()

* pain

* no tests yet

* things

* Add generated changelog entries

* five six seven eight

* ha

* all around me

* allow me to demonstrate

* here is something to believe in

* beep boop

* sneaky

* silkbind

* fix

* comments
Autorelease 0.321.1","Type
Description
Link
Improvement
LockWatchEventLog now retains events for all open transactions as well as at least 1000 events."
"Excavator: Upgrades Baseline to the latest version ()
Fix Potential Missed Serializable Transaction Conflicts ()
Autorelease 0.383.1","Type
Description
Link
Fix
Serializable transactions no longer read from commitTimestamp + 1 when performing read-write conflict checking. Previously, they may have done so, which runs a data corruption risk where an ABA conflict may be obscured. Note that this risk is extremely small (owing to this requiring a very specific interleaving of execution, _transactions2, and in most cases serializability still being preserved even though the strict serializability AtlasDB normally offers may not be)."
"[LW] Integration Tests ()
[LW] Do not cache tables watched from an external source ()
Autorelease 0.336.1","Type
Description
Link
Fix
Do not start caching tables via Atlas for tables that have had their watches registered externally (as opposed to via the schema)."
"Autorelease 0.334.1
Excavator: Upgrade buildscript dependencies ()
[LW] Serializable Transactions Part I: getOrCreateCache ()
[LW] Serializable Transactions Part II: updateCacheOnCommit ()
Autorelease 0.334.2","Type
Description
Link
Improvement
Modified the lock watch value cache to update snapshots for a fixed sequence at start transaction time instead of commit transaction time."
"releaser: Add release notes to /docs for release of 0.63.0

[ci skip]
releaser: Prepare repository for 0.64.0-DEV

[ci skip]
Revert to minify v2.6.1

Closes
Fix baseof with regular define regression

Fixes
deps: Make the build flags shared between sites

Updates
releaser: Add release notes for 0.63.1
[ci skip]
releaser: Bump versions for release of 0.63.1

[ci skip]
releaser: Add release notes to /docs for release of 0.63.1

[ci skip]","This is a bug-fix release with a couple of important fixes.
deps: Make the build flags shared between sites 0df7bd62 @bep
Fix baseof with regular define regression f441f675 @bep
Revert to minify v2.61"
"releaser: Add release notes to /docs for release of 0.69.1

[ci skip]
releaser: Prepare repository for 0.70.0-DEV

[ci skip]
Fix IsAncestor and IsDescendant under subsection
deps: Update goldmark-highlighting

Recreate
Fixes
Fix IsAncestor and IsDescendant when the same page is passed
releaser: Add release notes for 0.69.2
[ci skip]
releaser: Bump versions for release of 0.69.2

[ci skip]
releaser: Add release notes to /docs for release of 0.69.2

[ci skip]","This is a bug-fix release with a couple of important fixes.
Fix IsAncestor and IsDescendant when the same page is passed 8d5766d4 @tekezo
deps: Update goldmark-highlighting 5c41f41a @satotake
Fix IsAncestor and IsDescendant under subsection 27a4c441 @tekezo"
"releaser: Add release notes to /docs for release of 0.82.0

[ci skip]
Regression in media type suffix lookup

Introduced in Hugo 0.82.0.

Fixes
releaser: Add release notes for 0.82.1
[ci skip]
releaser: Bump versions for release of 0.82.1

[ci skip]
releaser: Add release notes to /docs for release of 0.82.1

[ci skip]","This is a bug-fix release with one important fix.
Regression in media type suffix lookup 6e9d2bf0 @bep"
"releaser: Bump versions for release of 0.92.1

[ci skip]
releaser: Prepare repository for 0.93.0-DEV

[ci skip]
Fix typo in panicOnWarning message
Fix erroneous warning with .Page.RenderString on a page without a backing file

Fixes
deps: Update github.com/pelletier/go-toml/v2 to v2.0.0-beta.6

Closes
Closes
Remove hugo gen autocomplete

Closes
Validate comparison operator argument count

Fixes
Add a new integration test framework

I have had this living in a separate branch for now, but we need this in the main branch sooner rather than later.

One big advantage of this is that integration tests can live in any package, not just hugolib.
openapi3: Port integration test into correct package
tocss: Port integration tests to their package
templates: Port integration test to its package
minifier: Port integration tests to its package
postcss: Move integration test to its own package
js: Port integration tests to its own package
babel: Port integration tests to their own package
Add a migration test helper
tpl/templates: Fix templates.Exist issue with base templates

Fixes
Update the application/javascript media type

Add jsm and mjs extensions.
Closes
Remove the ""check"" command

Closes
Exclude event attributes when rendering markdown

Closes
commands: Fix server deadlock on config error

Fixes
Add another cascade benchmark
Fix validation of Page Kind in cascade target map

Fixes
Simplify some integration tests
Add HUGO_ENV to the os/exec environment

Closes
releaser: Add release notes for 0.92.2
[ci skip]
releaser: Bump versions for release of 0.92.2

[ci skip]","This is a bug-fix release with a couple of important fixes.
Add HUGO_ENV to the os/exec environment 4f4cec7 @jmooring
Simplify some integration tests da4866c @bep
Fix validation of Page Kind in cascade target map d1109f5 @jmooring
Add another cascade benchmark a7d182c @bep
commands: Fix server deadlock on config error a2a660e @bep
Exclude event attributes when rendering markdown f7bc4cc @jmooring
Remove the ""check"" command 54f8d8a @jmooring
Update the application/javascript media type 3036d0a @jmooring
tpl/templates: Fix templates.Exist issue with base templates 6a238a7 @bep
Add a migration test helper f60714b @bep
babel: Port integration tests to their own package 215a715 @bep
js: Port integration tests to its own package d128d26 @bep
postcss: Move integration test to its own package c4aaf1d @bep
minifier: Port integration tests to its package 94f10cf @bep
templates: Port integration test to its package b06c210 @bep
tocss: Port integration tests to their package d22f779 @bep
openapi3: Port integration test into correct package 39f69ca @bep
Add a new integration test framework 64f75ad @bep
Validate comparison operator argument count 9262719 @jmooring
Remove hugo gen autocomplete 3336762 @jmooring
deps: Update github.com/pelletier/go-toml/v2 to v2.0.0-beta.6 5ca40c8 @bep
Fix erroneous warning with .Page.RenderString on a page without a backing file ef7d14a @bep
Fix typo in panicOnWarning message c05c99f @jmooring
releaser: Prepare repository for 0.93.0-DEV ff7689c @bep"
"releaser: Bump versions for release of 0.104.0

[ci skip]
releaser: Prepare repository for 0.105.0-DEV

[ci skip]
Fix /static performance regression from Hugo 0.103.0

In `v0.103.0` we added support for `resources.PostProcess` for all file types, not just HTML. We had benchmarks that said we were fine in that department, but those did not consider the static file syncing.

This fixes that by:

* Making sure that the /static syncer always gets its own file system without any checks for the post process token.
* For dynamic files (e.g. rendered HTML files) we add an additional check to make sure that we skip binary files (e.g. images)

Fixes
releaser: Bump versions for release of 0.104.1

[ci skip]","What's Changed
Fix /static performance regression from Hugo 0.103.0 29ccb36 @bep"
"releaser: Bump versions for release of 0.112.3

[ci skip]
releaser: Prepare repository for 0.113.0-DEV

[ci skip]
commands: Move the --format flag to only the commands that support it

Fixes
commands: Re-introduce the -f shorthand for hugo new site

Fixes
Fix --renderStaticToDisk regression

Fixes
Add language.LanguageCode

But keep an alias at Site

Closes
langs: Remove the Language.Params deprecation message for now

Closes
commands: Fail the build when no config file or config dir

Fixes
docs: Regen CLI docs
Don't create the public folder unless needed

Fixes
commands: Reinstate some of the removed build flags (e.g. --theme) to new and mod

Fixes
Fix Processed images count regression for multiple languages

Fixes
commands: Add the common build flags to the config commands

Which allows to see the config with `--theme` applied.

Updates
docs: Regenerate CLI docs
releaser: Bump versions for release of 0.112.4

[ci skip]","Fix Processed images count regression for multiple languages fd09933 @bep
Fix --renderStaticToDisk regression 8f293a1 @bep
commands: Add the common build flags to the config commands 51d0a0a @bep
commands: Reinstate some of the removed build flags (e.g. --theme) to new and mod 43f1282 @bep
Don't create the public folder unless needed e96cdfe @bep
commands: Fail the build when no config file or config dir 273d9f6 @bep
langs: Remove the Language.Params deprecation message for now a6257d8 @bep
Add language.LanguageCode 6c2db0d @bep
commands: Re-introduce the -f shorthand for hugo new site 901cd97 @bep
commands: Move the --format flag to only the commands that support it f86b5f7 @bep
Documentation
docs: Regenerate CLI docs 20ea2e0 @bep
docs: Regen CLI docs ffdbce5 @bep"
"v5.0.0
docs: fixed docs (closes)
docs: added superagent-declare (closes)
docs: fixed space
fix: fixed http2 issue for older versions of node (closes)
v5.0.1","fix: fixed http2 issue for older versions of node (closes)  5b86fd3
docs: fixed space  f7e2ae5
docs: added superagent-declare (closes)  32fb630
docs: fixed docs (closes)  70df462"
"releaser: Bump versions for release of 0.115.0

[ci skip]
releaser: Prepare repository for 0.116.0-DEV

[ci skip]
Update README.md
Only print the path warnings once

We could reset and rerun it on server rebuilds, but that report needs a full build to make sense.

Also clean up the config vs flags in this area: Make all config settings match the flags e.g. `printPathWarnings`, but set up aliases for the
old.

Fixes
commands: Fix index out of range in hugo mod get

Fixes
build(deps): bump github.com/alecthomas/chroma/v2 from 2.7.0 to 2.8.0

Bumps [github.com/alecthomas/chroma/v2](https://github.com/alecthomas/chroma) from 2.7.0 to 2.8.0.
- [Release notes](https://github.com/alecthomas/chroma/releases)
- [Changelog](https://github.com/alecthomas/chroma/blob/master/.goreleaser.yml)
- [Commits](https://github.com/alecthomas/chroma/compare/v2.7.0...v2.8.0)

---
updated-dependencies:
- dependency-name: github.com/alecthomas/chroma/v2
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
build(deps): bump github.com/evanw/esbuild from 0.18.10 to 0.18.11

Bumps [github.com/evanw/esbuild](https://github.com/evanw/esbuild) from 0.18.10 to 0.18.11.
- [Release notes](https://github.com/evanw/esbuild/releases)
- [Changelog](https://github.com/evanw/esbuild/blob/main/CHANGELOG.md)
- [Commits](https://github.com/evanw/esbuild/compare/v0.18.10...v0.18.11)

---
updated-dependencies:
- dependency-name: github.com/evanw/esbuild
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Make build.writeStats a struct

So you can do

```toml
[build.writeStats]
  tags = true
  classes = true
  ids = false
```

Fixes
github: Build for Dragonfly in CI build

To discover upstream issues before we release.
snap: Restore security.exec.osenv whitelist

Fixes
snap: Explicitly set security.exec.osenv during build

Fixes
Rework the build.writeStats struct

Mostly to make it easier to toggle on/off this feature from the env.

See
Fix buildStats when tags and classes are disabled

Fixes
docs: Regen docs helper
releaser: Bump versions for release of 0.115.1

[ci skip]","Bug fixes
Fix buildStats when tags and classes are disabled ceb486f @bep
commands: Fix index out of range in hugo mod get 0ff8e13 @bep
Improvements
Rework the build.writeStats struct 5afc89f @bep
github: Build for Dragonfly in CI build 19d76ae @bep
Make build.writeStats a struct 11ecea6 @bep
Only print the path warnings once ffd37d4 @bep
Dependency Updates
build(deps): bump github.com/evanw/esbuild from 0.18.10 to 0.18.11 da98724 @dependabot[bot]
build(deps): bump github.com/alecthomas/chroma/v2 from 2.7.0 to 2.8.0 4d470bb @dependabot[bot]
Documentation
docs: Regen docs helper c27639b @bep
Update README.md b4b6524 @bep
Build Setup
snap: Explicitly set security.exec.osenv during build c1eac61 @jmooring
snap: Restore security.exec.osenv whitelist 3c8256a @jmooring"
"releaser: Add release notes to /docs for release of 0.86.0

[ci skip]
config: Fix a potential deadlock in config reading

Note that the deadlock has not been seen earlier, in tests on in real Hugo sites.

Fixes
releaser: Add release notes for 0.86.1
[ci skip]
releaser: Bump versions for release of 0.86.1

[ci skip]
releaser: Add release notes to /docs for release of 0.86.1

[ci skip]","This is a bug-fix release with one important fix.
config: Fix a potential deadlock in config reading 94b616bd @bep"
"releaser: Bump versions for release of 0.111.1

[ci skip]
releaser: Prepare repository for 0.112.0-DEV

[ci skip]
Correct typos in Go comments
snap: Fix dart-sass-embedded installation

Closes
Update to Go 1.20.1

Fixes
Work around --gc failure on Windows <= 10

This applies two related fixes/improvements:

* The --gc now keeps empty `_resources/_gen/images` etc folders, even if empty. This should have been the behaviour
from the start.
* Also, if removal of an empty dir on Windows fails with the ""used by another process"" error, just ignore it for now.

Fixes
Page context handling in i18n

This is a workaround. We need to improve on this, but not today.

Fixes
cache: Fix --gc failure on Windows

Fixes ""Error: failed to prune cache"" on Windows and removes
work around from ec1c97e7e9d62ce5245135e0906fdedf14af0cae.

Follows.
Fix ""context canceled"" with partial

Make sure the context used for timeouts isn't created based on the incoming
context, as we have cases where this can cancel the context prematurely.

Fixes
tpl/partial: Consolidate GoDoc
Allow page.TableOfContents on self in shortcode

Fixes
Fix .Fragments when called cross sites on uninitialized output format

Fixes
releaser: Bump versions for release of 0.111.2

[ci skip]","Bug fixes
Fix .Fragments when called cross sites on uninitialized output format b83050c @bep
Fix ""context canceled"" with partial 3bbeb56 @bep
cache: Fix --gc failure on Windows 184a67a @alexandear
snap: Fix dart-sass-embedded installation a950950 @jmooring
Allow page.TableOfContents on self in shortcode df5608f @bep
Page context handling in i18n 6c798eb @bep
Work around --gc failure on Windows <= 10 ec1c97e @bep
Correct typos in Go comments 36ce3a4 @alexandear
Documentation
tpl/partial: Consolidate GoDoc f56ce01 @bep
Build Setup
Update to Go 1.20.1 f10009e @bep"
"releaser: Add release notes to /docs for release of 0.83.0

[ci skip]
releaser: Prepare repository for 0.84.0-DEV

[ci skip]
langs/i18n: Fix warning regression in i18n

Fix this by

1. Making sure that only numerical values are treated as plural counts
2. Making sure that `i18n.pluralFormNotFoundError` is not logged as a warning if `other` resolved.

Note that 2. isn't a new problem, but became visible because of the plural improvements in Hugo `0.83.0`.

Fixes
releaser: Add release notes for 0.83.1
[ci skip]
releaser: Bump versions for release of 0.83.1

[ci skip]
releaser: Add release notes to /docs for release of 0.83.1

[ci skip]","This is a bug-fix release with one important fix.
langs/i18n: Fix warning regression in i18n ececd1b1 @bep"
"v5.2.0
fix: fixed .buffer prototype in client issue (closes)
v5.2.1",fix: fixed .buffer prototype in client issue (closes)  639ce2c
"releaser: Bump versions for release of 0.112.4

[ci skip]
releaser: Prepare repository for 0.113.0-DEV

[ci skip]
Fix it so languageCode on top level config still works

This is common for monolingual sites, and we broke this in Hugo 0.112.4.

Fixes
releaser: Add a way to bust the CircleCI Git cache
releaser: Bump versions for release of 0.112.5

[ci skip]","What's Changed
Fix it so languageCode on top level config still works e3dfc76 @bep"
"releaser: Add release notes to /docs for release of 0.84.2

[ci skip]
releaser: Prepare repository for 0.85.0-DEV

[ci skip]
config: Fix handling of invalid OS env config overrides

Fixes
config: Fix Netlify default cache dir logic

Fixes
releaser: Add release notes for 0.84.3
[ci skip]
releaser: Bump versions for release of 0.84.3

[ci skip]
releaser: Add release notes to /docs for release of 0.84.3

[ci skip]","This is a bug-fix release with a couple of important fixes.
config: Fix Netlify default cache dir logic 6c8c0c8b @bep
config: Fix handling of invalid OS env config overrides 49fedbc5 @bep"
"releaser: Bump versions for release of 0.123.3

[ci skip]
releaser: Prepare repository for 0.124.0-DEV

[ci skip]
config/allconfig: Fix typo

Closes
Maek Resoyrce.Key as (mostly) internal
tocss: Fix the import resolving from absolute to relative assets paths

Fixes
Fix panic for disableKinds page for content resources

Fixes
resource: Revert the normalization of Resource.Name

Which means that .Name now returns the same as it did in 0.122.0.

Closes
Fix term template lookup when its backed by a content file

Closes
build(deps): bump github.com/spf13/fsync from 0.10.0 to 0.10.1

Bumps [github.com/spf13/fsync](https://github.com/spf13/fsync) from 0.10.0 to 0.10.1.
- [Release notes](https://github.com/spf13/fsync/releases)
- [Commits](https://github.com/spf13/fsync/compare/v0.10.0...v0.10.1)

---
updated-dependencies:
- dependency-name: github.com/spf13/fsync
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Fix cascade-pattern-with-extension for cascade in site config

Also clean up the log handling in the integration tester, most notably lost logs during the config loading.

Fixes
releaser: Bump versions for release of 0.123.4

[ci skip]","Fix cascade-pattern-with-extension for cascade in site config 1736ef7 @bep
Fix term template lookup when its backed by a content file f27e578 @bep
Fix panic for disableKinds page for content resources 049dd1d @bep
tocss: Fix the import resolving from absolute to relative assets paths 189b723 @bep
config/allconfig: Fix typo 80e6934 @jmooring
resource: Revert the normalization of Resource.Name d310595 @bep
build(deps): bump github.com/spf13/fsync from 0.10.0 to 0.10.1 d4be164 @dependabot[bot]"
"releaser: Bump versions for release of 0.103.0

[ci skip]
releaser: Prepare repository for 0.104.0-DEV

[ci skip]
server: Fix redirects when file path contains bytes > 0x80

Fixes
releaser: Bump versions for release of 0.103.1

[ci skip]","What's Changed
server: Fix redirects when file path contains bytes > 0x80 or whitespace 6be6752 @bep"
"releaser: Bump versions for release of 0.97.0

[ci skip]
releaser: Prepare repository for 0.98.0-DEV

[ci skip]
deps: Upgrade github.com/bep/overlayfs v0.4.0 => v0.5.0

That version implement file.Readdir/Readdirnames for n > 0.

Closes
Fix MediaType when reading images from cache

Fixes
Fix PostProcess regression for hugo server

Fixes
releaser: Add release notes for 0.97.1
[ci skip]
releaser: Bump versions for release of 0.97.1

[ci skip]","NOTE: We seem to have introduced an issue with /static synching of files in this release, so we recommend wait for thev0.97.3 and roll back to the v0.97.0 or earlier for now.
This is a bug-fix release with a couple of important fixes. Note that the MediaType on image conversion bug isn't a regression, that bug has been there since we added the target format option to the image processing methods.
Fix PostProcess regression for hugo server 4deb5c6 @bep
Fix MediaType when reading images from cache 397fce5 @bep
Fix ""Readdirnames with positive n not implemented"" error with --gc in server mode 0093eaa @bep"
"v3.5.0
Progress event doc
Check for ownProperty before adding header
Read responseType property from the correct object
Allow crossDomain errors to be retried ()

When using the retry() functionality on a bad connection, the browser can sometimes fail during a CORS OPTIONS request, which currently doesn't get retried. Superagent throws an error with crossDomain: true property in this case. We should retry instead, since the next attempt might succeed.
docs: Document the retry() method
Quicker test
v3.5.1","Allow crossDomain errors to be retried () (Michael Olson)
Read responseType property from the correct object (Julien Dupouy)
Check for ownProperty before adding header (Lucas Vieira)"
"releaser: Bump versions for release of 0.115.2

[ci skip]
releaser: Prepare repository for 0.116.0-DEV

[ci skip]
docs: Refresh docs.json
config/allconfig: Update timeout description
tpl/collections: Fix WordCount (etc.) regression in Where, Sort, Delimit

Fixes
js: Pass tsconfig.json to esBuild

Note that esBuild only inspects/honors certain fields.
See https://esbuild.github.io/content-types/#tsconfig-json.

Fixes
Return error when .Render is invoked without arg

Fixes
Improve behavior of defaultContentLanguageInSubdir when only the default language is enabled

1 .Create sitemapindex in root of publishDir (will contain link to sitemap.xml in defaultContentLanguage site)
2. Create index.html in root of publishDir (will redirect to defaultContentLanguage site)

Fixes
releaser: Bump versions for release of 0.115.3

[ci skip]","What's Changed
Improve behavior of defaultContentLanguageInSubdir when only the default language is enabled cc44583 @bep
Return error when .Render is invoked without arg 4da672a @bep
js: Pass tsconfig.json to esBuild f1886f8 @jmooring
tpl/collections: Fix WordCount (etc.) regression in Where, Sort, Delimit 5bec508 @bep
config/allconfig: Update timeout description f650e4d @jmooring
docs: Refresh docs.json c934a45 @jmooring"
"releaser: Bump versions for release of 0.104.2

[ci skip]
releaser: Prepare repository for 0.105.0-DEV

[ci skip]
config/security: Fix filename
commands: Remove extraneous newline from result of convert toTOML

Fixes
server: Fix flaky TestServerPathEncodingIssues tests

Set getNumHomes: 1 to enable 567 ms or 2 s of wait for the server
to be ready in TestServerPathEncodingIssues/Unicode_paths and
TestServerPathEncodingIssues/Windows_multilingual_404.

Fixes
resources/images: Fix 2 animated GIF resize issues

* Fix resize of animated GIF when target != GIF
* Avoid processing all GIF frames if targetFormat != GIF

Fixes
resources: Update golden image dithering exception list
releaser: Bump versions for release of 0.104.3

[ci skip]","What's Changed
Note that none of the fixes below are regressions from v0.104.*; the first one, the GIF fix, comes from v0.101, back when we added support for processing animated GIFs.
resources/images: Fix 2 animated GIF resize issues 3a9cb7b @bep
server: Fix flaky TestServerPathEncodingIssues tests 0addb30 @anthonyfok
commands: Remove extraneous newline from result of convert toTOML b002d47 @jmooring
config/security: Fix filename e3f3135 @FelicianoTech"
"5.1.1
Use `res.getHeaders()` to avoid deprecation warning ()

* Use `res.getHeaders()` to avoid depr-warning

* Reflect @thw0rted comments

* Throw on deprecation in tests
fix: fixed linting, fixed deprecation warning in tests
v5.1.2","fix: fixed linting, fixed deprecation warning in tests  7d70a75
Use res.getHeaders() to avoid deprecation warning ()  8dc8b91"
"9.0.0
9.0.1","Merge pull request from mmmmmrob/patch-2  68f7bb1
Merge branch 'master' into patch-2  450f7b2
Merge pull request from SukkaW/replace-polyfill-io  ea633d7
Merge pull request from HannesOberreiter/patch-1  e334068
Update README.md  a5c39b2
Add superagent-cheerio to the readme  0165c7c
docs: no longer recommend polyfill.io da9ff20
Update README.md  c4205e0"
"VERSION CHANGE ONLY

Update versions to next patch version 1.60.13

Change-Id: I0640f05249d7f20bfe377cacd726a28b89e17cd8
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.14-SNAPSHOT

Change-Id: If193b6f34b2018351662f900ccd80bbc1c569e86
[FIX] sap.m.Input: Selected key and value are now synchronized

When the selected key is reset or invalid, the value is cleared

Change-Id: I189c1b15f2b6a8adb3d8f737526187471a609d5e
BCP: 002075129500002375122019
CR-Id: 002075125900003220292019
[FIX] sap.m.DateRangeSelection: range now covers all hours from last day

When a new value is pasted in the input the change event now passes
the hours part from the last selected day.
Example: the user selects ""9 Apr 2019 - 17 Apr 2019"" - the
secondDateValue should store 17.04.2019 23:59:59:999.

Change-Id: I059eadec5e6ba8808c1b900eefe77835ce91a1cf
BCP: 1980065741
(cherry picked from commit 874a0fbb93feae6f58a7c312e16d1f0e9804bc68)

Change-Id: I5762ecdd9784ef882ca977b3e7f4bcfa29c184a0
CR-Id: 002075125900003230452019
[FIX] sap.ui.layout.BlockLayout: Width of the cells is now set properly in IE

Problem: In IE11 'flex-basis' of the cells was set to 'auto', when
it should be '0'.
Solution: Set it to 'auto' only when the BlockLayout is inside a Dialog.

Change-Id: I8ea4ea2e2cfe312baae3e34c862418faaa5b093d
BCP: 002075129500002407262019
CR-Id: 002075125900003237152019
Snippix: 84020, 89421, 62742
(cherry picked from commit cccfb854614bd140eb7956ceeb25089c27159818)
[FIX] sap.m.Label: Color for displayOnly property is changed

Label with displayOnly set now has sufficient contrast ratio.

JIRA: BGSOFUIRODOPI-1868
CR-Id: 002075125900003262662019
BCP: 1980245870
Change-Id: I3613abe49278e11861a0f60fb4f441bdad593f7c
(cherry picked from commit a6b8cd60cf66f2dbaa136c5c0d5feb9cf5a5d5d2)
[INTERNAL][FIX] sap.ui.fl:

Cache key should concatenate all current variant references. Also, these
variant references should be taken from the model directly.

Change-Id: I089f01a67627017e0b30d667ce12b05524b822ee
BCP: 1980250664
CR-Id: 002075125900003293192019
[FIX] sap.m.MultiInput: Read-only popover remains open, when focus is inside

This change fixes an issue where the read-only popover
closes, when the focus is inside it, for example when a
user clicks on the scrollbar.

CR-Id: 002075125900003324812019
Change-Id: I48488980009c428eaae260589a9fd0a23425601a
BCP: 1980000687
(cherry picked from commit 84f71668ba8df3a4d614a2523b4c6baff193b151)
[INTERNAL][FIX] sap.ui.fl.variants: Component.destroy() not observed
when variant management control's updateVariantInURL is default or
false.

Change-Id: I80de4f219ec7ffb53719d3e5ffc550bf7a3a5334
CR-Id: 002075125900003320912019
BCP: 1980255439
[INTERNAL][FIX] Table: Tab navigation between interactive fields

Fix for the tab navigation in case when not all rows have interactive
elements

Change-Id: I0cf171c59559af4e2ea02ca87fa5cf4d3e74c3e4
BCP: 1980260202
CR-Id: 002075125900003334682019
[FIX] sap.m.DateRangeSelection: selected range includes all hours from the second date

BCP: 1980152231

Change-Id: Ia27ba5c3395e28c33645772b7d1822b4cbdde4b3
(cherry picked from commit 1447086eb88bdd0f6b9c257506bd08f50dec70cc)
CR-Id: 002075125900003414862019
[FIX] sap.m.MultiInput: Exception on reinit fixed

MultiInput overwrites Dialog's customHeader on mobile.
However, the ""old"" customHeader that comes from the SuggestionPopover
remains and leaks. That ""old"" customHeader needs to be cleaned properly.

CR-Id: 002075125900003453802019
Change-Id: Idb119a30e496ab146250aa95ae4899eaeb17bd5a
BCP: 0020751294 0000284415 2019
[INTERNAL] sap.ui.commons.Dialog: qunits are now working

Change-Id: Ic07892f930848810857c4dc20c0fbc96a64fe60d
BCP: 1980283288
CR-Id: 002075125900003534442019
[INTERNAL] Table: Increase robustness of vertical scrolling logic

Due to the asynchronous nature of the scroll logic, there could be
issues if the table's DOM is removed after the table was scrolled.
This change, together with I703be10c05c0a97be86e615aa47679c3f1e78042,
should solve these issues.

Change-Id: I1cef40b37b5c89634f2e6986e47d9fd5ea332cfb
CR-Id: 002075125900003545272019
BCP: 1980288806
[INTERNAL][FIX] Table: Remove column ""app defaults"" logic

Change-Id: I7ecd4ce792b4f186a95f5f00534484e702e4851f
BCP: 1980256736
CR-Id: 002075125900003537852019
[FIX] sap.ui.unified.Calendar: Two months displayed correctly in Compact mode

BCP: 0020283766 0000263192 2019

Change-Id: I50b1aee7d956daa3ad3630df8a63d39801baad6d
(cherry picked from commit dbfdd5eeed741d8db1385503b106a3ef08268dea)
CR-Id: 002075125900003591612019
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 5f101d4]

BCP: n/a
Change-Id: Iaaaabb9c917a57ecfb50ae452ddb837ba4d6f134
CR-Id: 002075125800002375402019
[INTERNAL] Release notes for version 1.60.14

BCP: n/a
Change-Id: Idf9b33b0b0c8aad40dd3f6199652a53cc91d5c2f
CR-Id: 002075125800002384192019
VERSION CHANGE ONLY

Update versions to next patch version 1.60.14

Change-Id: Ib2287ea47dc1af2ffe5b34dea8fa0cd83e83b84f","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"v7.1.3
chore: remove eslint to optional dependencies
ci: add test for node 10
chore: remove commitlint to optional dependencies
ci: add test on node 10
ci: only build test files on old node
ci: ignore eslint on old node
ci: fix  missing require lint error
ci: use separate babel config for src and test
test: fix the wrong use of statuses
ci: fix the error of express-session used in http2
ci: remove unnecessary test
ci: all node version will try to test on http2
ci: fix github action
ci: fix makefile error
fixed , And fix the document path.
chore: bump deps, added configs as files instead of in pkg
chore: fixed package husky dep issue
v7.1.4","chore: fixed package husky dep issue  afeb2b7
chore: bump deps, added configs as files instead of in pkg  a9f9942
Merge pull request from ltxhhz/master  fa123f5
fixed , And fix the document path.  303afad
Merge branch 'visionmedia:master' into master  4611a6b
Merge pull request from yunnysunny/feat/htt2-fix  9ed2916
ci: fix makefile error  b8bf5e8
ci: fix github action  b0b1f9a
ci: all node version will try to test on http2  44f8ae0
ci: remove unnecessary test  5030b83
ci: fix the error of express-session used in http2  bb3dc7a
test: fix the wrong use of statuses  b6da894
Merge pull request from yunnysunny/feature/test-on-low-node  34c9ff4
ci: use separate babel config for src and test  1330634
ci: fix  missing require lint error  38bc6cb
ci: ignore eslint on old node  98f3b49
ci: only build test files on old node  641c0ce
ci: add test on node 10  2fa2541
chore: remove commitlint to optional dependencies  dba8b08
ci: add test for node 10  5f27a06
chore: remove eslint to optional dependencies  418408f
1.18 fixed css path  c719f0c
Added Chinese document ()  713cbe0"
"VERSION CHANGE ONLY

Update versions to next patch version 1.71.1

Change-Id: I949272270c9fc3f1ef65611202d1ccd80072c1f5
[FIX] sap.uxap.BlockBase: Added viewInit event

The BlockBase now fires an event when the internal view is created,
to notify apps when the asynchronously created view is available.

Change-Id: I5183974243769b761dce624ddb7c69ce7dd2c1a3
BCP: 002028376600004107972019
CR-Id: 002075125900005476592019
VERSION CHANGE ONLY

Update versions to next patch development version 1.71.2-SNAPSHOT

Change-Id: I06d8f9656362636024a744baf805ebd88880821a
[INTERNAL] Release notes for version 1.71.2

Change-Id: I2d0614a5552fe49f931df8e297aa8f298dcf2281
CR-Id: 002075125800004903832019
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.71.2

Change-Id: I378f304591e047a4bef9dbab750f5cbf5d8c7696","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.52.37

Change-Id: I540f0c675b952ae88847c891b0f0d25b753aa3cf
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.38-SNAPSHOT

Change-Id: Ic1e4922f30c8243cc1dddb8e69284bddf4cedfa9
[INTERNAL][FIX] Column: Visibility menu when multiple tables are loaded

The column visibility menu was showing the same set of columns when
multiple tables are loaded. Instead of being static property of the
ColumnMenu the visibility menu is now Table property.

Change-Id: I34b1e966183ebe93edc305da96c31ec5cbbb86cc
BCP: 002028376600004550292019
CR-Id: 002075125900006510632019
[INTERNAL] ui.unified.FileUploader: Redundant attributes removed

These attributes wouldn't be read out, as their element can't be
focused. They were only causing JAWS to stop reading any
information for the content of FileUploader in Chrome.

Change-Id: Ie3c94892c05fbe1476c37898f5df46208cc2cbd0
BCP: 002075129500000148622020
CR-Id: 002075125900000172242020
[FIX] handlebars: upgrading to version 4.4.3

Change-Id: Ie913d88b25212aa8dafea363a720f30e2f6b2a76
BCP: 1970505257
CR-Id: 002075125900005578022019
[FIX] sap.m.Carousel: Changing pages with fast clicks is now possible

If the arrows are clicked fast, now we check if animation has already
started. In such cases call the callbacks that would be usually called
when the animation completes and deregister listeners (this is already
possible with the mobify-carousel, so just call its methods).
Then just call .move, which will start another animation for the next element.

Fixes: https://github.com/SAP/openui5/issues/2783
Change-Id: I193e9686e70a2e924f33c84908d1c77f3496f3b4
BCP: 002075129500006800032019
CR-Id: 002075125900000329172020
[FIX] ResponsivePopover: Recursive invalidation prevented

- When the invalidation of the ResponsivePopover comes
from the internal control (Popover or Dialog), the
default Control.prototype.invalidate should be called
not the internal control's invalidate method

BCP: 1870246417
BCP: 012005040900000243032019

Change-Id: I726df242b586299d0cd396430325f85f0b03f7b3
CR-Id: 002075125900000485782020
[INTERNAL] sap.m.Tokenizer: QUnit improvement for Edge and IE

BCP: 2080064787
Change-Id: Ia7b1a56b3628a6582809a9b183b431241e222683
CR-Id: 002075125900000604672020
[FIX] sap.m.ObjectHeader: qunit tests are passing now

- tests that depend on specific theme color are refactored

BCP: 2080064781

Change-Id: Ia1b28c7fffef990cf6ca88cffcdd0fc1aed5e66a
(cherry picked from commit d320500aef8af23ffc61d03eb903f3fbcaf45d56)
CR-Id: 002075125900000631012020
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 29bff8e]

Change-Id: I0a02731dc0dd6d3e91f7020981522d76c81e946d
CR-Id: 002075125900000776132020
[INTERNAL] Release notes for version 1.52.38

Change-Id: I35a65c23cb3e5e1cf1cd9895d37de247afd02aa5
CR-Id: 002075125900000779702020
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.52.38

Change-Id: I3b65eb5c22e457c1357bf60fb8c1956d488c3cae","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.52.38

Change-Id: I3b65eb5c22e457c1357bf60fb8c1956d488c3cae
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.39-SNAPSHOT

Change-Id: Icca0bb816dfa115bc0ec1accc98c7e60d2a74ef9
[FIX] sap.m.TileContainer: pre-renders tiles in both directions

CR-Id: 002075125900000793182020
BCP: 002075129400007904862019

Change-Id: I50cfa3430ff56eb688cce7e1b4613062f6c97690
[FIX] sap.m.DateRangeSelection: doesn't throw error

The control doesn't throw error when it is binded
and the value of the value property is empty string.

BCP: 2070025682
Change-Id: I631769da174a4c34711dfc1c479f8fa1a7f0ab4a
CR-Id: 002075125800000806612020
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 26727f2]

Change-Id: I9b50e1b86925b8fd176f75554268777f581f9c32
[INTERNAL] Release notes for version 1.52.39

Change-Id: I87af6e88967835a50492a978ad32ad33243bdbaf
CR-Id: 002075125800000872282020
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.52.39

Change-Id: I50db23da811a01443a4047718da34ea6da4dacb7","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.44.39

Change-Id: Icae87cd93fa8a89c21e1db59c666a79abaf9b74e
VERSION CHANGE ONLY

Update versions to next patch development version 1.44.40-SNAPSHOT

Change-Id: I23e7bf8a6c8fa2422faefcf491e05cf18db5efc2
[FIX] P13nDimMeasurePanel: downport of Opa tests from rel-1.58

Change-Id: I7f82e2d40e611a6def244c62913e7fe7bedf1944
CR-Id: 002075125900000829112019
BCP: 0020751295 0000043652 2019
[INTERNAL] Release notes for version 1.44.40

Change-Id: I6cb8a42b6657b7f950e2b559a974e1d74e49b27c
CR-Id: 002075125900001208952019
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.44.40

Change-Id: I182632177f5bf5f83bbc2ba53417fe3c30e7fdeb","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.52.43

Change-Id: I9403cce60b942f88ef355a7a80cff1a22d8bf86b
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.44-SNAPSHOT

Change-Id: Id2fb5df42a24018b2306a9b6232a1e8beebdb73a
[FIX] sap/ui/base/syncXHRFix: Properly handle failing sync XHR

The readyState and SyncRequestOngoing flag need to be updated even when
the XHR send method fails, which could be due to a failing CORS request.

Otherwise setTimeout callbacks might not be fired anymore until another
XHR successfully calls the send method.

Change-Id: I0fe5257518eb9a13bacaf4e18db6eee7827ef7d6
BCP: 002075129400002823642020
CR-Id: 002075125900003867942020
[FIX] sap.m.FacetFilterList: data request on listOpen event can be prevented

- the event handlers of listOpen event can implement preventDefault,
thus stopping the additional data request when the list opens

Change-Id: If19212080fa0b46cb738dbd92becc439fd01b221
BCP: 002075129400005112822020
CR-Id: 002075125900003939042020
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: af4972f]

Change-Id: I00ec780470e6f304777028639df1486438a6a755
VERSION CHANGE ONLY

Update versions to next patch version 1.52.44

Change-Id: I08fac04dbfcde1145aa03f5e5ac12b0f7ee6fd1c
[INTERNAL] Release notes for version 1.52.44

Change-Id: I43e1a7df470a80fc166402d6be5edee295e001ee
CR-Id: 002075125800002814632020
BCP: n/a","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.52.29

Change-Id: I14339f187c353739185001858d448b93c5c93b04
VERSION CHANGE ONLY

Update versions to next patch development version 1.52.30-SNAPSHOT

Change-Id: I461d464794e0d0e986557a4b4e1bc4e12d5ec9e7
[FIX] sap.m.MessagePage: Icon location is now correct

BCP: 002075129400002145652019

Problem: If setIcon is called, the Icon was in some cases recreated, but
in the internal Page aggregation, which was wrong.


Solution: Icon is now placed correctly in the internal VBox upon
recreation.

Change-Id: Id00050b0dc688afa050598a73a6b55896267514d
CR-Id: 002075125900003175992019
[FIX] sap.m.Input: Selected key and value are now synchronized

When the selected key is reset or invalid, the value is cleared

Change-Id: I189c1b15f2b6a8adb3d8f737526187471a609d5e
BCP: 002075129500002375122019
CR-Id: 002075125900003220282019
[FIX] sap.m.DateRangeSelection: selected range includes all hours from the second date

Change-Id: Ia27ba5c3395e28c33645772b7d1822b4cbdde4b3
BCP: 1870451438
(cherry picked from commit Ia27ba5c3395e28c33645772b7d1822b4cbdde4b3)
CR-Id: 002075125900003414852019
[FIX] sap/ui/thirdparty/jQuery: Prevent Object.prototype pollution

Prevent Object.prototype pollution for $.extend( true, ... ).

BCP: n/a
CR-Id: 002075125900003109162019
Change-Id: I3d19b76e442faf97f9f089aef7b025c96395516a
[FIX] sap.m.DatePicker: Input field is focused after closing the picker

BCP: 1980055739

- fixes the case where the user types invalid date and then from the
picker chooses previously selected date
example:
1. choose 15.05.2019 from the picker
2. type in the Input ""5""
3. choose 15.05.2019 from the picker
in this case the focus wasn't returned to the input after closing the picker.
This is fixed now.

Change-Id: I1fd8128f256e79150e12ce8adf6f2d3ffacc3a35
(cherry picked from commit 4fff4ea1762d099fce58bc3d9f52b4ad712df525)
CR-Id: 002075125900003501952019
[INTERNAL][FIX] Table: Tab navigation between interactive fields

Fix for the tab navigation in case when not all rows have interactive
elements

Change-Id: I4bfa338c43904ec71ef1ded1644c116ca28aefca
BCP: 1980260202
CR-Id: 002075125900003334672019
[FIX] sap.ui.layout.DynamicSideContent: shows side content on small screen

When used on smal devices and using showSideContent property,
the control now shows the side content properly. In this case
the behavior is similar to using the toggle method.

Change-Id: I205ec8d174adddbc8701217f04dd44b73e900369
BCP: 1980254677
(cherry picked from commit 494f79dbafa756beaa8108726dea5af36a99e63a)
CR-Id: 002075125900003538632019
[FIX] sap.m.TimePickerSliders: sliders are now alligned when opened

Change-Id: Ief5575027cdf2cbde75d64ddde470b891f16332a

BCP: 0020751294 0000173559 2019

CR-Id: 002075125900003568622019
[FIX] sap.m.SearchField: Improve handling of focus on iOS

When the user clicks in the place of the reset button,
while the reset button is not visible, the input has to be focused.
This was not working well on iOS - the keyboard did
appear only for short time.
Now it is fixed by attaching to the click event of the form.

Snippix:

Change-Id: I45597aa7a14e2dde32ecc08fc673dc6c3c0fe1ab
BCP: 002075129500002240182019
CR-Id: 002075125800002367452019
[FIX] sap.m.SplitContainer: Show detail page on phone

When split container is opened on a phone,
the intial page should be the detail page.

NavContainer does not support setInitialPage in
a late state. So now we make sure that it is set as eary as possible.

BCP: 1980297329
BCP: 002028376500005408012018
(cherry picked from commit 74e3f7cccb318bbc2e56fa093a8d566b2488d89e)
CR-Id: 002075125800002373902019

Change-Id: Ie3b6bc779f04228a394d4f7cfcd1433d9b17fd00
[FIX] sap.m.Select: Select is focused before opening the dialog on mobile

Change-Id: Ib86d75ed15273872d679881ffeb1e447892935a1
CR-Id: 002075125800002839812019
BCP: 1880062606

(cherry picked from commit 0e6894316ed0b4196f16fdf6b013b3695c65b774)

Change-Id: I5a176c0aca6700c5a924332fa6958c06465d8275
[FIX] sap.m.SearchField: Fire search from suggestion only once on phone

When suggestion item is tapped on phone, the search
was fired 2 times. Now it is fired only once.

Change-Id: Icf2a0e8a9f190746876b1cbbe2a6d0dab9edf50c
BCP: 002075129400002710892019
CR-Id: 002075125800002872312019
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: 47892e7]

Change-Id: I931267d2069b0f5d18fb14fd3b30033750ba088c
CR-Id: 002075125800003049072019
[INTERNAL] Release notes for version 1.52.30

Change-Id: I72cadad6d0a91e25ab51cedbc1f7182f49dec5a1
CR-Id: 002075125800003052212019
VERSION CHANGE ONLY

Update versions to next patch version 1.52.30

Change-Id: Id851da1ecfd33d569a961adf2fc7c0a2977ff7e8","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"VERSION CHANGE ONLY

Update versions to next patch version 1.60.14

Change-Id: Ib2287ea47dc1af2ffe5b34dea8fa0cd83e83b84f
VERSION CHANGE ONLY

Update versions to next patch development version 1.60.15-SNAPSHOT

Change-Id: I1a2b8d8295a81dbb8bb8f734a91d96749e55e396
[FIX] sap.m.SearchField: Fire search from suggestion only once on phone

When suggestion item is tapped on phone, the search
was fired 2 times. Now it is fired only once.

Change-Id: Icf2a0e8a9f190746876b1cbbe2a6d0dab9edf50c
BCP: 002075129400002710892019
CR-Id: 002075125800002872322019
[FIX] sap.m.Shell: sap.m.SplitApp has padding when inside the Shell

- at some point to sap.m.SplitApp control is set a bigger z-index,
this leaded to overlapping the BrandingBar of the sap.m.Shell

BCP: 1970185825

Change-Id: I3e718307d7caa7b1ad0e8b5bfcab3284f90e284b
CR-Id: 002075125800002953802019
[FIX] sap.m.NavContainer: autoFocus false negative fixed

Problem: The app developer is trying to manipulate the focus by using
our pseudo event ""onAfterShow"", but the focus behavior is not as
expected.

Root Cause: This is not possible if we have focused element
inside the From Page.
After _afterTransitionCallback is called we trigger the AfterShow event
in which the app developer can set the focus on his desired element, but
later on in _applyAutoFocus we are overwriting the focus.
This is caused by the fact that we are checking if the focus is inside
the From Page and if it is we are applying the focus to the last
remembered focused element on the Current Page. We are doing this, even
if the autoFocus property is false.

Solution: We are not calling the _applyAutoFocus function at all, if
autoFocus property is false.
Responsible QUnit tests are corrected respectively.

Change-Id: I974479685499fab9288c0eeb4b92326854f42f98
CR-Id: 002075125800002971922019
BCP: 1870488179
Fixes: https://github.com/SAP/openui5/issues/2306
(cherry picked from commit 6d46cf0b46b9660a6028a51f36f41a3086d15090)
[FIX] sap.m.InputBase: Text selection in Firefox is fixed

Issue:
When selecting a text in an input and the browser is
Firefox the user has to first focus it and then click
again to start a selection.

Solution:
Outline is added for focus visualization in webkit
browsers and the ""before"" is used for IE/Edge only

BCP: 002075129400003079562019
Change-Id: If07377686fca45ee1be3d2ac3e4bbdb5da10035c
CR-Id: 002075125800003121172019
[FIX] sap.m.UploadCollection : Download of item not happening when factory binding is used.

Problem:
The item is not getting downloaded when fileName is clicked and in console dump is seen under triggerLink method.
This happens only when factory binding is used in items aggregation

Fix:
Earlier the fileName id was used to determine the item position.FileName generated differs based on template or factory method used.
Hence it was not reliable.Added fix so that the download url is taken from item directly.

Change-Id: I6110af3cfb0b67f130d4f0f650c492e1416dca73
BCP: 012005041000000451312019.
(cherry picked from commit e6a3f05fd9e0f98e0fcdd6e81b3244a0bd7d8180)
CR-Id: 002075125800003196462019
[FIX] ObjectIdentifier:Top row is hidden if there are no title or badges

Change-Id: I71774253b4bc8e44ceae06edf17f4383216abfbb
BCP: 1870528860
(cherry picked from commit b96795195924e85984e1496ca34139dfd9fe1338)
CR-Id: 002075125800003315112019
[FIX][INTERNAL] sap.ui.fl : Fix missing context of ajax call

Change-Id: If27a370fde9be5ee4214382f65b3746f28704124
BCP: 002075129500003309362019
CR-Id: 002075125800003373542019
[INTERNAL] sap.m.Input: showSuggestions setter fixed

Issue:
Setting showSuggestion on/off  multiple times
breaks the suggestion popover and it no longer appears.
Also in cases where the startSuggestion property is ""0""
the suggest was triggered when showSuggestion was ""false"".

Solution:
When focusing the input we check if showSuggestion is true
before triggering suggest.
When setting showSuggestion to true the suggestion popover
popup will be created if needed.

Change-Id: I88bc95cb1f21d6dfcb914e721c047df675c253f2
BCP: 1980265707
CR-Id: 002075125800003354732019
[FIX] sap.m.Carousel: pageChanged event parameters are now correct

When active page was changed through the API, the pageChanged event
was fired with wrong values.

Change-Id: Iaef45b5bdaf4d58b11ef57451abd0f2512303f7f
BCP: 1970280482
(cherry picked from commit 823c429cbf260eebe3d5e07b696d99e41df36e41)
CR-Id: 002075125800003490932019
[FIX] sap/ui/model/odata/v2/ODataListBinding: ContextChange

Abort pending requests from previous context if response contains null.

Change-Id: I8f15eabc89d9a5ad035b6e8927ca8db5c0a65790
BCP: 002075129400003178992019
CR-Id: 002075125800003468112019
[FIX] P13nConditionPanel: Proper date format settings handling

The problem:
SmartFilterBar custom data dateFormatSettings with ""pattern"" for a date
are not properly propagated to internally created ValueHelp dialog date
controls

The root cause:
Internally we propagated in some cases only the ""style"" property of the
dateFormatSettings object not taking into account the ""pattern""

The solution:
Propagate the ""pattern"" property if ""style"" is not provided

Change-Id: I8e0fdceadeeb0bbe8130f497fdce2400f83e8169
BCP: 0020751294 0000389830 2019
CR-Id: 002075125800003937732019
[INTERNAL] ODataTreeBindingFlat: Abort pending requests on filter and sort operations

Add mechanism to abort all pending requests created by the
ODataTreeBindingFlat.

BCP: 0020751295 0000370644 2019
CR-Id: 002075125800003938692019
Change-Id: Ib5f44cbc225daa372938c278340414a0e1e0f954
(cherry picked from commit b325240401c369dda6d0ff4d49b93713840766bf)
[FIX] sap.ui.rta - onElementModified handle addOrSetAggregation events

Change-Id: I000fcbcbc22f8b5169c0ada7606d64b3b4778476
Signed-off-by: Arthur Trauter <arthur.trauter@sap.com>
BCP: 1970280489
(cherry picked from commit b7acefebd527192a6712880afe14fa2358792af3)
CR-Id: 002075125800003945752019
[INTERNAL] Translation delivery: commit by LX Lab

[TEW related commits: fba0613]

Change-Id: If36bf2b3d4fe2e8d693f9ecb7580bb8ead2b33f6
CR-Id: 002075125800004010602019
BCP: n/a
[INTERNAL] Release notes for version 1.60.15

Change-Id: I2a3cace2e0737ebdbf1819ecc9df49edeadbf23f
CR-Id: 002075125800004030292019
BCP: n/a
VERSION CHANGE ONLY

Update versions to next patch version 1.60.15

Change-Id: I8cebe1917e5615f45ae4d209b332d8dd00e9ce2c","Documentation
In the OpenUI5 SDK, you can find a summary of what’s new in this release:
Change log"
"[pre-commit.ci] pre-commit autoupdate ()

updates:
- [github.com/asottile/pyupgrade: v2.28.0 → v2.29.0](https://github.com/asottile/pyupgrade/compare/v2.28.0...v2.29.0)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Bump pytest-cov from 2.12.1 to 3.0.0 ()

Bumps [pytest-cov](https://github.com/pytest-dev/pytest-cov) from 2.12.1 to 3.0.0.
- [Release notes](https://github.com/pytest-dev/pytest-cov/releases)
- [Changelog](https://github.com/pytest-dev/pytest-cov/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-cov/compare/v2.12.1...v3.0.0)

---
updated-dependencies:
- dependency-name: pytest-cov
  dependency-type: direct:development
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Translated using Weblate (Hungarian)

Currently translated at 100.0% (330 of 330 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Translated using Weblate (Spanish)

Currently translated at 100.0% (330 of 330 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/es/
Translated using Weblate (Croatian)

Currently translated at 100.0% (330 of 330 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hr/
Translated using Weblate (Hungarian)

Currently translated at 100.0% (330 of 330 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Enable Rename option in popup for Diagrams

Fixes.
Add tooltips for app menu and prefs

Make Open dropdown a little smaller, so it looks nicer.
Update translations
Bump flake8 from 3.9.2 to 4.0.1 ()

Bumps [flake8](https://github.com/pycqa/flake8) from 3.9.2 to 4.0.1.
- [Release notes](https://github.com/pycqa/flake8/releases)
- [Commits](https://github.com/pycqa/flake8/compare/3.9.2...4.0.1)

---
updated-dependencies:
- dependency-name: flake8
  dependency-type: direct:development
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Translated using Weblate (Hungarian)

Currently translated at 100.0% (331 of 331 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Update strings to improve ability to translate
Put hamburger tooltip on the button

Instead of the image.
Clarify @undo_guard in sanitizer service
Remove debug statements
Translated using Weblate (Spanish)

Currently translated at 99.3% (329 of 331 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/es/
Added translation using Weblate (Japanese)
Import all property pages for classes

Fixes issue where Association ends are not editable from the editor pane.
Fix the same for Dependency and Enumeration.

Fixes.
Upgrade Poetry to 1.1.11.
Bump actions/checkout from 2.3.4 to 2.3.5 ()

Bumps [actions/checkout](https://github.com/actions/checkout) from 2.3.4 to 2.3.5.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2.3.4...v2.3.5)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Translated using Weblate (Japanese) ()

Currently translated at 11.1% (37 of 331 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/ja/

Co-authored-by: Tomo Dote <fu7mu4@gmail.com>
docs: add fu7mu4 as a contributor for translation ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
docs: add Mek101 as a contributor for bug ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
Bump gvsbuild and dependency versions to update PyGObject
Refactor gvsbuild out of a composite action

The CI steps to rebuild GTK use the gvsbuild repository and
it starts to get messy to put composite actions in the gaphor
repository in order to run gvsbuild.
Bump dependencies
Fix cp39 wheel install error
Use Python 3.9 and skip gvsbuild with cache hit
Translated using Weblate (Hungarian) ()

Currently translated at 100.0% (316 of 316 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/

Co-authored-by: ovari <ovari123@zoho.com>
Restore newline to file
Build gvsbuild with Python 3.9
Remove our of date comment on Presentation
Remove unused method from repository protocol
Simplify element lookup for undo manager

All diagram items are available in element_factory.
Always render diagrams with lines on top
Fix typo in test name for undo manager
Fix Italian translation

I also checked the other translation, but all seems fine.

Fixes.
Translated using Weblate (Japanese) ()

Currently translated at 53.4% (156 of 292 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/ja/

Co-authored-by: Tomo Dote <fu7mu4@gmail.com>
Remove unneeded linux CI build dependencies ()
Reverse undo actions before executing them

So subsequent events, such as movement is reversed correctly.
Remove weird boolean structure from ActionStack (undo)
Remove print statements
Update style sheet editor to be code editor

Adds syntax highlighting, auto indent, and uses spaces
instead of tabs.

Signed-off-by: Dan Yeaw <dan@yeaw.me>
Update dependencies after rebase
Add PyInstaller hooks for GtkSource
Make GtkSource version configurable
Bump gvsbuild for newer gtksourceview
[pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci
'Refactored by Sourcery' ()

Co-authored-by: Sourcery AI <>
Bump gvsbuild for newer gtksourceview
Rebuild gvsbuild
Update news and bump version [skip ci]","Features
Update Style Sheet Editor to be a Code Editor @danyeaw ()
Bug Fixes
Show relationships on top of other elements @amolenaar ()
Maintenance
Remove unneeded Linux CI build dependencies @danyeaw ()
Update PyGObject @danyeaw ()
Upgrade Poetry to 1.1.11 @amolenaar ()
Translation
Spanish and Japanese translation updates @weblate ()
Japanese translation updates @weblate ()
Update Hungarian translations @weblate ()
Add initial Japanese translation @weblate ()
Update strings to improve ability to translate @danyeaw ()
Add Hungarian button tooltip translations @weblate ()
Croatian and Hungarian translation updates @weblate ()
Update Spanish translation @weblate ()
Hungarian translation updates @weblate ()
Thanks again to @amolenaar, @danyeaw, @fu7mu4, @milotype, @oscfdezdz, @ovari, and Cesar Iglesias!"
"Update dependencies
Update translations
Remove both owner and memberNamespace in model browser

So there's no lingering elements around.
Update Croatian translation for Gaphor ()

Currently translated at 99.2% (645 of 650 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hr/

Co-authored-by: Milo Ivir <mail@milotype.de>
Update Croatian translation for docs.gaphor.org

Currently translated at 44.9% (410 of 912 strings)

Translation: Gaphor/docs.gaphor.org
Translate-URL: https://hosted.weblate.org/projects/gaphor/docs-gaphor-org/hr/
[pre-commit.ci] pre-commit autoupdate ()

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.1.9 → v0.1.11](https://github.com/astral-sh/ruff-pre-commit/compare/v0.1.9...v0.1.11)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Update Poetry to 1.7.1
Bump ipython from 8.19.0 to 8.20.0 ()

Bumps [ipython](https://github.com/ipython/ipython) from 8.19.0 to 8.20.0.
- [Release notes](https://github.com/ipython/ipython/releases)
- [Commits](https://github.com/ipython/ipython/compare/8.19.0...8.20.0)

---
updated-dependencies:
- dependency-name: ipython
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump hypothesis from 6.92.2 to 6.92.5 ()

Bumps [hypothesis](https://github.com/HypothesisWorks/hypothesis) from 6.92.2 to 6.92.5.
- [Release notes](https://github.com/HypothesisWorks/hypothesis/releases)
- [Commits](https://github.com/HypothesisWorks/hypothesis/compare/hypothesis-python-6.92.2...hypothesis-python-6.92.5)

---
updated-dependencies:
- dependency-name: hypothesis
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump github/codeql-action from 3.22.12 to 3.23.0 ()

Bumps [github/codeql-action](https://github.com/github/codeql-action) from 3.22.12 to 3.23.0.
- [Release notes](https://github.com/github/codeql-action/releases)
- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/github/codeql-action/compare/012739e5082ff0c22ca6d6ab32e07c36df03c4a4...e5f05b81d5b6ff8cfa111c80c22c5fd02a384118)

---
updated-dependencies:
- dependency-name: github/codeql-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Fix swimlanes

The Box shape had a `__len__` attribute, that rendered the Box
false-ish.
Fix a few typos in exceptions
Fix attribute check

`[subject]` should check for the existance of the subject property,
not its value.
Update Croatian translation for Gaphor ()

Currently translated at 98.1% (647 of 659 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hr/

Co-authored-by: Milo Ivir <mail@milotype.de>
Quick fix for Partition/swimlane minimal width

Add some dummy boxes to ensure a minimal width.
Update Box docstring a bit
Bump hypothesis from 6.92.5 to 6.92.6 ()

Bumps [hypothesis](https://github.com/HypothesisWorks/hypothesis) from 6.92.5 to 6.92.6.
- [Release notes](https://github.com/HypothesisWorks/hypothesis/releases)
- [Commits](https://github.com/HypothesisWorks/hypothesis/compare/hypothesis-python-6.92.5...hypothesis-python-6.92.6)

---
updated-dependencies:
- dependency-name: hypothesis
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
docs: add bjornstromberg as a contributor for bug ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

---------

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
Fix spelling [skip ci]
Remove use of pipx in CI
Prepare for version 2.23.1 release
Bump actions/download-artifact from 4.1.0 to 4.1.1 ()

Bumps [actions/download-artifact](https://github.com/actions/download-artifact) from 4.1.0 to 4.1.1.
- [Release notes](https://github.com/actions/download-artifact/releases)
- [Commits](https://github.com/actions/download-artifact/compare/f44cd7b40bfd40b6aa1cc1b9b5b7bf03d3c67110...6b208ae046db98c579e8a3aa621ab581ff575935)

---
updated-dependencies:
- dependency-name: actions/download-artifact
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump hypothesis from 6.92.6 to 6.92.8 ()

Bumps [hypothesis](https://github.com/HypothesisWorks/hypothesis) from 6.92.6 to 6.92.8.
- [Release notes](https://github.com/HypothesisWorks/hypothesis/releases)
- [Commits](https://github.com/HypothesisWorks/hypothesis/compare/hypothesis-python-6.92.6...hypothesis-python-6.92.8)

---
updated-dependencies:
- dependency-name: hypothesis
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump jinja2 from 3.1.2 to 3.1.3 ()

Bumps [jinja2](https://github.com/pallets/jinja) from 3.1.2 to 3.1.3.
- [Release notes](https://github.com/pallets/jinja/releases)
- [Changelog](https://github.com/pallets/jinja/blob/main/CHANGES.rst)
- [Commits](https://github.com/pallets/jinja/compare/3.1.2...3.1.3)

---
updated-dependencies:
- dependency-name: jinja2
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Update Croatian translation for Gaphor ()

Currently translated at 98.6% (650 of 659 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hr/

Co-authored-by: Milo Ivir <mail@milotype.de>","Changes
Bug Fixes
Fix CSS attribute rules for subject properties @amolenaar ()
Fix Activity Swimlanes aren't visible @amolenaar ()
Remove both owner and memberNamespace in model browser @amolenaar ()
Maintenance
Remove use of pipx in CI @danyeaw ()
Translation
Update translations for Gaphor @weblate ()
Update translations for Gaphor @weblate ()
Update translation for docs.gaphor.org @weblate ()
Update translations for Gaphor @weblate ()
Thanks again to @amolenaar, @danyeaw, and @milotype!"
"v-uiId may be the last value ()

* v-uiId may be the last value

Fix regex so that ti doesn't matter if
the 'v-uiId' is in between the properties
and has a comma at the end or if it's the last
property and doesn't have a comma.
Update version to 0.1.8-SNAPSHOT ()
Kirill/1713 lazy imports bug ()
Added missing dots and a comma. ()

* Added missing dots and a comma.
Make the exception message clearer. ()

When failing on tag name exception
make it clear that it is due to the fact
that 2 classes have the same tag name,
but neither extends the other.
Reworked getInShadowRoot() to be more convenient in testing. ()
Don't send property updates for properties set from the server initially ()

* Don't send property updates for properties set from the server initially

Fixes

* Remove ""ready"" Polymer specific logic because we have generic one now
Reduced war size for polymer-dependent tests. ()
Update Atmosphere to 2.4.5.vaadin2 ()

Match Atmosphere dependency version to Framework 8.0.6
Rename feature class and related RPC handler for generic usage ()

Preliminary refactoring commit for.
Added gwt test on lazy init functionality. ()
Create the basic modules for the code generation ()
Update travis.script for targeted builds ()

* Test new travis.script for target build

This test should only run the components module tests and skip all other tests. Everything should still be compiled.

* Check all commits against master when not running tests.
If we don't run tests then don't dowload bower dependencies nor start the jetty server.

* Skip the travis install step.
Skip the install step of travis as we will do the same actions in script.

* Only consider commits to this branch.
We now ignore any merge commits and only check changed files for current branch.

* Make the script travis compatible.

* Only run and test changed modules.
Only build and test modules with changes and those that depend on the changed modules

* Modules add their own -pl

* Ignore expense manager on travis.

*  sub-module needs to be marked module/submodule

* exclude flow from expense manager

Exclusion is added as else the import tree
is broken.

* Run everything for tests.
Due to travis failing for expense manager
we run the whole flow when building the
test module.

* Only activate expense manager for gatling test
* Build flow-tests for tests
* Have test module as last.
* Don't remove merged pull requests on non pull-request
Only remove merged pull requests when building a pull-request.","New features
Initial version of component API generation based on JSON metadata about a web component
Still missing automatic JSON generation from the analyzer
Updated Atmosphere to 2.4.5.vaadin2 to keep in sync with Vaadin Framework 8.x
Fixes
Fixed some cases where the effective server-side and client-side model values could become out of sync
All changes
Also all thanks to @gerald24 for the first external contribution done to Flow :-)"
"fix: do not close gocql.iter() on error ()
Pass config to cadence history service during initialization ()

Issue
shardController: fix fd leak, add metrics and process closeShard in batch ()
shardController: revisit shard shutdown order, add latency metrics ()","This is patch to fix some stability issues we discovered in previous release.  We saw FD leaks caused by leaking gocql clients and a regression causing unavailability of shards during membership changed events.
Stability Fixes
85ba1df - shardController: fix fd leak, add metrics and process closeShard in batch ()
f246cb3 - shardController: revisit shard shutdown order, add latency metrics ()
Misc
886a2dc - Pass config to cadence history service during initialization ()"
"plumbing: format/packfile, prevent large objects from being read into memory completely ()

This PR adds code to prevent large objects from being read into memory from packfiles or the filesystem.

Objects greater than 1Mb are now no longer directly stored in the cache
or read completely into memory.

Signed-off-by: Andrew Thornton <art27@cantab.net>
remote: patch default timeout for `List` ()

It looks a test value was shipped breaking a lot of the usage of the library.","Change Log
remote: patch default timeout for List from 600ms to 10s ()"
"Add NPE messages for HasComponents ()
Process jars only in flow-maven-plugin. ()
Use InitialPropertiesHandler for injected elements ()

Fixes
Do not process imports with context:// and base:// prefixes when creating a production build. ()
Execute JS in the very end of the message processing event loop ()

* Execute JS in the very end of the message processing event loop

Fixes

* Move JS execution via post flush listener after all listeners
Fix FlowComponentRenderer._clear() for some browsers ()

* Fix FlowComponentRenderer._clear() for some browsers

Fix vaadin-grid-flow

The previous implementation works with Chrome, but causes client-side
exceptions for Firefox and Edge at least when filtering a Grid that
uses ComponentRenderer.
Do not process absolute imports. Log, if not processing the import. () ()
When multiple same bower.json files are present in the same package, use the topmost one. ()
Show more detailed exception when an import is not found.
Make sure all children are collected when the parent node is inactive ()

Fixes
Update UnsupportedBrowserHandler with removing Chrome Frame () ()


Fixes
Exclude all classes in 'test-classes' from the serialization test ()

* Exclude all classes in 'test-classes' from the serialization test
Deprecate removeDataGenerator ()

Inspired by
Use FaviconHandler only for servlets () ()

Fixes
Make it possible to use subtypes of JsonValue in ASPropertyField ()

Fixes","Vaadin Flow 1.0.4 is a maintenance version with the following fixes:
Avoid NPE during deployment on Liberty 18 ( )
Make it possible to use subtypes of JsonValue in ASPropertyField ()
Use FaviconHandler only for servlets ()
Fix FlowComponentRenderer._clear() for some browsers ()
Update UnsupportedBrowserHandler with removing Chrome Frame ()
Make sure all children are collected when the parent node is inactive ()
Show more detailed exception when an import is not found ()
Execute JS in the very end of the message processing event loop ()
Use InitialPropertiesHandler for injected elements ()
Process jars only in flow-maven-plugin ()
See complete list of changes since previous version"
"build(deps): bump golang.org/x/net from 0.2.0 to 0.7.0

Bumps [golang.org/x/net](https://github.com/golang/net) from 0.2.0 to 0.7.0.
- [Release notes](https://github.com/golang/net/releases)
- [Commits](https://github.com/golang/net/compare/v0.2.0...v0.7.0)

---
updated-dependencies:
- dependency-name: golang.org/x/net
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump dependencies
- github.com/ProtonMail/go-crypto to version 0.0.0-20230217124315-7d5c6f04bbb8.
- github.com/acomagu/bufpipe to version 1.0.4.
- github.com/go-git/go-billy/v5 to version 5.4.1.
- golang.org/x/crypto to version 0.6.0.

Signed-off-by: Paulo Gomes <pjbgf@linux.com>
build: Reduce git token permissions

Signed-off-by: Paulo Gomes <pjbgf@linux.com>
*: Fix panic for empty revisions

Signed-off-by: Paulo Gomes <pjbgf@linux.com>
tests: Avoid use of user's GPG keys during tests
The TestPullAdd test uses git CLI to perform a commit.
Contributors with signing enabled globally would have their GPG
configuration being used to sign that test commit.

This behaviour was transparent for contributors that do not use
secure keys which requires physical confirmation.
The new behaviour disables GPG signing for that test, which was
not required as part of the test.

Signed-off-by: Paulo Gomes <pjbgf@linux.com>
ci: Bump GitHub actions
Removes the error messages:
  Node.js 12 actions are deprecated.

Signed-off-by: Paulo Gomes <pjbgf@linux.com>
ci: Enable race detection for go tests
After the fix of data races in go-billy (go-git/go-billy/pull/28)
race detection can be enabled in go-git to ensure no new issues
go undetected.

Signed-off-by: Paulo Gomes <pjbgf@linux.com>","What's Changed
plumbing/transport: don't use the firstErrLine when it is empty by @ThinkChaos in
plumbing/transport: ssh, unable to pass a custom HostKeyCallback func by @aymanbagabas in
storage/filesystem: dotgit: fix a filesystem race in Refs/walkReferencesTree by @MichaelMure in
*: bump golang.org/x/net from 0.2.0 to 0.7.0 by @dependabot in
*: bump dependencies by @pjbgf in
*: fix panic for empty revisions by @pjbgf in
ci: bump GitHub actions, enable go test race detection and stop using developer's GPG keys during test execution by @pjbgf in
Full Changelog: v5.6.0...v5.6.1"
"Fix documentation check ()
Fix param name in addEventListener javadoc ()

* Fix param name in addEventListener javadoc
Bumped java dependencies' versions. ()
Update tutorial-webcomponents-es5.asciidoc ()
Update tutorial-flow-components-binder-validation.asciidoc ()
demo-flow-components generate jar with all the required data ()
Set id attribute for `@Id` injected children ()

Fixes.
Create RouteRegistryInitializer and RouteRegistry ()
Deploy demo jar into snapshot repo. ()

* Deploy demo jar into snapshot repo.

* Merge branch 'master' into kirill/deploy-specific-demo-jar-only
Remove Vaadin from menu names ()

Name components in the menu only
'Component' instead of 'Vaadin Component'
Updated to a newer ChromeDriver and fixed scrolling issues in the test. ()
Fix NPE in RouteRegistryInitializer ()
Error message style fixes ()

Fixed issues of no space or double spacing between words in error messages caused by inconsistencies in the breakpoint of multiline strings. Added said consistency.
Demo jar deployment fixed. ()
Remove JS execution request when node is detached. ()

Fixes
Fix ordering of property change handling ()

Fixes
@Id doesn't work with template in template ()

Schedule attach by id if node missing domNode

If we don't have a domNode for the StateNode when
requesting attachElementById schedule the method
as deferred.

We want to check for the component only after a flush
has happened so that we don't poll when we haven't
recieved any new data.

* Add test for @Id for template in template
Use crazyJsoCast to avoid ClassCast exception in NodeList ()

Fixes.
Handle null parameter value properly for ServletContainerInitializer impls ()

Fixes
Avoid lifecycle callbacks in generated components ()

* Avoid callbacks in the generator

* Add a unit test

* Regenerate components without lifecycle callbacks

* Correct constant name
Fix javadocs in the server module ()
Remove redundant access modifiers from interfaces. ()
Fix exclude for old maven. ()","Bugfixes
@Id-mapped components get mixed when returning to the view.
Element.callFunction() fix
Client model gets out of sync with the server if a property is modified inside its change observer
@Id doesn't work with template in template
Turning on SuperDevMode breaks the app
Custom element lifecycle callbacks should not get generated
All Changes"
"Bugfix, reset mutable state empty UUID ()

* add .vscode to .gitignore

* bugfix: empty uuid in reset mutable state
Add tips/directions for prod setups with cadence-cassandra-tool ()

* Add tips/directions for prod setups with cadence-cassandra-tool

* Add link to cassandra consistency calculator
Add Dockerfile for CLI ()
Update and move dockerfile-cli, add to auto build ()
CrossDC bugfixes to replication task generation and conflict resolver ()

Replication information captured for replication task has the wrong
last event id, as it is captured before CloseSession on mutable state.

Update stale replication task detection to use LastWriteEventID instead
of Current version.  Otherwise this results in throwing away tasks when
they could potentially be applied.

Fix broken conflict resolution logic to set mutable state fields like
next event id, lastFirstEventID, etc which were not set as a result of
applying history events and need to be set explicitly.
Mutiple Bugfixes ()

* fix workflow timeout version check bug
* fix task event ID check bug
* fix integtest race condition
* add tag to failover processor
Fix error during Ringpop refresh ()

* Fix resolver stop, and remove unused code

* Fix Error during ringpop refresh
Multiple bugfixes ()

* bugfix: properly handle processor stop 
* bugfix: do not refresh shard on create workflow workflow already started error
fix typo in getMutableState ()
Implement describeMutableState ()

* Implement inquireMutableState

* add copy right

* fix unit test

* fix renaming mistake

* get rid of otherInfo

* rename unload to copyTo

* rename inquire to describe
Ut conflict resolver ()

Correctly set replication state after resetting workflow execution history.

TransferQueue and TimerQueue processor rely on LastWriteVersion rather
than CurrentVersion on mutable state for validating tasks.  Resetting
history after conflict resolution could result in tripping up the processing
logic if relied on CurrentVersion.

Unit test for conflictResolver.

More logging on historyReplicator.
Always enable sticky when worker ask new task from complete ()
Fix bug in adiminCLI: convert domain name to donmainID using domainCache ()
Reliable Domain Change Notification ()

* use background thread to refresh domain cache
* add domain_by_name_v2 table so all domain will be in the same partition
* add domain notification version to shard
* unify metadata manager v1 and v2
* make domain cache use the domain proxy
* set cassandra test to v 0.8
* modify domain cache to apply the domain change by order
* bugfix: missing failover notification version on replication job
* merge v1 and v2 domain metadata manager into one
* move domain change catchup into domain cache
Conflict Resolver bugfix ()

Use version from last event during conflict resolution when resetting
the history.
bugfix: should use shard's domain notification version ()

* bugfix: should use shard's domain notification version
Use workflowID as partition key on replication message ()

This will give as somewhat ordering of messages published to kafka topic
for a given workflow execution.  Might reduce the number of buffered
task per workflow execution due to out of order processing of
replication tasks.
CLI: add history event version and full detail options ()

* CLI suuport: history event version and full detail options

* address comments
Fix print event version in CLI ()
Fix CLI parseTime for listworkflow ()
Add ActivityScheduleTimeout deduction logic ()

This commit relaxes validateActivityScheduleAttributes by having it fill in some
of the fields related to schedule timeouts if they are empty.

The logic used is identical to the logic used in AWS SWF's java client.

The logic is as follows:
If ScheduleToClose is present and ScheduleToStart or StartToClose is missing,
we will set what is missing to ScheduleToClose.

If ScheduleToClose is missing but both ScheduleToStart and StartToClose are present,
we will set ScheduleToClose to the sum of ScheduleToStart and StartToClose.
Admin CLI: add describeHistoryHost ()

* fix typo

* Admin CLI: add describeHistoryHost

* fix client mock

* move thrift defs to shared.thrift

* add FlagHistoryAddress flag

* use int flag for shardID

* use ErrorAndExit

* fix comments
only global domain will use the v2 domain table ()
Prevent duplicate user timer creation ()

TimerQueueProcesor logic is not setting the correct value on timer
information on mutable state to detect if the timer is already created
or not.  This fix creates the value to TimerTaskStatusCreated to prevent
creation of same user timer again.
V0.3.12 patch ()

* make transfer / timer / replication persistence layer accept page token

* get task API on the cassandra side should use page size, not limit

* apply pagination token to timer ack manager

* move duplicated transfer code to one place

* modify test to force pagination

* bugfix: queue ack manager should call processor's complete task fn

* do not keep the lock when doing query","Change log:
8d47f5a V0.3.12 patch ()
476c9bb Prevent duplicate user timer creation ()
8f6952d only global domain will use the v2 domain table ()
8441b49 Admin CLI: add describeHistoryHost ()
dccf888 Add ActivityScheduleTimeout deduction logic ()
7154288 Fix CLI parseTime for listworkflow ()
34c6e50 Fix print event version in CLI ()
5f40ae1 CLI: add history event version and full detail options ()
0d5583f Use workflowID as partition key on replication message ()
b947875 bugfix: should use shard's domain notification version ()
9eaa3dc Conflict Resolver bugfix ()
54e34f4 Reliable Domain Change Notification ()
42f44b6 Fix bug in adiminCLI: convert domain name to donmainID using domainCache ()
6573843 Always enable sticky when worker ask new task from complete ()
166ef58 Ut conflict resolver ()
772d653 Implement describeMutableState ()
1eb53c3 fix typo in getMutableState ()
a7ebd05 Multiple bugfixes ()
dd00c27 Fix error during Ringpop refresh ()
edfa972 Mutiple Bugfixes ()
4ae0147 CrossDC bugfixes to replication task generation and conflict resolver ()
ad90819 Update and move dockerfile-cli, add to auto build ()
076fb3d Add Dockerfile for CLI ()
0aef123 Add tips/directions for prod setups with cadence-cassandra-tool ()"
"More NEWS updates
Update icons to render as paths

So they show properly in dark mode.

Fixes.
[pre-commit.ci] pre-commit autoupdate ()

updates:
- [github.com/asottile/pyupgrade: v2.26.0 → v2.28.0](https://github.com/asottile/pyupgrade/compare/v2.26.0...v2.28.0)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
docs: add mskorkowski as a contributor for bug ()

* docs: update README.md [skip ci]

* docs: update .all-contributorsrc [skip ci]

Co-authored-by: allcontributors[bot] <46447321+allcontributors[bot]@users.noreply.github.com>
Translated using Weblate (Spanish)

Currently translated at 100.0% (280 of 280 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/es/
Translated using Weblate (Portuguese (Brazil))

Currently translated at 71.4% (200 of 280 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/pt_BR/
Translated using Weblate (Hungarian)

Currently translated at 100.0% (280 of 280 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Update Dutch translation
Update translations
MyPy now complains about unused ignores
Fix line endings for gaphor/conftest

We do unix line endings!
Add a little more type information
Cleanup: add more type information
Move all @transactional code closer together
Fix typo in introductory text
Add py.typed marker file

See https://www.python.org/dev/peps/pep-0561/#id18.
Fix labeling of weblate PRs
Fix toolbox sensitivity
Translated using Weblate (Hungarian)

Currently translated at 100.0% (283 of 283 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/hu/
Translated using Weblate (Finnish)

Currently translated at 68.5% (194 of 283 strings)

Translation: Gaphor/Gaphor
Translate-URL: https://hosted.weblate.org/projects/gaphor/gaphor/fi/
Add more translatable text
Provide type signature for gettext function
Update Dutch translation
Translate UI file contents in Python

This way we do not have to deal with propagating the language settings to C level.r
XML is now loaded once and cached.
Bump paambaati/codeclimate-action from 2.7.5 to 3.0.0 ()

Bumps [paambaati/codeclimate-action](https://github.com/paambaati/codeclimate-action) from 2.7.5 to 3.0.0.
- [Release notes](https://github.com/paambaati/codeclimate-action/releases)
- [Changelog](https://github.com/paambaati/codeclimate-action/blob/master/CHANGELOG.md)
- [Commits](https://github.com/paambaati/codeclimate-action/compare/v2.7.5...v3.0.0)

---
updated-dependencies:
- dependency-name: paambaati/codeclimate-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Bump version and update news","Changes
Bug Fixes
Fix localization in UI files @amolenaar ()
Update icons to render as paths @amolenaar ()
Translation
Hungarian and Finnish translation updates @weblate ()
Spanish, Portuguese (Br), and Hungarian Translation Updates @weblate ()
Thanks again to @JonnathanRiquelmo, @amolenaar, @danyeaw, @oscfdezdz, @ovari, and Jiri Grönroos!"
"modified dicom anon to support full path reconstruction and mapping
Update DicomAnonymizer.py
Update README.md
update to  nifti extraction. Requires further testing
Minor Changes
Remove Space Changes
Update README.md
Update README.md
Handle the last empty line
Compute min and max for AcquisitionTime
Merge date into time
Update pom.xml
Drop AcquisitionDate column from the final
Update README.md
Add drop as a boolean value
Sort values
Scanner total on time in mins
Add series and study times
Sort by SeriesStartTime
Rename Strip.py as Suvpar.py
Bump log4j-core from 2.15.0 to 2.16.0 in /modules/app-layer

Bumps log4j-core from 2.15.0 to 2.16.0.

---
updated-dependencies:
- dependency-name: org.apache.logging.log4j:log4j-core
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Making intermediate csv possible with a use of a flag
Add comments
Check for Alt cases of scanners
Add comments
Fix comments
Fix suvpar for all 4 levels
Add FONAR as AltCase
Check for equal case
Handle the mixed cases
Update README.md
Bump log4j-core from 2.16.0 to 2.17.1 in /modules/app-layer

Bumps log4j-core from 2.16.0 to 2.17.1.

---
updated-dependencies:
- dependency-name: org.apache.logging.log4j:log4j-core
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump pillow from 8.3.2 to 9.0.0 in /modules/frontend

Bumps [pillow](https://github.com/python-pillow/Pillow) from 8.3.2 to 9.0.0.
- [Release notes](https://github.com/python-pillow/Pillow/releases)
- [Changelog](https://github.com/python-pillow/Pillow/blob/main/CHANGES.rst)
- [Commits](https://github.com/python-pillow/Pillow/compare/8.3.2...9.0.0)

---
updated-dependencies:
- dependency-name: pillow
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Bump numpy from 1.20.3 to 1.21.0 in /modules/frontend

Bumps [numpy](https://github.com/numpy/numpy) from 1.20.3 to 1.21.0.
- [Release notes](https://github.com/numpy/numpy/releases)
- [Changelog](https://github.com/numpy/numpy/blob/main/doc/HOWTO_RELEASE.rst.txt)
- [Commits](https://github.com/numpy/numpy/compare/v1.20.3...v1.21.0)

---
updated-dependencies:
- dependency-name: numpy
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Minor Changes
Minor Changes (Added Anon as a function parameter)
Working Code - Cold Extraction is still not working
Revert ""Working Code - Cold Extraction is still not working""

This reverts commit 71cebd444a0258deaea9a9a31fb4920cb93a9a23.
Revert ""Minor Changes (Added Anon as a function parameter)""

This reverts commit 7418b2e71c75a3c59b8a238aae7f7d15d325e5a7.
Revert ""Minor Changes""

This reverts commit fefec0dd1b556f5990f77f2bc60e7a0b8d7e7ef4.
Minor Changes (Line 108)
Minor Changes (Added Anon as a parameter)
Added Modality Grouping, PNG Extraction, DICOM Anonymization, and Metadata Anonymization
Update in README.md file for workflow
Added docker contenariztion to png-extraction module
Updated README.md with docker instructions
Updated Dockerfile to use a standard linux image instead of custom used before
Discards all DICOMs with greater than 300 tags. This results in solving the Memory Error caused by sparse dataframes.
Bump pillow from 9.0.0 to 9.0.1 in /modules/frontend

Bumps [pillow](https://github.com/python-pillow/Pillow) from 9.0.0 to 9.0.1.
- [Release notes](https://github.com/python-pillow/Pillow/releases)
- [Changelog](https://github.com/python-pillow/Pillow/blob/main/CHANGES.rst)
- [Commits](https://github.com/python-pillow/Pillow/compare/9.0.0...9.0.1)

---
updated-dependencies:
- dependency-name: pillow
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Update CONTRIBUTING.md
Added extracting Private DICOM tags fuction
Added extracting Private DICOM tags fuction update","More edits to the experimental workflows and SUVPaR modules.
Extract private tags in the png-extraction module."
"remote: patch default timeout for `List` ()

It looks a test value was shipped breaking a lot of the usage of the library.
Revert ""plumbing: format/packfile, prevent large objects from being read into memory completely ()"" ()

This reverts commit 720c192831a890d0a36b4c6720b60411fa4a0159.","Change Log
Revert ""plumbing: format/packfile, prevent large objects from being read into memory completely () (da81027)"
"Update issue templates
Update nextflow.config

adding parameters related to suvpar module
Update cold_extraction.py
Update suvpar.py
Update mega_workflow.nf
Update cold_extraction.py
Update mega_workflow.nf
Update suvpar.py
Update cold_extraction.py
updated ImageExtractor file(common headers)
MergeWithRis
MergeWithRis
Fixing the errors in Nextflow Workflow Module
Add ContentTime as an attribute to the output file
ImageType Updated
Update README.md
Update README.md
Create TestConnection.py as an echo method.
Update with instructions for C-ECHO","A C-ECHO method for cold-extraction
More updates to the suvpar and workflows modules."
"Revert ""Implement decision Heartbeat timeout  ()""

This reverts commit 26083c9b7b53cc858d55b8c5453cd4c8f53224d3.
Validate archival provider config on startup ()","Archival
Validate archival provider config on startup ()
Add metric for duplicate archivals ()
Decrease inline archival threshold ()
Remove could not run archival check metric defs ()
Add metric for delete inline count ()
Fix archival client metrics ()
Add blobstore metric scopes ()
Visibility
Fix visibility data on ES not deleted ()
Fix docker for elasticsearch ()
Add doc for visiblity on ElasticSearch ()
Multi-DC
Add instruction for XDC Standby ()
Misc.
Revert ""Implement decision Heartbeat timeout  ()""
Update README.md ()
Minor timer queue processing cleanups ()
Clear stickyness if it is not being used when scheduling decision ()
use workflow execution time to calculate cron backoff ()
update cli version ()
Bump up CLI version - track with server version ()"
"Revert ""Update to the latest JSoup version ()""

This reverts commit b6594c4508aa795d4e04c41dad17a231bc5e75d2.
Correct Javadoc lines ()


(cherry picked from commit 9653de26ba787e942c11a5b8b6389576455c2bbc)
Avoid state mutation in a public method, add a warning ()

Fixes


(cherry picked from commit d04fbe55a91c94d4dedc6582a8e9314c5ef989f0)
Fix JsonValues ()


(cherry picked from commit 4f58efe1b47dd1923e4f919083be60f4067b2882)
Lumo theme as default for exporters ()

Fixes

Theme is calculated only once, the class's endpoints variable is used to hold
the information, instead of hiding the member variable with a method parameter.

(cherry picked from commit 5f11c0ee501ca2c6b27799fae81c82bc020cf0ee)
Fix wrong path to service file in javadocs ()


(cherry picked from commit 20552118701720a906c56ee2e27a9ea9159e128c)
fix(material): LoadingIndicator's primary color ()

If css var --material-primary-color is changed, it needs to be applied to loading indicator.

(cherry picked from commit 3c3ec376fbe10dd35016a2d4bf74dd3162306cc2)
Do not load jar build-info ()

Do not load flow-build-info from a jar.

Fixes

(cherry picked from commit b5ba2f90171cd71e98c43982c49bca348bef7bea)
For bootstrap only read until assetsByChunkName ()

Fixes
* For bootstrap only read until assetsByChunkName
* Add assetsByChunkName to webpack.generated.js

(cherry picked from commit 635fde5d90032cfac416ddc23be0a9fac4f449d1)
Use compatibility mode for Frontend servlet. ()

* Use compatibility mode for Frontend servlet.

Fixes

(cherry picked from commit d1f3ee050025a2f6c9cc62dc95766e61e8a13294)
Avoid asking classloader on servlet context. ()

(cherry picked from commit 1bb71b340e5c326c6432354f8134e734d0c7c0bb)","Vaadin Flow 2.0.15 is a maintenance version with the following notable changes:
Fixed issues
V14: Excessive heap use on page reloads after server restart ()
Page reload speed is bad with 14.1-SNAPSHOT ()
Unable to set exported web component properties of type json ()
FrontendVaadinServlet should be registered in compatibility mode ()
All changes:
cherry-pick PR
2.0.15 milestone
See all the changes in Flow 2.0"
"fix: Support Java 16 for production build () ()

Updates bytebuddy dependency from 1.10.9 -> 1.10.21

Fixes

Co-authored-by: Artur <artur@vaadin.com>
test: add forgotten unit test ()
fix: FrameworkUtil class presence doesn't mean OSGi ()

Make OSGi check more correct otherwise the code works incorrectly if
FrameworkUtil is present in the classpath
perf: Cache stats.json loaded from class path ()

Caches stats.json file loaded from class path and improves the performance by not being opening too many stats.json files under the load.

Fixes
chore: update cromium drivers ()
fix: close InputStream properly in FrontendUtils
test: Disable LogoutIT flaky test ()","Vaadin Flow 2.4.9
Changes in Flow from 2.4.8
Fixes:
Close InputStream properly in FrontendUtils. PR:10315 Thanks to @knoobie for contribution
Close InputStream for stats.json obtained from classpath, external url or webpack.
Cache stats.json loaded from class path. PR:10303 Thanks to @knoobie for contribution
Caches stats.json file loaded from class path and improves the performance by not being opening too many stats.json files under the load.
FrameworkUtil class presence doesn't mean OSGi. PR:10285
Make OSGi check more correct otherwise the code works incorrectly if FrameworkUtil is present in the classpath
all changes since previous version"
"Fix DevModeRequest matcher
Add client side API for listening DOM Node set for StateNode () ()

Part of vaadin/multiplatform-runtime
Push history when navigating to route-not-found view () ()

Fixes
Clear thread local instances on connection lost in push handler ()

Fixes
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/server/communication/PushHandler.java
#	flow-server/src/test/java/com/vaadin/flow/server/communication/PushHandlerTest.java
Avoid NPEs in WebBrowser ()

Fixes
Push history when navigating to route-not-found view ()

Fixes
Don't use preserve on refresh logic in case of the same UI ()

setPreservedChain doesn't store Location in the cache but only a path.
This is logically correct for the router functionality since routing
considers only path and not parameters. But the same view (and same UI)
should not trigger preserve on refresh logic if they only differ with a
parameter.

Fixes
Destroy external frontend resources install process on JVM exit ()

* Destroy external frontend resources install process on JVM exit

Fixes

* Improve code a bit
Check whether the lifecycle state is already terminated before terminate ()

Fixes
Make Registration for Component::addListener idempotent ()

Fixes
Fix compilation error after cherry-picks
Correct next cherry-pick error
Update attribute value on attach () ()

* Fix the bug
* Add IT tests for re-attaching a stream resource

Fixes

# Conflicts:
#	flow-tests/test-root-context/src/main/java/com/vaadin/flow/uitest/ui/StreamResourceView.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/PreserveOnRefreshIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/StreamResourceIT.java","Changes since 2.2.2
Other fixes:
Push history when navigating to route-not-found view ()
Clear thread local instances on connection lost in push handler ()
Avoid NPEs in WebBrowser ()
Push history when navigating to route-not-found view ()
Don't use preserve on refresh logic in case of the same UI ()
Destroy external frontend resources install process on JVM exit  ()
Check whether the lifecycle state is already terminated before terminate ()
Make Registration for Component::addListener idempotent  ()
For all changes, see changes since 2.2.2
For what is new in 2.2, see 2.2.0 release notes"
"fix: Add reflections input filter () ()

* fix: Add reflections input filter

Add input filtering so we only handle
class files from the classpath in
ReflectionsClassFinder

Closes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: keep package.json ordered () ()

fixes
fix: avoid NPE in LookupServletContainerInitializer () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
chore: Pin org.eclipse.equinox.common version () ()

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: do not open FileSystem for unknown schemes ()

Don't open a filesystem for unknown schemes
that are probably custom for container and
have no FileSystem Provider implementation added.

Fixes
fix: Watch theme folders from Jar dependency () () ()

Adds a reusable themes folders (both current or parent) 
coming from JAR dependencies to the webpack watch list.

Fixes

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: Use JS equals to check whether property value is changed () (CP: 2.6) ()

Fixes

Co-authored-by: Denis <denis@vaadin.com>
Co-authored-by: Pekka Hyvönen <pekka@vaadin.com>","Vaadin Flow 2.6.4
Changes in Flow from 2.6.3
Fixes:
Use JS equals to check whether property value is changed () (CP: 2.6). PR:11287. Ticket:11175
Watch theme folders from Jar dependency () (). PR:11276. Ticket:11152
Adds a reusable themes folders (both current or parent) coming from JAR dependencies to the webpack watch list.
Do not open FileSystem for unknown schemes. PR:11235. Ticket:11230
Don't open a filesystem for unknown schemes that are probably custom for container and have no FileSystem Provider implementation added.
Avoid NPE in LookupServletContainerInitializer (). PR:11238. Ticket:11218
Keep package.json ordered (). PR:11207. Ticket:7431
All changes"
"Lock terser version to 4.6.7 ()
Run npm install if only .staging ()

If npm install has failed in the middle of
extraction only a .staging folder will
exist  in node_modules and we should
execute npm install on application startup.

Fixes
Do not throw for @ParentLayout w/o RouterLayout

Logs an error instead, which is not very visible but prevents breaking any existing apps.","Vaadin Flow 2.1.8 is a maintenance release for Vaadin 14.1 with the following changes:
Bugfixes and enhancements
Do not throw error for bad usage of @ParentLayout - instead just log an error on application startup ()
Run npm install if only .staging folder exists in node_modules ()
See all the changes in Flow 2.1.7"
"Override reserved globals for Firefox ()

Fixes https://github.com/vaadin/framework/issues/11597 for Flow
Clarify navigation observer javadocs ()

Reworded to not imply that the component is only notified at the point
in time when it gets attached.
Fix Router::getLocationForRequest behavior ()

Fixes

(cherry picked from commit 0603e7bb5863ddfb9b7c772dcd3aa076fc465d83)
Update dependency to solve the  security vulnerability ()

(cherry picked from commit 3767d0071de2c5c6a9438405051bb2cd52f4a905)
Fix wrong code example in the Java Doc ()

Binder#bind() needs to have a setter as well.

(cherry picked from commit bd1960543a223a9f3e630ce7fe0d59d68c8e0a17)
Use latest Byte Buddy ()

(cherry picked from commit f1002c3e693a6ce372acba1cd3404290ae47a55c)
Update chromedriver version to 75.0.3770.8 ()

(cherry picked from commit bf03d353f9e95c27a7b09952bceae624c87e0b2f)
Remove non thrown exception. ()

* Remove non thrown exception.

* update browser version

* Disable failing shortcuts.

(cherry picked from commit d8e7ea4bc9f678a5c2b926d9bdcb0a04dc121bf0)
Fixed ShortcutsIT ()

(cherry picked from commit f1c97a06adf07ac6834acc55c2a507146c7e6fc1)
Delete unused code ()

Remove unused code for loading a widgetset.

(cherry picked from commit 7542a48cb4687b00c292ffb7670f7c2b3b31654d)
Use https URLs ()

(cherry picked from commit 1ec040217e93ad89bda382c0c05ecddf5dd2a9e1)
Fix Vaadin Spring issue () ()

Use multipart request Parts directly if present instead of trying to parse the request manually.

Fixes spring

(cherry picked from commit cbf556f579ddeef1918a31085807be89c8a2f352)","Vaadin Flow 1.4.6 is a maintenance version with the following notable changes:
Fixes
Upload is fixed for V12+Spring, and V10+SpringMVC ()
StringIndexOutOfBounds in Router.getLocationForRequest ()
See the complete list of changes since the previous version"
"fix: keep track of css injected to document () ()

Stops css/fonts from being loaded multiple times to the document with embedded applications.

Fixes
fix: check the component belongs to UI before task execution ()

Related-to
fix: Fixes TypeScript transpilation to ES5 ()

Fix the transpilation of TypeScript files
to ES5 for use with IE11

Part of
test: Fix expectation on windows () ()

Windows receives a different error string
so we need to check the target os when
running the test.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: bump commons-io from 2.8.0 to 2.11.0 () () (CP: 2.7) ()

* fix: bump commons-io from 2.8.0 to 2.11.0 () ()

Bumps commons-io to a newer version where this bug has been fixed https://issues.apache.org/jira/browse/IO-692.

Fixes

* fix: IOUtils::toString doesn't throw exception anymore

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
chore: clean up test from extra profiles () ()

Co-authored-by: Denis <denis@vaadin.com>
chore: Update exception pattern () ()

It would seem like chrome changed
the exception after last update making
it the same as was gotten on the
windows agent.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: remove extra profile () ()
fix: add equals and hashCode to SimpleResult () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: Only write package.json if something actually changed ()

Flag update of vaadin version as an addition
also and only write the package.json if
thee was an actual change in content.

Fixes
fix: make IPhone version above 14.7 browsers allowed for Vaadin () ()

Fixes
chore: remove scripts [skip ci] () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: Use jdk8 compatible package. () ()

Some transitive packages that were
in a defined range got released built
on JDK11 instead of JDK8
fix: Handle an extra spaces in class names properly () ()

Fixes

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
revert: revert mistaken edge requirement for 2.x ()

2.x branch should still support old edge versions also.
fix: pinned dependency only adds when modified ()

Do not mark pin if no version is actually
added or changed.
With this npm install will not always be
executed on reload and the copied
modules will not disappear.

Fixes","Vaadin Flow 2.7.1
Changes in Flow from 2.7.0
Fixes:
Pinned dependency only adds when modified. PR:11893. Ticket:11888
Do not mark pin if no version is actually added or changed. With this npm install will not always be executed on reload and the copied modules will not disappear.
Handle an extra spaces in class names properly (). PR:11880. Ticket:11709
Use jdk8 compatible package. (). PR:11869
Some transitive packages that were in a defined range got released built on JDK11 instead of JDK8
Make IPhone version above 14.7 browsers allowed for Vaadin (). PR:11844. Ticket:11654
Only write package.json if something actually changed. PR:11848. Ticket:11259
Flag update of vaadin version as an addition also and only write the package.json if thee was an actual change in content.
Add equals and hashCode to SimpleResult (). PR:11840. Ticket:10948
Bump commons-io from 2.8.0 to 2.11.0. PR:11803. Ticket:11794
Fixes TypeScript transpilation to ES5 for use with IE11. PR:11792
Check the component belongs to UI before task execution. PR:11726. Ticket:11599
All changes"
"fix: use bundle-version instead of package version () () ()

The modified atmosphere-runtime:2.7.3.slf4jvaadin3 exports packages
with version 2.7.3 (i.e., not 2.7.3.slf4jvaadin3). Depend on bundle version
instead of the package version.

http://docs.osgi.org/specification/osgi.core/7.0.0/framework.module.html#framework.module.importpackage

Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>
chore: Override commons-codec version to a safe one () ()

Affected versions of this package are vulnerable to Information Exposure

Co-authored-by: Artur <artur@vaadin.com>
fix: Fix determining edge from userAgent () () ()

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: exclude commons-codec from httpClient ()
fix: do not warn for unset disabled property change () () ()

Do not log a waning if getting a
property change for a disabled
component when that property has
not been set for the component.

Fixes vaadin/flow-components

Co-authored-by: caalador <mikael.grankvist@vaadin.com>

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: caalador <mikael.grankvist@vaadin.com>
test: add tests for log level change in MapSyncRpcHandler () ()

(cherry picked from commit ba2c87a48ff883d52926459a522bed7ad545f97e)","Changes since 2.7.14
All changes
Fixes
Do not warn for unset disabled property change () ()
Commit · Pull request · Issue
Do not log a waning if getting a property change for a disabled component when that property has not been set for the component.
Fix determining edge from userAgent () ()
Commit · Pull request · Issue"
"fix: HtmlComponentSmokeTest.testAllHtmlComponents() casting optional dynamically problem. ()
fix: log error messages () ()

Log error messages and throw more
generic exceptions.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>","Changes since 1.0.20
All changes
Fixes
fix: log error messages (16935) (16962)
Commit · Pull request"
"Cherry pick from 2.1 to 2.2 ()

* Push browser history state after navigation is certain
fixes parts of
Update chrome version to 83 ()
Do not use compatibility mode production frontend prefixes without compat mode ()

Fixes
Fix issue with Push unsubscribe URL. ()

Related to
Workaround a bug in the external reflection library. ()

Fixes
Force pnpm version >=4.4.0, <4.6.0 ()

Fixes
Force chokidar version to ^3.4.0 () ()

Fixes
Removing deprecated parameter from DataNode constructor ()

If you use container (such as the latest Wilfdly) which forces to use significantly newer version of Jsoup than Vaadin depends to, this can cause a problem as deprecated method as been removed.
Fix Javadoc typo in NavigationTargetFilter ()
Close UI after refreshing the page in PreserveOnRefresh case and mark it
()

Fixes


# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/router/internal/AbstractNavigationStateRenderer.java

# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/router/internal/AbstractNavigationStateRenderer.java
Close client app on change location ()

Fixes
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/component/page/Page.java
#	flow-server/src/test/java/com/vaadin/flow/component/page/PageTest.java

# Conflicts:
#	flow-client/src/main/java/com/vaadin/client/flow/ExecuteJavaScriptProcessor.java
Listen detach events on ""listenOn"" components in shortcut registration ()

Fixes
Don't override initial value of hidden HTML Element attribute. ()

Fixes
Adapt test code to 2.x branch
Update ExecuteJavaScriptProcessor.java
Adapt gwt push connection test for 2.x branch.
Quiet down logs for deployment ()

Removes highlighting blocks, extra whitespace and changes output block
about application start up to a oneliner.

Fixes, 8395
Related to
Fix issues after cherry-pick
1000th fix after cherry-pick","Vaadin Flow 2.2.1 is a feature release of the Java Framework for Vaadin 14.2 that includes a number of new features and enhancements.
Changes Since 2.2.0
Warranty fixes:
Fix issue with Push unsubscribe URL. ()
Fix for ""Redirect on logout not working correctly with longpolling"" ()
Fix for ""Error ""Can't move a node from one state tree to another."" when re-adding a previously removed component after refreshing with @PreserveOnRefresh"" ()
Fix for ""setVisible does not work if done after remove/add of component"" ()
Other fixes:
Fix for ""Stylesheet is not found after UI.navigate to AppLayout in production mode"" ()
Fix for ""Cannot instatiate view with type parameter"" ()
Fix for ""Updating from 16 beta2 to 16 rc1 fails due to duplicates"" ()
Fix for ""Starting a Vaadin 16 app with Node 14 on Mac prints 1172 error lines"" ()
Removing deprecated parameter from DataNode constructor ()
Fix Javadoc typo in NavigationTargetFilter ()
Fix for ""@PreserveOnRefresh does not retain button click shortcuts"" ()
Fix for ""Production mode prints unnecessary Vaadin DeploymentConfiguration"" ()
Fix for ""Misleading console output with localhost and port"" ()
For all changes, see changes since 2.2.0
For what is new in 2.2, see 2.2.0 release notes"
"Remove tests not applicable for 1.0
Avoid NPE in validation methods ()

Fixes

(cherry picked from commit 16afcbbb18eae0b448a9ce4a57e38e56ea691664)
Update enabled status for virtual children of Element without Component
()

ComponentUtil::onComponentAttach/ComponentUtil::onComponentDetach should
use Element API parent to decide whether to call
Component::onEnabledStateChanged.
That allows to use correct parent in case there is no Component mapped
to Element.
Add missing since tags and versions ()
Deprecate isIPad due to changes in detection. ()
Improve InitialPageSettings::addInlineWithContents Javadoc ()


(cherry picked from commit d321dcf9a256391420176d85b0839a5fdd8f827b)
Simplify JavaDoc for @Route.absolute ()

(cherry picked from commit 73ac15ff3c5ff1ee2f51414817e9e60af24623b6)
Update reference to ticket with details ()

(cherry picked from commit b0bb13d67399b4245ad6732c470100ad83bdbb7d)
Remove unnecessary part from LICENSE ()


(cherry picked from commit fc0fc3a60ec89379045a0f0e373603ec12c77697)
Prevent VaadinSession.setErrorHandler from accepting null ()


(cherry picked from commit 194265f609fd8bdc299e99afcc186d539ff390d9)
Cherry-pick ()

Fix nullRepresentation argument not used
Picks from master to 1.0 ()

* Support for incorrect webjar paths  ()

Add support to the StaticFileServer for understanding incorrect webjar paths generated by the production build.

(cherry picked from commit b70c575d671cc4d33327d483bace3ed8bf070d99)

* Use Element API for traversing children to call the onEnabledStateChanged method ()

Fixes

(cherry picked from commit c3f60129a306c536b2000b675f3a94bce0776f8e)

* Update chromedriver to v79 ()

(cherry picked from commit debbbc80aa1f55b57c7a22c10ecde7a32deb5893)

* Only clear all if value changes. ()

If we remove all when the innerHTML
value stays the same we will loose the innerHTML
on the client as the value is not re-sent,
but is still cleared from the client.

Fixes

(cherry picked from commit efdc44a295329e41ceca2cc7a474a8f6f6090a75)
Revert as its IT fails in Flow 1.0 ()
Use headless chrome always, except on local debug () ()

* Use headless chrome always, except on local debug

(cherry picked from commit 9d8e4226abdde9445c4e5bb7b539b64de7228b49)

Co-authored-by: Tulio Garcia <tulio@vaadin.com>
Update tests for polyfill ()

Tests need changes as
chrome dropped HtmlImport support.

Fixes
Enable vaadin-prerelease for snapshot () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: use time-constant comparison for CSRF tokens ()

This hardens the framework against a theoretical timing attack based on
comparing how quickly a request with an invalid CSRF token is rejected.
fix: use time-constant comparison for security tokens ()

This is the same as, but also applied for the upload security key
and the push id since both of those are also used to protect against
cross-site attacks. In addition, documentation for the push id is
clarified to point out its role.
Fix conflict
Remove unused imports","Vaadin Flow 1.0.14 is a maintenance version with the following notable changes:
Fixes:
Use time-constant comparison for security tokens. PR:9896 Thanks to Xhelal Likaj for reporting this
This is the same as, but also applied for the upload security key and the push id since both of those are also used to protect against cross-site attacks. In addition, documentation for the push id is clarified to point out its role.
Use time-constant comparison for CSRF tokens. PR:9875 Thanks to Xhelal Likaj for reporting this
This hardens the framework against a theoretical timing attack based on comparing how quickly a request with an invalid CSRF token is rejected.
For all changes, see changes since 1.0.13
For what is new in 1.0, see 1.0.0 release notes"
"Fix javadocs for annotations to highlight where the files should be located ()

* Fix javadocs for annotations to highlight where the files should be
located

Fixes

* Use terms consistently
Chromedriver 76 update ()
Update dependency to fix the security alert ()
Skip flow-tests module when `-DskipTests` is given ()

* Skip the flow-tests module when `-DskipTests` is given
Discover endpoints in UI init listener classes ()

* Discover endpoints in UI init listener classes

Fixes

* Add an IT test

* Make ClassFinder instance used by web app aware of UIInitListener

* Use a proper path in the IT test to open a view.

* Update chrome browser version

* Merge branch 'master' into 5792-ui-init-listener
Enable mixed modules ()

* Enable mixed modules

* Add compatibility mode dependency to use compat mode

* Exclude temporary all other tests

* Enable mixed modules
flow-maven-plugin unit tests: check copied files modulo order to avoid flakiness ()
Inform Spring Boot users that 'vaadin.compatibilityMode' must be set separately in compatibility mode exception message ()
Fix faulty  path separator for imports ()

* Fix faulty  path separator for imports

When collecting imports on windows the
windows path separator is used when
it should be / instead.

* Also fix the visited path.

* Merge master into issues/faulty_path_separator
Always have tests module, but skip tests if requested ()","Vaadin Flow 2.0.7 is a maintenance version with the following notable changes:
Fixes
Fix faulty path separator for imports ()
Inform Spring Boot users that vaadin.compatibilityMode must be set separately in compatibility mode exception message ()
Discover endpoints in UI init listener classes ()
Update jackson-databind dependency to fix a security alert ()
Support for incorrect webjar paths ()
Complete list of changes since 2.0.6
See all the changes in Flow 2.0"
"Remove lit-element from flow-client () ()

* Remove lit-element from default dev dependencies ()

* Remove lit-element from flow-client ()
fix: check for TypeVariable in the ExplicitNullableTypeChecker ()
fix: custom connect client breaks endpoints mapping

Presence of absence of a custom Connect client in `frontend/connect-client.ts` should not affect the URL mapping of the endpoint calls handler on the backend (the way to configure that mapping is to use the `vaadin.endpoint.prefix` application property). There is no need to parse the `connect-client.ts` and try to determine the URL mapping from there.

Earlier, when the support for a custom Connect client was added in https://github.com/vaadin/flow/pull/7944, the code that tried to determine the endpoint handler URL mapping from a custom `connect-client.ts` file had a bug that resulted in an incorrect URL mapping configuration.

This commit completely removes the link between a custom Connect client and the endpoint handler URL mapping config.

Fixes
remove unused import
Update chrome version to 83 ()
Merge branch 'master' of github.com:vaadin/flow

* 'master' of github.com:vaadin/flow: (191 commits)
  Fix regression in @Push when running in client bootstrapping ()
  Don't override initial value of hidden HTML Element attribute. ()
  Cherry pick from 2.2 to master and fix postpone and forward with CCDM
() ()
  Moved init parameters to new class
com.vaadin.flow.server.InitParameters ()
  Update chrome version to 83 ()
  Listen detach events on ""listenOn"" components in shortcut registration
()
  Correct Javadocs for adding JS and Stylesheets programatically.
()
  Close client app on change location ()
  Close UI after refreshing the page in PreserveOnRefresh case and mark
it ()
  remove unused import
  fix: custom connect client breaks endpoints mapping
  Wait for intermediate page to load completely in @PreserveOnRefresh IT
()
  Properly encoded URIs use %20 ()
  Removed unnecessary private method ()
  Extract live reload ITs into separate test module ()
  fix: check for TypeVariable in the ExplicitNullableTypeChecker ()
  Live reload show message on error () ()
  Clarify message about blocking with the session locked ()
  Url parameter template support. ()
  Store vaadin hash to node_modules ()
  ...

# Conflicts:
#	.gitignore
#	flow-client/src/main/java/com/vaadin/client/ApplicationConnection.java
#	flow-client/src/main/resources/META-INF/resources/frontend/Flow.ts
#	flow-client/src/test/frontend/FlowTests.ts
#	flow-maven-plugin/src/main/java/com/vaadin/flow/plugin/maven/BuildFrontendMojo.java
#	flow-maven-plugin/src/main/java/com/vaadin/flow/plugin/maven/FlowModeAbstractMojo.java
#	flow-maven-plugin/src/main/java/com/vaadin/flow/plugin/maven/PrepareFrontendMojo.java
#	flow-maven-plugin/src/test/java/com/vaadin/flow/plugin/maven/BuildFrontendMojoTest.java
#	flow-maven-plugin/src/test/java/com/vaadin/flow/plugin/maven/PrepareFrontendMojoTest.java
#	flow-server/src/main/java/com/vaadin/flow/function/DeploymentConfiguration.java
#	flow-server/src/main/java/com/vaadin/flow/server/Constants.java
#	flow-server/src/main/java/com/vaadin/flow/server/DefaultDeploymentConfiguration.java
#	flow-server/src/main/java/com/vaadin/flow/server/DeploymentConfigurationFactory.java
#	flow-server/src/main/java/com/vaadin/flow/server/DevModeHandler.java
#	flow-server/src/main/java/com/vaadin/flow/server/connect/VaadinConnectController.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/FrontendUtils.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/NodeTasks.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/NodeUpdater.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskGenerateTsConfig.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskRunNpmInstall.java
#	flow-server/src/main/java/com/vaadin/flow/server/frontend/VersionsJsonConverter.java
#	flow-server/src/main/java/com/vaadin/flow/server/startup/AbstractRouteRegistryInitializer.java
#	flow-server/src/main/java/com/vaadin/flow/server/startup/DevModeInitializer.java
#	flow-server/src/main/java/com/vaadin/flow/server/startup/ServletDeployer.java
#	flow-server/src/main/java/com/vaadin/flow/server/startup/VaadinAppShellInitializer.java
#	flow-server/src/main/java/com/vaadin/flow/shared/ApplicationConstants.java
#	flow-server/src/main/resources/pnpmfile.js
#	flow-server/src/main/resources/webpack.generated.js
#	flow-server/src/test/java/com/vaadin/flow/server/DefaultDeploymentConfigurationTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/DeploymentConfigurationFactoryTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/communication/WebComponentBootstrapHandlerTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/connect/VaadinConnectControllerTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/connect/rest/EndpointWithRestControllerTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/frontend/FrontendUtilsTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/frontend/TaskRunNpmInstallTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/frontend/TaskRunPnpmInstallTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/frontend/VersionsJsonConverterTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/startup/AbstractRouteRegistryInitializerTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/startup/DevModeInitializerTest.java
#	flow-server/src/test/java/com/vaadin/flow/server/startup/DevModeInitializerTestBase.java
#	flow-server/src/test/java/com/vaadin/flow/server/startup/VaadinAppShellInitializerTest.java
#	flow-server/src/test/resources/versions/no_vaadin_package.json
#	flow-server/src/test/resources/versions/package.json
#	flow-server/src/test/resources/versions/user_package.json
#	flow-server/src/test/resources/versions/user_versions.json
#	flow-server/src/test/resources/versions/versions.json
#	flow-test-util/src/main/java/com/vaadin/flow/testutil/AbstractTestBenchTest.java
#	flow-tests/pom.xml
#	flow-tests/test-npm-only-features/test-npm-performance-regression/src/test/java/com/vaadin/flow/testnpmonlyfeatures/performanceregression/StartupPerformanceIT.java
#	flow-tests/test-root-context/src/main/java/com/vaadin/flow/uitest/ui/PushWithPreserveOnRefreshView.java
#	flow-tests/test-root-context/src/main/java/com/vaadin/flow/uitest/ui/StreamResourceView.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/VerifyBrowserVersionIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/NavigationTriggerIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/PushWithPreserveOnRefreshIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/RequestParametersIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/RouterSessionExpirationIT.java
#	flow-tests/test-root-context/src/test/java/com/vaadin/flow/uitest/ui/StreamResourceIT.java
#	flow-tests/test-root-ui-context/src/main/java/com/vaadin/flow/uitest/servlet/ApplicationRunnerServlet.java
#	flow-tests/test-root-ui-context/src/test/java/com/vaadin/flow/uitest/ui/push/ReconnectLongPollingIT.java
#	flow-tests/test-router-custom-context/src/test/java/com/vaadin/flow/contexttest/ui/PushIT.java
Close client app on change location ()

Fixes
Correct Javadocs for adding JS and Stylesheets programatically. ()

* Correct Javadocs for adding JS and Stylesheets programatically.

Fixes
Listen detach events on ""listenOn"" components in shortcut registration ()

Fixes
Don't override initial value of hidden HTML Element attribute. ()

Fixes
Properly encoded URIs use %20 ()

fixes
Fix issue with Push unsubscribe URL. ()

Related to
Fix regression in @Push when running in client bootstrapping ()
Force chokidar version to ^3.4.0 () ()

Fixes
CP: Force pnpm version >=4.4.0, <4.6.0 () ()

Fixes

Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>","Vaadin Flow 3.1.1 is a feature release of the Java Framework for Vaadin 16 that includes a number of new features and enhancements.
All changes since 3.1.0
3.1 Feature Highlights
Automatic Node installation
Available from Vaadin versions 14.2 and 16
If no global or local Node installation is found Node will be automatically installed to ~/.vaadin
Only requires the first project to install as later can use the same installation
No need to have Node installed for CI
Uses proxy data from
System properties
{project}/.npmrc
~/.npmrc
Environment variables
pnpm is the default frontend package manager
Now pnpm is used by default instead of npm
npm was still default in Vaadin 14.2 and 15
No migration needed - pnpm is installed once to /.vaadin inside home folder. See differences here for more information about what has changed
User specified local package.json dependencies are considered instead of ""locked"" dependencies coming from Vaadin ()
Devmode is run as a separate thread to speed up server startup
Allows server to continue startup parallel to Flow development mode process which runs pnpm/npm and webpack build
The browser shows a white page that is automatically refreshed to open app once devmode process has finished
As server is started up faster, there is no timeout from ""run from IDE"" or from server plugins
Minor improvements in 3.1
API in UI for switching between direction RTL / LTR (document.dir)
Flow 3.1 contains all improvements shipped in Flow 2.2, see release notes for detailed list.
Known Issues and Limitations in 3.1
pnpm is not able to resolve dependencies to git commits with the ""short"" hash format. See details and workaround from.
Deprecations since 3.0
The enableInstallPrompt parameter for the @PWA annotation has been deprecated, as the install prompt will be removed an upcoming version and not shown anymore
Incompatible Changes in 3.1
The com.vaadin.flow.component.Direction class has been changed to an enum and the method getDirectionForLocale(java.util.Locale) has been removed.
Some Flow internal classes related to frontend tooling installation & running have changes that are not backwards compatible. Nobody should be using these classes in their application code - in case you are, you should create an issue about what you're trying to achieve and why, so that a proper way to support that use case can be considered instead of relying on internal classes."
"Fix: Update Lit bundle parser regex.

Now the pattern will not fail with a StackOverflowException
as we will search from the start character accepting
any characters until we reach the caught start character with ;
fix: use provided executor for frontend tools ()

fixes vaadin/spring
fix: Fix css-loader to not handle urls ()

Css loader should not try to translate urls
as we shouldn't have at the moment any
internal urls that would need handling.

Fixes
fix: Add missing refreshAll method to data view ()

Adds the missed refresh all method to data view API.

Fixes:
(cherry picked from commit c60b51bd775a036982af580998e89097e165751c)","Changes since 5.0.1
Bug Fixes:
Use provided executor for frontend tools fb3b1f6
Fixed css-loader to not handle urls 727998c
Add missing refreshAll method to data view 6f3a876
For all changes, see changes since 5.0.1
For what is new in 5.0, see 5.0.0 release notes"
"test(TypeScript): ensure CSRF token is updated when session is invalidated ()

* test(TypeScript): ensure CSRF token is updated when session is invalidated

Fixes

* add log message

(cherry picked from commit 5a385294ad6d12f81da3244d9941c0373587d6fa)
Cache original index.html Document in production mode ()

* Cache original index.html Document in production mode

* Make IndexHtmlHolder serializable
fix: remove instance field from singleton IndexHtmlRequestHandler ()

* fix: remove instance field from singleton IndexHtmlRequestHandler

* apply code review suggestions
Stop logging error when updating dev dependencies ()

As there is a conflict with the dependencies and prevent adding
the flow-dev-dependencies package to the platform (), this will hide
the unavoidable error that was logged for Vaadin apps.
 
Fixes
fix: optimize handling of requests containing Range header ()

More efficient parsing of the header value. Also, range count is capped at 16
(additional will be ignored) and overlapping ranges at 2 (request will be denied
if above).
chore: fix outdated AppShell javadoc
fix: made vaadinrequest avaialbe in endpoint
chore: fix broken message after merge","Changes since 4.0.7
Bug Fixes:
Fix a bug that VaadinRequest is not available in the endpoint ()
Optimize handling of requests containing Range header ()
Stop logging error when updating dev dependencies ()
Others:
Remove the getIndexHtmlResponse method from IndexHtmlRequestHandler, which was intended for internal use only and is no longer needed.
For all changes, see changes since 4.0.7
For what is new in 4.0, see 4.0.0 release notes"
"fix: update workbox version to prevent webpack failure () ()
fix: Use byte[] instead of String to store stats.json () ()

This is made to avoid excessive memory usage when managing the data.

fixes:

Co-authored-by: Tatu Lund <tatu@vaadin.com>
Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
fix: set Vaadin session attribute using lock () ()

Fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: register data provider listener only if it has not been registered () ()

* fix: register data provider listener only if it has not been registered yet

fixes: https://github.com/vaadin/flow-components/issues/1914

Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>

Co-authored-by: Tatu Lund <tatu@vaadin.com>
Co-authored-by: Mikhail Shabarov <mikhail@vaadin.com>
Revert ""fix: register data provider listener only if it has not been registered ()"" () ()

This reverts commit 067f63f7

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: don't fire shortcut event if ancestor of component is not visible () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>","Vaadin Flow 7.0.7
Changes in Flow from 7.0.6
Fixes:
Don't fire shortcut event if ancestor of component is not visible (). PR:11582. Ticket:7033
Set Vaadin session attribute using lock (). PR:11543. Ticket:11519
Use byte[] instead of String to store stats.json (). PR:11526. Ticket:11515
This is made to avoid excessive memory usage when managing the data.
All changes"
"fix: Change log level of ""A VaadinSession instance not associated to any service is getting unbound"" () ()

Co-authored-by: Tarek Oraby <42799254+tarekoraby@users.noreply.github.com>
test: Fix test so that it is not slow and broken () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: Alter handling of cases where key value is not present () ()

Fixes:
Fixes:

Co-authored-by: Tatu Lund <tatu@vaadin.com>","Changes since 9.0.8
All changes
Fixes
Alter handling of cases where key value is not present ()
Commit · Pull request · Issues 13004, 13173"
"chore(deps): bump byte-buddy from 1.11.22 to 1.12.19 () (CP: 2.8) ()

Bumps [byte-buddy](https://github.com/raphw/byte-buddy) from 1.11.22 to 1.12.19.
- [Release notes](https://github.com/raphw/byte-buddy/releases)
- [Changelog](https://github.com/raphw/byte-buddy/blob/master/release-notes.md)
- [Commits](https://github.com/raphw/byte-buddy/compare/byte-buddy-1.11.22...byte-buddy-1.12.19)

---
updated-dependencies:
- dependency-name: net.bytebuddy:byte-buddy
  dependency-type: direct:production
  update-type: version-update:semver-patch
...
fix: Empty alt in costructor should add property () ()

Giving the alternate text in the constructor
should generate a property to the image.

Fixes
fix: remove unnecessary clear condition () ()

For hierarchical data, even when the child components are filtered out, the clear method on ArrayUpdater.Update in HierarchicalCommunicationController is never called. This is caused by an if check, in which the start index of previousActive is compared to the newly calculated assumedSize. Since there might be items to clear, the newly calculated size should have no effect on whether we clear the items or not. This check is not present in the DataCommunicator counterpart within the method collectChangesToSend.

This PR removes the aforementioned clear condition. Add test to ensure that the expanded children are cleared properly when filtered out.

Fixes

Co-authored-by: Ugur Saglam <106508695+ugur-vaadin@users.noreply.github.com>
chore: Increase initial delay to show loading indicator () ()

The current initial delay to show loading indicator seems quite short. If one deploys an app to another continent, even no op visits can make the indicator ""flash"". This may kind of just increases the feeling of ""broken app"". Especially as the indicator in latest versions is bold visually.

Still, at least mine app feels perfectly usable and don't even realise there is a server visit. I don't have the skills to me the indication look less bolder, so I'd just propose to increase the delay a bit. With this level (450ms) all seems to work fine.

Co-authored-by: Matti Tahvonen <matti@vaadin.com>
feat: add refresh flag to navigation event () ()

Add the isRefreshEvent to BeforeEnterEvent
and AfterNavigationEvent to be make it possible
to distinguish if the event is for a refresh of
a preserve on refresh view.

Fixes
test: Add tests for new license checker config parameter ()

Related-to https://github.com/vaadin/flow/pull/14902
fix: do not remove expanded items from key mapper () ()

With a TreeGrid, the expanded state of a root item gets lost when scrolled enough to request a new range. The cause for this is the updated key of the returned item. The expanded state for the items except the root items do not get lost.

This PR makes sure that the key-value pair for a root item persists in the KeyMapper if the item is expanded. This change only affects hierarchical data. A test is added to ensure that the fix solves the issue.

While this refactoring is less than ideal in terms of clean code, I think that the alternative requires a much larger refactoring. The logic in the regular and hierarchical data communicators are mostly both coupled and duplicated with private methods at this time. Therefore, this PR is as atomic as possible.

Fixes

Co-authored-by: Ugur Saglam <106508695+ugur-vaadin@users.noreply.github.com>
fix: Component locale works without UI and i18n () (CP: 2.8) ()

* fix: Component locale works without UI and i18n ()

Component locale should return a locale
even when UI and i18nProvider are not
available.

Fixes

* added missing import

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>
test: ensure ComponentTest preconditions ()

ComponentTest.getComponentLocale_noCurrentUI_returnsDefaultLocale assumes that
I18nProvider is null  but it may have been initialized by another test.
This change makes the Instantiator instance a mockito spy, so that
it can be instructed by the tests to return a null I18nProvider instance.","Changes since 2.8.1
All changes
New features
Add refresh flag to navigation event ()
Commit · Pull request · Issue
Add the isRefreshEvent to BeforeEnterEvent and AfterNavigationEvent to be make it possible to distinguish if the event is for a refresh of a preserve on refresh view.
Fixes
Component locale works without UI and i18n ()
Commit · Pull request · Issue
Do not remove expanded items from key mapper ()
Commit · Pull request · Issue
With a TreeGrid, the expanded state of a root item gets lost when scrolled enough to request a new range. The cause for this is the updated key of the returned item. The expanded state for the items except the root items do not get lost. This PR makes sure that the key-value pair for a root item persists in the KeyMapper if the item is expanded. This change only affects hierarchical data. A test is added to ensure that the fix solves the issue. While this refactoring is less than ideal in terms of clean code, I think that the alternative requires a much larger refactoring. The logic in the regular and hierarchical data communicators are mostly both coupled and duplicated with private methods at this time. Therefore, this PR is as atomic as possible.
Remove unnecessary clear condition ()
Commit · Pull request · Issue
For hierarchical data, even when the child components are filtered out, the clear method on ArrayUpdater.Update in HierarchicalCommunicationController is never called. This is caused by an if check, in which the start index of previousActive is compared to the newly calculated assumedSize. Since there might be items to clear, the newly calculated size should have no effect on whether we clear the items or not. This check is not present in the DataCommunicator counterpart within the method collectChangesToSend. This PR removes the aforementioned clear condition. Add test to ensure that the expanded children are cleared properly when filtered out.
Empty alt in costructor should add property ()
Commit · Pull request · Issue
Giving the alternate text in the constructor should generate a property to the image."
"fix. remove locking and attribute usage () ()

Remove use of attribute to remove the need to lock.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Bump commons-fileupload version to 1.4 ()
test: update felix versions ()

Add flow-server as direct dependency
so that the dependencies are used in
copy-dependencies.
test: revert felix versions ()
chore: Upgrade default installed Node to 14.21.1 with security fixes ()
chore(deps-dev): bump loader-utils from 2.0.0 to 2.0.3 () () ()

Bumps [loader-utils](https://github.com/webpack/loader-utils) from 2.0.0 to 2.0.3.
- [Release notes](https://github.com/webpack/loader-utils/releases)
- [Changelog](https://github.com/webpack/loader-utils/blob/v2.0.3/CHANGELOG.md)
- [Commits](https://github.com/webpack/loader-utils/compare/v2.0.0...v2.0.3)

---
updated-dependencies:
- dependency-name: loader-utils
  dependency-type: direct:development
...

The dependency was previously missing in 2.8 even though used in theme-loader.js
chore: Show command output when it fails () ()

Makes debugging easier when you know e.g. why npm --version exited with code 254

Co-authored-by: Artur <artur@vaadin.com>
fix: Filter chunks to minimize stats.json ()
chore(deps): bump jackson-databind from 2.13.4 to 2.13.4.2 () ()

Bumps [jackson-databind](https://github.com/FasterXML/jackson) from 2.13.4 to 2.13.4.2.
- [Release notes](https://github.com/FasterXML/jackson/releases)
- [Commits](https://github.com/FasterXML/jackson/commits)

---
updated-dependencies:
- dependency-name: com.fasterxml.jackson.core:jackson-databind
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: suppress error handler for upload () ()

Do not call the error handler for upload
io exceptions. Only inform as streaming
failed.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Use env instead of custom parameter to webpack () (CP: 2.8) ()

Use environment variable instead of uncompatible
old parameter --watchDogPort
chore: Upgrade license-checker to 1.11.1 () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: Upgrade loader-utils to 2.0.4 () () () (CP: 2.8) ()
chore: Upgrade license checker to 1.11.2 () ()

Fixes OSGi compatibility

Co-authored-by: Artur <artur@vaadin.com>
fix: fix faulty cleanup of stats.json ()

fixes cleanup of stats.json contents
so that the needed templates are
not dropped.
chore: Update to TB 6.5.1 ()
fix: Get vaadin version from core ()

Use vaadin-core-versions instead of
vaadin-versions as core-versions is also available
when using the full vaadin dependency

Fixes
fix: stats in development mode ()

In development mode the local
frontend stat files got left out
from the cleaned stats that
webpack served
chore(deps): bump byte-buddy from 1.11.22 to 1.12.19 () (CP: 2.8) ()

Bumps [byte-buddy](https://github.com/raphw/byte-buddy) from 1.11.22 to 1.12.19.
- [Release notes](https://github.com/raphw/byte-buddy/releases)
- [Changelog](https://github.com/raphw/byte-buddy/blob/master/release-notes.md)
- [Commits](https://github.com/raphw/byte-buddy/compare/byte-buddy-1.11.22...byte-buddy-1.12.19)

---
updated-dependencies:
- dependency-name: net.bytebuddy:byte-buddy
  dependency-type: direct:production
  update-type: version-update:semver-patch
...","Changes since 2.8.0
All changes
Fixes
Stats in development mode
Commit · Pull request
In development mode the local frontend stat files got left out from the cleaned stats that webpack served
Get vaadin version from core
Commit · Pull request · Issue
Use vaadin-core-versions instead of vaadin-versions as core-versions is also available when using the full vaadin dependency
Fix faulty cleanup of stats.json
Commit · Pull request
so that the needed templates are not dropped.
Suppress error handler for upload ()
Commit · Pull request · Issue
Do not call the error handler for upload io exceptions. Only inform as streaming failed.
Filter chunks to minimize stats.json
Commit · Pull request"
"feat: add support for Range header to StaticFileServer ()

A Range header can specify either a single byte range, e.g. Range: bytes=0-99, or multiple ranges,
e.g. Range: bytes=0-99, 200-299. The ranges do not need to be sequential and can have overlap;
e.g. Range: bytes=200-299, 0-219 is valid; such requests will open a new stream reading from the
beginning of the file for each out-of-order range. The motivation for this feature is to support video
playback on Safari.

Fixes
chore: Update README with branch versions ()

Updated `master` to reference version 5.0. Added a few missing branches/versions. Updated to table format.
chore: Update chrome to 86 ()
fix: add maven plugin documentation ()

Add documentation on maven plugin
goals and configuration options.

Fixes
test: Fix duplicate registration ()

Lock the registry when registering
dynamic route in serviceInit to not have
a race where 2 inits note that path is not
registered and then try to register the route.

Fixes
fix: Add content type to dev-mode-not-ready response () ()

* fix: Add content type to dev-mode-not-ready response ()

If you enable Spring Security, the missing charset causes the page to either be downloaded or shown as plain text depending on the browser.

* chore: unit test for devmode-not-ready page contents and type

Co-authored-by: Marcus Hellberg <marcus@vaadin.com>","Changes since 4.0.4
Bugfixes:
Added Maven plugin documentation for goals and configuration options ()
In development mode, the ""Frontend build in progress..."" page was being downloaded or shown as plain text depending on the browser. () ()
For all changes, see changes since 4.0.4
For what is new in 4.0, see 4.0.0 release notes"
"fix: Add missing refreshAll method to data view ()

Adds the missed refresh all method to data view API.

Fixes:
(cherry picked from commit c60b51bd775a036982af580998e89097e165751c)
fix(TypeScript): binder should allow typing decimal numbers ()

* WIP: fix(TypeScript): binder should allow typing decimal numbers

Fixes
Fixes

* fix linter error

* fix: disallow incorrect decimal separator (,) and extra characters

* fix linter errors

* cleaup: remove debugger

(cherry picked from commit f946d33f4fb0df4ce9f8f0202c6ba2f4491815f3)
chore: pick flaky test fixes from master ()

Co-authored-by: Haijian Wang <30408303+haijian-vaadin@users.noreply.github.com>
chore: remove verify browser version test () ()

Avoid failures on every Chrome version update

Co-authored-by: Denis <denis@vaadin.com>
chore: Remove unused plugin () ()

Remove copy-webpack-plugin that was used for
copying webcomponents polyfills.

Co-authored-by: Artur <artur@vaadin.com>
fix: Importing binary file in frontend file () ()

Catch MalformedInputException for reading
file during import visit for frontend files where
file is binary and can not be read as lines.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Clarify CSRF token comments () ()

CSRF tokens in Vaadin follow the ""synchronizer token pattern"" rather
than the double submit cookie that some code comments refer to. Existing
comments are clarified to avoid confusion for anyone reviewing our
security practices.

Co-authored-by: Leif Åstrand <leif@vaadin.com>
fix: use time-constant comparison for security tokens () ()

This is the same as, but also applied for the upload security key
and the push id since both of those are also used to protect against
cross-site attacks. In addition, documentation for the push id is
clarified to point out its role.

Co-authored-by: Leif Åstrand <leif@vaadin.com>
chore: Pick chrome driver (5.0) ()

* chore: update ChromeDriver to 87.0.4280.88 ()

this is a patch update

* Update chrome driver checksum for linux ()
fix: use time-constant comparison for CSRF tokens ()

This hardens the framework against a theoretical timing attack based on
comparing how quickly a request with an invalid CSRF token is rejected.
fix: Use thread-safe map for bootstrap HTML fragment cache ()

The cache is only protected from multiple accesses at the same time by the same user. Many users can use it simultaneously
chore: Use Chokidar 3.5 to avoid deprecated fsevents 2.1 ()
fix: use proper logging for installing pnpm and its directory ()

Fixes:

Co-authored-by: Johannes Eriksson <joheriks@vaadin.com>
fix: avoid BeforeClient executions for nodes with different StateTree ()

fixes
Send previous event time until new event has been sent ()

`updateProgress` should return the `lastStreamingEvent` until a
new progress event has been fired after which the current time
should be returned.
Else we will only send a new progress event when the reading
of the buffer takes longer than the set ProgressEventInterval.
fix: use ordered Set for deterministic CompositeDataGenerator  ()

Use LinkedHashSet (not HashSet) to keep the order of data generators in CompositeDataGenerator.

Fixes: https://github.com/vaadin/flow/issues/9656
chore: fix double slashes in exception message ()
fix: Correct regexp to only match when digit first ()

Use Matcher::find instead of Matcher::matches as matches never matched.

Fixes
fix!: Make VaadinService.dependencyFilters unmodifiable

While the change is backwards compatible from API perspective, it could be considered a behavior change although there is quite low risk of exposure in apps. Thus targeting 2.5 for the LTS and the recently released 5.0.
test: Revert user.dir system property after test ()

Fixes
chore: Bump Node.js default version to last LTS ()
fix: Lock versions to what is set in package.json ()

Even without platform versions we should manage the used versions by using exactly what is defined in the package.json as if we had a platform versions file.
chore: fix outdated AppShell javadoc ()
fix: Add empty list handling to DataCommunicator#collectKeysToFlush ()

Fixes: https://github.com/vaadin/vaadin-grid/issues/1837
fix: encode attribute value during transfer from embedded web app ()

encode attribute value during transfer from embedded web app
fix: Remove old devDependencies ()

* fix: Remove old devDependencies

Clean away also old devDependencies
on Package update.

Fixes

* Combine dependency cleanup parts.
chore: Remove redundant UnsupportedEncodingException
Increase performance delay threadhold to 11s","Vaadin Flow V5.0.3
Changes in Flow from 5.0.2
Breaking Changes:
Make VaadinService.dependencyFilters unmodifiable
While the change is backwards compatible from API perspective, it could be considered a behavior change although there is quite low risk of exposure in apps. Thus targeting 2.5 for the LTS and the recently released 5.0.
Fixes:
Remove old devDependencies. PR:9931. Ticket:9720
Clean away also old devDependencies on Package update.
Encode attribute value during transfer from embedded web app. PR:9583
encode attribute value during transfer from embedded web app
Add empty list handling to DataCommunicator#collectKeysToFlush. PR:9516. Ticket:1837
Lock versions to what is set in package.json. PR:9859
Even without platform versions we should manage the used versions by using exactly what is defined in the package.json as if we had a platform versions file.
Correct regexp to only match when digit first. PR:9496. Ticket:9494
Use Matcher::find instead of Matcher::matches as matches never matched.
Use ordered Set for deterministic CompositeDataGenerator. PR:9657. Ticket:9656
Use LinkedHashSet (not HashSet) to keep the order of data generators in CompositeDataGenerator.
Avoid BeforeClient executions for nodes with different StateTree. PR:9715. Ticket:9397
Use proper logging for installing pnpm and its directory. PR:9724. Ticket:9571
Use thread-safe map for bootstrap HTML fragment cache. PR:9852
The cache is only protected from multiple accesses at the same time by the same user. Many users can use it simultaneously
Use time-constant comparison for CSRF tokens. PR:9875 Thanks to Xhelal Likaj for reporting this
This hardens the framework against a theoretical timing attack based on comparing how quickly a request with an invalid CSRF token is rejected.
Use time-constant comparison for security tokens (). PR:9910 Thanks to Xhelal Likaj for reporting this
This is the same as, but also applied for the upload security key and the push id since both of those are also used to protect against cross-site attacks. In addition, documentation for the push id is clarified to point out its role.
Importing binary file in frontend file (). PR:9959. Ticket:9926
Catch MalformedInputException for reading file during import visit for frontend files where file is binary and can not be read as lines."
"test: fix push disconnection tests timings ()
fix: set Lookup attribute to servlet context from OSGi servlet context ()

This change ensures that Lookup is set in servlet context attributes
when initializing VaadinServlet in OSGi environment.

Fixes: vaadin/base-starter-flow-osgi/

Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
Disable sending updates to client for effectively non-visible nodes () ()

* Disable sending updates to client for effectively non-visible nodes

* Fix test: Always set tested component visible first; only assume node has changed if testvalue differs from original value

* Cleanup, and refactoring, in Element, StateNode, UIInternals classes + mvn formatter.

---------

Co-authored-by: czp13 <61667986+czp13@users.noreply.github.com>
Co-authored-by: Peter Czuczor <czuczor@gmail.com>

(cherry picked from commit eab4f09bf64db9cdc8277464560af3c4c8e188b1)

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
fix: remove detach listener when javascript execution completes () ()

A detach listener is added for pending javascript invocation owner nodes
to clean up the queue, if the owner gets detached.
This change also removes the detach listener when the javascript execution
completes.
fix: Nullify a registration when listener removed () ()

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>","Changes since 2.9.0
All changes
Fixes
Nullify a registration when listener removed ()
Commit · Pull request
Remove detach listener when javascript execution completes ()
Commit · Pull request
A detach listener is added for pending javascript invocation owner nodes to clean up the queue, if the owner gets detached. This change also removes the detach listener when the javascript execution completes.
Set Lookup attribute to servlet context from OSGi servlet context
Commit · Pull request · Issue
This change ensures that Lookup is set in servlet context attributes when initializing VaadinServlet in OSGi environment."
"fix: fixes comparison of prerelease versions FE deps () ()

Fix buildIdentifier comparison so values compare correctly.
The problem caused e.g. alphas greater than 10 to be considered older than 2-9.

fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: set ""href"" for element inside template as an attribute not a pro… () (CP: 7.0) ()

* fix: set ""href"" for element inside template as an attribute not a pro… ()

fixes

* correct lit resource folder name

* use lit 1 import

Co-authored-by: Denis <denis@vaadin.com>
fix: reset HTTP session on CLOSED state, not immidiately () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: format numbers in NumberRenderer using Locale if it's provided () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: don't create a new UI instance for service worker resource () ()

fixes
fix: use proper classloader for template model () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
Revert ""fix: reset HTTP session on CLOSED state, not immidiately () ()""

This reverts commit c6cf0528452fa48a9051b1e946fcab39c0ae23b9.
fix: use dedicated namespace for fallback style imports () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: Reuse existing filesystem () ()

When getting a for Flow new FileSystem
there is the possibility that a filesystem
has been created elsewhere. Reuse the
existing FileSystem if it exists.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: reset session field only when HTTP session is invalidated () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: avoid merge conflicts during properties collection () ()

Fixes

Co-authored-by: Denis <denis@vaadin.com>
fix: Show only single permanent notification () ()

If a persistent message is open
do not open a new permanent message
for the same persistentId.

Closes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: update slf4j to 1.7.32 () ()

Co-authored-by: Knoobie <Knoobie@gmx.de>
fix: undeprecate Uses () ()

fixes

Co-authored-by: Denis <denis@vaadin.com>","Vaadin Flow 7.0.5
Changes in Flow from 7.0.4
Fixes:
Show only single permanent notification (). PR:11452. Ticket:11404
If a persistent message is open do not open a new permanent message for the same persistentId.
Avoid merge conflicts during properties collection (). PR:11444. Ticket:11404
Reset session field only when HTTP session is invalidated (). PR:11441. Ticket:6959
Reuse existing filesystem (). PR:11437. Ticket:11378
When getting a Flow new FileSystem there is the possibility that a filesystem has been created elsewhere. Reuse the existing FileSystem if it exists.
Use dedicated namespace for fallback style imports (). PR:11432. Ticket:11376
Use proper classloader for template model (). PR:11393. Ticket:7377
Don't create a new UI instance for service worker resource (). PR:11386. Ticket:6454
Format numbers in NumberRenderer using Locale if it's provided (). PR:11380. Ticket:8970
Reset HTTP session on CLOSED state, not immidiately (). PR:11383. Ticket:6959
Set ""href"" for element inside template as an attribute not a property (). PR:11357. Ticket:11349
All changes"
"chore: update Binder ValueChangeListener javadocs () ()

Co-authored-by: Olli Tietäväinen <ollit@vaadin.com>
fix: Redirect if refresh token is in push response also () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>
fix: defer location and query tracking () ()

Track of location and query string after response from server
happens too early when handling server side navigation,
because history.pushState is executed within a setTimeout.
This change defers the tracking to the next event loop cycle
in order to get the correct values.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
chore: Do not record npm install time when npm install did not happen () ()

Co-authored-by: Artur <artur@vaadin.com>
chore: Log used tool before check () ()

Log out used tool path before checking
version to be able to debug faulty version
exceptions.
fix: linux node installation () ()

Fix installation of node for unix systems.
NodeJS 18 is more strict about where
the contents are located than old versions.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
chore: Upgrade Node to 16.18.0 ()
chore(deps): bump byte-buddy from 1.12.17 to 1.12.18 () ()

Bumps [byte-buddy](https://github.com/raphw/byte-buddy) from 1.12.17 to 1.12.18.
- [Release notes](https://github.com/raphw/byte-buddy/releases)
- [Changelog](https://github.com/raphw/byte-buddy/blob/master/release-notes.md)
- [Commits](https://github.com/raphw/byte-buddy/compare/byte-buddy-1.12.17...byte-buddy-1.12.18)

---
updated-dependencies:
- dependency-name: net.bytebuddy:byte-buddy
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
chore: Update license-checker to latest () ()

Co-authored-by: Guille <alvarezguille@users.noreply.github.com>
fix: locking on FeatureFlags instead of VaadinContext () () ()

Only lock on FeatureFlags when checking for wrapper and initializing

Fixes

Co-authored-by: marcin <marcin@vaadin.com>
fix: old node installation () ()

Fix so that if we have a usable old
node installation we check the correc
path for npm script.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: synchronize pwa handler on map () ()

Synchronize pwa handler on the
requestHandlerMap instead of
locking the session.

Locking and unlocking session may
fire a push event that might make the
server client sync faulty.

touches

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
fix: AbstractDataProvider serialization () ()

Replace lambda with anonymous inner class in AbstractDataProvider to fix serialization issue(s).
Test available in flow-components project since the issue only happens when the data provider is used with a grid.

Fixes

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
fix: use access and not lock () ()

Use access so that we do not
deadlock.

Fixes vaadin/multiplatform-runtime

Co-authored-by: caalador <mikael.grankvist@vaadin.com>","Changes since 23.2.4
All changes
Fixes
Use access and not lock ()
Commit · Pull request · Issue
Use access so that we do not deadlock.
AbstractDataProvider serialization ()
Commit · Pull request · Issue
Replace lambda with anonymous inner class in AbstractDataProvider to fix serialization issue(s). Test available in flow-components project since the issue only happens when the data provider is used with a grid.
Synchronize pwa handler on map ()
Commit · Pull request
Synchronize pwa handler on the requestHandlerMap instead of locking the session. Locking and unlocking session may fire a push event that might make the server client sync faulty. touches
Old node installation ()
Commit · Pull request · Issue
node installation we check the correc path for npm script.
Locking on FeatureFlags instead of VaadinContext () ()
Commit · Pull request · Issue
Only lock on FeatureFlags when checking for wrapper and initializing
Linux node installation ()
Commit · Pull request · Issue
NodeJS 18 is more strict about where the contents are located than old versions.
Defer location and query tracking ()
Commit · Pull request · Issue
Track of location and query string after response from server happens too early when handling server side navigation, because history.pushState is executed within a setTimeout. This change defers the tracking to the next event loop cycle in order to get the correct values.
Redirect if refresh token is in push response also ()
Commit · Pull request · Issue"
"chore: Upgrade Spring Boot to 2.7.11 ()
test: fix push disconnection tests timings ()

Fix tests flakiness by adjusting operations timings.","Changes since 23.3.9:
All changes
Changes since 23.3.9:
Fixes
fix push disconnection tests timings
Commit · Pull request
Fix tests flakiness by adjusting operations timings."
"chore: remove unexisting module in v24 () ()

Co-authored-by: Manuel Carrasco Moñino <manolo@vaadin.com>
chore: Upgrade to workbox 6.5.4 () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: collect changes until UI is not dirty () ()

When UidlWriter collects changes to send to the client, it may happen
that UI is still dirty because features may enqueue additional changes.
As a side effect, if UI is still dirty after UIDL response is written,
a useless PUSH action is performed.
This change performs changes collection until the UI is no more dirty.

Fixes
fix: remove Serializable interface from AuthenticationContext () ()

* fix: remove Serializable interface from AuthenticationContext

The component is Serializable because the idea was to potentially inject it
into Vaadin views, but this may cause several issues:

* a single instance of that class per application is expected, but if
  deserializating views we may end up with many of them
* logoutSuccessHandler and logoutHandler are transient, but they are not
  Spring beans and we do not provide a simple way to inject them upon
  deserialization
* for the above reason AuthenticationContext may not work correctly with
  Kubernetes Kit

This change removes the implementation of Serializable interface and
updates javadocs.

* fixed test

* Apply suggestions from code review

Co-authored-by: Giovanni Lovato <giovanni@lova.to>

Co-authored-by: Giovanni Lovato <giovanni@lova.to>

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Giovanni Lovato <giovanni@lova.to>
test: Ignore recently added PUSH + WebSockets test for OSGi env () ()

Follow-up for

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
feat: Session resynchronization for embedded webcomponents () ()

Fixes:

Co-authored-by: marcin <marcin@vaadin.com>
Co-authored by: @mcollovati
fix: flush all changes for events that triggers event listeners () ()

This patch fixes timing issues that may cause events to happen in wrong order on the server side.

Fixes

Co-authored-by: Matti Tahvonen <matti@vaadin.com>
chore: Upgrade to servlet detector 1.0.2 () (CP: 23.3) ()","Changes since 23.3.1
All changes
Fixes
Session resynchronization for embedded webcomponents ()
Commit · Pull request · Issue
Flush all changes for events that triggers event listeners ()
Commit · Pull request · Issue
This patch fixes timing issues that may cause events to happen in wrong order on the server side.
Remove Serializable interface from AuthenticationContext ()
Commit · Pull request
The component is Serializable because the idea was to potentially inject it into Vaadin views, but this may cause several issues: deserializating views we may end up with many of them Spring beans and we do not provide a simple way to inject them upon deserialization Kubernetes Kit This change removes the implementation of Serializable interface and updates javadocs.
Collect changes until UI is not dirty ()
Commit · Pull request · Issue
When UidlWriter collects changes to send to the client, it may happen that UI is still dirty because features may enqueue additional changes. As a side effect, if UI is still dirty after UIDL response is written, a useless PUSH action is performed. This change performs changes collection until the UI is no more dirty."
"fix: add detach listener callback once for pending invocations () ()

Currently, the detach listener callback is added to pending javascript invocation
on every call to dumpPendingJavaScriptInvocations.
This change will apply the callback only once, when the pending invocation is
seen for the first time.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: ignore pending JS invocations for invisible node in UI dirty check () ()

UI dirty check currently takes into account also pending JS invocation for
invisible node, that however will not be sent to the client.
This change updates the check to only consider JS invocation that should
be effectively sent to the browser.

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: fix native compilation and runtime () ()

* fix: fix native compilation and runtime

This change fixes handling of resource in the native build and register
hints for classes required for PWA icon generation at runtime.

Fixes

* Add missing insets and toolkit for pwa

---------

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Mikael Grankvist <mgrankvi@vaadin.com>
chore: update spring.boot to 3.0.8 ()","Changes since 24.0.10
All changes
Fixes
Fix native compilation and runtime ()
Commit · Pull request · Issue
This change fixes handling of resource in the native build and register hints for classes required for PWA icon generation at runtime.
Ignore pending JS invocations for invisible node in UI dirty check ()
Commit · Pull request
UI dirty check currently takes into account also pending JS invocation for invisible node, that however will not be sent to the client. This change updates the check to only consider JS invocation that should be effectively sent to the browser."
"chore: Upgrade to license checker 1.9.0 () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: Remove presence check on item refresh () ()

* fix: Removed item presence check on item refresh

Co-authored-by: marcin <106965834+MarcinVaadin@users.noreply.github.com>
chore(deps): bump vaadin-testbench-core from 8.1.0 to 8.1.1 () ()

Bumps vaadin-testbench-core from 8.1.0 to 8.1.1.

---
updated-dependencies:
- dependency-name: com.vaadin:vaadin-testbench-core
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
fix: Be more sensible when adding changes to list of pending changes () ()

Makes memory consumption optimisation for collecting state tree changes on the server-side: change list is checked and re-indexed (if needed) on each change, making removed objects be eligible for garbage collecting.

Fixes:

Co-authored-by: Tatu Lund <tatu@vaadin.com>
fix: Added support for custom frontendDirectory in TaskCopyTemplateFiles () (CP: 23.2) ()
fix: add build resource dir to classpath element to scan () ()

ClassFinder used for frontend build is missing build resources directory.
This change adds it to the list of elements to scan during build.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
chore: GitHub Workflows security hardening () ()

Signed-off-by: sashashura <93376818+sashashura@users.noreply.github.com>

Signed-off-by: sashashura <93376818+sashashura@users.noreply.github.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>

Signed-off-by: sashashura <93376818+sashashura@users.noreply.github.com>
Co-authored-by: Alex <93376818+sashashura@users.noreply.github.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
test: fixed vaadin-themable-mixin version ()","Changes since 23.2.1
All changes
Fixes
Add build resource dir to classpath element to scan ()
Commit · Pull request · Issue
ClassFinder used for frontend build is missing build resources directory. This change adds it to the list of elements to scan during build.
Added support for custom frontendDirectory in TaskCopyTemplateFiles () (CP: 23.2)
Commit · Pull request
Be more sensible when adding changes to list of pending changes ()
Commit · Pull request · Issue
Makes memory consumption optimisation for collecting state tree changes on the server-side: change list is checked and re-indexed (if needed) on each change, making removed objects be eligible for garbage collecting.
Remove presence check on item refresh ()
Commit · Pull request"
"chore: use stream PIPE redirect for npm process executions () ()

Using PIPE instead of INHERIT prevents corrupted stream errors with maven
surefire and failsafe plugins.

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: prevent dev tools interactions from closing application overlays (CP: 24.0) ()
fix: Offer auto complete for vaadin.frontend.hotdeploy for Spring Boot () ()

Fixes pnpm to map to pnpm.enable
Unifies autocomplete for frontend and pnpm

Co-authored-by: Artur <artur@vaadin.com>
fix: Improve production build time by not visiting unnecessary classes () ()

Co-authored-by: Artur <artur@vaadin.com>
fix: prevent deadlock on concurrent push disconnection () ()

If the AtmospherePushConnection.disconnect method is invoked concurrently
by multiple threads, a deadlock may happen if the servlet container
somehow locks HTTP session, as closing AtmosphereResource may cause
accesses to the HTTP session.
For example, is a thread (A) is invalidating the HTTP session, thus closing
Vaadin UIs and disconnecting push, and another thread (B) is also
requesting a push disconnect, then B will be blocked when closing the
atmosphere resource by the lock on the session held by A, but A is
actually waiting to acquire the lock on AtmospherePushConnection held by B,
causing the deadlock.
This change allows a single thread to perform the disconnect operation,
to avoid potential deadlocks.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
chore: Update TB to 9.0.3 (v24.0) ()
fix: use spring-framework-bom 6.0.8 to resolve vulnerability () ()

vulnerability report: https://nvd.nist.gov/vuln/detail/CVE-2023-20863

the matching spring-boot hasn't been released yet.

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: Form a correct path for the project folder when on Windows () (CP: 24.0) ()

Fixes
refactor: Use File in dev mode stats instead of String () (CP: 24.0) ()
chore: Log the Spring Framework version () ()

Co-authored-by: Artur <artur@vaadin.com>","Changes since 24.0.4
All changes
Fixes
Form a correct path for the project folder when on Windows ()
Commit · Pull request · Issue
Use spring-framework-bom 6.0.8 to resolve vulnerability ()
Commit · Pull request
vulnerability report: https://nvd.nist.gov/vuln/detail/CVE-2023-20863 the matching spring-boot hasn't been released yet.
Prevent deadlock on concurrent push disconnection ()
Commit · Pull request · Issue
If the AtmospherePushConnection.disconnect method is invoked concurrently by multiple threads, a deadlock may happen if the servlet container somehow locks HTTP session, as closing AtmosphereResource may cause accesses to the HTTP session. For example, is a thread (A) is invalidating the HTTP session, thus closing Vaadin UIs and disconnecting push, and another thread (B) is also requesting a push disconnect, then B will be blocked when closing the atmosphere resource by the lock on the session held by A, but A is actually waiting to acquire the lock on AtmospherePushConnection held by B, causing the deadlock. This change allows a single thread to perform the disconnect operation, to avoid potential deadlocks.
Improve production build time by not visiting unnecessary classes ()
Commit · Pull request
Offer auto complete for vaadin.frontend.hotdeploy for Spring Boot ()
Commit · Pull request
Unifies autocomplete for frontend and pnpm
Prevent dev tools interactions from closing application overlays
Commit · Pull request"
"chore: update license-checker to 1.12.4 ()
chore: upgrade to vite 2.9.17 ()
fix: propagate all request parameter to location in eagerServerLoad mode () (CP: 9.2) ()

* fix: propagate all request parameter to location in eagerServerLoad mode ()

Currently, when eagerServerLoad is active only parameters from query string are propagated
to the route Location. If the Flow view is accessed through a multipart form POST request
thg form values are suppressed.
With this change all request parameters are propagated to the view location object.

Fixes

* Fix compilation errors

---------

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
chore: upgrade license-checker 1.12.6 (9.2) ()
chore: upgrade license-checker to 1.12.7 (9.2) ()
chore: update webdrivermanager to 5.6.3 ()
chore:upgrade dokka version ()
fix: postpone serverSyncId computation after changes are applied () (CP: 9.2) ()

While UIDLWriter is encoding changes, it may happen that a push operation
is invoked, thus incrementing the serverSyncId counter.
If this happens, the client may receive the messages in the wrong order and
and subsequently there may be a gap in the counter, so that a message
will never be created for an expected id, and the client will force a
resynchronization.
This change reads the serverSyncId for the current request after all
changes are applied, so the client will receive messages in the expected
order.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
fix: upgrade license-checker to 1.12.8 ()","Changes since 9.2.1
All changes
Fixes
Upgrade license-checker to 1.12.8
Commit · Pull request
Postpone serverSyncId computation after changes are applied () (CP: 9.2)
Commit · Pull request · Issue
While UIDLWriter is encoding changes, it may happen that a push operation is invoked, thus incrementing the serverSyncId counter. If this happens, the client may receive the messages in the wrong order and and subsequently there may be a gap in the counter, so that a message will never be created for an expected id, and the client will force a resynchronization. This change reads the serverSyncId for the current request after all changes are applied, so the client will receive messages in the expected order.
Propagate all request parameter to location in eagerServerLoad mode () (CP: 9.2)
Commit · Pull request · Issue"
"fix: Not modify browser history if location has no hash () ()

Fixes the hashed segment removal logic:
if no segment with hash is present in the location,
while navigating between Flow and legacy views/components,
the update of the browser history is not needed.

Fixes vaadin/multiplatform-runtime

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: Never cache the ""waiting for frontend build"" page () ()

Fixes

Co-authored-by: Artur <artur@vaadin.com>
fix!: Security upgrade org.jsoup:jsoup to 1.15.3 ()

manual cherry-pick of ()

The following vulnerabilities are fixed with an upgrade:
- https://snyk.io/vuln/SNYK-JAVA-ORGJSOUP-2989728","Changes since 23.1.6
All changes
Security Fixes
Security upgrade org.jsoup:jsoup to 1.15.3
Commit · Pull request
The following vulnerability are fixed with the upgrade: https://snyk.io/vuln/SNYK-JAVA-ORGJSOUP-2989728
Important Note: Upgrading jsoup from 1.14.3 to 1.15.3 includes an API breaking change and it might prevents the compilation of your code (only if you had a any direct usage of the removed deprecated class org.jsoup.safety.Whitelist). This was necessary to fix the potential security vulnerability listed above, and it is recommended to upgrade to this version. If you happened to have a compile error in your application, simply replace any possible occurrences of org.jsoup.safety.Whitelist with org.jsoup.safety.Safelist and there should not be any other hassles.
Fixes
Never cache the ""waiting for frontend build"" page ()
Commit · Pull request · Issue"
"fix: reject emails with double dot between domain and tld () ()

This changes updates the validation pattern of an email address by invalidating the dot-dot in the domain name.
The pattern is now public, in order to reference it in EmaiField and remove duplicate code

Fixes

Co-authored-by: Arnaud <gronono@users.noreply.github.com>
chore: upgrade karaf-maven-plugin to 4.3.9 () ()

the current plugin version 4.3.2 doesn't compile with JDK 20.0.2

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
chore: Upgrade Node to 18.17.1 () (CP: 24.0) ()

This is a node security release
chore: update TB to 9.0.7 (CP: 24.0) ()

* chore: update TB to 9.0.7

* chore: Removing some dead code ()

Selenium most up-to-date update is not letting anymore to setup networkConnectionEnabled. I have checked and we do not use it anymore it in our tests (We used back then for AirPlane mode and so, but not anymore). So we can delete the whole code now I think.

---------

Co-authored-by: czp13 <61667986+czp13@users.noreply.github.com>","Fixes
Upgrade Node to 18.17.1
Commit · Pull request
All changes since 24.0.13"
"fix: shouldVisit should match package exactly () ()

The shouldVisit list in frontend
dependencies should match the
packages exactly and not as
a starts with.
e.g. com.vaadiner is not a match for com.vaadin

Found investigating

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
test: Add missing tests for invisible nodes () ()

Related-to https://github.com/vaadin/flow/pull/15885

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: support downgrading dependencies based on versions.json () ()

* fix: support downgrading dependencies based on versions.json

For dependencies without custom versions in `package.json` (when
`dependencies` and `vaadin.dependencies` agree), currently a pinned version
from `versions.json` is not applied if it is for some reason older than the
one specified in `package.json`. This effectively prevents downgrading
npm package versions by changing the platform dependency version.

This change removes the downgrade prevention check.

* chore: fix formatting

* test(flow-server): pnpm install test should assert platfor downgrade

* chore: remove unnecessary code

Co-authored-by: Anton Platonov <anton@vaadin.com>
fix: Not sort chunk lines in place () ()

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
fix: forward to should update url () ()

* fix: forward to should update url

Forward to should run even
when targeting same target
but with another URL

Fixes

* Fix check so non same route breaks else

* Add test for forwarding to same target.

Co-authored-by: caalador <mikael.grankvist@vaadin.com>","Changes since 24.1.10
All changes
Fixes
Forward to should update url ()
Commit · Pull request · Issue
Forward to should run even when targeting same target but with another URL
Not sort chunk lines in place ()
Commit · Pull request
Support downgrading dependencies based on versions.json ()
Commit · Pull request
For dependencies without custom versions in package.json (when dependencies and vaadin.dependencies agree), currently a pinned version from versions.json is not applied if it is for some reason older than the one specified in package.json. This effectively prevents downgrading npm package versions by changing the platform dependency version. This change removes the downgrade prevention check."
"fix: exit disconnect if disconnection already happened () ()

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: page calculation when not equally divisible () ()

Fix the query page and pageSize for
cases where the offset is not
equally divisible with the limit/pageSize.

Fixes

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Remove .pnpmfile.cjs on clean-frontend () ()

* Remove .pnpmfile.cjs on clean-frontend

* Update flow-plugins/flow-gradle-plugin/src/main/kotlin/com/vaadin/gradle/VaadinCleanTask.kt



---------

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>","Changes since 24.1.16
All changes
Fixes
Page calculation when not equally divisible ()
Commit · Pull request · Issue
Faulty calculation in cases where the offset is not equally divisible with the limit/pageSize."
"fix: postpone commands scheduled with runWhenAttached for detached nodes () ()

When detach listeners are called, the node still has a parent set, causing
commands scheduled with runWhenAttached to be executed immediately.
This change make runWhenAttached postpone the command by registering an
attach listener, if called durint node detach.

Fixes vaadin/flow-components
Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: also show drag over style when effect is undefined () ()

* Also show drag over style when effect is undefined

* Add test

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
fix: consider theme variants from JAR in bundleImports () ()

BundleUtil computes import paths for component theme variants
from npm packages, but it does not consider variants from
JAR add-ons.
This change applies the same import rules for both variants
from npm packages and JAR unpacked in the fronted generated
folder.

Fixes

Co-authored-by: Marco Collovati <marco@vaadin.com>","Changes since 24.1.20
All changes
Fixes
Consider theme variants from JAR in bundleImports ()
Commit · Pull request · Issue
BundleUtil computes import paths for component theme variants from npm packages, but it does not consider variants from JAR add-ons. This change applies the same import rules for both variants from npm packages and JAR unpacked in the fronted generated folder.
Also show drag over style when effect is undefined ()
Commit · Pull request"
"chore: remove mobile dnd polyfill () ()

Co-authored-by: Tomi Virkki <tomivirkki@users.noreply.github.com>
fix: support accept property in StreamReceiverHandler () ()

* fix: support accept property in StreamReceiverHandler

StreamReceiverHandler understands `accept` property of the target element to block unwanted mime types. `accept` property takes comma separated list of mime types like 'text/plain, text/html'.

* Added support for wildcard in mimetype

e.g. for '*/*' or 'text/*'.

* Added support for file extensions

e.g. for '.pdf'.

Co-authored-by: Tomi Virtanen <tltv@vaadin.com>
fix: update atmosphere to 3.0.3.slf4jvaadin2 () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
fix: Do not touch package.json files unless content has changed () ()

In some cases, at least the package.json file is overwritten with the same content it already had. This causes the timestamp to be updated, which in some environments causes file fingerprint to differ.

Fixes

Co-authored-by: Teppo Kurki <teppo.kurki@vaadin.com>
test: replace chrome mobile profile with custom settings () ()

Prevents PWA test failures with Chrome 119 because of
'invalid argument: Empty userAgent invalid with userAgentMetadata provided'

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
fix: improve error message when a component is moved from one UI to another. () (CP: 24.2) ()

* fix: improve error message when a component is moved from one UI to another. ()

* feat: Add ElementUtil.from(StateNode) which returns Optional<Element>

Sister function for Element.get(StateNode), but returns an empty Optional instead of
throwing an exception

* fix: improve error message when a component is moved from one UI to another.

Fixes

* chore: mention both createLocation and attachLocation in the exception message

* chore: mention both createLocation and attachLocation in the exception message

* chore: minor fixes in messages

* test: reset ComponentTracker.productionMode static field ()

Prevents unexpected situation in ComponentTest caused by the
ComponenTracker.productionMode flag being initialized to true
by some other tests.
In particular, cannotMoveComponentsToOtherUI test may fail because
the exception message is different in development and production
modes.

---------

Co-authored-by: Martin Vysny <mavi@vaadin.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: prevent propagating IO errors when serving PWA icons () ()

* fix: prevent propagating IO errors when serving PWA icons

An IOException when writing a PWA icon on the HTTP response can neither
be fixed nor handled and causes a lot of log spamming.
This change catches the error and logs it at debug level.

Fixes

* apply review suggestions

---------

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
chore: update spring boot to 3.1.6 ()
fix: postpone commands scheduled with runWhenAttached for detached nodes () ()

* fix: postpone commands scheduled with runWhenAttached for detached nodes

When detach listeners are called, the node still has a parent set, causing
commands scheduled with runWhenAttached to be executed immediately.
This change make runWhenAttached postpone the command by registering an
attach listener, if the node has been detached during the same roundtrip.

Fixes vaadin/flow-components
Fixes

* Apply suggestions from code review



---------

Co-authored-by: Marco Collovati <marco@vaadin.com>
Co-authored-by: Peter Czuczor <61667986+czp13@users.noreply.github.com>
Co-authored-by: Diego Cardoso <diego@vaadin.com>
Revert ""fix: postpone commands scheduled with runWhenAttached for detached nodes ()"" () ()

This reverts commit c73bbacd3b77eaa19b924ca113186877c2784352.

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>","Changes since 24.2.3
All changes
Fixes
Prevent propagating IO errors when serving PWA icons ()
Commit · Pull request · Issue
An IOException when writing a PWA icon on the HTTP response can neither be fixed nor handled and causes a lot of log spamming. This change catches the error and logs it at debug level. ---------
Improve error message when a component is moved from one UI to another. () (CP: 24.2)
Commit · Pull request · Issue
Do not touch package.json files unless content has changed ()
Commit · Pull request · Issue
In some cases, at least the package.json file is overwritten with the same content it already had. This causes the timestamp to be updated, which in some environments causes file fingerprint to differ.
Update atmosphere to 3.0.3.slf4jvaadin2 ()
Commit · Pull request
Support accept property in StreamReceiverHandler ()
Commit · Pull request
StreamReceiverHandler understands accept property of the target element to block unwanted mime types. accept property takes comma separated list of mime types like 'text/plain, text/html'. e.g. for '/' or 'text/*'. e.g. for '.pdf'."
"- fix MtM skip loading eager loaded relations in promise
- adds `getTarget` method to RelationInterface
[maintenance]: annotated/issue11 - update dependency
- fixed bug causing ORM to disable relation graph pointing to Promises in related entities
- more promise related tests
- fixed bug causing ORM to disable relation graph pointing to Promises in related entities
- more promise related tests
- stable tests","fixed bug causing ORM to disable relation graph pointing to Promises in related entities
more promise related tests
adds getTarget to RelationInterface"
"Update version
minor changes to try and fix the zenodo pipeline
fix merge mistake
Fix merge conflict
Rename filter to require_maximum_number_of_peaks.py
isort
update CITATION.cff to schema version 1.2.0
Update CHANGELOG.md
Update version","What's Changed
Derive formula from smiles by @niekdejonge in
Add check filters handle none by @niekdejonge in
fix merge mistake by @niekdejonge in
Add require number of peaks below maximum by @niekdejonge in
Full Changelog: 0.26.3...0.26.4"
"chore(deps): bump org.apache.commons:commons-compress () ()

Bumps org.apache.commons:commons-compress from 1.23.0 to 1.24.0.

---
updated-dependencies:
- dependency-name: org.apache.commons:commons-compress
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
test: Add new Spring boot reload time test module () (CP: 24.1) ()

* test: Add new Spring boot reload time test module ()

* test: Add new Spring boot reload time test module

New 'flow-tests/vaadin-spring-tests/test-spring-boot-reload-time' measures reload time of a tiny Spring boot application with Spring dev tools enabled and reports result via TeamCity Service Messages.

* test: added another test with horizontal layout

And moved classes to correct packages and removed invalid package.

* refactor: refactored test class

* refactor: moved dependencies to correct module

* test: added flow version to teamcity messages

* test: exclude test-spring-boot-reload-time module

* test: add new test module for large Spring app

New module 'test-spring-boot-multimodule-reload-time' under 'vaadin-spring-tests' adds multimodule Spring boot application to measure reload times with partly generated large application.

* test: exclude reload time test submodules

* test: include vaadin-spring-module with benchmark profile

* decs: fixed path in readme

* test: removed SideNav and replaced with RouterLink

SideNav component is too fresh adn will not work older versions.

* test: removed setAriaLabel

Removed setAriaLabel call which breaks with 24.0 and probably with earlier FLow versions. It's not needed for the test.

* docs: updated README.MD

* docs: updated copyright texts and formatted xml

* refactor: code formatting

* test: Add more measurements in reload time tests ()

* test: add option to generate CssImport and JsModule

In 'test-spring-boot-multimodule-reload-time' module, code generator supports two new properties: 'vaadin.test.codegen.maven.plugin.cssimports.per.route' and 'vaadin.test.codegen.maven.plugin.jsmodules.per.route'.

* test: add option to load hierarchical routes

Added product catalog view with route like 'catalog/product/0' or 'catalog/prod/0' with alias. Route is loaded by default. Added system property 'route.hierarchy.enabled' to make it optional.

* test: reload time tests calculate average reload time

Each reload time test runs five times and calculates and reports average.

* test: increased waitUntil timeout to 20 seconds

* test: clean generated js folder

* test: added more logging

* test: fixed generated service class name

* refactor: code formatting updated copuright texts

* refactor: fixed formatting

---------

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>

* Fixed review findings

---------

Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
test: add test to measure reload time of large application with addons () ()

* test: Add new Spring boot reload time test module

New 'flow-tests/vaadin-spring-tests/test-spring-boot-reload-time' measures reload time of a tiny Spring boot application with Spring dev tools enabled and reports result via TeamCity Service Messages.

* test: added another test with horizontal layout

And moved classes to correct packages and removed invalid package.

* refactor: moved dependencies to correct module

* test: add new test module for large Spring app

New module 'test-spring-boot-multimodule-reload-time' under 'vaadin-spring-tests' adds multimodule Spring boot application to measure reload times with partly generated large application.

* test: removed SideNav and replaced with RouterLink

SideNav component is too fresh adn will not work older versions.

* docs: updated copyright texts and formatted xml

* test: add option to load hierarchical routes

Added product catalog view with route like 'catalog/product/0' or 'catalog/prod/0' with alias. Route is loaded by default. Added system property 'route.hierarchy.enabled' to make it optional.

* test: add profile to measure reload time with addons

Added 'benchmark-directory-addons' profile that adds five addons as dependencies to large spring application. When run together with system property 'vaadin.test.codegen.maven.plugin.include.addons=true', then all five addons are used by generated 'addons' route and class is included in the classpath for frontend scanner tools.

* refactor: fixed formatting

* test: add test to measure reload time of plain Spring boot app ()

* test: Add new Spring boot reload time test module

New 'flow-tests/vaadin-spring-tests/test-spring-boot-reload-time' measures reload time of a tiny Spring boot application with Spring dev tools enabled and reports result via TeamCity Service Messages.

* test: added another test with horizontal layout

And moved classes to correct packages and removed invalid package.

* refactor: moved dependencies to correct module

* test: add new test module for large Spring app

New module 'test-spring-boot-multimodule-reload-time' under 'vaadin-spring-tests' adds multimodule Spring boot application to measure reload times with partly generated large application.

* test: removed SideNav and replaced with RouterLink

SideNav component is too fresh adn will not work older versions.

* test: add test to measure reload time of plain Spring boot app

Adds new module 'test-plain-spring-boot-reload-time' with a TestBench test that measures reload time of Hello world Spring boot application. Application is build with plain Spring boot application without any Flow dependencies other than TestBench for tests. Test result is reported to TeamCity. Data is used for comparing reload times with different sized Flow apps.

* test: ignore 'test-plain-spring-boot-reload-time' in computeMatrix.js

* test: move benchmark start() to happen earlier

...and hide result element as expected by TB test.

* test: increased test wait times

* test: more reliable client reload mechanism

* test: added more logging

* test: removed waitForDevServer()

* test: add more logging

* test: fixed test for bender

* test: added more logging

* test: catch fetch error and retry

* test: revert location.reload() back

Co-authored-by: Tomi Virtanen <tltv@vaadin.com>
test: fixed test module parent version number ()
chore: use SDK http client instead of a separate http-client dependency () ()

Closes

Co-authored-by: Matti Tahvonen <matti@vaadin.com>
fix: do not create theme-editor.css on application startup () ()

Co-authored-by: marcin <marcin@vaadin.com>
fix: router-link postpone navigation () (CP: 24.1) ()

* fix: router-link postpone navigation ()

Fixes issue with update timing
when postponing a router-link
as the navigation goes through
the vaadin-router.

Fixes

* fix compilation error

---------

Co-authored-by: caalador <mikael.grankvist@vaadin.com>
Co-authored-by: Marco Collovati <marco@vaadin.com>
chore: cache JS imported paths during chunk generation () ()

* chore: cache JS imported paths during chunk generation

In a production build, for every chunk the JS files are parsed to extract the
imported paths. There are checks to ensure that a module is visited only once,
but this works on a chunk level.
This change caches the JS imports extraction results, so that a single JS file
is visited only once during the build.

Part of

* cleanup

* improve caching of imported paths

Co-authored-by: Marco Collovati <marco@vaadin.com>
fix: upgrade spring-boot to 3.1.4 () ()

Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
feat: Update navigation method signatures  () ()

* feat: Update navigation method signatures

This change makes UI#navigate, BeforeEvent#rerouteTo and BeforeEvent#forwardTo methods more consistent without changing the existing API:
- adds new methods in BeforeEvent that accepts route parameters.
- adds new methods in BeforeEvent that accepts query parameters.
- improves forwardTo and rerouteTo to accept route parameters being part of the location String (same way as UI#navigate does it already).

Fixes:

* Fixed javadoc

* Added hasRedirectQueryParameters()

Co-authored-by: Tomi Virtanen <tltv@vaadin.com>
fix: forward/reroute when query parameters changed () (CP: 24.1) ()

* fix: forward/reroute when query parameters changed ()

Forward and reroute should run even when targeting the same target
but with different query parameters.

Fixes

* replace not back-ported api in test

---------

Co-authored-by: Marco Collovati <marco@vaadin.com>","Changes since 24.1.12
All changes
New features
Update navigation method signatures  ()
Commit · Pull request · Issue
This change makes UI#navigate, BeforeEvent#rerouteTo and BeforeEvent#forwardTo methods more consistent without changing the existing API: - adds new methods in BeforeEvent that accepts route parameters. - adds new methods in BeforeEvent that accepts query parameters. - improves forwardTo and rerouteTo to accept route parameters being part of the location String (same way as UI#navigate does it already).
Fixes
Forward/reroute when query parameters changed () (CP: 24.1)
Commit · Pull request · Issue
Forward and reroute should run even when targeting the same target but with different query parameters.
Upgrade spring-boot to 3.1.4 ()
Commit · Pull request
Router-link postpone navigation () (CP: 24.1)
Commit · Pull request · Issue
Fixes issue with update timing when postponing a router-link as the navigation goes through the vaadin-router.
Do not create theme-editor.css on application startup ()
Commit · Pull request"
"Prepare to release
Add test case
Fix scope uncasting in the ManyToMany relation
Update github templates
Fix default test case template
Fix resolving of a not loaded parent in the relation RefersTo ()

Co-authored-by: roxblnfk <roxblnfk@ya.ru>
Make test case
Make a fix","What's Changed
Fix fields uncasting in the ManyToMany relation by @roxblnfk, thanks @gam6itko ()
Fix resolving of a not loaded parent in the relation RefersTo by @roxblnfk, thanks @msmakouz and snafets ()
Fix belongs to relation when parent is changed using parent id by @roxblnfk, thanks @roquie ()
Full Changelog: v2.3.3...v2.3.4"
"[chore] @semcore/ui package version bump
[button] removed `role=button` from native button
[pagination] fixed ""confirm"" icon keyboard navigation
[tag, input-tags] non-interactive containers are not focusable by keyboard now
[tab-line, tab-panel] fixed `aria-posinset` attribute value generation
[tooltip] turn `aria-haspopup` to `false` for Tooltip with `hover=interaction`
[docs] remove weird select control from pagination example
[docs] added simple aria-labels for simple examples
[docs] added labels for switche and textarea examples
[chore] bumped versions of @semcore/tooltip@5.4.2, @semcore/button@4.3.19, @semcore/tag@4.4.29, @semcore/card@4.3.11, @semcore/tab-panel@3.4.10, @semcore/tab-line@3.3.9, @semcore/pagination@3.5.29, @semcore/input-tags@3.3.27, @semcore/color-picker@1.4.30, @semcore/date-picker@3.6.32, @semcore/drag-and-drop@2.4.32, @semcore/ellipsis@1.2.16, @semcore/errors@3.9.15, @semcore/feedback-form@5.4.10, @semcore/inline-input@3.5.26, @semcore/time-picker@3.4.40
[chore] updated semcore/ui changelog
[chore] @semcore/ui package version bump","@semcore/button
Fixed  Removed role=button from native button.
@semcore/input-tags
Fixed  Non-interactive container are not focusable by keyboard now.
@semcore/pagination
Fixed  Fixed ""confirm"" icon keyboard navigation.
@semcore/tab-line
Fixed  Fixed aria-posinset attribute value generation.
@semcore/tab-panel
Fixed  Fixed aria-posinset attribute value generation.
@semcore/tag
Fixed  Non-interactive tags are not focusable by keyboard now.
@semcore/tooltip
Fixed  Turn aria-haspopup to false for Tooltip with hover=interaction."
"v3.4.7
3.4.7 snapshots
Update storyshot
Merge pull request from sam-at-work/fix-centered-addon-ie11

Fix centered addon for IE11
Merge pull request from jfsiii/patch-1

Display functions as variables not invocations
Merge pull request from echoulen/master

Add styled-components theme addon
Update snapshots
Merge pull request from stefanKuijers/3728

3728 | update storyshots readme to include updating your moduleFileEx…
Teamcity: update apps list
Teamcity: lower artifacts threshold

(cherry picked from commit 7cea21ec61bfbf23306c2bdfc7e0d546071973e7)
3.4.8 changelog
v3.4.8","2018-June-21
Bug Fixes
Fix centered addon for IE11
Display functions as variables not invocations"
"v3.3.13
snapshots 3.3.13
Merge pull request from aaronfullerton/patch-1

Updated documentation wrt ejs exclusion
Merge pull request from Quramy/guide-add-css-webpack-config

write doc about .css/.scss rules for Angular
Merge pull request from storybooks/fix/add-demoimgs-to-docs

ADD demo images to a new img folder with the documentation site
Merge pull request from storybooks/Alfredo-Delgado-patch-1

Update webpack extend warning.
Merge pull request from Kiwka/master

[documentation] fix view of addon gallery and api pages
Merge pull request from Kiwka/patch-2

[documentation] fix link to preview of viewport addon
Merge pull request from Quramy/change-ng-stories-dir

Change ng stories dir
Revert ""Merge pull request from Quramy/change-ng-stories-dir""

This reverts commit 382ac12
Merge pull request from kevinSuttle/patch-1

Fix broken link to docs
Merge pull request from gumgum/master

Add GumGum to list of examples
Merge pull request from cshell7/patch-2

Add loki to the docs
Merge pull request from lachlanjc/patch-1

Fix introduction page header
Merge pull request from dfdeagle47/patch-1

Small typo `needed` --> `needs`
Merge pull request from derekshull/patch-1

Fixed Spelling Error
Merge pull request from godban/patch-1

Fix wrong package name
Merge pull request from derekshull/patch-2

Spelling fixes
Merge pull request from kt3k/patch-1

docs: update addon-gallary
Merge pull request from bright-ideas/master

Update index.md
Merge pull request from storybooks/ndelangen/remove-slack-docs

REMOVE slack from docs
Merge pull request from storybooks/fix-docs-warnings

Docs package: fix eslint warnings
Merge pull request from chentsulin/patch-1

[docs] Move background addon to storybook team and update the link
Merge pull request from m10l/patch-1

Update writing addons documentation
Merge pull request from RichardBray/patch-1

Update index.md
Merge pull request from storybooks/docs-thumbnails

Fix examples thumbnails display
Merge pull request from abrahamgnz/master

Add type check to PropType on OneOf
Merge branch 'master' of github.com:storybooks/storybook
Merge pull request from tniezg/test-fail-message-keys-fix

Added ""key"" prop to list items inside test failure message.
Merge pull request from tniezg/test-display-safety-net

Added safety net preventing storybook Jest addon from throwing.
Merge pull request from storybooks/fix-rn-ws

RN: Add error handler on WS to fix crashing on page reload
Merge pull request from storybooks/dd/use-sb-podda
Merge pull request from storybooks/docs-live-examples

Docs live examples
3.3.14 changelog
v3.3.14","Bug Fixes
RN: Add error handler on WS to fix crashing on page reload
Added safety net preventing storybook Jest addon from throwing.
Added ""key"" prop to list items inside test failure message.
Addon-info: Add type check to PropType on OneOf
Use @storybook/podda to fix npm engine version in podda
Addon-backgrounds: set background on iframe instead of adding a wrapper in preview"
"v3.2.2
UI: update font family ()
add short description to each addon option.
corrected search box description
Add CRNA kitchen sink example for testin
Use RN packager host by default in examples and also CLI templates
Updated RN packager host with PR comments
3.2.3 changelog
v3.2.3-alpha.0
Make onDeviceUI default for RN getstorybook
3.2.3 changelog
v3.2.3","2017-August-01
Features
Use the React Native packager's host by default
Make onDeviceUI default for RN getstorybook
Documentation
Add short description to addon-options readme"
"v3.4.5
3.4.5 snapshots
Merge pull request from storybooks/ndelangen-patch-1

Update README.md
Merge pull request from JeffBaumgardt/addon-notes-className

Addon-notes: Add classname to the container component to target with styles.
# Conflicts:
#	addons/notes/src/register.js
Merge pull request from daraclare/bug/url-addons-gallery

fix url as per issue
# Conflicts:
#	docs/src/pages/addons/addon-gallery/index.md
3.4.6 changelog
v3.4.6","2018-May-26
Features
Addon-notes: Add classname to the container component to target with styles."
"[chore] changed versions from beta prereleases to latests
[86bxt50c9][date-picker] rolled back change format of `date` property in childre… ()

…n render function of `MonthPicker` and `MonthRangePicker` components

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context

In format of `date` prop in calendar unit was changed. Our users
were relying on old format in Calendar component children render
function. I've rolled format back and added separated key to properly
handle unit refs.

## How has this been tested?

Manually, it's enough for this rollback.

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [x] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [x] My code follows the code style of this project.
- [x] I have updated the documentation accordingly or it's not required.
- [x] Unit tests are not broken.
- [x] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
[86bxthz5q][animation] fixed collapse animation with preserveNode prop ()

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context

It was found that with `preserveNode` collapse animation wasn't working
properly – after finishing animation the collapse component was always
showing it's cotnent.

## How has this been tested?

We have no autotests for animations 🤷 

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [x] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [x] My code follows the code style of this project.
- [x] I have updated the documentation accordingly or it's not required.
- [x] Unit tests are not broken.
- [x] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
[86bxtdz6n][d3-chart] added logic to define X and Y axis for a11y summary in Bar charts ()

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context
For the Bar charts with more then 5 columns we created empty summary,
because we don't define X and Y axis values in Bar component. I've fixed
it.
<!--- Why is this change required? What problem does it solve? -->
<!--- If it fixes an open issue, please link to the issue here. -->

## How has this been tested?
Manually
<!--- Please describe in detail how you tested your changes. -->
<!--- For example: -->
<!--- I have added unit tests -->
<!--- I have added Voice Over tests -->
<!--- Code cannot be tested automatically so I have tested it only
manually -->

## Screenshots (if appropriate):

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [X] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [X] My code follows the code style of this project.
- [X] I have updated the documentation accordingly or it's not required.
- [X] Unit tests are not broken.
- [X] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
Fix/scroll area check container viewport ()

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context
Prevent scroll to focused element in scrollArea if it is in visible part
of viewPort
<!--- Why is this change required? What problem does it solve? -->
<!--- If it fixes an open issue, please link to the issue here. -->

## How has this been tested?

<!--- Please describe in detail how you tested your changes. -->
<!--- For example: -->
<!--- I have added unit tests -->
<!--- I have added Voice Over tests -->
<!--- Code cannot be tested automatically so I have tested it only
manually -->

## Screenshots (if appropriate):

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [X] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [X] My code follows the code style of this project.
- [X] I have updated the documentation accordingly or it's not required.
- [X] Unit tests are not broken.
- [X] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
[chore] @semcore/ui package version bump
[chore] unlocked release 15.67.1-prerelease.0
[chore] changed versions from beta prereleases to latests","@semcore/animation
Fixed Collapse animation was not working with preserveNode prop.
@semcore/d3-chart
Added  Logic to define X and Y axis for a11y summary in Bar charts.
@semcore/date-picker
Fixed  Rolled back change format of date property in children render function of MonthPicker and MonthRangePicker components.
@semcore/scroll-area
Added  Check that focused element is outside scroll area container before scroll to them."
"v3.3.8
3.3.8 test snapshots
Merge pull request from pascalduez/feature/minify-nomangle-fn-names

Don't mangle function names for production builds
Merge pull request from storybooks/cli-babel-core

Reflect the new peer dependencies in docs and CLI templates
Merge pull request from FranklyDev/feature/workspaces

start haul/react-native using named binaries instead of cli.js
3.3.9 changelog
v3.3.9","2018-January-13
Bug Fixes
Start haul/react-native using named binaries instead of cli.js
Reflect the new peer dependencies in docs and CLI templates
Don't mangle function names for production builds"
"[chore] changed versions from beta prereleases to latests
[website] add public links to design tokens doc

Signed-off-by: Julia Mnizhek <77798437+j-mnizhek@users.noreply.github.com>
[website] update a11y keyboard guide

Signed-off-by: Julia Mnizhek <77798437+j-mnizhek@users.noreply.github.com>
[website] updated to 1.29.18: Update guides
[popper] fixed undelivered ResizeObserver's loop in popper after it i… ()

…s closed

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context 
<!--- Why is this change required? What problem does it solve? -->
<!--- If it fixes an open issue, please link to the issue here. -->

## How has this been tested?
Code cannot be tested automatically so I have tested it only manually
<!--- Please describe in detail how you tested your changes. -->
<!--- For example: -->
<!--- I have added unit tests -->
<!--- I have added Voice Over tests -->
<!--- Code cannot be tested automatically so I have tested it only
manually -->

## Screenshots (if appropriate):

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [X] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [X] My code follows the code style of this project.
- [X] I have updated the documentation accordingly or it's not required.
- [X] Unit tests are not broken.
- [X] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
[switch] fixed min-width for correct view with long addons ()

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context 
<!--- Why is this change required? What problem does it solve? -->
<!--- If it fixes an open issue, please link to the issue here. -->

## How has this been tested?
I have added unit tests
<!--- Please describe in detail how you tested your changes. -->
<!--- For example: -->
<!--- I have added unit tests -->
<!--- I have added Voice Over tests -->
<!--- Code cannot be tested automatically so I have tested it only
manually -->

## Screenshots (if appropriate):
<img width=""706"" alt=""Screenshot 2023-10-24 at 13 35 23""
src=""https://github.com/semrush/intergalactic/assets/8787452/0b383ec8-2a09-4659-a3a1-0f714e4886be"">

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [X] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [X] My code follows the code style of this project.
- [X] I have updated the documentation accordingly or it's not required.
- [X] Unit tests are not broken.
- [X] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [X] I have added new unit tests on added of fixed functionality.
[utils] fixed focus lock merging was causing invalid hooks order error ()

<!--- Provide a general summary of your changes in the Title above -->

## Motivation and Context

When updating focus lock from version 2 to version 3 `useUniqueId` hook
was removed.
Due to replacing useFocusLock hook in runtime, the order of hooks must
be preserved.
So, useUniqueIdHookMock helps to preserve hooks order when hook is being
replaced from version 2 to version 3.

## How has this been tested?

It was tested on stage that uses multiple versions of `@semcore/ui` and
where both focus lock v2 and focus lock v3 are present.

## Types of changes

<!--- What types of changes does your code introduce? Put an `x` in all
the boxes that apply: -->

- [x] Bug fix (non-breaking change which fixes an issue).
- [ ] New feature (non-breaking change which adds functionality).
- [ ] Breaking change (fix or feature that would cause existing
functionality to not work as expected).
- [ ] Nice improve.

## Checklist:

<!--- Go over all the following points, and put an `x` in all the boxes
that apply. -->
<!--- If you're unsure about any of these, don't hesitate to ask. We're
here to help! -->

- [x] My code follows the code style of this project.
- [x] I have updated the documentation accordingly or it's not required.
- [x] Unit tests are not broken.
- [x] I have added changelog note to corresponding `CHANGELOG.md` file
with planned publish date.
- [ ] I have added new unit tests on added of fixed functionality.
[chore] a11y automatic check fixation
[chore] @semcore/ui package version bump
[chore] unlocked release 15.28.2-prerelease.0
[chore] changed versions from beta prereleases to latests","@semcore/popper
Fixed  Undelivered ResizeObserver's loop in popper after it is closed.
@semcore/switch
Fixed  View of Switch with long text in addons.
@semcore/utils
Fixed  Focus lock merging was causing invalid hooks order error."
"v4.0.5
4.0.6 changelog
v4.0.6","Features
React: add support for custom react-scripts packages ()
Bug Fixes
Core: fix NODE_PATH is not being loaded from .env ()"
"v5.1.8
5.1.8 latest.json version file
Update version.ts
Add SCSS to presets gallery ()

Add SCSS to presets gallery
Fixes a small typo ()

Fixes a small typo
UI: Fix about page version check message ()

UI: Fix about page version check message
Fix JSON babel config error reporting ()

Fix JSON babel config error reporting
Make compatible with yarn Pnp ()

Make compatible with yarn Pnp
Add missing dependencies to ui/react ()

Add missing dependencies to ui/react
UPGRADE lazy-universal-dotenv ()

UPGRADE lazy-universal-dotenv
5.1.9 changelog
v5.1.9","Bug Fixes
Core: Fix JSON babel config error reporting ()
UI: Fix about page version check message ()
Dependency Upgrades
Add missing dependencies to ui/react ()
UPGRADE lazy-universal-dotenv ()
Make compatible with yarn Pnp ()"
"v6.1.17
Update git head to 6.1.17
6.1.17 latest.json version file
Merge pull request from storybookjs/7959-fix-storyshots-as-addon

Storyshots: Support main.js usage
Merge pull request from yngvebn/contributing-windows

add extra instructions for developing on windows
Merge pull request from storybookjs/13388-fix-search-background

UI: Fix theming for focused search bar
Merge pull request from storybookjs/canonical-discord-links

Canonical discord links
6.1.18 changelog
Update root, peer deps, version.ts/json to 6.1.18
v6.1.18","Bug Fixes
UI: Fix theming for focused search bar ()
Storyshots: Support main.js usage ()"
"v6.2.8
Update git head to 6.2.8, update yarn.lock
6.2.8 latest.json version file
Merge pull request from storybookjs/fix-addon-docs-web-components

Addon-docs: Restore deleted web-components documentation
Merge pull request from storybookjs/fix_404_readme_contribution_docs

Chore: (Docs) Tweaks to the README and MAINTAINERS
Merge pull request from storybookjs/fix_toolbar_and_addons_snippet

Chore: (Docs) Adjusts the styled-component get theme snippet
Merge pull request from JabbyPanda/patch-1

Fix link to babel.ts source
Merge pull request from jonspalmer/server_string_encoding

Server:  Fix string escaping in CSF compiler
Merge pull request from peterpeterparker/docs/typo-place-hold

Examples: Move from placehold.it to place-hold.it for mock images
Merge pull request from storybookjs/patricklafrance-patch-1

Fixed link to ShareGate Orbit DS
Merge pull request from huyenltnguyen/docs/minor-correction

docs: correct typo and formatting
Merge pull request from storybookjs/fix-args-table-sort-prop-when-using-of

Addon-docs: Fix ArgsTable sorting when using of={Component}
Merge pull request from storybookjs/angular/fix-StorybookWrapperComponent

Angular: set the @ViewChild with a non-empty value in StorybookWrapperComponent
Merge branch 'next' into feature/emberCli
6.2.9 changelog
Update root, peer deps, version.ts/json to 6.2.9 [ci skip]
v6.2.9","Bug Fixes
Angular: set the @ViewChild with a non-empty value in StorybookWrapperComponent ()
Addon-docs: Fix ArgsTable sorting when using of={Component} ()
Server: Fix string escaping in CSF compiler ()
Maintenance
Examples: Move from placehold.it to place-hold.it for mock images ()"
"v5.1.4
5.1.4 latest.json version file
Update version.ts
Update .gitignore
Update CONTRIBUTING.md ()

Update CONTRIBUTING.md
FIX sidebar loading visibility ()

FIX sidebar loading visibility
chore(notes): add angular documentation ()

chore(notes): add angular documentation
Merge pull request from storybookjs/fix/core-js-upgrade-plugin

UPGRADE the plugin for core-js fix
FIX unnecessary large bundlesize ()

FIX unnecessary large bundlesize
Addon-contexts, RN-server: Add core-js dep ()

Addon-contexts, RN-server: Add core-js dep
5.1.5 changelog
v5.1.5","Bug Fixes
Core: Upgrade plugin core-js fix ()
UI: Fix sidebar loading visibility ()
UI: Fix unnecessarily large bundlesize ()
Addon-contexts, RN-server: Add core-js dep ()"
"v5.3.16
Update version.ts to 5.3.16
Fix react-syntax-highlighter CJS types
Update peer dependencies to 5.3.17
v5.3.17","Bug Fixes
Components: Change react-syntax-highlighter from esm to cjs ()"
"v6.1.14
Update git head to 6.1.14
6.1.14 latest.json version file
Merge pull request from phated/phated/remove-dependencies-update-label

Cleanup: Remove some references to dependency:update label
Merge pull request from storybookjs/fix_addons_docs_missing_framework_lsit

Chore: Addons docs missing info for supported and unsupported metadata property
Merge pull request from storybookjs/ui_and_env_docs_updates

Chore: Documentation updates for UI and environment variables
Merge pull request from storybookjs/chore_vue_snippets

Chore: (Docs) Adds missing snippets for vue
Merge pull request from DaleSeo/patch-3

docs: Update code snippets on Stories for multiple components
Merge pull request from storybookjs/urish-patch-2

add missing quotes in code example
Merge pull request from j3rem1e/docs-snippet-svelte

Svelte examples in the documentation
Merge pull request from doublejosh/patch-1

How to set a default story
Merge pull request from livthomas/patch-1

docs: fix args definition in How to write stories
Merge pull request from matheo/fix/baseUrl-check

Angular: Properly handle empty tsconfig compilerOptions
Merge pull request from j3rem1e/fixes-duplicate-preview

Svelte: Fix duplicate story preview
Merge pull request from Fredx87/reach-router-types

Bump @types/reach__router version
Merge pull request from storybookjs/feat-add-angular-11-support
Merge pull request from mandarini/fix/nx-non-angularcli-workspace

Angular: Use Nx function to read non-angularCli configs
6.1.15 changelog
Update root, peer deps, version.ts/json to 6.1.15
v6.1.15","Bug Fixes
Svelte: Fix duplicate story preview ()
Angular: Properly handle empty tsconfig compilerOptions ()
Maintenance
Angular: Use Nx function to read non-angularCli configs ()
Dependency Upgrades
Bump @types/reach__router version ()"
"v6.1.11
Update git head to 6.1.11
6.1.11 latest.json version file
Merge pull request from zraineri/patch-1

Grammar corrections
Merge pull request from storybookjs/chore_add_addon_catalog

Chore: How to add to Storybook addon catalog documentation.
Merge pull request from storybookjs/docs-on-serving-fonts

Improve docs for loading fonts locally
Merge branch 'next' into perf/esm-dist
Merge pull request from lwyj123/patch-1

fix(docs): correct react viewport snippet's import
Merge pull request from ryanml/fix-13522

Removing references to CLI tests from CONTRIBUTING.md
Merge pull request from justinfagnani/patch-1

Replace ""ES7"" with ""ES2017""
Merge pull request from acdzh/patch-1

fix(mdx): Added a missing comma in `storybook-addon-toolbar-example.js.mdx`.
Merge pull request from profanis/angular-button-story-with-addon

docs: how to use the addons in an Angular component
Merge pull request from scooooooooby/patch-1

Adds missing character in prop
Merge pull request from storybookjs/13593-babel-loader-from-core

Addon-docs: Resolve babel-loader from storybook/core
Merge pull request from storybookjs/12194/link-not-using-parent-location

Addon-docs: Fix link not working cross origin
Update root, peer deps, version.ts/json to 6.1.12
v6.1.12","Bug Fixes
Addon-docs: Fix link not working cross origin ()
Addon-docs: Resolve babel-loader from storybook/core ()"
"v5.2.7
Update version.ts
5.2.7 latest.json version file
5.3.0-beta.14 next.json version file
Add svelte-loader to docs for Svelte guide ()

Add svelte-loader to docs for Svelte guide
Merge pull request from donaldpipowitch/fix-8294-source-loader

Source-loader: Warn if applied to non-stories file
Core: Use `stable` package to ensure story sorting is stable ()

Core: Use `stable` package to ensure story sorting is stable
Fix layout of Preview container ()

Fix layout of Preview container
5.2.8 changelog
Update peer dependencies to 5.2.8
v5.2.8","Bug Fixes
UI: Fix layout of Preview container ()
Core: Use stable package to ensure story sorting is stable ()
Source-loader: Warn if applied to non-stories file ()"
"v6.2.2
Update git head to 6.2.2
6.2.2 latest.json version file
6.2.3 changelog
Update root, peer deps, version.ts/json to 6.2.3
v6.2.3","Bug Fixes
Core: Fix file-loader options for ESM compat ()
Core: Fix config.js-based configuration ()
Maintenance
Core: Disable postcss warning, add main.js features setting ()"
"v5.3.10
Update version.ts to 5.3.10
5.3.10 latest.json version file
fix docs awesome-typescript-loader to ts-loader
6.0.0-alpha.4 next.json version file
Add docs re storyshots ""disable"" parameter ()

Add docs re storyshots ""disable"" parameter
CHANGE example urls to netlify urls ()

CHANGE example urls to netlify urls
Angular: Emit decorator metadata by default ()

Angular: Emit decorator metadata by default
Cra-ts-kitchen-sink: Fix stories glob pattern ()

Cra-ts-kitchen-sink: Fix stories glob pattern
Correct the file path for the Button story ()

Correct the file path for the Button story
Svelte: Fix Svelte 3 slots for decorators ()

Svelte: Fix Svelte 3 slots for decorators
5.3.11 changelog
Update peer dependencies to 5.3.11
v5.3.11","Bug Fixes
Svelte: Fix Svelte 3 slots for decorators ()
CLI: Fix file path for Button story ()
Angular: Emit decorator metadata by default ()
Storyshots: Fix config via main.ts ()
Maintenance
Cra-ts-kitchen-sink: Fix stories glob pattern ()"
"v7.0.7
Update git head to 7.0.7, update yarn.lock [ci skip]
7.0.7 latest.json version file [skip ci]
Merge pull request from storybookjs/valentin/fix-tsconfig-resolution-in-nextjs-projects

Fix tsconfig resolution in Nextjs projects
Merge pull request from liwn9527/its9527/fix-control-missing

fix: controls missing when navigating from story
Merge pull request from filiptammergard/shortcut

fix: make sure shift + 7 shortcut to focus search field works
Merge pull request from FezVrasta/patch-1

fix: allow Flow syntax in stories
Merge pull request from 0916dhkim/inline-id-fix

Fix inline story style
Merge pull request from storybookjs/fix/babelrc-web-components-webpack

CLI: Add web-components webpack5 to missing-babelrc automigration
Merge pull request from storybookjs/chore_docs_publish_remove_title

Chore: (Docs) Removes section from the publishing docs
Merge pull request from neretin-trike/storybook-fix-globaltypes-snippets

docs: Fix snippets for globalTypes
Merge pull request from storybookjs/globalTypes_snippets_updates

Chore: (Docs) - Fix GlobalTypes snippets
Merge pull request from gitstart/fix/wrong-multiple-mapped-args

fix: multiple mapped args return array of labels
Merge pull request from webblocksapp/code-snippets-for-solid

Code snippets for solid
Merge pull request from storybookjs/chaks/vue3-fix-double-tag-issue

Vue3: Fix compiler error when there is double tag
Merge pull request from zachtball/fix/borken-link-in-md

docs: fix broken link in md
Merge pull request from storybookjs/valentin/fix-unit-tests

Add regex to ignore outdated Browserslist in Jest initialization base file
Merge pull request from joeycozza/fixingGithubUrls

Maintenance: Fix url for all packages in package.json
Merge pull request from gitstart/fix/addon-panel-update

fix : Addon panel does not update after disabling/enabling an addon
Merge pull request from storybookjs/norbert/fix-21316

Tech: do not generate ESM dist for preset files
Merge pull request from storybookjs/norbert/fix-22167

Migrate: skip the automigration for gf markdown when user isn't using mdx
Merge pull request from storybookjs/norbert/fix-21820-second-edition

fix bad typings file caused by https://github.com/egoist/tsup/issues/782
Merge pull request from storybookjs/feat/angular-16-sandbox

Feature: Add support for Angular 16
Merge pull request from storybookjs/norbert/bundle-manager-to-js

Core: Rename manager UI mjs to js
Merge pull request from storybookjs/fix/types-condition

Fix: move `types` condition to the front in all `package.json.exports` maps
Merge pull request from storybookjs/shilman/persistent-session-id

Telemetry: Persist sessionId across runs
7.0.8 changelog
Update root, peer deps, version.ts/json to 7.0.8 [ci skip]
v7.0.8","Bug Fixes
Typescript: Fix bad typings caused by tsup bug
Migrate: skip the automigration for gf markdown when user isn't using mdx
UI: Addon panel does not update after disabling/enabling an addon
Vue3: Fix compiler error when there is double tag
Args: Fix multiple mapped args return array of labels
CLI: Add web-components webpack5 to missing-babelrc automigration
Docs: Fix inline story style
UI: Fix shift + 7 shortcut to focus search field
UI: Fix controls missing when navigating from story
NextJS: Fix tsconfig resolution
Maintenance
Telemetry: Persist sessionId across runs
Packaging: Move types condition to the front in all package.json.exports maps
Core: Rename manager UI mjs to js
Angular: Add support for Angular 16
Packaging: Don't generate ESM dist for preset files
Packaging: Fix url for all packages in package.json
Add regex to ignore outdated Browserslist in Jest initialization base file"
"v7.0.17
Update git head to 7.0.17, update yarn.lock [ci skip]
7.0.17 latest.json version file [skip ci]
Merge pull request from storybookjs/kasper/vue3-reactivity-v6-compatible

Vue3: Rollback v7 breaking change and keep reactive v6-compatible API
Merge pull request from storybookjs/kasper/update-args-reactively

Vue3: Fix reactive args updates in decorators
Fix e2e tests
Merge pull request from storybookjs/api-reference-main-config

Add main configuration API reference pages
Merge pull request from storybookjs/fix-include-names-typo

Fix `includeNames` typo
Merge pull request from usrrname/doc/fonts-preview-head-reference

doc: link 'Image, fonts, and assets' to static `preview-head.html`; enhance code snippet to demonstrate relative pathing
Merge pull request from storybookjs/kasper/update-args-reactively

Vue3: Fix reactive args updates in decorators
Merge pull request from storybookjs/chore/add-jobs-to-daily-workflow

Build: Add more checks to ci:daily workflow
Merge pull request from storybookjs/kasper/fix-vue-types-for-ts5

Vue3: Fix TS 5.0 compat with vue-component-type-helpers
7.0.18 changelog
Update 7.0.18 changelog
Update root, peer deps, version.ts/json to 7.0.18 [ci skip]
v7.0.18","Bug Fixes
Vue3: Fix TS 5.0 compat with vue-component-type-helpers
Vue3: Fix reactive args updates in decorators
Vue3: Revert v7 breaking change, restore reactive v6-compat API
Build
Build: Add more checks to ci:daily workflow
Build: Fix Nextjs E2E tests
Build: Bring back new Vue3 tests to main"
"v6.4.2
Update git head to 6.4.2, update yarn.lock
6.4.2 latest.json version file
Merge pull request from storybookjs/16847-do-not-hide-story

Preview: Don't hide the story while preparing
Merge pull request from storybookjs/16768-modernInline-respect-no-inline

Don't render with `modernInline` if `inlineStories` is `false`
6.4.3 changelog
Update root, peer deps, version.ts/json to 6.4.3 [ci skip]
v6.4.3","Bug Fixes
Don't render with modernInline if inlineStories is false ()
Preview: Don't hide the story while preparing ()"
"Bump version from ""7.6.6"" to ""7.6.7"" [skip ci]
Update ./docs/versions/next.json for v8.0.0-alpha.7
Update ./docs/versions/next.json for v8.0.0-alpha.8
Merge pull request from storybookjs/docs/styling-and-css

Docs: Add more details for styling and css docs
(cherry picked from commit da912f66c9d6f23b340c3e9f4510cfcf39c95c7b)
Add Parameters API reference

- Add API references for all essential addons
- Consolidate related snippets
Update ./docs/versions/next.json for v8.0.0-alpha.9
Add callout pointing to parameters API reference
Merge pull request from unional/import-error2

Storysource: Fix import error
(cherry picked from commit be9c74606ad11e46c8bdb6cb8649d813c62cd9c6)
Merge pull request from storybookjs/docs_api_doc_block_fix_broken_link

Docs: Doc Block Canvas fix link
(cherry picked from commit ab3bd2a9d6f8e960e9e998b2d4e3f46682b471d1)
Merge pull request from storybookjs/docs-stories-typescript-play-fn

Docs: Add missing link to play function in Typescript guide
(cherry picked from commit cc844a1392ec61719929dfb2482af9b0cb0eff70)
Merge pull request from storybookjs/dannyhw/fix-addon-actions-react-native

Addon-actions: Fix module resolution for react-native
(cherry picked from commit 3abd0bab5fdfdd3135455b0263834a45fe9d196c)
Write changelog for 7.6.8 [skip ci]
Bump version from ""7.6.7"" to ""7.6.8"" [skip ci]","Addon-actions: Fix module resolution for react-native -, thanks @dannyhw!
Storysource: Fix import error -, thanks @unional!"
"v6.5.10
Update git head to 6.5.10, update yarn.lock [ci skip]
6.5.10 latest.json version file [skip ci]
6.5.11-alpha.0 changelog
Update root, peer deps, version.ts/json to 6.5.11-alpha.0 [ci skip]
v6.5.11-alpha.0
Update git head to 6.5.11-alpha.0, update yarn.lock [ci skip]
Merge pull request from storybookjs/chore_docs_composition_updates

Chore: (Docs) Minor tweaks to the composition docs
Merge pull request from reech-florian/patch-2

chore(docs): fix mistakes in ArgsTable customizing table
Merge pull request from ProjektGopher/fix/extractArgTypes

Vue: Fix enum check in extractArgTypes
6.5.11-alpha.1 changelog
Update root, peer deps, version.ts/json to 6.5.11-alpha.1 [ci skip]
v6.5.11-alpha.1
Update git head to 6.5.11-alpha.1, update yarn.lock [ci skip]
fix interactions bug because .includes isn't supported in IE
Merge pull request from ShaunLloyd/patch-2

Fix npm command to install essentials
Merge pull request from Lalanthawi/patch-3

Update README.md
Merge pull request from Lalanthawi/next

Update README.md
Merge pull request from storybookjs/test-runner-docs

Update test-runner docs
Merge pull request from clintandrewhall/preview-web-dep-6.5

Core: Fix WebProjectAnnotations export in preview-web for back-compat
Merge pull request from storybookjs/shilman/fix-sb-init-race-condition

CLI: Fix race condition in sb init
6.5.11-alpha.2 changelog
Update root, peer deps, version.ts/json to 6.5.11-alpha.2 [ci skip]
v6.5.11-alpha.2
Update git head to 6.5.11-alpha.2, update yarn.lock [ci skip]
Merge pull request from sosensible/patch-1

Spelling correction
Merge pull request from storybookjs/chore_docs_add_why_page

Chore: (Docs)Adds why page
Merge pull request from storybookjs/docs-add-versioning-history

Mention versioning and history in the Publish docs
6.5.11 changelog
Update root, peer deps, version.ts/json to 6.5.11 [ci skip]
Update root, peer deps, version.ts/json to 6.5.11 [ci skip]
v6.5.11","Bug Fixes
CLI: Fix race condition in sb init
Core: Fix WebProjectAnnotations export in preview-web for back-compat
Addon-interactions: Fix IE support by replacing array includes
Vue: Fix enum check in extractArgTypes
React: Fix callback behavior in react@18
Store: always call composeConfigs in setProjectAnnotations
Telemetry: improve addon extraction logic
Addon-docs: Check for undefined before reading property in extractArgTypes.tsnance"
"Bump version from ""7.6.3"" to ""7.6.4"" [skip ci]
Update ./docs/versions/next.json for v8.0.0-alpha.2
Update ./docs/versions/next.json for v8.0.0-alpha.3
Merge pull request from Marklb/marklb/update-ng-cli-templates

Angular: Update Angular cli templates
(cherry picked from commit 986f86be62f935393b32f6ebe4f0fa5b3d5a91b7)
Merge pull request from kripod/patch-1

Blocks: Fix Subtitle block for unattached docs pages
(cherry picked from commit c82e13654b83ca6c3a3768151c5896b9ece2a95b)
Merge pull request from paoloricciuti/fix-sveltekit-other-app-modules

SvelteKit: Fix missing `$app` modules
(cherry picked from commit a9824bc35a4e58c77f8e837a56b0f62b59d964a0)
Merge pull request from Darth-koder007/patch-1

Docs: Fixed Typo in documentation template
(cherry picked from commit 276af4702487e21bdba6e10827ed6de36fbbb848)
Write changelog for 7.6.5 [skip ci]
Bump version from ""7.6.4"" to ""7.6.5"" [skip ci]","Angular: Update Angular cli templates -, thanks @Marklb!
Blocks: Fix Subtitle block for unattached docs pages -, thanks @kripod!
SvelteKit: Fix missing $app modules -, thanks @paoloricciuti!"
"Bump version from ""7.6.0"" to ""7.6.1"" [skip ci]
Write changelog for 7.6.2 [skip ci]
Merge pull request from storybookjs/yann/improve-doctor-cli

CLI: Improve dependency metadata detection in storybook doctor
(cherry picked from commit 7b2d4072ff68822bf7862d17da58ce934ebcdb46)
fix ts issue
Merge pull request from storybookjs/valentin/react-docgen-error-handling

React-Docgen: Make error-handling more gentle
Add react-docgen changes to changelog
Fix yarn.lock
Bump version from ""7.6.1"" to ""7.6.2"" [skip ci]","CLI: Improve dependency metadata detection in storybook doctor -, thanks @yannbf!
React-Docgen: Make error-handling more gentle -, thanks @valentinpalkovic!"
"Bump version from ""8.1.8"" to ""8.1.9"" [skip ci]
Update ./docs/versions/next.json for v8.2.0-alpha.9
Merge pull request from storybookjs/shilman/26595-fix-interactions-deprecations

Addon-interactions: Fix deprecation warnings
(cherry picked from commit 9412e07b32663c3f21f672a0be607bae13da43ce)
Write changelog for 8.1.10 [skip ci]
Bump version from ""8.1.9"" to ""8.1.10"" [skip ci]","Addon-interactions: Fix deprecation warnings -, thanks @shilman!
Test: Upgrade deps of @storybook/test -, thanks @kasperpeulen!"
"Bump version from ""8.1.4"" to ""8.1.5"" [skip ci]
Update ./docs/versions/next.json for v8.2.0-alpha.5
Merge pull request from storybookjs/update-sub-path-imports-snippets

Docs: Use absolute imports in module mocking snippets
(cherry picked from commit fa80d2246609b421520067886ca3ba8f837e0c4f)
Merge pull request from storybookjs/shilman/27510-wrap-project-tags

Tags: Fix unsafe project-level tags lookup
(cherry picked from commit 341904e7b8e1ea8f970b6bfa97a5bb26b900ec9b)
Merge pull request from AlexAtVista/bug/27172-builder-vite-stats-json-posix-paths

Vite: Fix stats-plugin to normalize file names with posix paths
(cherry picked from commit abfcc9fc289e7fa0d02234d385ce04ef54e30300)
Merge pull request from storybookjs/shilman/fix-scripts-tempy

Build: Fix tempy usage in scripts
(cherry picked from commit 9b12305d443cb0136f6a5371957d1375c3bd91c0)
Merge pull request from storybookjs/valentin/fix-sandbox-generation-2

Build: Fix tempy usage during sandbox generation
(cherry picked from commit 183ac323ff5f47cb414fe45d856a2c2c30b4fba5)
Merge pull request from DexOfTheWild/patch-1

Docs: Addon Docs - Update `transformSource` to `source.transform`
(cherry picked from commit 03ef5c6af4a47d197fe130b53216fd1f25010ede)
Merge pull request from storybookjs/kasper/disable-upgrade-to-same-version-error

CLI: Only log the UpgradeStorybookToSameVersionError but continue the upgrade as normal
(cherry picked from commit 68809b615f9ec223bfabcae35c8b0ee51f7f10e2)
Merge pull request from tony19-contrib/refactor/ip

Core: Replace ip function with a small helper function to address security concerns
(cherry picked from commit 70467ec419fb1b4f5c0abf473a77642cf00f5d9a)
Write changelog for 8.1.6 [skip ci]
Bump version from ""8.1.5"" to ""8.1.6"" [skip ci]","CLI: Only log UpgradeStorybookToSameVersionError but continue upgrade as normal -, thanks @kasperpeulen!
Core: Replace ip function with a small helper function to address security concerns -, thanks @tony19!
Tags: Fix unsafe project-level tags lookup -, thanks @shilman!
Vite: Fix stats-plugin to normalize file names with posix paths -, thanks @AlexAtVista!"
"Bump version from ""8.1.2"" to ""8.1.3"" [skip ci]
Merge pull request from storybookjs/valentin/fix-hmr-issue-in-preview

Vite: Fix HMR issue for Storybook preview files
(cherry picked from commit 6c04751b8214f7ffb1297310472122293960bacb)
Merge pull request from AlirezaEbrahimkhani/fix-preview-code-snippets

Docs: Correct typos in vue preview docs
(cherry picked from commit 337192acf33341e96b179abe65e090817db721a5)
Merge pull request from Girgetto/patch-1

Docs: Update  Bitovi GitHub Actions snippet
(cherry picked from commit 99882a3c6fdf8368ba140296919bb595344b2b60)
Merge pull request from kongallis/remove-unused-imports

Docs: remove unused imports
(cherry picked from commit 122a83f8c37076b0916ad614447cc2b9f54722a5)
Merge pull request from storybookjs/shilman/27352-fix-tags-composition

Tags: Fix composition with older storybooks
(cherry picked from commit fc915d6c5cc3564600a13a48aba09dcc8903f8b6)
Merge pull request from storybookjs/docs_test_runner_timeout_option

Docs: Test runner add missing flag to the CLI options
(cherry picked from commit 02b76192ed73b74331afb48ace761f497a2ffa30)
Merge pull request from storybookjs/docs_fix_msw_snippets

Docs: Fix MSW snippets
(cherry picked from commit d5a20abb6bb190074878d915e0bd744893b3debe)
Merge pull request from storybookjs/valentin/disable-snapshotting-for-stories

Build: Exclude stories from snapshotting
(cherry picked from commit fb255d9017e1e5e4a5212440ef6052f00df2cfeb)
Merge pull request from storybookjs/valentin/fix-svelte-prerelease-sandbox

Svelte: Support latest prerelease
(cherry picked from commit a38936383e13ab8c61c00ece6cb7a0e10829c562)
Write changelog for 8.1.4 [skip ci]
Merge pull request from storybookjs/valentin/revert-angular-style-adjustments

Angular: Revert style adjustments
(cherry picked from commit 346f951d83e7d78c3eb566e04c57c35e59b2aaa1)
Bump version from ""8.1.3"" to ""8.1.4"" [skip ci]","Angular: Revert style adjustments -, thanks @valentinpalkovic!
Svelte: Support latest prerelease -, thanks @valentinpalkovic!
Tags: Fix composition with older storybooks -, thanks @shilman!
Vite: Fix HMR issue for Storybook preview files -, thanks @valentinpalkovic!"
"Bump version to 2.4.0
Allow for longer domain names

Increases domain name length support in Valet per and
This is the same setting used in Forge
Add corresponding setting, also from Forge.

Ref: http://nginx.org/en/docs/hash.html
Turn off logging of hits to robots.txt and favicon.ico

A long-requested adjustment to Valet is to bypass the logging of robots.txt and favicon.ico hits. Particularly when keeping an Ngrok session alive.

This update is consistent with default logging settings in Forge.
Preemptive version bump","Allow for longer domain names ()
Increase nginx buffer sizes in dev ()
Disable logging for missing favicon and robots.txt ()
@drbyte FTW"
"[Release security fix] Bump version to 1.1.1
Bump bl from 4.0.2 to 4.0.3

Bumps [bl](https://github.com/rvagg/bl) from 4.0.2 to 4.0.3.
- [Release notes](https://github.com/rvagg/bl/releases)
- [Commits](https://github.com/rvagg/bl/compare/v4.0.2...v4.0.3)

Signed-off-by: dependabot[bot] <support@github.com>
Bump node-fetch from 2.6.0 to 2.6.1

Bumps [node-fetch](https://github.com/bitinn/node-fetch) from 2.6.0 to 2.6.1.
- [Release notes](https://github.com/bitinn/node-fetch/releases)
- [Changelog](https://github.com/node-fetch/node-fetch/blob/master/docs/CHANGELOG.md)
- [Commits](https://github.com/bitinn/node-fetch/compare/v2.6.0...v2.6.1)

Signed-off-by: dependabot[bot] <support@github.com>","Security vulnerability fixed
Bumps bl from 4.0.2 to 4.0.3
Bumps node-fetch from 2.6.0 to 2.6.1."
"Bump version
Bump version","What's Changed
Stop root homebrew services on php version switch by @cristiancalara in
New Contributors
@cristiancalara made their first contribution in
Full Changelog: v2.18.6...v2.18.7"
"Release v0.5.1 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Implemented perf module utilizing jmeter to run multi thread GRPC load test ()

* Implemented perf module utilizing jmeter to run multi thread load tests against grpc for historic and incoming messages

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Pull in data generator updates from master

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Add default test include to run base test only

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Moved db connection props to test plan jmx. Also updated success criteria for clients

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Updated generator to emit topic messages on create and update. Also updated jmeter TopicMessageGenerator emission logic

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Added messagesLatchWaitSeconds option to tests and addressed some feedback

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Addressed feedback

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Added timer for historica and incomming messages. Also updated insert logic to use improved consensus time

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Addressed some feedback

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Renamed module to test and addressed other feedback

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Fixed pom reference and added some method comments

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Added topicMessageEmitCycles prop to prevent over population of incoming messages. Ensured tests clean up

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Simplify jmeterExtensions and reduce logging verbosity

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Fix jmeterExtensions and some code cleanup

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Cleaned up JMX files and  improved timing for shutdown on failure

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Made message consensustime more deterministic to distinguish past and future messages from grpc

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Switch to use AtomicInteger on message count. Accounted for server time disparity in future message differentiation

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Bumped historic messages start time to not start at exactly epoch

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Updated readme and tweaked 2 test plans

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Add subscriber id to grpc requests

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Moved test paramers to POJO's

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Add logic to clean up given topic id before test starts

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Improved test run time by employing pre and post thread group

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Re-added TopicMessageGeneratorClient default params. Also added request duration assertions and logic to specify test properties through command line

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

* Sampler cleanup

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Fix message rate

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Remove rc1 from test pom

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>

Co-authored-by: Steven Sheehy <17552371+steven-sheehy@users.noreply.github.com>
Fix parsing ConsensusCreateTopic with existing autorenew account ()

* Fix parsing ConsensusCreateTopic with existing autorenew account

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Fix mirror_api db permissions

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Bump versions to v0.5.2

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>","Enhancements
Load testing - HCS GRPC API
Implemented perf module utilizing jmeter to run multi thread GRPC load test
Bug Fixes
Fix parsing ConsensusCreateTopic with existing autorenew account
PersistentObjectException when parsing ConsensusCreateTopic with existing autorenew account
Contributors
We'd like to thank all the contributors who worked on this release!
@Nana-EC
@steven-sheehy"
"Fix parsing ConsensusCreateTopic with existing autorenew account ()

* Fix parsing ConsensusCreateTopic with existing autorenew account

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Fix mirror_api db permissions

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Bump versions to v0.5.2

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Fix monitor API returning invalid JSON when REST API down ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Fix S3 not connecting to specific region endpoint ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Improve handling of HCS missing messages ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Add /health and /info endpoints to grpc and importer ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Add a shared poller ()

* Add a shared poller

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>

* Address review feedback

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Release v0.5.3 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>","Another bug fix release on our march to the public release of HCS. This release contains a number of stability improvements. We've also added health check and info endpoints to the GRPC and importer modules to aid in day two operations. The GRPC module also adds a new type of topic listener with the introduction of the shared poller. This is disabled by default for now, but should scale better as more users start using the service.
Enhancements
Release v0.5.3
Add a shared poller
Add /health and /info endpoints to grpc and importer
Shared polling topic listener
GRPC health check
Bug Fixes
Improve handling of HCS missing messages
Fix S3 not connecting to specific region endpoint
Unable to download from new bucket temporarily
Subscribe topic queries for invalid missing message sequence
Fix monitor API returning invalid JSON when REST API down
Monitor returns invalid response when REST API down
gRPC Consensus Service Repository Query Stuck in Idle State
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"Bump version
Add ARM support for ngrok
Bump version","What's Changed
Add ARM support for ngrok by @driesvints in
Full Changelog: v2.18.4...v2.18.5"
"Bump version
Update CHANGELOG
Add legacy drivers for the remainder of v3
Require legacy files when loading the server
Fix capitalization in WordPress driver extension
Refactor where legacy drivers are pulled in
Bump version","Fixed
Fix how drivers are available for extension by @mattstauffer in"
"Bump versions for 0.13.0 ()

Signed-off-by: Steven Sheehy <steven.sheehy@hedera.com>
Downgraded grpc netty shaded in test pom to unblock acceptance tests ()

In release 0.12 we upgraded the grpc from 1.25.0 to 1.29.0
This introduced a bug with the acceptance tests

1.27.2 seems to be the last version not displaying this error.
As a workaround this change downgrades the test project to use the 1.27.2 net shaded versiond

Signed-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>","Small bug fix release to address grpc NETTY issue blocking acceptance tests
Bug Fixes
Downgraded grpc netty shaded in test pom to unblock acceptance tests
Contributors
We'd like to thank all the contributors who worked on this release!
@Nana-EC"
"Rev to 1.5.3-SNAPSHOT
Fix proper includes
Fix decimal equivalence with trailing zeroes
update hapi fhir 5.5.3
Creating new POM for JAXB-based module
Including new Module in the project
Forcing the FHIR Module to load the JAXB for now.
Moving XML-Based Sources and Tests to the JAXB module
Renaming ProperlyIncludes Evaluator to match non-Evaluator name
Adding additional helper method to the JsonCQLReader to match functions on the XML-based one.
Moving Test classes from Lib -> XML -> Lib conversions to Lib -> JXSON -> Lib
Removing Eclipse Moxy
Adding Missed Objects to the Jackson Annotations
Removing unnecessary imports
Fixing tab characters between Number and Unit strings
Renaming variable  xml-> json
Cleaning up unused imports
Fixing Empty String conversion on JXSON.

// The line below is required to make sure the conversion to Jxson exposes empty strings as empty strings (as opposed to nulls)
CqlTranslator.getJxsonMapper().setSerializationInclusion(Include.NON_NULL);
Moving JAXB.properties and XML-based object factory to the module
Cleaning up JAXB imports
Removing ANC tests that were moved to JAXB lib
Moving XPP3 and XPP3Path to the Test scope
adjusting the order of dependencies (tests are last)
Updating JAXB2 dependencies to the latest versions.
Cleaning up Engine's pom file
Making sure the serializer doesn't miss empty strings (default behavior is to ignore them)
Reverting JAXB dependencies to 0.12.0 due to a required alignment with FHIR dependencies.
Removing JAXB from the FHIR module.
@Tests tags were already commented and if activated, the test has bugs that need a large review on the CQL file. I then commented everything else because I am not sure if this test is useful or not anymore.
Removing unnecessary dependency to the engine
Associating XPP3 to the a test-level dependency.
: Fixed null reference exceptions occurring when certain arguments to Message evaluate to null
Version 1.5.5 of the CQL-to-ELM translator has native support for empty strings, removing the the need to set specific serialization rules on the CQL Engine.
Faster pre-load of ResourceTypes using reflection to make specific methods available to call.

Previous method was **43% slower** than the new one, on the **desktop**. Android should see bigger gains with fewer GC runs.

Time to Load R4 on desktop one by one (Current method)
```
3.305 s
4.006 s
3.301 s
3.152 s
3.311 s
```
Average 3.41 +/- 0.24seconds

Time to Load R4 on desktop by Reflection (New Method)
```
2.345 s
2.293 s
2.410 s
2.382 s
2.438 s
```
Average 2.37 +/- 0.04seconds
replace deprecated skip_cleanup flag in travis config
Fix build, use spot bugs
Remove CI profile since it's tripping devs up
: Fixed several issues related to supporting the new terminology types in CQL 1.5:

1. Added runtime types to represent the new terminology types (`Vocabulary`, `CodeSystem`, and `ValueSet`), rather than the `Def` elements that were being used
2. Added support for the `ExpandValueSet` operator to explicitly expand a `ValueSet`
3. Updated the `ValueSetRef` implementation to expand the valueset if the `preserve` attribute is not present or set to false, and to return an instance of a `ValueSet` otherwise
4. Updated the `CodeSystemRef` implementation to return an instance of a `CodeSystem`
5. Updated the terminology membership implementations to use the new `Expression` elements only if they are present, and continue to use the `Ref` elements directly otherwise
6. Updated the engine to use the new runtime representations of terminology types throughout

For a more detailed discussion, see https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Implementing-the-CQL-1.5-Terminology-Types
Update the engine to use the 1.5.6 release of the translator
Prep for 1.5.3 release","What's Changed
Update hapi fhir 5.5.3 by @mdnazmulkarim in
: Fixed null reference exceptions occurring when certain argument… by @brynrhodes in
Extracting JAXB dependencies out of the engine  by @vitorpamplona in
Fix proper includes by @mattwiller in
Fix decimal equivalence with trailing zeroes by @mattwiller in
Faster pre-load of ResourceTypes by @vitorpamplona in
Fix engine jaxb deploy by @JPercival in
: Fixed several issues related to supporting the new terminology … by @brynrhodes in
Update the engine to use the 1.5.6 release of the translator by @brynrhodes in
New Contributors
@vitorpamplona made their first contribution in
@mattwiller made their first contribution in
Full Changelog: v1.5.2...v1.5.3"
"(from AES) Update for v1.13.1
Adjust the website stuff for repatriation back in to master
fix single namespace rbac ()
bumping chart and changelog for v6.7.2 ()","Ambassador Chart 6.7.2
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading#helm.html
View changelog - https://github.com/datawire/ambassador/blob/master/charts/ambassador/CHANGELOG.md
Bugfix: Don't change the Role name when running in singleNamespace mode."
"Bump versions for v0.56.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix EthereumParser transaction type choice logic (0.56) ()

Fix EthereumParser transaction type choice logic ()

Initially we had an optimization that observed the initial bytes of the raw transaction bytes when deciding the type of transaction parser.
Turns out the 2nd byte varies and so this optimization doesn't completely scale.
Additionally the RLP decoding is lazier than we thought and can be utilized to ensure the right transaction type parser is used.

- Update `CompositeEthereumTrnasactionParser` logic to improve parser choice of Legacy or Eip1559
- Add test case for issue transaction
- Cleaned up some `EthereumTransaction` related classes with orphaned fields and params

Signed-off-by: Nana-EC <nana@swirldslabs.com>
Bump versions for v0.56.3

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Fix EthereumParser transaction type choice logic (0.56)
Contributors
We'd like to thank all the contributors who worked on this release!
@Nana-EC"
"Bump versions for v0.93.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix incorrect timestamp in historical balances response (0.93) ()

- use the timestamp from treasury account 0.0.2

Signed-off-by: Xin Li <xin@swirldslabs.com>
Bump versions for v0.93.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Fix incorrect timestamp in historical balances response (0.93)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera"
"Release 3.7.7
Removing top level imports to reduce bundle sizes.
cut out space in data-testid for automation tools
Adding one separator less than the number of visible columns
white space
Release 3.7.8","cut out space in data-testid for automation tools, Thnkas to @gaberoo322
Add Search always open (), Thanks to @lbressler13
Removing top level imports to reduce bundle sizes, Thanks to @tylerg-smt
ensure ids are unique when rendering multiple tables, Thanks to @angus-88
Adding one separator less than the number of visible columns (), Thanks to @gerasimovroman"
"Bump versions for v0.88.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Make `MirrorEntityAccess.isUsable` not consider expiry (0.88) ()

Make `MirrorEntityAccess.isUsable` not consider expiry ()

MirrorEntityAccess is using expiry as a gate for isUsable for accounts, incl contracts

Should be gated on feature flags - but isn't. Expiry isn't enabled now but this code thought it was.

Solution for now is to simply not check for expiry as that is the network behavior right now.

Signed-off-by: David Bakin <117694041+david-bakin-sl@users.noreply.github.com>
Co-authored-by: David Bakin <117694041+david-bakin-sl@users.noreply.github.com>
Bump versions for v0.88.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","An important bug fix for the web3 module's /api/v1/contracts/call.
Bug Fixes
Make MirrorEntityAccess.isUsable not consider expiry (0.88)
Contributors
We'd like to thank all the contributors who worked on this release!
@Nana-EC"
"Change "":nth-child"" to "":nth-of-type""
Release 4.1.1","Fix css warning Change "":nth-child"" to "":nth-of-type""
Full Changelog: 4.1.0...4.1.1"
"Updating and manifest images for v1.14.1

Signed-off-by: Aidan Hahn <aidanhahn@datawire.io>
allow configuring dns_type

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
lint mapping types

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
run make generate

Signed-off-by: Alix Cook <alixcook@datawire.io>
Add tests

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
add crd for devportal

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
re-create pr for 1.14

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
make generate

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
update crd type

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
generate deepcopy

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
update line ending

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
Reformat comments to trigger another CI run.

Signed-off-by: Flynn <flynn@datawire.io>
add newline

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
config respecting dns record ttl

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
set unset variable

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
Add new features to the changelog

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
change date in changelog

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
change the other date

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
Update for v1.14.2

Signed-off-by: w-h37 <47009048+w-h37@users.noreply.github.com>
Removed duplicate CHANGELOG.md entry

Signed-off-by: w-h37 <47009048+w-h37@users.noreply.github.com>
add missing schemas

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
modify endpoint test

Signed-off-by: AliceProxy <aliceproxy@protonmail.com>
Updating and manifest images for v1.14.2

Signed-off-by: w-h37 <47009048+w-h37@users.noreply.github.com>","Ambassador Chart 6.9.2
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading#helm.html
View changelog - https://github.com/datawire/ambassador/blob/master/charts/emissary-ingress/CHANGELOG.md
Update Ambassador API Gateway chart image to version v1.14.2: CHANGELOG
Update Ambassador Edge Stack chart image to version v1.14.2: CHANGELOG"
"Bump versions for v0.67.0

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix cluster health check (0.67) ()

Signed-off-by: Steven Sheehy <steven.sheehy@swirldslabs.com>
Fix importer issue when generating EVM address (0.67) ()

- Only generate EVM address for 33-byte compressed ECDSA public key

Signed-off-by: Xin Li <xin.li@swirldslabs.com>
Bump versions for v0.67.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","Bug Fixes
Fix importer issue when generating EVM address (0.67)
Fix cluster health check (0.67)
Contributors
We'd like to thank all the contributors who worked on this release!
@xin-hedera
@steven-sheehy"
"Bump versions for v0.76.1

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>
Fix NPE on invalid contract ID (0.76) ()

Fix NPE on invalid contract ID ()

Signed-off-by: Steven Sheehy <steven.sheehy@swirldslabs.com>
Bump versions for v0.76.2

Signed-off-by: Hedera Github Bot <github-bot@hedera.com>","This release provides an important workaround for bad data in the record stream encountered on testnet.
Bug Fixes
Fix NPE on invalid contract ID (0.76)
NPE when invalid contract ID in receipt
Contributors
We'd like to thank all the contributors who worked on this release!
@steven-sheehy"
"(from AES) Update for v1.12.1
(from AES) Show enough info to actually be able to debug what went into a given build.
(from AES) Be sure to upgrade packages from the base image (not the builder base -- ${base} here is the real Alpine base image)
(from AES) CHANGELOG
(from AES) Update for v1.12.2-rc.0
(from AES) Update for v1.12.2","Ambassador 1.12.2
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/datawire/ambassador/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Bugfix: Update OpenSSL to 1.1.1k to address CVE-2021-23840), CVE-2021-3450), CVE-2021-23841), CVE-2021-3449), CVE-2021-23839), CVE-2021-23840), CVE-2021-3450), CVE-2021-23841), CVE-2021-3449), and CVE-2021-23839)"
"fix(aws): change default handler context key ()

The aws sdk places a value in `HandlerContextKey.OPERATION_NAME`
(e.g. GetObject) at least some of the time, so use a default that's not
one of the predefined HandlerContextKey objects to avoid that.
gradle 7.3.1
nebula.netflixoss 10.4.0
spring 5.3.13
aws-java-sdk 1.12.122
aws-sdk-java-v2 2.17.95
iep 3.0.8
junit-jupiter-engine 5.8.2","Primary changes:
, update dependencies.
A comprehensive list of changes can be found in the commit log: v1.0.6...v1.0.7"
"build-sys: Have the chart Git tags be `chart/vX.Y.Z`, not `chart-vX.Y.Z`

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
.circleci: Fix the chart tag triggers

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
Drop building of the -ea image

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
builder.mk: Don't rely on BUILD_VERSION and friends being evaluated by a shell

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
builder.mk: push-dev: Flatten so it's not all one shell

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
builder.mk: push-dev: Don't try to push the hash to S3 if IS_PRIVATE

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
envoy: Cull old file locations

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit c1d60ac4ededf1650fe1ef5ec9fd90f1ed1f9523)
Move code around in envoy.mk and generate.mk, add comments

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 1fd38026fd1eaaab314b90c18ff02f165d39ff23)
make check-envoy-version: Adjust to be useful with --dry-run

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 69e2f498f504f6981b6f7a2e3f44d0f733487aa2)
Upgrade envoy-control-plane v0.9.6→v0.9.7

We want to upgrade past this, but this is a good incremental step.

cache/v{2,3}.NewSnapshot gained an argument, and so our calls needed to be
updated.

The new cache/v{2,3} tests require high parallelism to reliably work, so
add `-parallel=150` to GOTEST_ARGS.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 87cabe32bd45f2e33f9b6970d531e7593e0e64da)
Upgrade envoy-control-plane v0.9.7→v0.9.8

We want to upgrade past this, but this is a good incremental step.

This was a simple upgrade and required no other changes.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit f03ee7831c6f34343c197cf6348dd7b320a94b04)
Upgrade envoy-control-plane v0.9.8→$(make guess-envoy-go-control-plane-commit)

A bunch of the methods that formerly returned an ecp_v2_cache.Resource
interface now return a boxed wrapper struct (ecp_v2_cache.ResourceWithTtl),
so we need to unbox that by adding "".Resource"" in a bunch of places.

Also, it introduced some code that the linter is unhappy with, so add and
another exception for it.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 27b823ef5179f2249f6953ccd5a6d4ddd954b820)
build-sys: Don't say .PHONY: %.clean every dang time

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit b7ad4b22a54d58c3cb6f48d52c576e80567d80a3)
envoy.mk: Fix a typoed line affecting `make clobber`

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 91d81500938998b9e7f93d2ad410927595fd56f2)
build-sys: Add a default %.clean / %.rm implementation

Avoid writing repetitive rules for simple files.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit 6ce9a8d9f1c3cd89ac99e9e9179d4ed755c2c2be)
build-sys: Don't forget to pass `--rm` to `docker run`

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit ca1b71794020c82c0cbe7cfef77e20fbc84189c1)
_cxx/envoy.mk: Enhance `make check-envoy-version`

 1. Strictly check for tags matching 'datawire-*' to remove the temptation
    to jump the gun and create an 'ambassador-*' or 'emissary-*' tag
    before we know that's actually the commit that will be in the released
    Ambassador/Emissary.  This temptation has bitten us several times
    before.

 2. Don't just check the tip of the PR ('HEAD'), also check that all
    intermediate commits in the PR are also (ancestors of?) a tag.  We
    don't want history to get lost!

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
(cherry picked from commit cf66af9793c170b2c3d79550b5bed8f234b64d73)
envoy security patches

Signed-off-by: AliceProxy <alicewasko@datawire.io>
(cherry picked from commit 2669e7b95d13d8d597bdfb0d1bc2cbccdaa9be3c)
Prep 1.14.4-rc.0

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
Prep 1.14.4-rc.0, take two

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
Prepare 1.14.4-rc.1

The change here is that docs/yaml/versions.yml needs to not have the -rc.N
in it.

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
builder.mk: Fix typo

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>
Prepare 1.14.4-rc.2

Signed-off-by: Luke Shumaker <lukeshu@datawire.io>","Ambassador 1.14.4
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/emissary-ingress/emissary/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Security: We have backported patches from the Envoy 1.19.5 security update to Emissary-ingress's
1.17-based Envoy, addressing CVE-2022-29224 and CVE-2022-29225.  Emissary-ingress is not affected
by CVE-2022-29226, CVE-2022-29227, or CVE-2022-29228; as it does not support internal
redirects, and does not use Envoy's built-in OAuth2 filter."
"Release 2018.11.28 ()
Report GCP common templates to metadata ()
Fix private googleapis cloning
enforce black in noxfile, broaden to generated code ()
Release 2018.11.29 ()","11-29-2018 12:46 PST
Implementation Changes
enforce black in noxfile, broaden to generated code ()
Fix private googleapis cloning
Report GCP common templates to metadata ()"
"Add registeredNameOrIp cardinality limiter ()

We have tag values which may be IP addresses, which are very
high cardinality and low value, or registered names (Eureka VIPs
or DNS hostnames), which are lower cardinality and high value.
This limiter allows us to apply different cardinality policies to each
case.
ci: use Temurin distributions ()

Host runners include Temurin by default as part of the [hosted tool cache].
Using Temurin speeds up builds as there is no need to download and
configure the Java SDK with every build.

[hosted tool cache]: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#hosted-tool-cache

Co-authored-by: Moderne <team@moderne.io>
nebula netflixoss 11.3.1 ()
update to gradle 8 ()

Shadow plugin updated to latest version to fix compatiblity
issues with gradle 8.
aws-sdk-java 1.12.438
aws-sdk-java-v2 2.20.35
equalsverifier 3.14.1
micrometer 1.10.5
governator 1.17.13
frigga 0.26.0
archaius 2.3.20","What's Changed
ci: use Temurin distributions by @yeikel in
nebula netflixoss 11.3.1 by @sullis in
update to gradle 8 by @brharrington in
update dependencies by @brharrington in
New Contributors
@yeikel made their first contribution in
Full Changelog: v1.6.0...v1.6.1"
"Update Log4j version to 2.17.1 ()

Updating Log4j version to 2.17.1 because of CVE-2021-44832
vulnerability.
gradle 7.3.3

https://blog.gradle.org/log4j-vulnerability
com.github.ben-manes.versions 0.40.0
com.github.johnrengelman.shadow 7.1.2
aws-java-sdk 1.12.131
jackson 2.13.1
aws-sdk-java-v2 2.17.102
iep 3.0.9","Primary changes:
, update dependencies, pulls in fix for Jackson security vulnerability.
A comprehensive list of changes can be found in the commit log: v1.0.12...v1.0.13"
"changelog update

Signed-off-by: Alix Cook <alixcook@datawire.io>
Update for v1.13.9 ()

Signed-off-by: Alix Cook <alixcook@datawire.io>
Updating and manifest images for v1.13.9 ()

Signed-off-by: Alix Cook <alixcook@datawire.io>
Pytest runs on clean checkout and on OSX () ()

* run envoy in docker so we can run it anywhere

Signed-off-by: Alix Cook <alixcook@datawire.io>

* more make dependencies

Signed-off-by: Alix Cook <alixcook@datawire.io>

* bump kat request limit

Signed-off-by: Alix Cook <alixcook@datawire.io>

* add commit hook for dco bot

Signed-off-by: Alix Cook <alixcook@datawire.io>

* do docker builds better

Signed-off-by: Alix Cook <alixcook@datawire.io>

* hmm maybe dont wait on oss images

Signed-off-by: Alix Cook <alixcook@datawire.io>
dont overwrite 2.0 manifests ()

Signed-off-by: Alix Cook <alixcook@datawire.io>
fixes for 1.13 releng scripts ()

* fix for wait for rc artifacts

Signed-off-by: Alix Cook <alixcook@datawire.io>

* change chart repo in a couple places

Signed-off-by: Alix Cook <alixcook@datawire.io>
set go version on build ()

Signed-off-by: Alix Cook <alixcook@datawire.io>
Update for v1.13.10

Signed-off-by: Flynn <flynn@datawire.io>
promote to passed works better

Signed-off-by: Flynn <flynn@datawire.io>
Allow ""make deploy"" to work.

Signed-off-by: Flynn <flynn@datawire.io>
Basic Ambex visibility: save a certain number of Ambex snapshots to disk for debugging

Signed-off-by: Flynn <flynn@datawire.io>
CHANGELOG

Signed-off-by: Flynn <flynn@datawire.io>
Support hotfix tags in CI

Signed-off-by: Flynn <flynn@datawire.io>
Fix the docker tag for hotfixes.

Signed-off-by: Flynn <flynn@datawire.io>
Note Edge Stack Consul certificate-rotation logging changes in the CHANGELOG.

Signed-off-by: Flynn <flynn@datawire.io>
cors origins roundtrip fix ()

* cors mapping fix

Signed-off-by: Alix Cook <alixcook@datawire.io>

* fake test

Signed-off-by: Alix Cook <alixcook@datawire.io>

* changelog

Signed-off-by: Alix Cook <alixcook@datawire.io>
added timeout to the mapping->docs CRD
add config generation test

Signed-off-by: Aidan Hahn <aidanhahn@datawire.io>
Exclude hotfix tags when looking at versions.

Signed-off-by: Flynn <flynn@datawire.io>
fix pytest schema checks

Signed-off-by: Aidan Hahn <aidanhahn@datawire.io>
Allow switching the ambex ratelimiter off.

Signed-off-by: Flynn <flynn@datawire.io>
CHANGELOG

Signed-off-by: Flynn <flynn@datawire.io>
add changelog notes for devportal timeout changes
Update CHANGELOG for 1.13.10

Signed-off-by: Flynn <flynn@datawire.io>
Another minor CHANGELOG tweak

Signed-off-by: Flynn <flynn@datawire.io>","Ambassador 1.13.10
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/emissary-ingress/emissary/blob/master/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Change: Envoy-configuration snapshots get saved (as ambex-#.json) in /ambassador/snapshots. The number of snapshots is
controlled by the AMBASSADOR_AMBEX_SNAPSHOT_COUNT environment variable; set it to 0 to disable. The default is 30.
Change: A new field is added to the Docs field in the Mapping resource: timeout_ms is an optional integer that,
when present, configures the number of milliseconds the Devportal HTTP client will wait to access the docs endpoint
of the service mapping.
Change: Set AMBASSADOR_AMBEX_NO_RATELIMIT to true to completely disable ratelimiting Envoy
reconfiguration under memory pressure. This can help performance with the endpoint or Consul resolvers,
but could make OOMkills more likely with large configurations. The default is false, meaning that
the rate limiter is active.
Bugfix: Fixed a regression when specifying a comma separated string for cors.origins on the Mapping resource
Ambassador Edge Stack
Change: Consul certificate-rotation logging now includes the fingerprints and validity timestamps of certificates
being rotated.
Change: Devportal leverages the timeout_ms field in the docs field of the Mapping resource to configure the
HTTP client it uses to fetch API specifications."
"gradle jmh 0.7.1 ()

Update to latest gradle jmh plugin for better compatibility
with 8.0. Needed to move repository block to avoid errors
when loading in intellij.
remove unused method in NetflixConfig ()
fix some javadoc warnings ()
add utility for computing 64-bit hash ()

Currently based on XXH64. Allows for data to be incrementally
fed to the hash accumulator to make it more convenient to use
and avoid allocations creating the structure needed to pass
into the hash. Though in some cases the incremental processing
is slower than just passing in something like a precomputed
string.
jackson 2.15.0 ()
minor optimization for AsciiSet ()

Adjust containsAll check to an indexOf operation so when
doing the replacement the prefix of matching characters
do not need to be re-checked.","What's Changed
gradle jmh 0.7.1 by @brharrington in
remove unused method in NetflixConfig by @brharrington in
fix some javadoc warnings by @brharrington in
add utility for computing 64-bit hash by @brharrington in
jackson 2.15.0 by @brharrington in
minor optimization for AsciiSet by @brharrington in
Full Changelog: v1.6.4...v1.6.5"
"fixup rc release script
Update for v1.13.8 ()
Updating and manifest images for v1.13.8 ()
[1.13.8] release improvements ()

* release improvements

* fix promote ga

* fix helm check

* release/go should do more things
switch to using shared charts repo ()

Signed-off-by: Alix Cook <alixcook@datawire.io>
Update for v1.13.9

Signed-off-by: Alix Cook <alixcook@datawire.io>
tcp mapping fix

Signed-off-by: Alix Cook <alixcook@datawire.io>
changelog update

Signed-off-by: Alix Cook <alixcook@datawire.io>","Ambassador 1.13.9
Ambassador is an open source, Kubernetes-native microservices API gateway built on the Envoy Proxy.
Upgrade Ambassador - https://www.getambassador.io/reference/upgrading.html
View changelog - https://github.com/emissary-ingress/emissary/blob/release/v1.13/CHANGELOG.md
Get started with Ambassador on Kubernetes - https://www.getambassador.io/user-guide/getting-started
Bugfix: Configuring multiple TCPMappings with the same ports (but different hosts) no longer generates invalid Envoy configuration."
"Release 0.20.1 ()
bump version to 0.20.2-alpha for development ()
Fix Travis setup order for API key integration test ()
Add Labels to BucketInfo ()
Fix Travis setup for API key integration test ()
Quick fix to match the name at the top of the repo
Update Travis secure variable for API key integration test ()
Update java version doc ()
Fix ApiFuture Path in API docs ()
Add README for error reporting ()
Add requester pays field to BucketInfo ()
Fix ConcurrentModificationException when flushing async log messages ()

* Fix ConcurrentModificationException when flushing async log messages

A missing synchronized statement when adding to pendingWrites cause
ConcurrentModificationExceptions in the flush() method when the
pendingWrites are copied to writesToFlush.

* Remove call to printStackTrace()
Add setDefaultCloudStorageConfiguration ()

* Add setDefaultCloudStorageConfiguration

This allows the main program to set default options that will be used
by all subsequent filesystem objects. This is useful for a main program
that has libraries that create their own Path objects via the
recommended way (Paths.get(URI.create(""gs://...""))).

* Check default propagates to open channel

* Test NIO reopen defaults are overridable

* Improve description of default overriding
Add nullable annotations, enable test ()
add DLP gapic ()
Mark AutoService as optional and update to latest version. ()
Added snippets for DatabaseClient ()

* Added a few snippets for DatabaseClient

* Added copyright

* Modified doc

* Use Collections.singletonList
Fix BaseKey.Builder usage via reflection issue

https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2226
Make guava dependency consistent (guava=20.0, guava-testlib=20.0). ()
Polish Translate docs ()
Make Translate auth documentation clear and consistent ()

* Make Translate auth documentation clear and consistent

Additional updates prompted by /.

* Fix doc link

* Fix Spanner doc example

* Work around Javadoc bug

https://bugs.openjdk.java.net/browse/JDK-8130754
cache library version ()

so we don't need to read environment properties every call.

Fixes.
This is not the approach proposed in the issue.
As implemented in this PR, we will read the property once
for every client instantiation, not once ever.
Still, this should be fast enough,
and we won't need to maintain double-check-locking mechanism.
bump gax version to 1.4.2 ()
Release 0.20.2 ()","Core
cache library version
Datastore
fix BaseKey builder issue
Auth
Update Travis Secure variable for API key integration test
Fix Travis setup for API key integration test
Dependency
Make guava dependency consistent
Update java version doc
DLP
add DLP gap
ErrorReporting
Add README
Example
add snippets for DatabaseClient
fix ApiFuture Path
Logging
fix ConcurrentModificationException when flushing async log messages
NIO
Mark AutoService as optional and update to latest version
Storage
add labels to BucketInfo
Add setDefaultCloudStorageConfiguration
Add nullable annotations, enable test
Add requester pays field to BucketInfo
Translate
Polish Translate docs
Make Translate auth documentation clear and consistent"
"Bumping versions to 1.2.0, 0.20.0-beta, 0.20.0-alpha for release
Release process: skipping tests (cobertura, surefire) [ci skip] ()
Bumping to snapshot versions ()
Fix Files.walk behavior ()

* Fix Files.walk behavior

Java's Files.walk() ends up in an infinite loop when iterating
over files on GCS because the iterator returns the directory
itself as the first result, so Files.walk() tries to cd there
and we're stuck.

The fix is to check for that path and not return it.

* no-op commit to force Travis to retry
Add support for new LRO implementation ()

https://github.com/googleapis/gax-java/issues/147
https://github.com/googleapis/gax-java/issues/146
readme: set pubsub to beta ()
pubsub: GetSubscription only once ()

Previous each subscriber connection makes one GetSubscription
call to get subscription detail.
This spams the service with many Get requests,
that will likely all return the same information.

This PR makes Subscriber call Get only once,
before starting all connections.

Fixes.
pubsub: remove references to com.google.cloud.pubsub.spi ()

Fixes.
Add GOOGLE_API_KEY environment variable for integration testing ()

* Add GOOGLE_API_KEY environment variable for integration testing

Used by Translation API. Needed for.

* Don't echo API key

* Add Travis secure variable for API key

Autoformatting due to Travis command line client.
Revert ""Add GOOGLE_API_KEY environment variable for integration testing ()"" ()

This reverts commit f6dc5616954eec1ed4a716a75adb26eb4e73a886.
Revert ""Revert ""Add GOOGLE_API_KEY environment variable for integration testing ()"" ()"" ()

This reverts commit 6b570733c0628b9649282ae7924c8ffa2a3e1c2e.
WIP: override API key with service account credentials ()

* WIP: override API key with service account credentials

Addresses.

Currently does not address case of conflict between explicitly passed API key and default service
account credentials.

Currently no integration tests use API keys.

* Establish precedence of auth methods including API key

Use following order of precedence for authentication, avoiding conflicts:
1. explicitly set credentials
2. explicitly set API key
3. Application Default Credentials (e.g., through GOOGLE_APPLICATION_CREDENTIALS)
4. default API key (through GOOGLE_API_KEY)

* Test call with API key
Discourage use of API key in translation ()

Addresses.
video: add README ()

Fixes.
properly group SPI and test packages ()
document gRPC proxy env var ()

Updates.
Fixing spanner headers consistency issue. ()

* Fixing spanner headers consistency issue.

Previously spanner client was sending (example valuess):
user-agent: google-cloud-java/0.20.0-beta grpc-java-netty/1.2.0
x-goog-api-client: google-cloud-java/0.20.0-beta

After the changes (example values):
user-agent: grpc-java-netty/1.2.0,
x-goog-api-client: gl-java/1.8.0_112-google-v7 gccl/0.20.1-beta-SNAPSHOT gax/1.4.0 grpc/1.2.0
add platform information ()

*add platform information for transport options
*add logic to distinguish GAE standard java 7 and 8 on both DevServer and Prod
* Mark InternalApi
* add private ctor

* add comment for leading whitespace
use grpc 1.4.0 ()

requires https://github.com/googleapis/googleapis/pull/384
and https://github.com/googleapis/gax-java/pull/332

bump guava version to 20.0
bump tcnative version to 2.0.3.Final as required by the new grpc version.
Release 0.20.1 ()","Dependencies
Protocol Buffer: 3.2.0 -> 3.3.0
Pubsub
Reduce number of calls to GetSubscription when creating new Subscribers ()
Storage
Avoid infinite loop while walking directories ()
Translation
Discourage the use of API Key ()
All autogenerated clients
New LRO implementation ()"
"Release for v.0.15.0 ()

* Release for v.0.15.0

* Update CHANGELOG.md

* Add date
Post release version update ()

* Post release version update

* use pep compliant version number

---------

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>
Improve memory usage in from_emcee ()

* Initializing the chain once in posterior_to_xarray

The goal of this chang is to prevent large memory consumption
during the creation of an InferenceData object from emcee.
The change also improves efficiency.

* Documenting fix

* Apply suggestions from code review

---------

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>
Update_plots_documentation_gsd ()

* correct reference

Correct reference  in plot_compare()

* update plot documentation

Update plot documentation for:

 + bayes factor
 +  compare_plot
 + elpd
 + energy
 + ess
  + Forest

* add summary to see also, forest

* Update forestplot.py

remove long sentences

* Update energyplot.py

* Fix documentation problems

* remove spaces bf and energy

remove empty spaces

* Update forestplot.py

* Update forestplot.py

* Add link of common arguments

* Update densityplot.py

remove space

* Update densityplot.py

* Update densityplot.py

* Update forestplot.py

* Update distplot.py

update rug argument in `distplot` function

* Update arviz/plots/bfplot.py

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>

* Update arviz/plots/elpdplot.py

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>

* Update arviz/plots/essplot.py

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>

* Update arviz/plots/essplot.py

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>

* Update arviz/plots/forestplot.py

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>

* Update essplot.py

---------

Co-authored-by: Oriol Abril-Pla <oriol.abril.pla@gmail.com>
update to pst latest release ()
Lower pandas version ()
Release for ArviZ v0.15.1 ()

* Release for ArviZ v0.15.1

* Add missing quote

* Update changelog","v0.15.1 (2023 Mar 06)
New features
Maintenance and fixes
Fix memory usage and improve efficiency in from_emcee (2215)
Lower pandas version needed (2217)
Deprecation
Documentation
Update documentation for various plots (2208)"
"Fix Forward Input
refactor exec tty / user flag parsing","Fixed
Fixed a new bug uncovered by the latest release fix - edge case when using file input redirection on full non-TTY environment ()"
"Updating version in README files. [ci skip]
Update version to 0.11.2-SNAPSHOT ()
pubsub: remove obsolete doc references ()

This PR removes references to the deprecated code of the docs.
The emulator section is rewritten.

Fixes.
adding functions to manage life cycle of resources in ITComputeTest ()

*adding functions to ITComputeTest, in order to make sure resources
created during tests can be properly deleted even if tests fail or
become timed out.
* refactor and incorporate feedbacks
* implement `add` function with compile-time type checking
* add `remove` method to remove a resource from managed resources
* use Id's as handles to resources
* fix copyright header
* rename class name
* modify remove function, pass delete function to each add method
* address comments
Add Speech v1. ()
Make logging overrides the default channel provider ()
Added more unit tests for SessionPool ()
Rename Translate title to Translation [ci skip] ()
Release 0.11.2
Updating version in README files. [ci skip]","Speech
Add Speech V1 ()
The Speech v1 library is not backwards-compatible with v1beta1:
The LanguageCode parameter is no longer optional anywhere. It must be explicitly specified, and does not default to 'en-US'.
The syncRecognize method has been renamed to recognize on every class where it appears.
The asyncRecognize method has been renamed to longRunningRecognizeAsync on every class where it appears.
The sampleRate parameter and property has been renamed to sampleRateHertz everywhere it appears.
Logging
Override the default channel provider ()
Translation
Rename Translate docs to Translation ()"
"update readme

Signed-off-by: Oleksii Kuchaiev <okuchaiev@nvidia.com>
Pin OmegaConf version for 1.0.0 ()

* Update OmegaConf compatibility

Signed-off-by: smajumdar <titu1994@gmail.com>

* Correct OmegaConf.pretty()

Signed-off-by: smajumdar <titu1994@gmail.com>

* Upper bound omegaconf

Signed-off-by: smajumdar <titu1994@gmail.com>

* Revert ""Correct OmegaConf.pretty()""

This reverts commit 6ebae2ef

Signed-off-by: smajumdar <titu1994@gmail.com>

* Revert ""Update OmegaConf compatibility""

This reverts commit 83b2cf35a07a742552082e80e6ca34c9b8203cbc.

Signed-off-by: smajumdar <titu1994@gmail.com>
bumping version to 1.0.1

Signed-off-by: Oleksii Kuchaiev <okuchaiev@nvidia.com>
Add check for numba regardless of device

Signed-off-by: smajumdar <titu1994@gmail.com>
upper bound for webdataset

Signed-off-by: Oleksii Kuchaiev <okuchaiev@nvidia.com>
Correct Dockerfile

Signed-off-by: smajumdar <titu1994@gmail.com>
update readmes

Signed-off-by: Oleksii Kuchaiev <okuchaiev@nvidia.com>","Release 1.0.1
NeMo 1.0.1 is a minor change over 1.0.0 adding proper version bounds for some external dependencies."
"bump(version): 1.0.28
:art:(backoff-scheduler) Add getters
fix(spec): re-enable NylasEnv specs and fix duplicate rejection log

Summary:
This re-enables NylasEnv spec and fixes a particularly tricky test
involving the Node event loop.

See the comments I left on process.unhandledRejection and the new spec

Test Plan: Manually run test in isolation and whole suite. All green!

Reviewers: juan, mark, halla, spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D3942
fix(watchman): There's some stuff in build/ we don't want to ignore
fix(SFDC): fix React error in tokenizing text field

Summary:
Get ready for some SFDC diffs! Hooray getting more eyeballs on SFDC. At
this stage it's a lot of FYI to hopefully start showing more people parts
of the SFDC plugin.

This is related to the form you use to create new Salesforce Objects with.

The form window basically looks like:
```
<SalesforceObjectFormWithWindowProps>
  <SalesforceObjectForm>
    <GeneratedForm>
      <GeneratedFieldset>
        <FormItem type=""input"" />
        <FormItem type=""email"" />
        ... (lots of FormItems)
        <SalesforceObjectPicker>
          <TokenizingTextField>
            <Menu>
              some placeholder that had an error fixed by this diff!!!
            </Menu>
          </TokenizingTextField>
        </SalesforceObjectPicker>
        <FormItem type=""checkbox"" />
      </GeneratedFieldset>
    </GeneratedForm>
  </SalesforceObjectForm>
</SalesforceObjectFormWithWindowProps>
```

The whole GeneratedForm is controlled by an obejct called `formData`. This
is documented in `GeneratedForm`.

This bug prevented me from properly using SalesforceObjectPickers inside
my form.

Test Plan: manual

Reviewers: mark, halla, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3935
[nylas-mail] move nylas-mail into /packages
[client-*] Rename packages folders and update readme
Update .arcconfig to point to new repo

Summary: see title

Test Plan: manual

Reviewers: spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D3945
fix(cli): s/n1/nylas-mail/
fix(linux-build): Change package name to Nylas Mail

Need this in order to allow parallel installation of Nylas Pro and Nylas
Mail.
fix(linux-build): Update rpm spec to use new package name
[n1cloud][docker][logs] added pm2 wrapper for logs

Launching pm2 via a wrapper that launches pm2 as a daemon in the background
and then runs pm2 logs --raw in the foreground. This gets us the logs that
we want without the additional cruft that pm2 outputs by default
[*] move to monorepo

[*] update babel

[client-app] remove flow-typed

[client-app] Move build/package.json to main package.json

[client-app] remove spec_integration

[client-app] fix babel support

Add client-private-plugins package.json

[client-app] add node_modules to global path for private-plugins

Move client-sync dependencies to client-app root

fix electron rebuild

[*] moved to monorepo

Summary: App now runs in monorepo

Test Plan: npm test

Reviewers: juan, mark, khamidou, halla, spang

Differential Revision: https://phab.nylas.com/D3947
[client-app] fix module spec

This changed because we now globally require node_modules
[client-app] Update changelog
[*] Move BackoffSchedulers into isomorphic-core
[iso-core] Add BackoffScheduler to exports

Summary: See title

Test Plan: Make sure NM loads

Reviewers: evan, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3959
[cloud-*] Get cloud-api and cloud-workers running on new repo

[dev] remove .tern-project

[cloud-*] move into cloud-core/build

[cloud-core] convert to launch properly via Docker
[*] Correctly copy error logger extensions in postinstall script

Summary: Also fix linter errors

Test Plan: manual

Reviewers: evan, mark, halla

Reviewed By: halla

Subscribers: halla

Differential Revision: https://phab.nylas.com/D3960
[cloud-*] fix Dockerfile to correctly use postinstall script
[*] convert everyting to rx-lite
[*] Fix electron launch args

Summary:
We were doing some incorrect processing of args passed to the main
function which was causing us to think we were launching NM by passing a
file (which creates a new draft and tries to attach that file). Since
were trying to attach 'packages/client-app', this was causing an error
dialogue to appear indicating that it wasn't possible to attach a
directory.

Test Plan: Run locally, verify no dialogue

Reviewers: evan, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3962
[*] metrics(Part 1) Add env-helpers to iso core

Summary:
This is a set of functions which will allow isomorphic-core to detect
which environment it is running on.

This will be useful for moving the metrics reporter to iso-core

Test Plan: manual

Reviewers: mark, spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D3966
[*] Clean up some cruft

Summary: This stuff doesn't seem to be used for anything anymore and it's cluttering up the client-app dir.

Test Plan: ran the app, also did `npm start` with no ~/.nylas-dev

Reviewers: evan, juan

Reviewed By: evan, juan

Differential Revision: https://phab.nylas.com/D3961
[message-list] Add support for double-clicking inline images to open

Summary: See title

Test Plan: Run locally, verify that double clicking inline images opens them

Reviewers: evan, juan, spang

Reviewed By: juan, spang

Differential Revision: https://phab.nylas.com/D3963
[local-sync] Differentiate sync loop & other errors by additional fingerprint info

Summary:
If an exception has the same stack trace, by default Sentry will always group
it together in the same event. We don't want to do that for sync loop
errors---e.g. 'Invalid credentials' errors should not be grouped together with
stuff like 'Too many simultaneous connections'. Creating more unique groups
will allow us to better evaluate the effect of sync & other bugfixes.

Test Plan: writing unit test right now

Reviewers: juan, mark

Subscribers:

Differential Revision: https://phab.nylas.com/D3915
[client-app] Fix stale import

Summary: Moved a file and forgot to update this import :-/

Test Plan: Run locally

Reviewers: juan, evan, spang

Differential Revision: https://phab.nylas.com/D3970
[client-app] convert FocusedContactStore to es6
[isomorphic-core] Allow use of atob() in cloud environments

Summary: atob() is a global in browser environments, but needs to be imported otherwise.

Test Plan: manual

Reviewers: juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3950
[client-app, client-sync] Save imap folder names in the client-app

Summary:
Client-sync has the full imap folder names, but used to only pass the display
name to the application. The application needs the full imap names so that it
can pass them via metadata to cloud-workers that need to open imap boxes.

Test Plan: manual

Reviewers: evan, juan

Reviewed By: evan, juan

Subscribers: juan

Differential Revision: https://phab.nylas.com/D3951
[client-app] remove rouge-committed packages folder
[*] Temporary fix for coffee linter in arc lint

For now, just update the arclint config to point to the correct grunt script
[*] update and add READMEs to each package

Summary:
Adding READMEs for easy and helpful browsing on GitHub.
Also add missing script and `--interpreter` flag

Test Plan: Run new launch commands

Reviewers: mark, spang, juan, halla

Reviewed By: spang, juan, halla

Differential Revision: https://phab.nylas.com/D3971
[client-app] fix errors with no message

Summary:
Some API Errors, like ECONNREFUSED, have no \.message.
Catch this in the error reporter

Test Plan: Manually create a non-message error and see better error message

Reviewers: spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3973
[iso-core] fix error toJSON in node environments

Summary:
Node's native `Error` object does NOT implement toJSON. We attempt to call
toJSON when reporting errors. This wasn't noticed until now because
bunyan's pretty logger (which only run in dev mode) started JSONifying
errors

Test Plan:
Try and API auth with a bad username with local setup. See that it throws
toJSON error. After patch, error properly serializes

Reviewers: spang, halla, jerm, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3975
[client-app] allow returning of message from DOM

Summary:
SFDC's task to upload an email to salesforce needs the stripped DOM of a
Message object to call `innerText`. The API was changed to return a string
instead of the DOM. This adds a flag to request the DOM instead of a
string.

Test Plan:
Manually assert `EnsureMessageOnSalesforceTask` properly can add the plain
text to the Salesforce Task object

Reviewers: halla, mark, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3976
[client-app] only show cloud deltas in the developer bar

Summary:
This removes client-sync deltas from the developerbar delta list.

We ONLY show cloud deltas now.

The connection between client-sync is no longer a network delta stream,
it's a direct function call. It makes no sense to show its status.

This now shows a single dot representing the state of the cloud delta
stream.

Test Plan: Manually connect and disconnect local cloud API and see icon change

Reviewers: halla, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3977
[client-app, client-private-plugins] Update the reminders metadata structure

Summary:
The new send-reminders cloud-worker needs different information to check for
replies now that the sync engine is local. Make sure we save all of the
required information to the metadata. The current values are:

  - expiration: the time the reminder should be sent, if no new replies
  - folderImapNames: the folders to check for replies
  - messageIdHeaders: the Message-Id headers of messages in the thread
    (we search for In-Reply-To headers that match these values, and also
     use them to decide whether a message is a new reply or an old reply)
  - replyTo: the message to reply to when sending the reminder email
  - subject: the subject to use when sending the reminder email

Test Plan: manual

Reviewers: juan, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3952
[cloud-core, cloud-workers, isomorphic-core] Fix sending from cloud-workers

Summary:
The SendmailClient is in isomorphic-core, but wasn't working properly when
called from cloud-workers. This diff includes a variety of fixes to get it
working:

  - Add smtp config to connection settings in cloud-core
  - Don't use `PromiseUtils.promisify` for a function that needs `this` to
    be bound properly
  - Don't reference `NylasEnv` (That error gets caught and reported
    elsewhere anyway, we don't need to report it here)
  - Default `message.uploads` to `[]` to keep iterator happy
  - Add Gmail environment variables to cloud-worker app

Test Plan: manual

Reviewers: juan, khamidou, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3954
[cloud-workers, isomorphic-core] Implement the SendRemindersWorker

Summary:
Process reminders metadata and send the reminder email if there
haven't been any replies. Checking for replies involves checking
each of the folders in `folderImapNames` for messages that are in
reply to the messages in `messageIdHeaders`.

Test Plan: manual

Reviewers: khamidou, juan, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3958
[client-app] Fix delta-processor tests
[isomorphic-core] Ensure smtp config exists

Summary:
We previously weren't saving the smtp settings for cloud gmail accounts,
and even though we fixed that, we still need to be able to handle the accounts
that were authed before that fix went out. This diff changes `smtpConfig()` to
always call `credentialsForProvider` instead of depending on what was saved
in the database.

Test Plan: manual

Reviewers: juan, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3980
[client-sync] Make imap ended error retryable

Summary: This error should really be retryable, and will prevent more red boxes

Test Plan: manual

Reviewers: evan, spang

Reviewed By: evan, spang

Differential Revision: https://phab.nylas.com/D3982
[dev, cloud-*] make Docker run plain npm install and conslidate deps

Summary:
It doesn't really make sense to have the root package.json have any
dependencies since it's never ""packaged"" or built itself. Everything
really should be a dev dependency. This was only separated before because
the Dockerfile unnecessarily added the --production flag.

This will make the docker build take a smidge longer, but I think it's
worth the extra minute to keep the dependencies orderly and sematically
correct

Test Plan: re-run docker build

Reviewers: jerm, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3978
[client-app] actually npm install inside the /apm dir with env vars

Summary:
We weren't actually running npm install inside of apm. This meant that
/apm/node_modules was empty causing the build to fail. This will install
with the proper env required for old apm

Wow we need to get rid of this thing soon…

Test Plan: Run `npm install`

Reviewers: jerm, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3986
[client-app] build tasks now use absolute paths

Summary:
Grunt is hardcoded to use paths relative to wherever the Gruntfile is
located. Unfortunately it also expects the grunt packages to be siblings
of that gruntfile. We can get around this by changing the relative base
path, but then the cwd is different for each tasks. This is okay as long
as we use absolute paths for various files in each of our tasks. This
updates our grunt tasks to use absolute paths

Test Plan: `npm run build-client`

Reviewers: spang, halla, jerm, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3987
[client-app] resolve symlinks before copying files

Summary:
In client-app/node_modules Lerna symlinks isomorphic-core to '../../'.
When we copy everything over to our tmp directory when building, we copy
over the relative symlink! Damn you lerna.

We get around this by resolving the symlinks BEFORE copying and caching
them in the installer task. Then the file copy always works.

Also, for some reason the glob {absolute} param doesn't seem to work in
the latest version. I'm manually creating an absolute path for the compile
target since it's a bit more transparent what's happening anyway.

Test Plan: `npm run build-client`

Reviewers: spang, jerm, juan, halla

Reviewed By: juan, halla

Differential Revision: https://phab.nylas.com/D3988
[local-sync] metrics(Part 2) Move MetricsReporter to isomorphic-core

Summary:
Renamed it from SyncMetricsReporter to MetricsReporter and moved it to
iso-core.

The new metrics reporter can now be called from any environment and will
correctly report the metrics.

Test Plan: manual

Reviewers: mark, spang, evan

Reviewed By: spang, evan

Differential Revision: https://phab.nylas.com/D3967
[*] metrics(Part 3) Don't report CPU usage on every reportEvent

Summary: See title

Test Plan: Manual

Reviewers: spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D3968
[*] metrics(Part 4): Make /ingest-metrics use MetricsReporter

Summary:
This ensures that the Libhoney instance is a singleton in cloud
processes.

Test Plan: manual

Reviewers: mark, spang

Reviewed By: spang

Differential Revision: https://phab.nylas.com/D3969
[client-sync] metrics(Part 5) Rename PerformanceMonitor to GlobalTimer

Summary:
This global module wasn't really related to performance, but rather with
timing things across different processes in the app. I believe this name
is more appropriate.

Test Plan: I can still use NylasEnv.timer (instead of NylasEnv.perf)

Reviewers: spang, evan

Reviewed By: spang, evan

Differential Revision: https://phab.nylas.com/D3972
[*] metrics(Part 6) MetricsReporter.reportEvent now requires a nylasId

Summary:
This will help us aggregate metrics by user. This also makes it so we
don't report events in dev mode

Test Plan: manual

Reviewers: spang, evan

Reviewed By: spang, evan

Differential Revision: https://phab.nylas.com/D3981
[client-app] Measure and report archiving times

Summary:
This commit makes so it we report perf metrics for archive actions.
To achieve this, I added a new `ThreadListActionsStore` which serves as
a proxy for thread actions, which allow us to time them.

The new store is in charge of listening to thread list actions, creating and
queueing  the appropriate tasks for any given action, and timing and
reporting action times to our MetricsReporter.

This commit only times archiving actions, and subsequent diffs will time
other relevant thread list actions.

Test Plan: manual

Reviewers: halla, spang, evan

Reviewed By: spang, evan

Differential Revision: https://phab.nylas.com/D3983
[client-app] Measure and report times for removing from inbox

Summary:
This commit adds a new action, `removeThreadsFromView` to be proxied and
measured through the ThreadListActionsStore

This action can encompass many different actions, e.g.:
- unstarring in starred view
- changing unread in unread view
- Moving to inbox from trash
- archiving a search result (which won't actually remove it from the thread-list)

However, for now, we are only interested in timing actions that remove threads
from the inbox

Depends on D3983

Test Plan: manual

Reviewers: halla, spang, evan

Reviewed By: spang, evan

Differential Revision: https://phab.nylas.com/D3984
[client-app]: Measure and report time when dragging threads to sidebar

Summary:
This commit adds a new action, `moveThreadsToPerspective` to be proxied and
measured through the ThreadListActionsStore. This action is called when
a thread or group of threads is dragged and dropped into an item in the
sidebar.

For now, we are only interested in timing actions that remove threads
from the inbox

Depends on D3984

Test Plan: manual

Reviewers: halla, evan, spang

Reviewed By: evan, spang

Differential Revision: https://phab.nylas.com/D3985
[client-app] Measure and report times for removing labels from threads

Summary:
This commit adds new actions, `applyCategoryToThreads` and `removeCategoryFromThreads`
to be proxied and measured through the ThreadListActionsStore. These are called when
labels are added or removed via the category picker or by removing using
the label icon.

For now, we are only interested in timing actions that remove threads
from the inbox.

Test Plan: manual + reenabled unit tests for category-picker

Reviewers: spang, evan, halla

Reviewed By: halla

Differential Revision: https://phab.nylas.com/D3989
[client-app] Measure and report times for trashing and marking as spam

Summary:
See title

Depends on D3989

Test Plan: manual

Reviewers: evan, spang, halla

Reviewed By: spang, halla

Differential Revision: https://phab.nylas.com/D3990
[client-app] For consistency, proxy starring thru ThreadListActionStore

Summary: See title

Test Plan: Depends on D3990

Reviewers: spang, halla, mark, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3991
[client-app] For consistency, proxy marking unread thru ThreadListActionStore

Summary: Depends on D3990

Test Plan: manual

Reviewers: spang, halla, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3992
[client-app] Convert nylas-env.coffee to ES6 :sweat:

Test Plan: unit tests + run the app

Reviewers: juan, halla, evan

Reviewed By: evan

Differential Revision: https://phab.nylas.com/D3979
[client-app] symlink in babelrc and resolve links

Summary:
The prod build was failing because it couldn't find the .babelrc.

I decided to put the babelrc in the main nylas-mail repo with the
expectation that it'll need to be in the open source version too. To DRY
up this for us building, we sylink the root one to the client-app babelrc

Also since we now dereference symlinks we don't need to do the full copy
of nylas-private-resources so we don't have two error reporters floating
around

Test Plan: npm run build-client

Reviewers: juan, spang

Reviewed By: juan, spang

Differential Revision: https://phab.nylas.com/D3993
bump(version) 1.0.29
[client-sync] Add per-Account IMAP connection pooling

Summary:
Prior to this diff it was easy for us to create too many IMAP connections (e.g.
by requesting many attachments at once), causing random failures when the
server would reject our connection attempts. This diff adds a per-Account IMAP
pooling mechanism so that we avoid these failures.

Test Plan:
Run locally with sync worker and several other clients using the
pool, verify correct behavior. Also added a few unit tests.

Reviewers: evan, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D3965
[client-app] update build system
[*] Catch more invalid login errors when sending

Summary: See title

Test Plan: manual

Reviewers: evan, halla, spang

Reviewed By: halla, spang

Differential Revision: https://phab.nylas.com/D3994
[client-sync] Fix sending per recipient

Summary: This was broken, oh so broken

Test Plan: manual

Reviewers: halla, spang, evan, mark

Reviewed By: mark

Differential Revision: https://phab.nylas.com/D4001
[*] Rename postinstall.js -> postinstall.es6

The n1Cloud machines try to compile this script, even though they
never run it, and they didn't recognize it was supposed to be es6
[client-app] Fix build

Partially revert 3071856a8e6d9f43a793508598003871ebbfe150

Symlinking instead of copying the error-logger-extensions prevents the
app from finding the appropriate dependencies required in the error
logger extensions in the main process and in the renderer processes
because globalPaths are only set in renderer processes and /after/
error-logger-extensions are loaded.

We should fix this properly in a separate diff, and move the error
logger to isomorphic-core instead of copying it or symlinking it
[iso-core] Fix Office365 sending from the mail app

Summary:
This fixes a regression introduced in D3980 that prevented sending from working
on Office365 and generic IMAP accounts.

Fixes T7892

Test Plan: manual - we could use unit tests for this but need to set up tests for iso-core first

Reviewers: juan, halla, evan

Reviewed By: halla, evan

Maniphest Tasks: T7892

Differential Revision: https://phab.nylas.com/D4003
[client-sync] Refresh SMTP client when auth credentials change

Summary:
Previously, we would create a nodemailer SMTP transport object when the
sync worker booted up. The transport object would be passed the account
SMTP credentials at the time of object creation. If the Google auth
token later expired, we would continue to try to send mail using the
expired token, resulting in ""Invalid login"" failures.

This patch makes it so we refresh the transport object if the auth token
changes, and also turns on SMTP connection pooling to limit simultaneous
SMTP connections (& maybe make sending multiple messages faster).

Fixes T7891

Test Plan: manual

Reviewers: juan, halla

Reviewed By: juan, halla

Subscribers: mark

Maniphest Tasks: T7891

Differential Revision: https://phab.nylas.com/D3997
[client-app] Don't compute thread search index size on startup

Summary:
We did this to see if we should clear the index, which no longer makes
sense because the index never exceeds our threshold. Additionally, none
of the other search indexes do this. This was causing us to spend a ton
of time scanning the ThreadSearch table at startup.

Test Plan: Run locally, make sure things are fine

Reviewers: evan, spang, juan

Reviewed By: juan

Differential Revision: https://phab.nylas.com/D4007
[client-app] Update changelog","Fixes:
You can now click inline images in messages to open them
More IMAP errors have been identified as retryable, which means users will
see less errors when syncing an account
Improve performance of thread search indexing queries
Correctly catch Invalid Login errors when sending
Development:
Developer bar in Worker window now shows single delta connection
More code converted to Javascript
Fixes:
Fix offline notification bug that caused api outage
We now properly handle gmail auth token errors in the middle of the sync loop. This means less red boxes for users!
Less battery usage when initial sync has completed!
No more errors when saving sent messages to sent folders (auth or accountId errors)
No more Lingering tasks in progress marked as failed errors
Syncback tasks will continue retrying even after closing app
Syncback tasks retry more aggressively
Detect more offline errors when sending, sending is more reliable
Imap connection pooling (yet to land)
More retryable IMAP errors, means less red boxes for users
Offline notification now shows itself when we’re actually offline, shows countdown for next reconnect attempt
Development:
More tests
Don't use breadcrumbs in dev mode
Add a better reason when waking sync for syncback in the logs
BackoffScheduler, BatteryManager added for reusability"
"release version 4.3.4
use status parameter for redemptions update

fixes
release version 4.3.5","Fixes
[twitch] actually use status parameter for redemption status update (502c078)"
"release version 4.3.6
add tslib to some packages that were missing it
release version 4.3.7","Fixes
[all] add tslib to some packages that were missing it (084480a)"
"release version 4.4.6
use event wrapper for Hype Train events

fixes
do not subscribe to eventsub before listening

fixes
add eventsub subscription cleanup helpers
fix typings for hypetrain api & webhook
run prettier
release version 4.4.7","Features
[twitch-eventsub] add eventsub subscription cleanup helpers (3564cab)
Fixes
[twitch] use event wrapper for Hype Train events, fixind all of their properties (1832e93)
[twitch-eventsub] do not subscribe to eventsub before listening (c4a1b53)"
"[maven-release-plugin] prepare release v0.6.2
[maven-release-plugin] prepare for next development iteration
Prepare for 0.6.3 release
[maven-release-plugin] prepare release v0.6.3","Release date: April. 2nd, 2015
We are happy to announce Tachyon version 0.6.3, a maintenance release with a S3 integration related fix.
Please visit Tachyon website for more information."
"release version 5.2.2
Add missing links for ES module types
update docs defaultVersion
release version 5.2.3","Fixes
[all] add last missing types to exports declaration (0dd16a6)"
"Update to go-winio v0.6.2 + fix lint errors

Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>
OutBoundNATPolicy Schema changes ()

Signed-off-by: Debjit Mondal <debjitmondal@microsoft.com>
Signed-off-by: Prince Pereira <ppereira@microsoft.com>
Changes for checking the global version for modify policy version support. ()

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
Adding support for loadbalancer policy update in hns. ()

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
Adding state attribute to the HNSEndpoint struct to support hyperv containers for k8s

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding stringer for usage and CI/CD

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing build errors

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Ignore linting for files generated by Stringer

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Trying to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing extra step to fix CI go gen

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

go gen CI fix try 2

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Skip autogenerated file from linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fixing linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Removing stringer to avoid increasing package bloat for hcsshim

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

cleanup

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Adding comment for future HNS v2 change

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>

Fix linting

Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>
(cherry picked from commit e96bfcd186703633a600134d100a61ae4f173077)
Signed-off-by: ritikaguptams <85255050+ritikaguptams@users.noreply.github.com>","What's Changed
[release/0.11] Backport networking commits by @princepereira in
[release/0.11] Adding state attribute to the HNSEndpoint struct to support hyperv co… by @ritikaguptams in
Full Changelog: v0.11.5...v0.11.6"
"[maven-release-plugin] prepare release maven-3.9.3
[maven-release-plugin] prepare for next development iteration
Bump guava from 31.1-jre to 32.0.1-jre ()
[MNG-7846] Break out of endless loop ()

This is most probably ""just"" about broken Throwable implementations.
Some override getCause but does not perform checks to what it was inited
as ""this"" means ""not yet inited"" actually.

Backport of 36db1e35cac5e8c72bf0c795dd08756e50079e05

---

https://issues.apache.org/jira/browse/MNG-7846
[MNG-7847] Upgrade resolver to 1.9.14

---

https://issues.apache.org/jira/browse/MNG-7847
[maven-release-plugin] prepare release maven-3.9.4","Release Notes - Maven - Version 3.9.4
Bug
[MNG-7846] -         endless loop in DefaultExceptionHandler.getMessage()
Dependency upgrade
[MNG-7828] -         Bump guava from 31.1-jre to 32.0.1-jre
[MNG-7847] -         Upgrade to Resolver 1.9.14
Full Changelog: maven-3.9.3...maven-3.9.4"
"release version 7.0.8
fix EventSub subscriptions not using user context ()
release version 7.0.9","Fixes
[api] fix EventSub subscriptions not using user context (b05c168)"
"Added Version support for IPv6 Dual stack support in HNS

Signed-off-by: Vinod K L Swamy <vinodko@microsoft.com>
Add GMSA support for V2 process isolated containers

* Add generated V2 schema files for Container Credential Guard
* Add new hcs calls that are necessary to setup container credential guard
instances.
* Add new resource type CCGInstance that implements ResourceCloser so a containers
ccg instance will be cleaned up on container close.
* Add tests to validate gmsa
* Remove logging from resource Release methods and just return an error.
Forego returning immediately on an error in ReleaseResources and return
afterwards if any of the releases failed.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Add the IPV6 EndPoint Address and Gateway Field to HnsEndPoint.

Signed-off-by: Vinod K L Swamy <vinodko@microsoft.com>
Added the IPV6PrefixLength field

Signed-off-by: Vinod K L Swamy <vinodko@microsoft.com>
Add support for ref counting assigned devices

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add support for assigned devices in process isolated containers

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Fix UVM processor cap with processor groups.

* Fix bug where we were incorrectly capping a users requested
CPU count in multiple processor group scenarios. This was due to
the fact that we used runtime.NumCPU() to get the logical processor
count of the system and this does not take into account multiple
processor groups. Instead use the processor topology information from HCS
to cap the UVMs amount and the win32 API function GetMaximumProcessorCount
to cap a process isolated containers requested amount.
* Add HCS schema files necessary to retrieve the processor topology information.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Fix 'WorkingSetBytes' memory metric for PA backed VMs

* Added a field (physicallyBacked) to UtilityVM
struct.
* Fix behavior of querying the UVMs vmmem process to get the working set
size for physically backed UVMs. Instead we assign the total memory assigned
to the UVM by using AssignedMemory * 4096 (is returned as number of 4kb pages)
* Add tests to verify working set size for physically backed WCOW AND LCOW.
* Refactor how we check for unsupported/incorrect configurations for the UVM settings.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Change to use GetActiveProcessorCount for logical processor count

* Change to use GetActiveProcessorCount instead of GetMaximumProcessorCount
as the latter takes into account hot addable CPUs.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Updating HNS Minor and Major version for SetPOlicy

Signed-off-by: netal <negup@microsoft.com>
updated formatting of files

Signed-off-by: netal <negup@microsoft.com>
Fix RootVpIndex type mistake

* In a minroot configuration, everything assigned to the VM > the hosts
logical processors will return -1 for RootVpIndex, so unmarshalling into a
unsigned integer will fail if the virtual processor count assigned to the UVM is
greater than the hosts amount. This was an oversight as our schema generates
uints as regular ints and when manually changing them I missed that RootVpIndex
was not also a uint.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Enable external GCS connection for all of WCOW.

Signed-off-by: Amit Barve <ambarve@microsoft.com>
Add DefaultVSMBOptions function and remove guestrequest parameter

* As we use almost the same set of VSMB options throughout the codebase,
this consolidates the settings into a single function instead of having to
set them manually each time.
* Remove guestrequest object from VSMBShare struct and AddVSMB as it isnt used
anywhere.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
go.mod: bump containerd/cgroups etc

This is mostly to update dependencies.

Since we have updated x/sys/windows, make cmd/containerd-shim-runhcs-v1
use the new windows.SecurityDescriptorFromString(), removing the ugly
unsafe cast.

Signed-off-by: Kir Kolyshkin <kolyshkin@gmail.com>
Remove VSMB GuestPath func

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add share file/directory command to shimdiag

* Add command to shimdiag to be able to share an arbitrary directory/file
from the host into the UVM.
* Export new GuestRequest method on UVM to be able to issue arbitrary guest requests.
* Some misc comment/code fixes.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Exposing VXLAN ports configuration

Signed-off-by: JocelynBerrendonner <jocelynb@microsoft.com>
Fix the timestamp bug in pulling a multi layer image.

When pulling a multilayer image, the delta layers can delete some files or create new hard links. We have to do this file deletion or hard link creation after we are done with the ImportLayer call. However, these operations alter the last modification timestamps of the parent directories of these files. Some container applications depend on these timestamps and these applications don't work as expected when we delete the files or create hardlinks. This change reverts the timestamps after doing the delete or hard link creation operation so that the container applications depending on them aren't affected.
Also, until now we only did this for files that aren't symlinks, with this change we will do it for files that are symlinks too. This had to be done because while exporting a layer we sometimes incorrectly adds the symlink attribute to a directory that isn't actually a symlink.

Signed-off-by: Amit Barve <ambarve@microsoft.com>
Remove block on processor weight/maximum for WCOW process-isolated

Previously there was an OS bug that prevented processor weight/maximum
from working properly. This has now been fixed and backported to 1809+,
so it is safe to remove this block.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Change image timestamp test to use 19H1 runtime class

This test involves running a 19H1-based image, and previously used
the wcow-hypervisor runtime class which uses the host OS version. This
caused the test to fail to run on RS5. This change fixes this by
explicitly using the 19H1 runtime class.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Updating DSR version check to 9.3-9.max, 10.2+
Add test for WCOW kubernetes.io~empty-dir support
Add support for Windows 2004 release to test suite

Also ran `go mod tidy` to clean up test modules file.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Add Windows V19H2 (1909) to builds list

It's not ""semi-annual"" if you're 12 months apart.

Mainly useful for vendoring, no tests currently distinguish V19H2
behaviour.

Signed-off-by: Paul ""TBBle"" Hampson <Paul.Hampson@Pobox.com>
Add tests for sharing devices from the sandbox into a lcow container

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Fix VSMB to not mix up rw/ro shares

The VSMB code attempts to create as few actual shares as possible. This
is done by ref-counting existing shares so that if the same directory is
shared again, the old share is used instead. However, the mechanism for
looking up an existing share currently only keys off of the share path.
This has the unfortunate affect that a read-only share can be repurposed
as a read-write share.

I first looked at fixing this by more broadly refactoring the VSMB code,
with the aim of not only fixing this bug, but also removing some of the
hacks that were put in place to support single-file mapping. However,
that work ended up complicating things a lot, so I think other cleanup
work will need to be done first before that broader refactoring can
be merged.

As a more immediate and tactical fix, I have now simply changed the way
we create keys to look for an existing VSMB share. The key now includes
both the host path and the rw/ro state of the share. This should allow
for read-only and read-write shares of the same directory to coexist.

One consequence of this change is that operations like RemoveVSMB and
GetVSMBUvmPath now need to know the rw/ro state of the share, so they
can operate on the correct share. To resolve this, I have added a
readOnly parameter to the signatures of these functions, and updated the
callers to pass the correct value in.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Add test for reusing ro VSMB share as rw

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Fix comment on CreateScratchLayer

CreateScratchLayer doesn't take a parent id anymore, just the list of parent layer paths, since in 0.7.0

Signed-off-by: Paul ""TBBle"" Hampson <Paul.Hampson@Pobox.com>
Teach wclayer to mount volumes at mountpoints

This just makes life slightly easier when debugging or inspecting
wclayer behaviours.

Signed-off-by: Paul ""TBBle"" Hampson <Paul.Hampson@Pobox.com>
L4 proxy policy

Signed-off-by: netal <netalgupta17@gmail.com>
Update AclSupportForProtocol252Version to support versions > 11.0

Signed-off-by: vidushv <vidushv@gmail.com>
Update test module vendoring

The vendoring for the test module was out of date, which caused build
failures. Ran `go mod vendor` to update the vendoring.

Signed-off-by: Kevin Parsons <kevpar@microsoft.com>
Refactor code in hcsoci into logical packages
* Created a new package `cmd` that contains code for running processes in a compute system
* Created a new package `resources` that contains code for creating, updating, releasing container resources
* Created a new package `credentials` which handles container credential guard instances needed for gmsa
* Created a new package `layers` that contains code for creating container image layers

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Fix flaky cri-containerd LCOW events test

* Move the context.WithTimeout after the setup/launch of the sandbox/uvm
to avoid hitting the timeout and failing the test.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Fix LpIndex JSON annotation

* Fix the LpIndex JSON annotation in the LogicalProcessor v2 HCS schema
from being the wrong value.

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Add ability to query NT obj directories
* create new pkg `winapi` that contains the low level syscall bindings
for windows dll api calls
* add device querying code with CM* api to new package `windevice`
* add code to enumerate NT object directories in pkg `winobjdir`

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Create new utility 'device-util' for querying pnp information of devices
* Add a new shim option for the `device-util` path

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add commands for pnp device querying/management
* Add new comma separated annotation ""io.microsoft.assigneddevice.kerneldrivers""
for path to device drivers
* Add commands to install kernel drivers
* Add command to query UVM for pnp device information

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add ability to handle assigned devices for WCOW
* Add ability to parse assigned devices
* Add function to query UVM for location paths of child devices assigned
* Add new prefix for container spec specified devices in vpci
* Remove block on assigning devices in WCOW

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Use previously defined functions to allow device assignment
* Extend parsing of assigned devices on the hcsv2 doc to include xenon
* Use functions that handle assigned devices when allocating
windows container resources

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add e2e tests for assigned devices in WCOW

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add prepare-disk command

Prepare-disk command formats a given disk with ext4. This is required for a disk(as passthrough) to be made available within a container. Here is an excerpt from a configuration for such a scenario.

          ""mounts"": [
            {
              ""host_path"": ""\\.\PHYSICALDRIVE2"",
               ""container_path"": ""/disk""
            }
          ]

The gcs/runc combo expects the pass-through disk to be formatted and tries to mount it on a local path within the uvm. Prepare-disk ensures that this restriction is met.

Note: Full disk is formatted with ext4 without any partitioning. TODO: add options to allow partitioning and then formatting.

Signed-off-by: Krishnakumar R(KK) <65895020+kk-src@users.noreply.github.com>
Adding version check for L4WfpProxy endpoint policy

Signed-off-by: elweb9858 <elweb@microsoft.com>
Revendor Microsoft/go-winio to v0.4.15-0.20200908182639-5b44b70ab3ab

This pulls in the migration of go-winio/backuptar from the bundled fork
of archive/tar from Go 1.6 to using Go's current archive/tar.

Currently only affects the wclayer utility, but resolves a problem
creating OCI layers containing files larger than 8gB.

Signed-off-by: Paul ""TBBle"" Hampson <Paul.Hampson@Pobox.com>
Add new winapi bindings for job containers

* Add windows bindings needed for job containers work

Signed-off-by: Daniel Canter <dcanter@microsoft.com>
Fix schema memory size field type

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>
Add calls to modify UVM memory size and tests

Signed-off-by: Kathryn Baldauf <kabaldau@microsoft.com>","Highlights
shim: Added support for GMSA in HCS schema v2 process-isolated Windows containers.
shim: Added support for assigning host devices into process-isolated Windows containers.
shim: Correctly calculate cap for UVM CPU count when there are multiple processor groups on the host.
shim: Switched to connect directly to the GCS for hypervisor-isolated Windows containers. This should improve reliability and allow future innovations.
shim: Removed code that blocked processor weight/maximum to be set for processor QoS for process-isolated Windows containers. Previously there was an OS issue preventing this from working, but that has been fixed.
hcsshim package: Fixed an issue that could cause Windows container layers to have incorrect modification timestamps. This could lead to a case impacting container start time due to directory timestamps not matching the expected value.."
"wcow: support graceful termination of servercore containers () ()

* This commit includes the changes to enable graceful termination of WCOW containers

(cherry picked from commit 5cfbc2ac27e4aa4c2559a1bc7d0e4687e9279352)

Signed-off-by: Kirtana Ashok <Kirtana.Ashok@microsoft.com>
Co-authored-by: Kirtana Ashok <Kirtana.Ashok@microsoft.com>
Fix graceful termination test errors () ()

- Loosen the time interval check that measures the time taken to
stop the container with -t command to account for cloud test delays
- Add to check that OS version is V21H2Server since the graceful
termination test images are based on servercore and nanoserver 2022.



(cherry picked from commit 5e3a6dfa5fdcb695748e19f03d5ffb5127a7588a)

Signed-off-by: Kirtana Ashok <Kirtana.Ashok@microsoft.com>
Co-authored-by: Kirtana Ashok <Kirtana.Ashok@microsoft.com>","What's Changed
[release/0.9] Fix graceful termination test errors () by @kiashok in
Full Changelog: v0.9.7...v0.9.8"
"release version 6.0.3
chat: log and re-emit token fetching errors
add eventsub follows v2
New Helix follower endpoints ()

* New Helix follower endpoints

* Minor description fix

* Fixes

* Clarify description
fix adding user to provider from expired token
add some logging to eventsub
fix eventsub http docs
release version 6.0.4","Features
[api] add new follow endpoint (7374925)
[eventsub] add follows v2 (25983ab)
[chat] log and re-emit token fetching errors (45e187c)
[eventsub] add some logging for subscription failures and too short secrets (ecb376e)
Fixes
[auth] fix adding user to provider from expired token (84e08de)"
"Update go-winio to v0.6.2 & fix lint errors

Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>
OutBoundNATPolicy Schema changes ()

Signed-off-by: Debjit Mondal <debjitmondal@microsoft.com>
(cherry picked from commit c79a6310e6f15a893430063ca76f44dcb7711426)
Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>
Changes for checking the global version for modify policy version support. ()

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
(cherry picked from commit 8beabacfc2d21767a07c20f8dd5f9f3932dbf305)
Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>
Adding support for loadbalancer policy update in hns. ()

Signed-off-by: Prince Pereira <ppereira@microsoft.com>
(cherry picked from commit 0f7d8de9948c3ebfd45911dc55b451d8902d48b2)
Signed-off-by: Kirtana Ashok <kiashok@microsoft.com>","What's Changed
[release/0.12] Backport networking commits by @kiashok in
Full Changelog: v0.12.3...v0.12.4"
"Add echarts-gl in README
Fix axis pointer label z when inside: true.
release 3.5.4","NOTE: This is a Non-Apache Release
[^] Fixed the clipPath support for liquidfill.
[^] Fixed the position when label is set as insideTop.
[^] Fixed the problem when transforming SVG PathData."
"v0.7.14 ()

### Bug Fixes
* remove use of private API ([](https://github.com/awslabs/jsii/issues/351)) ([874cbac](https://github.com/awslabs/jsii/commit/874cbac)), closes [](https://github.com/awslabs/jsii/issues/350)
* **jsii-dotnet-runtime:** Fix EPIPE on Windows. ([1d7cc8b](https://github.com/awslabs/jsii/commit/1d7cc8b)), closes [](https://github.com/awslabs/jsii/issues/341)
* **jsii-dotnet-runtime:** Redirect to STDERR. ([e20f401](https://github.com/awslabs/jsii/commit/e20f401))
* **kernel:** Improve tagged type of wire values ([](https://github.com/awslabs/jsii/issues/346)) ([8ea39ac](https://github.com/awslabs/jsii/commit/8ea39ac)), closes [](https://github.com/awslabs/jsii/issues/345)

### Features
* **jsii:** support multiple class declaration sites ([](https://github.com/awslabs/jsii/issues/348)) ([4ecf28c](https://github.com/awslabs/jsii/commit/4ecf28c))
* Generate NuGet symbol and source packages ([](https://github.com/awslabs/jsii/issues/243)) ([aafd405](https://github.com/awslabs/jsii/commit/aafd405))
docs: instructions for building superchain in contribution guide ()
fix(jsii): detect double interface member declarations ()

In C# it's prohibited to declare an interface member
that also exists in an inherited interface. Have jsii
detect this illegal pattern.

Strictly speaking, this only true if we don't overload,
but since we don't support overloading anyway we just
check on the member names, not the types.

Fixes.
fix: Bump version of Jackson because of CVEs ()

Versions low than 2.9.8 have a number of CVEs filed against it.
fix(jsii-pacmack): default to target directory mode ()

Always generate to `$root/dist/TARGET`, even when only
generating one target. Don't double up on 'dotnet' name.

This behavior works better
for selectively building targets in a larger build that
expects certain naming conventions.
feat(jsii-reflect) Add TypeSystem.hasAssembly & other features ()
v0.7.15 ()

### Bug Fixes

* **jsii-pacmack:** default to target directory mode ([](https://github.com/awslabs/jsii/issues/363)) ([967d917](https://github.com/awslabs/jsii/commit/967d917))
* **java-runtime:** Bump version of Jackson because of CVEs ([](https://github.com/awslabs/jsii/issues/362)) ([140aa4d](https://github.com/awslabs/jsii/commit/140aa4d))
* **jsii:** detect double interface member declarations ([](https://github.com/awslabs/jsii/issues/360)) ([b2b2c89](https://github.com/awslabs/jsii/commit/b2b2c89)), closes [](https://github.com/awslabs/jsii/issues/340)","Bug Fixes
jsii-pacmack: default to target directory mode () (967d917)
java-runtime: Bump version of Jackson because of CVEs () (140aa4d)
jsii: detect double interface member declarations () (b2b2c89), closes"
"Embed dotnet-generator into pacmak ()

Since dotnet uses an external program to generate .NET, we need this
tool to be available when running pacmak.

This change embeds the .NET code generator (and all needed deps) into
jsii-pacmak. Size of pacmak tarball is not 4MiB (not so bad).

Also: change all modules that are not published to npm to ""private: true""

Update tgz with placeholders.
Use jsii-java-runtime as a devDependency ()

Instead of looking up the maven repo of jsii-java-runtime in the repo
structure, define it as a devDependency and attempt to `require` it.
If it exists, it adds the local maven-repo to the user.xml maven settings
during build. Otherwise, it will just download from maven.

Also, adds a test to jsii-pacmak that recursively builds the
entire jsii-calc stack in all languages.
Denote the optional aspect of types when describing them ()

Makes the error message when an optional type is overridden with a non-optional:

```
// Old, broken error message
Error: @aws-cdk/aws-codebuild.Project.role: type changed from @aws-cdk/aws-iam.Role (in @aws-cdk/aws-codebuild.ProjectRef) to @aws-cdk/aws-iam.Role

// New, fixed error message
Error: @aws-cdk/aws-codebuild.Project.role: type changed from @aws-cdk/aws-iam.Role? (in @aws-cdk/aws-codebuild.ProjectRef) to @aws-cdk/aws-iam.Role
```
Upgrade typescript to 3.0.1 ()

This is mostly a semver bump for `typescript` as the new release is essentially backwards-compatible at the compiler API level (proof of this being the existing tests all pass without change).

However, added support for the new `unknown` type (modeled as if it was `any` in the assemblies), as this can allow for slightly tighter type checking in TypeScript, which can be welcome in certain scenarios.
Fix bad import. ()
Build .NET sources by default when running `jsii-pacmak`. ()

* Split `jsii-dotnet-runtime`'s integration tests into a separate package, which breaks a dependency loop with `jsii-pacmak`.
* Generate `PackageReference`s for assemblies, rather than `ProjectReference`s.
* Implement `Target.build` for .NET.
Simplify getting started
v0.6.3 ()","New features
Produce .nupkg for .NET targets ()
Upgrade TypeScript to 3.0.1 ()
Bug Fixes
Denote the optional aspect of types when describing them ()"
"fix(pie): hide labelLine emphasis when inside
fix(map): ensure children have been added to group before calling `resetEventTriggerForRegion`, resolves.
fix(tooltip): the position of tooltip may be not incorrect if appendToBody, resolves.
move guideline (re)creation
style: format code
doc: update pr template with zr daily build
test: fix ts-jest don't work on zrender. remove canvas dependency
chore: not install from github zrender in the ci test.
fix(type): remove template string in exported type.
chore: add DTS test in the workflow.

Also throw error when TS compile error.
chore: add node modules cache
chore: workflow enhancement ()
chore: pack RELEASE_NOTE.txt into src.zip
chore: comment error, adjust visualmap description ()

Co-authored-by: fuchunhui <fuchunhui@baidu.com>
test: add example for the usage in source release checking
chore: fix typescript version ()
fix(map): fix wrong usage of change state manually
chore: update package-lock.json
fix: default to show tooltip in geo component
release 5.1.1","[Fix] [geo] Fix tooltip don't show on geo component. (pissang)
[Fix] [tooltip] Fix the position of tooltip may be incorrect when appendToBody. (plainheart)
[Fix] [map] Fix tooltip may have error on map series. (plainheart)
[Fix] [pie] Fix labelLine may still appear on emphasis when changed from outside to inside. (villebro)
[Fix] [type] Fix type error on earlier TypeScript versions. Close
[Fix] [type] symbolOffset incorrectly marked as mandatory. (villebro)"
"release: v0.20.5 ()

See CHANGELOG
release: v0.20.6 ()

The Dyanmic proxies were missing an implementation of `__setattr__`,
which caused setter invokations to not be forwarded to the `node`
process.

This is what causes aws/aws-cdk","Bug Fixes
python: dynamic proxies handling of setters (eec9640), closes aws/aws-cdk"
"v0.7.7 ()

Bug Fixes
=========

* **dotnet:** abstract classes should have proxy implementations ([](https://github.com/awslabs/jsii/issues/241)) ([828a26f](https://github.com/awslabs/jsii/commit/828a26f)), closes [](https://github.com/awslabs/jsii/issues/223)
* **jsii:** better usage reporting of private types ([](https://github.com/awslabs/jsii/issues/247)) ([96ac5d6](https://github.com/awslabs/jsii/commit/96ac5d6))
* **jsii:** support  public autoproperties in private constructor ([](https://github.com/awslabs/jsii/issues/256)) ([181012e](https://github.com/awslabs/jsii/commit/181012e))
* **jsii:** use default jsx compiler options ([](https://github.com/awslabs/jsii/issues/260)) ([660ae79](https://github.com/awslabs/jsii/commit/660ae79)), closes [awslabs/aws-cdk](https://github.com/awslabs/aws-cdk/issues/830)
* **jsii-dotnet-generator:** Use FQ type returns in conflict. ([](https://github.com/awslabs/jsii/issues/258)) ([a78784a](https://github.com/awslabs/jsii/commit/a78784a)), closes [](https://github.com/awslabs/jsii/issues/252)
* **jsii-runtime:** Use buffer factory methods instead of constructor. ([](https://github.com/awslabs/jsii/issues/246)) ([6ad6b9d](https://github.com/awslabs/jsii/commit/6ad6b9d))
* **kernel:** Return object literals as references ([](https://github.com/awslabs/jsii/issues/249)) ([61cb3a4](https://github.com/awslabs/jsii/commit/61cb3a4)), closes [](https://github.com/awslabs/jsii/issues/248) [awslabs/aws-cdk](https://github.com/awslabs/aws-cdk/issues/774)

Misc
====

bump.sh was updated to let ""lerna publish"" automatically determine
the version number using conventional commits.
chore: add Java test on autoprops from private constructor ()

Add a test for Java, and update the .NET test to use the static constructor as well.
fix(jsii): use base interfaces for 'datatype' property ()

If an interface inherits from a non-datatype interface, it should no
longer be classified as a datatype interface itself.

Making this change requires that information about the base classes
has already been determined, so I introduced an ordering mechanism
for 'deferred's.

Fixes.
fix: match behavioral interface to 'I'-prefix ()

This change incorporates two fixes that will make the tagging
of interfaces as datatypes more correct going forward:

- If a datatype candidate interface is named with an I-prefix
  (such as IConnectable), it will no longer be considered
  a datatype interface, regardless of whether it would qualify
  as one.

- If an interface contains behavior (is definitely not a datatype
  interface) then the name must start with an I as well.
fix: require distinct argument and property names ()

Restrict the usage of datatype parameters in functions, so that
languages with keyword argument support can inline datatype parameters
into the function declaration. This means it cannot share any field
names with remaining function argument names.

Fixes.
v0.7.8 ()

Bug Fixes
=======

* **jsii:** use base interfaces for 'datatype' property ([](https://github.com/awslabs/jsii/issues/265)) ([1c56902](https://github.com/awslabs/jsii/commit/1c56902)), closes [](https://github.com/awslabs/jsii/issues/264)
* **jsii:** use default jsx compiler options ([](https://github.com/awslabs/jsii/issues/261)) ([bf1f586](https://github.com/awslabs/jsii/commit/bf1f586)), closes [awslabs/aws-cdk](https://github.com/awslabs/aws-cdk/issues/830)
* match behavioral interface to 'I'-prefix ([](https://github.com/awslabs/jsii/issues/271)) ([03103f3](https://github.com/awslabs/jsii/commit/03103f3))
* require distinct argument and property names ([](https://github.com/awslabs/jsii/issues/272)) ([4d2f268](https://github.com/awslabs/jsii/commit/4d2f268)), closes [](https://github.com/awslabs/jsii/issues/268)","Bug Fixes
jsii: use base interfaces for 'datatype' property () (1c56902), closes
jsii: use default jsx compiler options () (bf1f586), closes awslabs/aws-cdk
match behavioral interface to 'I'-prefix () (03103f3)
require distinct argument and property names () (4d2f268), closes"
"chore(release): 1.17.0 ()

See [CHANGELOG](https://github.com/aws/jsii/blob/bump/1.17.0/CHANGELOG.md)
fix(python): process.terminate() got an unexpected keyword argument 'timeout' ()

Corrected usage of `process.terminate` to remove unexpected `timeout`
argument. Not sure how this did not surface in integration tests (will
investigate later).

Fixes","Bug Fixes
python: process.terminate() got an unexpected keyword argument 'timeout' (), closes"
"v0.7.5 ()

See CHANGELOG
feat(sphinx): allow readme file to define sphinx header and reorganize topic ()

* Fix: allow readme file to define sphinx topic header
* Fix: move multi-language tabs after readme
* Update README
fix: Sphinx generated incorrect type references for display ()

When rendering a type reference link, the trailing backtick must be followed by
a non-word character; however the code generated array and union references that
followed this backtick directly with `[` or `)` respectively. This caused a lot
of warnings to be emitted by `sphinx-build`, and resulted in incorrect output.

This adds an escaped space (`\ `) after the backticks, which `sphinx-build`
correctly interprets as a non-word character, but results in no character being
emitted to the output - thus generating the desired output.
fix(jsii): Defaulted parameters were not rendered as optional ()

Parameters with a default value were not represented as optional in the assembly
documents due to an oversight when re-writing `jsii`. There was also no coverage
in the test corpus for this use-case, so I've added some.

Fixes
fix(jsii): Optional `any` represented as required ()

* fix(jsii): Optional `any` represented as required

Optional parameters and properties typed `any` would be represented as
required, despite the code unambiguously suggests the opposite. This is
due to the fact that `any` implicitly covers `null` and `undefined`.
This change fixes this by adding a specific provision for the question
mark token in the declarations of those, and adds compliance test
coverage for the same.

Fixes

* Mark all `any` types as `optional`.
fix(jsii): Don't skip emit on TS errors when in ""watch"" mode ()

In watch mode, users expect to be able to be a little more drafty than when doing a plain compile cycle, as
they may edit code as part of a troubleshooting loop, that may involve for example leaving out unused
imports and the like. This change makes sure the `noEmitOnError` compiler option is set to false when
operating in `watch` mode, so the `.js` files get updated unconditionally.

Fixes
feat: Document overriden/inherited members ()

Add a documentation line outlining the parent declaration of overridden
members as well as inherited members that are not overridden locally.
This should make browsing the documentation a lot nicer.

Inherited and overridden statements in the documentation always refer to
the fully qualified name of the super statement.

Fixes
v0.7.6 ()

Bug Fixes
======================
 * Sphinx generated incorrect type references for display ([](https://github.com/awslabs/jsii/issues/232)) ([b664805](https://github.com/awslabs/jsii/commit/b664805))
* **jsii:** Defaulted parameters were not rendered as optional ([](https://github.com/awslabs/jsii/issues/234)) ([578bf9c](https://github.com/awslabs/jsii/commit/578bf9c)), closes [](https://github.com/awslabs/jsii/issues/233)
* **jsii:** Don't skip emit on TS errors when in ""watch"" mode ([](https://github.com/awslabs/jsii/issues/236)) ([30d1491](https://github.com/awslabs/jsii/commit/30d1491)), closes [](https://github.com/awslabs/jsii/issues/235)
* **jsii:** Optional `any` represented as required ([](https://github.com/awslabs/jsii/issues/237)) ([91074f3](https://github.com/awslabs/jsii/commit/91074f3)), closes [](https://github.com/awslabs/jsii/issues/230)

Features
======================
 * **sphinx:** allow readme file to define sphinx header and reorganize topic ([](https://github.com/awslabs/jsii/issues/229)) ([405da9c](https://github.com/awslabs/jsii/commit/405da9c)), closes [](https://github.com/awslabs/jsii/issues/228) [](https://github.com/awslabs/jsii/issues/185)
* Document overriden/inherited members ([](https://github.com/awslabs/jsii/issues/238)) ([7a6278a](https://github.com/awslabs/jsii/commit/7a6278a)), closes [](https://github.com/awslabs/jsii/issues/196)","Bug Fixes
Sphinx generated incorrect type references for display () (b664805)
jsii: Defaulted parameters were not rendered as optional () (578bf9c), closes
jsii: Don't skip emit on TS errors when in ""watch"" mode () (30d1491), closes
jsii: Optional any represented as required () (91074f3), closes
Features
sphinx: allow readme file to define sphinx header and reorganize topic () (405da9c), closes
Document overriden/inherited members () (7a6278a), closes"
"v0.7.9 ()

- Bump 0.7.9 and update CHANGELOG
- Update bump script to require manual version (due to pre-1.0 auto-bump behavior)
- Update bump script to align ""peerDependencies"" to ""dependencies""
fix(jsii): jsii-fix-peers missing in npm tarball ()
v0.7.10 ()

See CHANGELOG","Bug Fixes
jsii: jsii-fix-peers missing in npm tarball () (6915455)"
"docs: autoupdate
feat: add `SectionPrinter`
fix: fix `Sprintf` function of `HeaderPrinter`
test: add tests for `HeaderPrinter` and `SectionPrinter`
docs: autoupdate","Bug Fixes
fix Sprintf function of HeaderPrinter
Features
add SectionPrinter
Test
add tests for HeaderPrinter and SectionPrinter"
"docs: autoupdate
perf(header): calculate margin faster
fix(panel): Fix output when input is colored

Closes:
ci: fix unit test count glitch

Closes:
docs: autoupdate","Bug Fixes
panel: Fix output when input is colored
Ci
fix unit test count glitch
Performance Improvements
header: calculate margin faster"
"docs: autoupdate
add: proposal option to change checkmarks in the intercactive multisecect
refactor(progressbar): make add more safe
docs: autoupdate
mod: proposal option to change checkmarks in the intercactive multisecect
docs: autoupdate
feat(multiselect): added theme support for checkmarks
feat(multiselect): added theme support for checkmarks
docs(area): fixed godoc comment
test(multiselect): fixed test
docs: autoupdate
docs: autoupdate","What's Changed
Exciting New Features
feat(multiselect): option to change checkmarks by @KarolosLykos in
feat(theme): added theme support for checkmarks by @MarvinJWendt in
Other Changes
refactor(progressbar): make add more safe by @MarvinJWendt in
Full Changelog: v0.12.51...v0.12.52"
"docs: autoupdate
ci: add cache dependencies
error syntax
docs: autoupdate
docs: added `keys.Space` as unsafe when `Filter` is enabled.
ci: added `reviewdog`
ci: added `reviewdog`
docs: autoupdate
ci: added `reviewdog`
ci: added `reviewdog`
ci: added `reviewdog`
ci: added `reviewdog`
ci: added `reviewdog`
docs: autoupdate
Add OnExit function for interactive text inputs to avoid immediate os.Exit()
Add tests for OnExit function for interactive printers
Rename text input interrupt function to OnInterrupt()
Default to no action on cancelation to avoid unexpected exit
Rename to WithOnInterruptFunc for consistency
fix(box): fixed wrong title length calculation
docs: autoupdate
chore(deps): bump atomicgo.dev/cursor from 0.1.1 to 0.1.2

Bumps [atomicgo.dev/cursor](https://github.com/atomicgo/cursor) from 0.1.1 to 0.1.2.
- [Release notes](https://github.com/atomicgo/cursor/releases)
- [Changelog](https://github.com/atomicgo/cursor/blob/main/CHANGELOG.md)
- [Commits](https://github.com/atomicgo/cursor/compare/v0.1.1...v0.1.2)

---
updated-dependencies:
- dependency-name: atomicgo.dev/cursor
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
ci(lint): disable `interfacer` as it's deprecated
ci(lint): fix reviewdog token
Attempt to fix reviewdog
ci: revert to classic `golangci-lint` action

(cherry picked from commit 4141c4ce017c2e5487bf247c03fe171859c14c50)
ci(lint): refactor linting workflow
ci(lint): refactor linting workflow
docs: autoupdate
docs: autoupdate
feat: add filter option for `select`

- Add Filter attribute
- Add WithFilter method
- Limit fuzz search for when p.Filter is enabled
- Change content on renderSelectMenu
- Create test for WithFilter method

Signed-off-by: alireza <alirezaarzehgar82@gmail.com>
refactor: use WithBoolean method on WithFilter method of select printer

Co-authored-by: Marvin Wendt <git@marvinjwendt.com>
refactor: use WithBoolean on multiselect printer

Signed-off-by: alireza <alirezaarzehgar82@gmail.com>
refactor: use WithBoolean on multiselect printer

Signed-off-by: alireza <alirezaarzehgar82@gmail.com>
docs: autoupdate
docs: autoupdate
chore(deps): bump golang.org/x/term from 0.8.0 to 0.10.0

Bumps [golang.org/x/term](https://github.com/golang/term) from 0.8.0 to 0.10.0.
- [Commits](https://github.com/golang/term/compare/v0.8.0...v0.10.0)

---
updated-dependencies:
- dependency-name: golang.org/x/term
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump golang.org/x/text from 0.9.0 to 0.11.0

Bumps [golang.org/x/text](https://github.com/golang/text) from 0.9.0 to 0.11.0.
- [Release notes](https://github.com/golang/text/releases)
- [Commits](https://github.com/golang/text/compare/v0.9.0...v0.11.0)

---
updated-dependencies:
- dependency-name: golang.org/x/text
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
docs: autoupdate
fix: fixed area on Windows
docs: autoupdate","What's Changed
Exciting New Features
feat: added filter option for select printer by @alirezaarzehgar in
Fixes
fix(box): fixed wrong title length calculation by @MarvinJWendt in
fix: fixed area on Windows by @MarvinJWendt in
Other Changes
ci: add cache dependencies by @9bany in
docs: added keys.Space as unsafe when Filter is enabled. by @MarvinJWendt in
ci: added reviewdog by @MarvinJWendt in
ci: revert to classic golangci-lint action by @MarvinJWendt in
Add OnExit function for interactive text inputs by @lammel in
refactor: use WithBoolean on multiselect printer by @alirezaarzehgar in
New Contributors
@9bany made their first contribution in
@lammel made their first contribution in
@alirezaarzehgar made their first contribution in
Full Changelog: v0.12.62...v0.12.63"
"docs: autoupdate
fix: the interactive confirm answers should match the confirm/reject text

Signed-off-by: Luis Davim <luis.davim@sendoso.com>
test: add tests for custom answers
chore: disable gocritic ""preferDecodeRune""
fix: make sure the interactive printers can cleanup after Ctrl+C

After canceling the interactive printers with Ctrl+C, `os.Exit` was
directly called in the keyboard listener. Because of this the
`defer` statements of the surrounding function were not called
(for example `cursor.Show`) and the keyboard listener
was still running.
This resulted in a broken user ""terminal"" (no Cursor, no Ctrl+C)
docs: autoupdate
docs: autoupdate","What's Changed
Fixes
fix: the interactive confirm answers should match the confirm/reject text by @luisdavim in
fix: make sure the interactive printers can cleanup after Ctrl+C by @jochil in
New Contributors
@luisdavim made their first contribution in
@jochil made their first contribution in
Full Changelog: v0.12.44...v0.12.45"
"docs: autoupdate
chore(deps): update dependencies
docs: autoupdate
test: add better test names for `RGB` tests
ci: add json output on unittest count fail
ci: add timeout to unittests
docs: autoupdate
ci: disable parallel tests
docs: autoupdate
ci: add stats
ci: disable bodyclose
ci: fix generation of readmes
docs: autoupdate
ci: disable parallel unit test counting
docs: autoupdate
test: different test logic for rgb printing
docs: autoupdate
test: reduce tests
docs: autoupdate
ci: disable ubuntu and macOS tests

The linux terminal cannot handle the huge amounts of tests and will be too slow, which results in failing tests randomly. Like literally randomly. Same test - 10 tries - 3 fails?!?! Windows works fine, so for now this will be our only test. Tbh if it works in windows it works in linux too. Just the test system fails on linux due to their stdout limitations.
docs: autoupdate","Chore
deps: update dependencies
Ci
disable ubuntu and macOS tests
disable parallel unit test counting
fix generation of readmes
disable bodyclose
add stats
disable parallel tests
add timeout to unittests
add json output on unittest count fail
Test
reduce tests
different test logic for rgb printing
add better test names for RGB tests"
"1.26.0
rm arrayOk: true from contourcarpet `value` attr declaration
fix - split up fill and fill-opacity for pies
pie test tweaks
update changelog for 1.26.1
1.26.1","Fixed
Fix pie fill opacity []
Fix contour.value declaration for contourcarpet trce []"
"docs: autoupdate
chore(deps): bump atomicgo.dev/keyboard from 0.2.8 to 0.2.9

Bumps [atomicgo.dev/keyboard](https://github.com/atomicgo/keyboard) from 0.2.8 to 0.2.9.
- [Release notes](https://github.com/atomicgo/keyboard/releases)
- [Commits](https://github.com/atomicgo/keyboard/compare/v0.2.8...v0.2.9)

---
updated-dependencies:
- dependency-name: atomicgo.dev/keyboard
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
docs: autoupdate
fix(tree): print top node
docs: autoupdate","What's Changed
Fixes
fix(tree): print top node by @MarvinJWendt in
Full Changelog: v0.12.53...v0.12.54"
"docs: autoupdate
docs(readme): updated styling
docs: autoupdate
chore(deps): update testza
docs: autoupdate
feat: added a custom writer for all printers
remove from area printer due to more complex requirements. SAdd to basic text printer
remove unused type
Use default outputter if none is provided
rename to WithWriter
add basic tests
confirm correct writer is used
docs: autoupdate","What's Changed
Exciting New Features
feat: added a custom writer for all text printers by @Brookke in
New Contributors
@Brookke made their first contribution in
Full Changelog: v0.12.39...v0.12.40"
"1.21.1
filters use valuecalendar and targetcalendar instead of calendar
accept targetcalendar if attribute has no allowed calendar
and fix tests
backward compat calendar -> valuecalendar in filters
Compress away nulls when adding frames
Fix lint errors
Further check that *is* plain object instead of simply truthy
make Plots.graphJson serialize frames too
fixup: forgot to clear graph div
improve Plots.graphJson test
improve Plots.graphJson test (2)
update changelog for 1.21.2
1.21.2","Fix handling of calendar in filter transforms where distinct calendars can
now be set for both the target and value []
Make Plotly.addFrames skip over non-plain-objects inputs []
Make Plots.graphJson aware of frames []"
"1.16.0
Create SECURITY.md
Talk about typical use case & CDN removals
minor readability updates
Revert ""Merge pull request from plotly/fix-plotcss-test-bug""

This reverts commit 8942fd3dc726e877391ae10846f5b753bb80b9d3, reversing
changes made to 474891d0f88850d0fb2ffc088310930a30a1ca52.
Revert ""Merge pull request from nielsenb-jf/fix_child_window""

This reverts commit 85c2e2050f9aa8c7ec9abb854095992b3a99cd5f, reversing
changes made to 48eec0ccdfe3daad599a7134e5afa87b5b19ee1e.
update changelog for 1.16.1
1.16.1","Changed
Drop support for plotting in child windows which broke Plotly.plot in
some numerous browsers (e.g. FF46, FF47, FF48) []"
"docs: autoupdate
feat: add handler for log/slog in go1.21 ()
docs: autoupdate","What's Changed
Exciting New Features
feat: add handler for log/slog in go1.21 by @MarvinJWendt in
DEMO & EXAMPLE
Full Changelog: v0.12.66...v0.12.67"
"docs: autoupdate
examples: fix typo in demo ()
docs: autoupdate
fix(logger): `LogLevelDisabled` does no longer print anything ()
docs: autoupdate","What's Changed
Fixes
fix(logger): LogLevelDisabled does no longer print anything by @MarvinJWendt in
Other Changes
examples: fix typo in demo by @jrschumacher in
New Contributors
@jrschumacher made their first contribution in
Full Changelog: v0.12.72...v0.12.73"
"docs: autoupdate
fix(table): fixed panic when multiple lines contained color in a single row
docs: autoupdate","What's Changed
Fixes
fix(table): fixed panic when multiple lines contained color in a single column by @MarvinJWendt in
Full Changelog: v0.12.55...v0.12.56"
"1.17.0
clean up old scatter traces that were restyle to 'visible: false'

- as of PR, scatter traces are no longer purged
  in the per-subplot cartesian plot step - to maintain
  consistency between transitions.
- While the scatter plot module can remove individual
  'visible: false' traces, when all scatter traces are restyled
  to 'visible: false' the scatter plot module is currently not called!
test: add case for scatter Plotly.restyle(gd, 'visible', false)
coerce 'name' in visible: false traces
relayout: make updates to layout.paper_bgcolor go through replot

- that's because legend and updatemenus depend on 'paper_bgcolor'
  to default their own 'bgcolor' attribute.
update changelog for 1.17.1
1.17.1","Fixed
Restyling visible to false on all scatter traces present on a graph
is now working again (bug introduced in 1.17.0) []
Relayouting paper_bgcolor now properly propagate to legend
and updatemenu `bgcolor []
Mapbox plot routine no longer make request to public Mapbox server
when linked to a Mapbox Atlas instance []"
"1.33.0
Update es.js

* Added translation for `Click to enter radial axis title`
* Added translation for `new text`
allow selection.style getter in event handlers
make sankey respect layout.colorway
use default colors in one sankey mock
re-enable click for fixedrange plots
extend cartesian drag tests for new fixedrange/click handling
and fix fx test
fix - ghost fill tonext when either trace is emptied out
Bump regl-scatter2d
Squashed commit of the following:

commit ec8c3d78a29d28c928d55dc8c41901ce169ee0fc
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 16:32:49 2018 -0500

    Adjust timeouts

commit 109ffe5de2f0517c3055e85689eb51849d86e6a2
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 16:04:42 2018 -0500

    Make test run more securely

commit c7c0a4a02ab9b51ab03b987e673643fc76bc240a
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 15:16:33 2018 -0500

    Split gl_plot_interact by two

commit e43507e8c8e37440749aeb3a590902143f0145d5
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 15:03:15 2018 -0500

    Increase timeout

commit 9251311871af653877ef099d80752429436d394f
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 14:36:31 2018 -0500

    Loosen test precision

commit 22112f9aa37e06958ad5f81defd821eb4c79623c
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 12:53:26 2018 -0500

    Unsingle test

commit 39be2566e73838cf0001ef4059adeba68fee8a14
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 12:51:57 2018 -0500

    Avoid randomity in test

commit 8692ec989d9adc301c5919ba83956305c193f32c
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 12:28:31 2018 -0500

    Reduce timeout interval

commit 348d4d09a2766152730e8242b6ff9abbc94cdfef
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 12:27:14 2018 -0500

    Add big points selection test

commit 1f6e68b554b3f5a29331a685a2cb28ecd775cd51
Merge: 022e7e1 c28f498
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 11:44:06 2018 -0500

    Merge branch 'master' into reglscatter-fix

    Conflicts:
    	package.json

commit 022e7e18c7ae72c4564218527d28956bffe34c99
Author: Dmitry <df.creative@gmail.com>
Date:   Mon Jan 22 11:43:28 2018 -0500

    Bump deps

commit 373c5b3b1308f33d1dedb8d846ddf43dbc6bacf3
Author: Dmitry <df.creative@gmail.com>
Date:   Fri Jan 19 12:11:10 2018 -0500

    Bump regl-scatter2d
Fix resizing layout
Add canvas width test
Gate _glcanvas check
fix the title side for odd cheaterslope situations
fix carpet axis title side when no tick labels are present
fix - smoothed coloring and hover data for nonuniform bricks
pull out some pure functions from heatmap/plot for easier reasoning
update contour_heatmap_coloring baseline
:hocho: commented-out code
Update CHANGELOG.md for 1.33.1
bump node-sass
remove npm ls from preversion
3 of us all get different errors trying to run npm ls
1.33.1","Fixed
Fix selection on scattergl plots with >20k points []
Update Spanish localization with new strings []
Fix test_dashboard overly rigid restriction so parcoods works there []
Make layout.colorway compatible with sankey traces []
Fix click events on fixedrange subplots []
Remove ghost fill when trace data is emptied out []
Fix resizing of new scattergl plots []
Fix positioning of carpet axis titles for cheaterslope edge cases []
Fix coloring and hover info for heatmaps and contour maps with nonuniform bins []"
"1.42.2
added few more optional packages in lock
rearrange lib array functions and add type-safe concat
fix and :lock: histograms with TypedArrays
revert accidental package-lock changes
add finance trace hover tests
fix arrayOk hoverinfo support for finance traces
set arrayOk:false in parcats attributes
fix pie text color restyles
set bar textfont.color editType to 'style', add react tests
check that Lib.concat calls Array.concat when it should
update changelog for 1.42.3
1.42.3","Fixed
Fix histogram binning for typed array inputs (bug introduced in 1.42.0) []
Fix textfont color restyle calls for pie traces []
Fix textfont color editType for bar traces []
Fix array hoverinfo support for ohlc and candelestick []
Correctly list parcats hoverinfo attributes which does not support array inputs []"
"1.41.0
fix - fill and layering for multiple stackgroups and unstacked scatter traces
fix - allow deleting stack groups
and along the way speed up trace deletion in general, by not redrawing
all the points in the deleted trace immediately before removing them!
describe fill reordering in scatter attributes
scatter3d errorbars now fallback to default attributes if error_z is empty
clean cruft out of stacked_area_groups mock
scatter3d error bars add baseline
pull out should-have-zeroline logic from doTicks

- in the process, pull out clipEnds, anyCounterAxLineAtZero and
  hasBarsOrFill
- attach 'clipped' grid values to ax._valsClipped
:hocho: unused (obsolete?) 'hidegrid' logic
use shouldShowZeroLine for splom regl grids

- lock down showline/zeroline behavior
- draw zeroline above grid lines
- adapt regl grid test values
don't skip over dtick and tick0 in geo subplot in diffLayout

- tick0 and dtick *do* have defaults (filled in supplyDefaults),
  which make them compatible with the stock diffing algorithm.
scatter3d use error bars' defaults values when possible
don't attempt to draw radial axis when *polar.hole* is set to 1
fix - inserting new first gap points in previous traces
flatten scatter cross_trace_calc functions
to avoid future accidental use of outer-scope vars
fix stacked area jasmine tests for consistency with updated mock
scatter3d errorbars update baselines

gl3d_errobars_zx.json had to be updated because thickness is defined per axis instead of previously being determined by the thickness of error_z
no need to draw inner sector when range[0] is clamped to origin
draw sectors that span more than 2pi as 'full' circle
id should be a string not a length-1 array

- this didn't lead to any bugs, as
  var a = ['x' + 'y']
  var b = {}
  b[a] = 1
  // => {'xy': 1}
try adding @noCI to plotly_webglcontextlost test
tag new select test as @flaky
add hole=1 subplot to polar_blank mock
changelog for 1.41.1
1.41.1","Fixed
Bring back hover labels on ""touch"" hover (bug introduced in 1.29.0) []
Fix MathJax rendering in legends []
Fix fill and layering for multiple stack-groups and unstacked scatter traces []
Fix removal of scatter traces with set stackgroup []
Fix stacked area gap insertion edge case []
Fix zeroline logic for splom-generated axes []
Fix error_x and error_y on scatter3d w/o error_z []
Fix scatter3d error bars on log axes []
Fix Plotly.react when updating geo axis dtick []
Fix polar.hole=1 case []
Fix handling of polar.sector that span more than 360 degrees []"
"1.54.4
refactor box plot
fix issue 4933 for ohlc, candlestick and box plots
 - adjust position on axes with rangebreaks
handle undefined args in Plotly.validate
Fix divider placement on reversed axes
Add mock for reversed axis dividers
Rewrite divider check for reversed axis
Replace baseline with Docker-generated image
Add check for empty vals in getDividerVals
update changelog for v1.54.5
1.54.5","Fixed
Fix placement of dividers on reversed-range multicategory axes []
Fix placement of candlestick, ohlc and box plots on axes with rangebreaks []
Handle undefined layout and data arguments in Plotly.validate []"
"1.50.0
improve assertSpies

- make testing `invocationOrder` possible, along side
  ""did get called"" vs ""did not get called"" checks
- adapt assertSpies calls that checked arguments from multiple calls
  of a given spy, now each ""expectations"" item corresponds to
  one function call
spyOn Axes.drawOne in ""layout + traces react transition"" test

- this will help lock down a fix for:
  https://github.com/plotly/plotly.js/issues/4251
fix - add delay before transitionTraces()

... to remove ""jump"" caused by transitionTraces()
add a few flaky tags in transition_test.js
bug fix issue 4258
add test to lock missing dimension in streamtube starts
Check for typed array in minExtend

Modified minExtend to check for both arrays and TypedArrays
do not attempt to re-hover on exiting subplots
warn + exit early when Fx.hover is called w/ unrecognized subplot id
try to :hocho: (very) old sync/out-of-sync logic
do not attempt to re-hover on exiting mapbox subplots
guard against mirroed+autorange anchor:'free' axes

- anchor:'free' axes don't draw mirror ticks, so they
  never need to contribute to the automargin push
add one more flaky tag in transition_test.js
PR-4286:
Updated broken test
Used subarray instead of slice for typed array to support older browsers
update changelog for 1.50.1
1.50.1","Fixed
Guard against mirrored + automargin anchor:'free' axes (bug introduced in 1.50.0) []
Fix streamtube trace starts case when missing a dimension []
Fix scattergl performance for drawing legend items of traces with typed arrays []
Fix legend item style for markers with typed array colors []
Do not attempt to re-hover on exiting subplots []
Fix ""layout first"" transition race condition []"
"1.38.2
Support transforms that make their own data without trace input data
fix - get the right traces in hist calc for cross-trace coupling
use gl-cone3d picking instead of gl-scatter3d overlay
[tmp] use gl-cone3d from https://github.com/gl-vis/gl-cone3d/pull/12
try fixing cone 'absolute' scaling
new cone baselines
fixup cone tests
fixups in sizeref description
improve sizeref default for 0-norm cones
bump gl-cone3d to 1.1.0
more sizemode/sizeref fixups
update changelog for 1.38.3
1.38.3","Fixed
Fix cone axis padding when under sizemode: 'absolute' []
Fix cone scaling on irregular grids []
Fix cone sizemode: 'absolute' scaling and attribute description []
Improve cone hover picking []
Fix exception during histogram cross-trace computations []
Fix handling of custom transforms that make their own data arrays []"
"2.3.0
no more [object Object] in hover data key
log for PR 5852
correct changelog PR 5125 was in v2.3.0
mention milestone 63 on the v2.3.0 changelog
link to closed items in milestones
mention milestone 62 on the v2.2.0 changelog
change trace names in hover label test case of all end alignments
revisit setting timezone
move up bundle to be under other jasmine tests
rename jasmine-bundle to bundle-jasmine
move up bundle-jasmine in config below other jasmine tests
use CircleCI environment TZ to set timezone
clear special handling for bars and scatter
new fix to work in different time zones
adjust test
run hover label tests in different time zones
log for PR 5864
do not redefine minPos and maxPos functions for bars with period
declare and reuse a variable for isClosest or period in bar hover
fixing hover for period group bars issue 5841
look into cd0 for the case of box and violin
more strict tests to lock issue 5841
update PR log
bring parts of the previous logic - use (x|y)End instead of pEnd etc.
handle undefined start and end periods
simplification for bar
add strict devtools
do not include regl based traces in strict bundle
log for PR 5865
update changelog and readme for v2.3.1
2.3.1","Fixed
Fix period positioned hover to work in different time zones as well as on grouped bars []
Use ids from axes when making hover data keys []
Do not include regl based traces parcoords, splom, scattergl and scatterpolargl in the ""strict"" bundle so that it could be used with CSP without WebGL warning []"
"2.10.0
bump sass 1.49.9
bump fs-extra 10.0.1
bump eslint 8.10.0
bump karma 6.3.17
bump plotly/robust-determinant and plotly/robust-linear-solve
rebuild stackgl to revert the effects of PR and
test to lock issue 6131
rename new mocks starting with z
update flaky baselines
update changelog and readme for v2.10.1
2.10.1","Fixed
Fix mesh3d generation when alphahull is a positive number (regression introduced in 2.5.1) []"
"2.24.0
Update CHANGELOG.md
fix arrayLen in minExtend
update changelog and readme for v2.24.1
2.24.1","Fixed
Fix minimal copying of arrays in minExtend function
(regression introduced in 2.24.0)"
"Bump CL
Detect xdebug.use_compression and set correct extension ()

* Detect xdebug.use_compression and set correct extension

Xdebug 3.1 enables compression of the cachegrind files automatically so
the extension of the output by default is not .cachegrind but
.cachegrind.gz.

This patch adds a check to see if compression is enabled and then uses
.cachegrind.gz instead of .cachegrind as extension.

* Add xdebug extension to phpstan config
Update CL
Address Package name change ()

Using v3 seems to be the correct move: https://github.com/sphinx-doc/sphinx/blob/v5.3.0/Makefile#L1
Add support for annotations 2 ()

* Remove call to deprecated method

It is no longer necessary since v1.10, and is removed in v2.0

* Add support for annotations 2

It should allow other packages to add support for doctrine/lexer 3
Bump ramsey/composer-install from 1 to 2 ()

Bumps [ramsey/composer-install](https://github.com/ramsey/composer-install) from 1 to 2.
- [Release notes](https://github.com/ramsey/composer-install/releases)
- [Commits](https://github.com/ramsey/composer-install/compare/v1...v2)

---
updated-dependencies:
- dependency-name: ramsey/composer-install
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
New GPG Key ()

* Update GPG ID

* Update docs
Update changelog","Improvements:
Update documentation to point to reference new GPG key
Support Doctrine Annotations 2.0 @greg0ire
Profiler: detect Xdebug .gz files when compression enabled @blackwolf12333"
"Prepare 7.4.1 release
:memo: encourage others to take over :rose:
Avoid autocompletion after semicolon and paren
chore(tsconfig) better error message
feat(tsconfig) udpate to latest to allow symlinks follow
closes https://github.com/TypeStrong/atom-typescript/issues/330
Prepare 7.4.2 release","Autocomplete : no longer auto trigger after a comma. Refs
Support symlinks. Refs"
"interp: fix type recursivity detection

Fix the logic to detect recursive struct types, which was giving a false positive.
We now use the local type name  as key in tracker map.

A non-regression test case is included (_test/struct49.go).

This completes.
interp: allow early constant evaluation from builtin call

One builtin has been identified to be used for constant definition:
len(), with a constant string argument. Add support for this.

Fixes.
interp: fix sending object implementing an interface through channel

A channel can be used to interchange data with the pre-compiled
runtime and therefore objects impletementing interfaces must be
wrapped if necessary, using genInterfaceWrapper.

A similar treatment could be applied when sending interpreted
functions over a channel, to be provided in a new PR.

Fixes.
interp: do not panic in case of invalid constant definition

 This is a follow-up of, where an invalid constant definition  involving a builtin is now checked at CFG. In addition, some missing arithmetic operators are now detected for assign optimization.
fix: handle function references in composite bin map

When passing a function reference as an interface in a composite binary map, the case should be handled to not take the value of the the node.

Related to
fix: untyped check

When checking for untyped values, we can be sure at this stage that they must be a const value or already untyped. Checking for type string equality is no longer a good measure.

Fixes
chore: use GitHub Actions.

- use GitHub Actions instead of TravisCI
- updates golangci-lint to v1.36.0 and applies my rules
interp: clarify error about GOPATH probably not set
interp: fix nil value check in case of interface

A wrong logic was leading to panic in recover. Simplify the
workflow for clarity.

Fixes.
interp: fix default type for constants from runtime

The default type must be derived from the constant value when necessary,
otherwise the type check fails wrongly.

Fixes.
interp: do not wrap empty interface

The empty interface (interface{}), and its variants (such as []interface{} and map[string]interface{}), are commonly used in Go to (json) Unmarshal arbitrary data. Within Yaegi, all interface types are wrapped in a valueInterface struct in order to retain all the information needed for a consistent internal state (as reflect is not enough to achieve that). However, this wrapping ends up being problematic when it comes to the type assertions related to the aforementioned Unmarshaling.

Therefore, this PR is an attempt to consider the empty interface (and its variants) as an exception within Yaegi, that should never be wrapped within a valueInterface, and to treat it similarly to the other basic Go types. The assumption is that the wrapping should not be needed, as there is no information about implemented methods to maintain.

Fixes 
Fixes 
Fixes","Changelog
ff521ec fix: handle function references in composite bin map
d73111c fix: untyped check
bd60de5 interp: allow early constant evaluation from builtin call
6337f8b interp: clarify error about GOPATH probably not set
61b4980 interp: do not panic in case of invalid constant definition
2e17cfa interp: do not wrap empty interface
3f4e166 interp: fix default type for constants from runtime
b9b0897 interp: fix nil value check in case of interface
100d090 interp: fix sending object implementing an interface through channel"
"interp: refactor doComposite cases
interp: fix division for const
fix: yaegi os.Args should contain the script name
fix: convert struct tags properly
fix: concurrent eval test
feature: improve extract, add unrestricted syscalls
fix: replace playground link in docs","Changelog
0dde990 feature: improve extract, add unrestricted syscalls
4cfeb19 fix: concurrent eval test
ec64b00 fix: convert struct tags properly
c3cf301 fix: replace playground link in docs
f36d4e0 fix: yaegi os.Args should contain the script name
5dfc3b8 interp: fix division for const"
"Prepare 8.9.0 release
Update compiler options validation for tsconfig ()
fix broken path autocomplete
Prepare 8.9.1 release","more tsconfig options :
fix broken autocomplete for paths : f6d1cce"
"Update box config to include non-php files

(required for Symfony conosle ""Resources"")
Bumped changelog
Abandon Twitter account, use Mastodon
Add Composer keywords. ()
Remove surperfluous param tags ()
Add support for symfony 7 ()
Add documentation about adding an environment provider ()

* Add namespace in create extension example

* Add documentation about adding an environment provider
Bump pygments from 2.7.4 to 2.15.0 in /docs ()

Bumps [pygments](https://github.com/pygments/pygments) from 2.7.4 to 2.15.0.
- [Release notes](https://github.com/pygments/pygments/releases)
- [Changelog](https://github.com/pygments/pygments/blob/master/CHANGES)
- [Commits](https://github.com/pygments/pygments/compare/2.7.4...2.15.0)

---
updated-dependencies:
- dependency-name: pygments
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Fix sf 7 compat ()

* Fix SF console command compatiblity with 7.0

* Update CL

* Fix example
Bump to PHP 8.1 and add 8.3 to pipeline ()

- Bumps minimum PHP version to 8.1
- Upgrades to PHPUnit 10
- Adds 8.3 to pipeline with --ignore-platform-reqs to allow for Prophecy (which needs a new release)
Updated CL
Bump changelog","Bump minimum PHP version to 8.1
Allow Symfony 7.0 @keulinho
Add documentation for adding env providers @GromNaN"
"interp: fix wrapping of returned closure passed to runtime

Fixes.
interp: improve type switch on binary interfaces

Fixes.
interp: make methods passed as value preserve receiver

Fixes.
interp: fix passing binary function as parameter

Wrap binary function values in a node if passing it
as a parameter to an interperter defined function.

Fixes.
interp: fix interface conversion from binary call ()

Fixes.
interp: fix handling of redeclaration in multi-assign expression ()

* interp: fix handling of redeclaration in multi-assign expression

In a statement like `a, b := f()` if `a` was previously declared,
its symbol must be reused, a new symbol must not override its
previous value. This is now fixed.

* In case of redeclaration, reuse the existing only if the redeclared
variable has the same type. Add _test/var16.go to check this use
case.

Fixes.
interp: fix switch expression ()

The control flow graph was incorrect for the initial clause.

Fixes.
Prevent variadic arguments from being wrapped as function

Fixes
interp: handle struct with multiple recursive fields ()

* interp: handle struct with multiple recursive fields

In case of a recursive struct with several recursive fields of
different type, only the first one was properly fixed when
constructing the corresponding reflect type. We now memorize and
process all fields at the same depth level.

Fixes.

* Update interp/type.go

Co-authored-by: mpl <mathieu.lonjaret@gmail.com>

* fix lint

* fix comment

Co-authored-by: mpl <mathieu.lonjaret@gmail.com>","Changelog
c93b836 Prevent variadic arguments from being wrapped as function
8bd7afb interp: fix handling of redeclaration in multi-assign expression ()
8ea3a49 interp: fix interface conversion from binary call ()
f2abd34 interp: fix passing binary function as parameter
371103f interp: fix switch expression ()
f07f25f interp: handle struct with multiple recursive fields ()
14acf61 interp: improve type switch on binary interfaces
c784713 interp: make methods passed as value preserve receiver"
"uplift x/net to 0.4.0

x/net has vulnerabilities GO-2022-1144, GO-2022-0969, and dependency of
x/net, x/text has GO-2022-1059. Uplift x/net to 0.4.0 and x/text to
0.5.0.
Download golangci-lint instead of building it

Works round some go mod dependency issues upgrading to v1.51.1, and is
in line with what CAPI does.
Update verify-boilerplate.sh to ignore ensure-golangci-lint.sh

While there, remove some legacy skipped paths and rename skipped_dirs to
reflect that it actually skips paths (including ensure-golangci-lint.sh,
which is a file, not a directory).
uplift go and x/net

Uplift golang to 1.19.6 and x/net to 0.7.0 due
https://osv.dev/vulnerability/GO-2023-1571
Fix Provisioning to Unavailable AZs

CAPO uses any ZA it finds, rather than checking whether the ZA is
actually available, meaning you can get into a state where it's
impossible to provision a cluster.  This allows clients to filter based
on AZ availability before scheduling.
Switch to ""4"" instead of ""ipip"" for rules
fix: fix typo of worker rules and controller rules","Changes since v0.7.0
Bug Fixes
Switch to ""4"" instead of ""ipip"" for rules ()
Fix Provisioning to Unavailable AZs ()
Fix SSH connections to workers from Bastion
[release-0.7] uplift go and x/net ()
Thanks to all our contributors!"
"Use Redis Stream ID for de-duplication of device events.

The Redis Stream is incremented for each event (by Redis). Using the
PublishedAt timestamp has the risk of race-conditions as the timestamp
is set on constructing the message, not on publishing it. Therefore it
is possible that the latest message has a timestamp before the message
that was published before, in which case the web-interface would ignore
it.
Do not lookup from errToCode map when error is of type slice.

Closes.","Bugfixes
Do not lookup from errToCode map when error is of type slice. ()"
"interp: treat var declaration within a block as a define statement

This PR:

- Treats a `varDecl` within a block as a `defineStmt`
  - More specifically, any `varDecl` with a grandparent that is *not* a `fileStmt`
- Adds an extra condition to the handler for implicit const assignment
- Adds a tests to cover the changes
- Closes
chore: restore macos env in GitHub Actions.
Allow colon-equal to override variable type

If I execute the following:

```
I := interp.New(interp.Options{})
I.Eval(`x := 1`)
I.Eval(`x := ""foobar""`)
```

I expect the second declaration to override the first. `var x string` will override the previous type, and redeclaring a type, function, const, etc will override it, but the `:=` operator will not.

Currently, the result is: `reflect.Set: value of type string is not assignable to type int`
interp: refactor slice type management

Add missing `sliceT` type category for consistency. Remove
`sizedef` field in `itype` struct. Rename field `size` to `length`.
Clean the various hacks used to cope with the absence of `sliceT`.
interp: fix method lookup for aliased types

Fixes.
interp: implement unsafe.Offsetof

Offsetof returns the offset of a field in a struct. It is computed
during parsing at CFG, due to the constraint of operating on a
struct selector expression.

With this function, the support of 'unsafe' package is now
complete in yaegi.

Fixes.
interp: improve handling of aliased types

Avoid to test directly for a type category, as it may give wrong
results for aliased types, where the interesting category remains
masked.  Instead, use some property helpers, such as isFuncSrc,
isPtrSrc and isInterfaceSrc to check if a type is of source function,
source pointer or source interface respectively (versus runtime
defined function, pointer or interface).

Fixes.","Changelog
428b658 Allow colon-equal to override variable type
9aeb78f interp: fix method lookup for aliased types
3e3f8d5 interp: implement unsafe.Offsetof
a241119 interp: improve handling of aliased types
7863456 interp: refactor slice type management"
"Rename ‘advertise’ to ‘public’. Add id config.
Add SIDN fonds logo.
Remove RxInfo slice length validation.

Closes.
Fix downlink-queue api prefix.
Rename node.proto > device.proto.
Rename NodeAPI > DeviceAPI.
Rename DownlinkQueue > DeviceQueue.","Bugfixes:
Remove RxInfo length validation as this slice is empty when
Add gateway meta-data is disabled in the service-profile
(thanks @pni-jmattison).
Rename /api/node/... prefix of downlink queue into /api/device/...
(thanks @iegomez).
Rename DownlinkQueue... gRPC methods and structs into DeviceQueue...."
"fix: resolve path before assigning theme

resolves
chore: add NF cheat sheet info

resolves
fix: use correct path for ProcessStartInfo

resolves
fix: remove escape characters from $PWD

resolves","Bug Fixes
remove escape characters from $PWD (58a03f1), closes
use correct path for ProcessStartInfo (8986c3b), closes"
"releases: 1.3.2
fix(form): fix placeholder support string array, close
fix(form): loose mobile phone number check, close
fix(theme): fix cannot read property 'ngOriginalError', closes, closes
ci: fix improperly detecting branches in build-angular 0.7.x
fix(menu): fix hide group name when group is false, closes, closes
releases: 1.3.3","@delon/theme
ModalHelper  ngOriginalError
group  false
@delon/form
placeholder"
"release(11.10.1): release 11.10.1 ()
fix(form:widget:time): fix `minuteStep` param name ()
fix(theme:theme-btn): fix Failed to execute 'removeChild' on 'Node' ()
docs: fix can't use StackBlitz demo ()
fix(cli): fix .template suffix should be remove ()
chore: fix cli test ()
release(11.10.2): release 11.10.2 ()","Bug Fixes
cli: fix .template suffix should be remove () (296b4f4)
form:widget:time: fix minuteStep param name () (2c36c11)
theme:theme-btn: fix Failed to execute 'removeChild' on 'Node' () (73017f5)
Bug Fixes
cli:  .template  () (296b4f4)
form:widget:time:  minuteStep  () (2c36c11)
theme:theme-btn:  Failed to execute 'removeChild' on 'Node' () (73017f5)"
"release(8.7.1): release 8.7.1 ()
build: update cn snapshot ()
fix(abc:sidebar-nav): fix invalide tooltip render ()

- close https://github.com/ng-alain/ng-alain/issues/1438
docs: fix invalid router path ()

- close https://github.com/ng-alain/ng-alain/issues/1441
docs: update typo i18n ()

修改部分繁體翻譯錯誤
docs: optimize code documentation ()

- close https://github.com/ng-alain/ng-alain/issues/1430
fix(abc:sidebar-nav): fix not found `@alain-default-aside-*` var… ()
fix(abc:sv,se): fix spacing between option and Icon ()
release(8.7.2): release 8.7.2 ()","Bug Fixes
abc:sidebar-nav: fix invalide tooltip render () (7de70b2)
abc:sidebar-nav: fix not found [@alain-default-aside](https://github.com/alain-default-aside)-* var… () (8bd3729)
abc:sv,se: fix spacing between option and Icon () (1ab2ca5)
Bug Fixes
abc:sidebar-nav:  tooltip  () (7de70b2)
abc:sidebar-nav:  [@alain-default-aside](https://github.com/alain-default-aside)-* var… () (8bd3729)
abc:sv,se: Icon () (1ab2ca5)"
"fix: include scoop zip hash

relates to
fix: sort mapped locations to solve the folder/subfolder issue","Bug Fixes
sort mapped locations to solve the folder/subfolder issue (c0fd060)"
"release(8.5.0): release 8.5.0 ()
test(abc:st): fix test ()
docs(chart:water-wave): add losing property ()
fix(abc:st): shoule be auto 100% width when not specified ()

- close https://github.com/ng-alain/ng-alain/issues/1359
fix(abc:reuse-tab): fix style in card type ()

- close https://github.com/ng-alain/ng-alain/issues/1365
release(8.5.1): release 8.5.1 ()","Bug Fixes
abc:reuse-tab: fix style in card type () (8eaa89d)
abc:st: shoule be auto 100% width when not specified () (36a95f6)
abc:reuse-tab:  () (8eaa89d)
abc:st:  width  100% () (36a95f6)"
"release(8.7.0): release 8.7.0 ()
fix(abc:sidebar-nav): fix style in disabled ()
fix(abc:st): fix duplcate title when `responsive` is `false` ()

- close https://github.com/ng-alain/ng-alain/issues/1434
fix(chart:water-wave): fix first time unable to render ()

- close https://github.com/ng-alain/ng-alain/issues/1433
release(8.7.1): release 8.7.1 ()","Bug Fixes
abc:sidebar-nav: fix style in disabled () (7759299)
abc:st: fix duplcate title when responsive is false () (baab4a7)
chart:water-wave: fix first time unable to render () (cbbd573)
Bug Fixes
abc:sidebar-nav:  () (7759299)
abc:st:  responsive  false  () (baab4a7)
chart:water-wave:  () (cbbd573)"
"release(13.4.0): release 13.4.0 ()
fix(cli): fix can't use `ng g ng-alain` command in subdirectories ()
fix(cli): fix deprecated `--syntax` of lint-staged ()
fix(sf): fix misalignment ()
release(13.4.1): release 13.4.1 ()","Bug Fixes
cli: fix can't use ng g ng-alain command in subdirectories () (5f449c6)
cli: fix deprecated --syntax of lint-staged () (b42e6ae)
sf:widget:array: fix misalignment () (4f388f1)
Bug Fixes
cli:  ng g ng-alain  () (5f449c6)
cli:  lint-staged  --syntax () (b42e6ae)
sf:widget:array:  () (4f388f1)"
"release(11.3.0): release 11.3.0 ()
fix(sf:widget:select): add `showArrow` property ()
build: upgrade angular 11.1.0 ()
release(11.3.1): release 11.3.1 ()","Bug Fixes
sf:widget:select: fix showArrow property () (4d51d61)
cli: fix ng-alain:module command () (f8c5a59)
Bug Fixes
sf:widget:select:  showArrow  () (4d51d61)
cli:  ng-alain:module  () (f8c5a59)"
"fix: escape \ from segment value when in bash

fix
fix: add not charging state for battery info","Bug Fixes
add not charging state for battery info (3b56c24)"
"chore: use form templates
theme: add plague
fix: avoid variable expansion when using postfix in zsh

% must be escaped otherwise zsh try to apply variable expansion

Co-authored-by: Jan De Dobbeleer <2492783+JanDeDobbeleer@users.noreply.github.com>","Bug Fixes
avoid variable expansion when using postfix in zsh (3f02ad4)"
"feat(colors): current color override

relates to
fix(azfunc): ignore newline in version

resolves","Bug Fixes
azfunc: ignore newline in version (8702098), closes"
"feat: -list parameter added to Get-PoshThemes

-list display the theme full path instead of the preview
Themes location added at the end
fix: consistent naming for Oh My Posh

relates to https://github.com/microsoft/winget-pkgs/pull/16328
fix(winget): remove duplicate installer","Bug Fixes
winget: remove duplicate installer (dbcd16b)
consistent naming for Oh My Posh (b21670f)"
"feat: add console title in --debug
fix: convert exitErr to commandError if runCommand fails

exitError must not exit the runCommand helper, only commandError
safety check when casting in segment_language","Bug Fixes
convert exitErr to commandError if runCommand fails (31c77af)"
"fix: set shell in Export-PoshImage

When the shell is not set, some ansi characters are added at the end of the prompt

fix
docs: add faq item about zsh history

relates to 1002
docs: add analytics
fix: do not print invisible text
fix: set correct color for diamonds on inheritance
chore: remove comments","Bug Fixes
do not print invisible text (3d4b3c8)
set correct color for diamonds on inheritance (36c318a)"
"fix: set active colors in debug
fix: feed PWD to cli for init

relates to","Bug Fixes
feed PWD to cli for init (1866adf), closes"
"fix: wrong stack count when init from Set-PoshPrompt
fix: stack count variable names + compability with all init modes","Bug Fixes
stack count variable names + compability with all init modes (9c4ba43)"
"fix(git): use actual path instead of empty -C operator

relates to
fix(pwsh): do not trim paths

resolves
chore: add twitter info
docs: add Twitter link to header
docs: add Gitkraken link","Bug Fixes
pwsh: do not trim paths (62b2a5c), closes"
"fix(yaml): try int parsing before fallback

json and yaml returns 2 different types
float64 vs int
fix(git): add untracked to status

resolves","Bug Fixes
git: add untracked to status (78f9a3e), closes"
"fix: only disable battery in WSL1

resolves
docs: fix typo in faq.mdx

follwing -> following
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix: parse error text when silent fail

resolves","Bug Fixes
parse error text when silent fail (57d481c), closes"
"fix(cmd): insert executable name to avoid spaces in path

relates to
fix(cmd): use full executable path

relates to","Bug Fixes
cmd: use full executable path (ee2b6e3), closes"
"feat(swift): add swift segment
fix(pwsh): return cache path correctly

resolves","Bug Fixes
pwsh: return cache path correctly (c9f5c09), closes"
"fix: sync Pwd()

relates to
fix(cmd): set as last filter priority

resolves","Bug Fixes
cmd: set as last filter priority (6c36e9a), closes"
"refactor: remove ExtraPrompt
docs: what's new
fix(themes): updates ref of color_templates items
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix: only migrate when version is lower

resolves","Bug Fixes
only migrate when version is lower (60fd1d0), closes
themes: updates ref of color_templates items (67735c0)"
"fix(env): log error on window title
fix(windows): better logs for window title
fix(fish): re-render rprompt when no tooltip","Bug Fixes
fish: re-render rprompt when no tooltip (f9efe17)
windows: better logs for window title (923155e)"
"feat(wakatime): parse url as template
theme(schema): add value type indicator for timeouts

relates to
theme: add froczh
fix(sysinfo): validate array before assignment

resolves","Bug Fixes
sysinfo: validate array before assignment (698cbc4), closes"
"fix(cmd): expose error in transient prompt

resolves
fix(pwsh): export outside functions as global

relates to","Bug Fixes
pwsh: export outside functions as global (74b8a09), closes"
"docs: clarify use of --config
docs(executiontime): add .FormattedMs to example

resolves
docs(nushell): revise descriptions about init
docs(customize): correct environment variable name
fix(shell): quote paths properly in init scripts
fix(pwsh): set default value for ErrorCode

resolves","Bug Fixes
pwsh: set default value for ErrorCode (4e992d4), closes
shell: quote paths properly in init scripts (db8eac7)"
"fix(font): animate spinner
fix(cli): correct help text for `font` subcommand
docs(windows): revise guide on using default themes","Bug Fixes
cli: correct help text for font subcommand (eb91390)"
"fix(cmd): escape double quote characters in a tip
fix(pwsh): do not print transient prompt on a ReadLine parsing error","Bug Fixes
pwsh: do not print transient prompt on a ReadLine parsing error (cf8ce5e)"
"fix: recover crashing function

relates to
docs: add default terminal info
docs: update docs/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(path): agnoster unc path on windows
fix(pwsh): call convert-path before setting workingdirectory

Only for FileSystem psprovider","Bug Fixes
path: agnoster unc path on windows (39a272a)
pwsh: call convert-path before setting workingdirectory (a31d718)"
"docs(nu): update minimum supported version to 0.70.0
fix(templates): only match alphanumeric strings

relates to","Bug Fixes
templates: only match alphanumeric strings (ae671c7), closes"
"fix(windows): validate permissions for world

relates to
fix(windows): writable should also look for group membership

resolves
chore(launch): remove default config reference","Bug Fixes
windows: writable should also look for group membership (0d10153), closes"
"feat(cmd): toggle rprompt from configuration
docs: convert the Golang RTL icon to a LTR icon
fix(pid): cache PID from init

resolves","Bug Fixes
pid: cache PID from init (0d8b859), closes"
"fix(pwsh): ignore remove when in constrained language mode
docs: tables for data

this look a lot better
fix(pwsh): disable transient prompt for `ConstrainedLanguage` mode","Bug Fixes
pwsh: disable transient prompt for ConstrainedLanguage mode (7ebfc53)"
"fix(ansi): print 256 correctly

resolves
chore(deps): bump github/codeql-action from 2.2.4 to 2.2.5

Bumps [github/codeql-action](https://github.com/github/codeql-action) from 2.2.4 to 2.2.5.
- [Release notes](https://github.com/github/codeql-action/releases)
- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/github/codeql-action/compare/17573ee1cc1b9d061760f3a006fc4aac4f944fd5...32dc499307d133bb5085bae78498c0ac2cf762d5)

---
updated-dependencies:
- dependency-name: github/codeql-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(unity): output corrupt with CRLF line ending","Bug Fixes
unity: output corrupt with CRLF line ending (8ac08ad)"
"feat(owm): only use location for api call

BREAKING CHANGE: location is now required instead of latitude
and longitude
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix: owm allow location city name with spaces

- Escape the location parameter of the owm segment to allow for city
  names with spaces to function correctly.
- Update the owm api url to use https.","Bug Fixes
owm allow location city name with spaces (041c5d4)"
"feat(nightscout): add headers property
fix: update all themes to Nerd Font 3.0+ unicode icon locations
fix(pulumi): improve reliability of filepath hash calculation","Bug Fixes
pulumi: improve reliability of filepath hash calculation (ce6cdb4)
update all themes to Nerd Font 3.0+ unicode icon locations (a03c4f3)"
"chore: remove unused staticcheck ignore
fix(config): do not escape glyphs for toml and yaml
fix(config): always strip comments from json","Bug Fixes
config: always strip comments from json (8e24194)
config: do not escape glyphs for toml and yaml (ae806a1)"
"fix(plain): do not print title
fix(pwsh): remove hack that solves a pwsh bug

relates to","Bug Fixes
pwsh: remove hack that solves a pwsh bug (0afa088), closes"
"feat(node): match lts versions

resolves
fix: correct theme memory display template for byte-to-gigabyte conversion

Updated conversion factor from 1000000000 to 1073741824. This change ensures memory usage is correctly displayed as a gigabyte (2^30 bytes).
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
docs(fonts): add Visual Studio guide
docs: fix release-badge bracket
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(nba): adjust test to solve season offset on year end
fix(hyperlink): use built-in format to avoid collisions

resolves","Bug Fixes
correct theme memory display template for byte-to-gigabyte conversion (e976ce8)
hyperlink: use built-in format to avoid collisions (bff6353), closes
nba: adjust test to solve season offset on year end (0c304f0)"
"feat(cmd): optionally fetch status from =ExitCode

resolves
fix(cmd): only fetch =ExitCode on no status","Bug Fixes
cmd: only fetch =ExitCode on no status (d588965)"
"fix(image): use correct range for icon code points
docs(image): add font zip file
fix(image): exclude U+e0b6 from double width
fix(image): add terminal width to export
fix(image): use fixed image width
fix(themes): adjust themes for correct rendering","Bug Fixes
image: add terminal width to export (59be189)
image: exclude U+e0b6 from double width (502558e)
image: use fixed image width (fece104)
themes: adjust themes for correct rendering (9e7237a)"
"fix(yaml): parse colors correctly
fix(upgrade): enable auto-upgrade on init

resolves","Bug Fixes
upgrade: enable auto-upgrade on init (ae35995), closes"
"feat(path): respect `folder_separator_icon` in a colon-trailed root
chore: update dependabot.yml
chore(deps): bump golang.org/x/sys from 0.7.0 to 0.8.0 in /src

Bumps [golang.org/x/sys](https://github.com/golang/sys) from 0.7.0 to 0.8.0.
- [Commits](https://github.com/golang/sys/compare/v0.7.0...v0.8.0)

---
updated-dependencies:
- dependency-name: golang.org/x/sys
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump github.com/charmbracelet/bubbletea in /src

Bumps [github.com/charmbracelet/bubbletea](https://github.com/charmbracelet/bubbletea) from 0.23.2 to 0.24.0.
- [Release notes](https://github.com/charmbracelet/bubbletea/releases)
- [Commits](https://github.com/charmbracelet/bubbletea/compare/v0.23.2...v0.24.0)

---
updated-dependencies:
- dependency-name: github.com/charmbracelet/bubbletea
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump github.com/shirou/gopsutil/v3 in /src

Bumps [github.com/shirou/gopsutil/v3](https://github.com/shirou/gopsutil) from 3.23.3 to 3.23.4.
- [Release notes](https://github.com/shirou/gopsutil/releases)
- [Commits](https://github.com/shirou/gopsutil/compare/v3.23.3...v3.23.4)

---
updated-dependencies:
- dependency-name: github.com/shirou/gopsutil/v3
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(install): correct arch for amd64

resolves
chore(deps): bump actions/setup-go from 4.0.0 to 4.0.1

Bumps [actions/setup-go](https://github.com/actions/setup-go) from 4.0.0 to 4.0.1.
- [Release notes](https://github.com/actions/setup-go/releases)
- [Commits](https://github.com/actions/setup-go/compare/4d34df0c2316fe8122ab82dc22947d607c0c91f9...fac708d6674e30b6ba41289acaab6d4b75aa0753)

---
updated-dependencies:
- dependency-name: actions/setup-go
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump sigstore/cosign-installer from 3.0.3 to 3.0.4

Bumps [sigstore/cosign-installer](https://github.com/sigstore/cosign-installer) from 3.0.3 to 3.0.4.
- [Release notes](https://github.com/sigstore/cosign-installer/releases)
- [Commits](https://github.com/sigstore/cosign-installer/compare/204a51a57a74d190b284a0ce69b44bc37201f343...03d0fecf172873164a163bbc64bed0f3bf114ed7)

---
updated-dependencies:
- dependency-name: sigstore/cosign-installer
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
chore(deps): bump helm/kind-action from 1.5.0 to 1.6.0

Bumps [helm/kind-action](https://github.com/helm/kind-action) from 1.5.0 to 1.6.0.
- [Release notes](https://github.com/helm/kind-action/releases)
- [Commits](https://github.com/helm/kind-action/compare/d8ccf8fb623ce1bb360ae2f45f323d9d5c5e9f00...28ee08d2676d31cf4ccf6b1564d60886b31046c8)

---
updated-dependencies:
- dependency-name: helm/kind-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(config): remove broken GitHub icon override

resolves","Bug Fixes
config: remove broken GitHub icon override (eff8af3), closes"
"fix(themes): yarn icon for NerdFonts 3.x update

Co-authored-by: Mateusz Bajorek <mab@viabill.com>
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
docs: correct macOS instructions
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
theme(atomic): adjust java segment foreground color
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
theme(sonicboom): adjust folder separator color
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
fix(pwsh): use correct path variable

resolves","Bug Fixes
pwsh: use correct path variable (e5547a8), closes"
"feat(template): add readFile

closes
docs(git): delete fetch_stash_count option
docs: update website/docs/contributors.md [skip ci]
docs: update .all-contributorsrc [skip ci]
chore(deps): bump actions/setup-go from 4.1.0 to 5.0.0

Bumps [actions/setup-go](https://github.com/actions/setup-go) from 4.1.0 to 5.0.0.
- [Release notes](https://github.com/actions/setup-go/releases)
- [Commits](https://github.com/actions/setup-go/compare/93397bea11091df50f3d7e59dc26a7711a8bcfbe...0c52d547c9bc32b1aa3301fd7a9cb496313a4491)

---
updated-dependencies:
- dependency-name: actions/setup-go
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
fix(git): make .git optional on remotes

resolves","Bug Fixes
git: make .git optional on remotes (22a02f2), closes"
"Released 2.3.7
Back to dev
Fixes issues with updating using dashboard api. Closes
Added missing setup translations. Closes
Set the step size to the metrics places. Fixes
Updated deps
Updated Chart.js and rebuilt assets
Built in production
Updated the aws sdk
Require the ext-xml extension
Ignore SQLite databases when backing up the db
Removed blank line
Update deps
Bump version","Fixes:
Component statuses resetting to 0 on change using the dashboard UI.
Added missing setup translations.
Updated Chart.js - fixes an issue where the chart is rendered too big.
We require the ext-xml extension.
Ignore SQLite databases from backups."
"[CI Skip] release/stable 9.2.2

skip-checks: true
Use constant for latest extrinsic version ()
[CI Skip] bump/beta 9.2.3-0-x

skip-checks: true
Update rpc-provider README ()
[CI Skip] bump/beta 9.2.3-1-x

skip-checks: true
Bump substrate-connect to 0.7.11 ()
[CI Skip] bump/beta 9.2.3-2-x

skip-checks: true
Bump pjs/dev ()
[CI Skip] bump/beta 9.2.3-3-x

skip-checks: true
Fallback for StakingLedger at 1050 ()

* Fallback for StakingLedger at 1050

* CHANGELOG
Bump static metadata ()
[CI Skip] bump/beta 9.2.3-4-x

skip-checks: true
Remove unneeded TryRuntime state call defs ()
[CI Skip] bump/beta 9.2.3-5-x

skip-checks: true
9.2.3 ()
[CI Skip] release/stable 9.2.3

skip-checks: true","Contributed:
Update @substrate/connect to latest (Thanks to https://github.com/wirednkod)
Changes:
Adjust StakingLedger with fallback for Kusama 1050 (2 different structures on-chain)
Remove TryRuntime state call definitions (only off-chain usage)
Update to latest Substrate, Polkadot & Kusama metadata"
"[CI Skip] release/stable 8.3.1

skip-checks: true
Bump @polkadot/dev ()
[CI Skip] release/beta 8.3.2-0

skip-checks: true
Adjust `BTreeSet` in typegen top-level generation ()
[CI Skip] release/beta 8.3.2-1

skip-checks: true
Bump @substrate/connect in rpc-provider to 0.7.4 ()

* Bump @substrate/connect in rpc-provider to 0.7.4

* Add new optional param config in ScProvider's connect() where user can alter the log level

* Satisfy linter

* Update packages/rpc-provider/src/substrate-connect/ScProvider.ts

Co-authored-by: Pierre Krieger <pierre.krieger1708@gmail.com>

* Address PRs comments

* Fix build error

* remove config feature

Co-authored-by: Pierre Krieger <pierre.krieger1708@gmail.com>
[CI Skip] release/beta 8.3.2-2

skip-checks: true
8.3.2 ()
[CI Skip] release/stable 8.3.2

skip-checks: true","Contributed:
Bump @substrate/connect to 0.7.4 (Thanks to https://github.com/wirednkod)
Changes:
Adjust BTreeSet in typegen top-level generation"
"[CI Skip] release/stable 6.4.1

skip-checks: true
Explicit tests for metadata re-serialization ()

* Explicit tests for metadata re-serialization

* Skip re-serialized

* Add asCallsOnly tests
[CI Skip] release/beta 6.4.2-0

skip-checks: true
Add Eth Block{0, 1, 2} and TransactionV{0, 1, 2} ()

* Add Eth Block{0, 1, 2} and TransactionV{0, 1, 2}

* CHANGELOG
[CI Skip] release/beta 6.4.2-1

skip-checks: true
Ensure `SignerPayload` correctly serializes `Option` with `None` ()

* Ensure `SignerPayload` correctly serializes `Option` with `None`

* patch

* Update CHANGELOG.md

Co-authored-by: Alexander Popiak <alexander.popiak@parity.io>

Co-authored-by: Alexander Popiak <alexander.popiak@parity.io>
[CI Skip] release/stable 6.4.2

skip-checks: true","Upgrade priority: Low. Recommended for Westmint runtime 500+
Changes:
Ensure SignerPayload correctly serializes Option with None
Add Ethereum BlockV{0, 1, 2} types, aligning with latest Frontier
Additional tests for metadata serialization/de-serialization"
"[CI Skip] release/stable 4.7.1

skip-checks: true
Updated Xcm OriginKind enum ()
[CI Skip] release/beta 4.7.2-0

skip-checks: true
Update ETH types ()

* Update ETH types

* Build
[CI Skip] release/beta 4.7.2-1

skip-checks: true
Fix H32 definition
[CI Skip] release/beta 4.7.2-2

skip-checks: true
Cleanup encodedLength calculations ()

* Cleanup encodedLength calculations

* Remove array santize

* Test adjustments
[CI Skip] release/beta 4.7.2-3

skip-checks: true
Add membership derives ()
[CI Skip] release/beta 4.7.2-4

skip-checks: true
Update .nvmrc ()

As per https://github.com/polkadot-js/api/issues/3446 (also need one on common before bumping to a patch)
[CI Skip] release/beta 4.7.2-5

skip-checks: true
4.7.2 ()

* 4.7.2

* XcmError update
[CI Skip] release/stable 4.7.2

skip-checks: true","Upgrade priority: Low. Recommended for users of 4.7.1 using nvm
Changes:
Update .nvmrc to reflect engines changes
Update EthBlock/EthHeader types (as per Rust origin)
Updated Xcm OriginKind enum
Add derives for membership
Cleanups on encodedLength calculations"
"Prepared next release
Fixed recipe ingredient stock fulfillment icon for nested recipes (fixes)
Optimized stock entry form initial input field focus
Fixed `/stock/products/{productId}/add` request body parameter validation (fixes)
Enforce a conversion factor of 1 between QU stock/purchase when they are the same (references)
Fixed typo
Add support for ""Move on Open"" ()

* Add functionality to move a product when it is opened

* Update the API to support this (and some other new fields)

* Remove console, update move on open when either the default or the consume location change

* Fix conflict from fridge

* Ignore .DS_STORE from macOS

* Fix the migration conflict

* Fix the default location not appending properly

* Revert changes no longer needed

* Fix the checkbox disable logic, and call the function on page load

* Simplify the transfer to use the existing function (which also adds logs)

* Only move it if it's moving

* Code formatting / naming

* Clarify help text (it's not always about one unit, but about the corresponding amount opened)

* Handle splitted stock entries + optimized/unified product property checks

* Added UI feedback on auto moving

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for
Fixed JS / display errors on refreshing a row on /stockentries
Optimized LDAP error handling (references)
Fixed product edit page stock journal button link (fixes)
Escape HTML when displaying recipes on /mealplan (references)
Do ""auto add missing products to shopping list"" also on product open actions (fixes)
Fixed `shopping_list_to_stock_workflow_auto_submit_when_prefilled` user settings control initialization (fixes)
Don't enforce first/last name when creating users (closes)
Updated changelog
Use singular localization form when plural form is not provided (closes)
Typo
Fixed meal plan product/note calendar items links (fixes)
Handle stock_id in OpenProductByBarcode ()

* Handle stock_id in OpenProductByBarcode

* Code formatting

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for
Fixed recipe ingredient costs/calories when using substituted product with unit conversions (fixes)
Fixed API filter `>=` and `<=` comparison (fixes)
Fixed recipes_pos_resolved.missing_amount calculation (references)
Fixed edit shopping list item QU initialisation
Fixed chore form validation edge case (fixes)
Fixed plural form missing handling (references and)
Fixed potential JS error when copying product with empty but not null description
Pulled translations from Transifex
Split user setting `stock_decimal_places_prices` into separate settings for input/display (closes)
Fixed that rescheduling of ""Track date only""-chores for today was not possible (fixes)
Fixed price history chart data parsing (fixes)
Updated dependencies
Pulled translations from Transifex
Prepared next release","Stock
New product option ""Move on open"" (defaults to disabled)
When enabled, on marking the product as opened, the corresponding amount will be moved to the products default consume location
(Thanks @RosemaryOrchard)
The stock setting ""Decimal places allowed for prices"" has been split into separate settings for input and displaying prices (the existing setting will be set for both new options on migration, so no changed behavior when not configured)
Optimized that when the plural form(s) of a quantity unit is/are not provided, the singular form is used to display plural amounts
Fixed that ""Automatically add products that are below their defined min. stock amount to the shopping list"" (stock setting) was only done when consuming products, not when opening them
Fixed that the price history chart (product card) showed the price on a wrong date when having multiple purchases on the same date from different stores
Recipes
Fixed that when a substituted product is used to display costs and calories (so when a parent product ingredient is currently not in stock itself), no unit conversions were considered for costs/calories calculation
Fixed that the displayed ""already on the shopping list""-amount (for missing ingredients) was wrong when the products ""Factor purchase to stock quantity unit"" wasn't 1
Chores
Fixed that rescheduling of ""Track date only""-chores for today was not possible
Calendar
Fixed that clicking on meal plan product and notes calendar entries redirected to an invalid page
General
LDAP authentication: Optimized that it's not required that LDAP accounts need to have a first-/lastname
API
Endpoint /stock/products/{productId}: New field/property default_consume_location (contains the products default consume location object)
Endpoint /stock/products/{productId}/add: Fixed that the request body parameter transaction_type was ignored / always set to purchase
Fixed that the endpoint /stock/products/by-barcode/{barcode}/open didn't handle stock entries provided by a grocycode (thanks @jtommi)
Fixed that less or equal (<=) and greater or equal (>=) filter comparisons didn't work (optional query[] request query parameter on most endpoints)"
"Allow user editing in embedded (+ disabled authentication) mode (closes grocy/grocy-desktop)
stock_current view now uses cached QUCs -> Recipes consume 50% faster ()

* stock_current view now uses cache__quantity_unit_conversions_resolved -> Recipes consume 50% faster

* Adapted code style

---------

Co-authored-by: Bernd Bestel <bernd@berrnd.de>
Added changelog for PR
Only accept `application/json` requests for (JSON) API requests
Updated README
Cache multiple single-key user setting queries (closes)
Optimized performance of `GetProductDetails`
Optimized DataTables state save handling performance
Added new Userfield type ""Number (currency)"" (closes)
Move `GetParsedAndFilteredRequestBody` into `BaseApiController`
Optimized performance of `CurrentVolatileStock`
Fixed `GetCurrentStock` caching
Updated dependencies
Pulled translations from Transifex
Prepared next release","Stock
Performance improvements related to the stock overview page / displaying a product card
Performance improvements related to consuming products (thanks @alkuzman)
Userfields
New Userfield type ""Number (currency)"", just like the type ""Number (decimal)"", but it will render the value according to / with the configured currency
General
Performance improvements related to table (layout) loading handling"
"v0.38.10

* libimage: pull: override even --pull=never with custom platfo
* libimage: pull: enforce pull policy for custom platforms
* libimage: pull: ignore platform for local image lookup
* Allow /etc/containers/containers.conf to be read by non-root
* [0.38] libimage: force remove: only untag on multi tag image

Signed-off-by: Valentin Rothberg <rothberg@redhat.com>
bump to v0.38.11-dev

Signed-off-by: Valentin Rothberg <rothberg@redhat.com>
Set BigFilesTemporaryDir to GetEnv(TMPDIR) if set or /var/tmp

Currently if the caller does not specify the BigFilesTemporaryDir,
Podman and Buildah users expect this to default TMPDIR environment
variable or /var/tmp if not set.

Moving to libimage caused a regression in this functionality.

Signed-off-by: Daniel J Walsh <dwalsh@redhat.com>
Strip extra trailing newlines in templates

When wrapping table format in range, string extra new lines from table
ends.

Fixes https://bugzilla.redhat.com/show_bug.cgi?id=1855983

Signed-off-by: Jhon Honce <jhonce@redhat.com>
v0.38.11

* Strip extra trailing newlines in templates
* Set BigFilesTemporaryDir to GetEnv(TMPDIR) if set or /var/tmp

Signed-off-by: Valentin Rothberg <rothberg@redhat.com>","Strip extra trailing newlines in templates
Set BigFilesTemporaryDir to GetEnv(TMPDIR) if set or /var/tmp"
"[v0.57] Bump to v0.57.3

As the title says.  Getting ready for Podman v4.9.0

[NO NEW TESTS NEEDED]

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[v0.57] Bump to v0.57.4-dev

As the title says.  Bumping to the next dev version.

[NO NEW TESTS NEEDED]

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[v0.57] Bump to v0.57.4

As the title says.

Bumping to get timezone fix in for OCP

[NO NEW TESTS NEEDED]

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>","What's Changed
[v0.57] Bump c/image to v5.29.2, common to v0.57.3, then v0.57.4-dev by @TomSweeneyRedHat in
[0.57] backport: by @sohankunkerkar in
Full Changelog: v0.57.3...v0.57.4"
"chore: release v3.1.3
chore(deps): update dependency husky to v4.2.1
chore(deps): update dependency ember-cli to v3.15.2
chore(deps): update dependency got to v10.3.0
chore(deps): update dependency mocha to v7.0.1
chore(deps): update typescript-eslint monorepo to v2.18.0
chore(deps): update dependency @types/semver to v6.2.1
chore(deps): update dependency eslint-config-prettier to v6.10.0
chore(deps): update dependency @types/chai to v4.2.8
chore(deps): update dependency ember-cli-babel to v7.14.1
chore(deps): update dependency got to v10.4.0
chore(deps): update dependency qunit-dom to v1
chore(deps): update dependency ember-source to v3.16.1
chore(deps): update typescript-eslint monorepo to v2.19.0
chore(deps): update dependency @types/mocha to v7
chore(deps): update dependency handlebars to v4.7.3
chore(deps): update dependency ember-cli-babel to v7.17.0
chore(deps): update yarn to v1.22.0
chore(deps): update dependency ember-cli-babel to v7.17.1
chore(deps): update node.js to v10.19.0
chore(deps): update dependency ember-cli-babel to v7.17.2
chore(deps): update dependency got to v10.5.0
chore(deps): update dependency got to v10.5.2
chore(deps): update dependency got to v10.5.3
chore(deps): update dependency got to v10.5.4
chore(deps): update dependency got to v10.5.5
chore(deps): update dependency ember-source to v3.16.2
chore(deps): update typescript-eslint monorepo to v2.19.2
chore(deps): update dependency @types/chai to v4.2.9
chore(deps): update stable ember infrastructure
chore(deps): update dependency husky to v4.2.3
chore(deps): update dependency ember-cli-babel to v7.18.0
chore(deps): update dependency eslint-plugin-ember to v7.8.1
chore(deps): update dependency got to v10.5.7
chore(deps): update typescript-eslint monorepo to v2.20.0
chore(deps): update dependency @types/fs-extra to v8.1.0
chore(deps): update dependency ember-source to v3.16.3
chore(deps): update dependency got to v10.6.0
chore(deps): update dependency fixturify to v1.3.0
chore(deps): update typescript-eslint monorepo to v2.21.0
chore(deps): update dependency ember-cli-htmlbars to v4.2.3
chore(deps): update dependency mocha to v7.1.0
chore(deps): update dependency testdouble to v3.13.0
chore(deps): update dependency eslint-plugin-ember to v7.9.0
chore(deps): update dependency @types/chai to v4.2.10
chore(deps): update typescript-eslint monorepo to v2.22.0
chore(deps): update dependency @types/express to v4.17.3
chore(deps): update dependency @types/mocha to v7.0.2
chore(deps): update dependency qunit-dom to v1.1.0
chore(deps): update dependency ember-source to v3.17.0
chore(deps): update yarn to v1.22.1
chore(deps): update dependency eslint-plugin-ember to v7.10.0
chore(deps): update dependency eslint-plugin-ember to v7.10.1
fix: use a temp dir within cwd for precompile
fix: use removeSync to make sure temp dir is deleted
fix: clean up temp dir on error
chore: release v3.1.4","Fixed
Use temp dir in project for precompile ()
Under the hood
Bumped 52 dependency versions
Upgrading
ember install ember-cli-typescript@latest
Contributors
Thanks to everyone who contributed to this release in any way! In randomly shuffled order:
@jamescdavis
@dfreeman
@chriskrycho"
"[v0.57] Bump to v0.57.4

As the title says.

Bumping to get timezone fix in for OCP

[NO NEW TESTS NEEDED]

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[v0.57] Bump to v0.57.5-dev

As the title says.

Bumping to the next dev version.

[NO NEW TESTS NEEDED]

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
containers.conf: add crun-vm as a runtime

Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>

This is required for podman v4.9 to use crun-vm on F38/39.
(cherry picked from commit 7b056a0cab69cbcc2426aca628b7767f529b2d9f)
Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
mention default runtimes correctly

Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
(cherry picked from commit de2ac28cbaad591ed2d6f78f2066e54458b97e2f)
Signed-off-by: Lokesh Mandvekar <lsm5@redhat.com>
[v0.57] Bump c/image to v5.29.3

Bump c/image to v5.29.3.  This partially addresses:

CVE-2024-3727
https://issues.redhat.com/browse/OCPBUGS-33266
https://issues.redhat.com/browse/OCPBUGS-33267

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>
[v0.57] Bump to v0.57.5

Bumping to v0.57.5

Signed-off-by: tomsweeneyredhat <tsweeney@redhat.com>","What's Changed
[v0.57] Bump c/image to v5.29.3, c/common to v0.57.5, CVE-2024-3727 @TomSweeneyRedHat in https://github.com/containers/common/pull/
[v0.57] Bump to v0.57.4, then v0.57.5-dev by @TomSweeneyRedHat in
[v0.57 backport] containers.conf: add crun-vm as a runtime by @lsm5 in
Full Changelog: v0.57.4...v0.57.5"
"v1.4.2
Move addon build code and tests under `ts`
Update blueprint and file search paths
Configure TS addon build
Create addon entry point
Convert one small utility to verify the build works
Update CI configuration
Update Slack to Discord
New ember-cli expects `tests/index.html` to exist
Warn when not running from within /ts in development
Enable ESLint with our current rule set for .ts files
fix: clean up system temp directory when running.

While the system temp directory gets cleaned up semi-regularly,
on long-running machines (e.g. CI servers), it is possible for
the PID to get reused before the system temp directory gets
cleared. When this happens, the temp directory we create as an
intermediate location for TypeScript build artifacts (to prevent
churn in the build) can end up being used for multiple builds,
even across separate apps. This can result in very bad output
from the build, including total runtime failures from things like
`require` entries including files from different builds or apps.

Prevent this by always running `fs.removeSync` on the temp output
directory prior to setting it and putting new output there.

Fixes.
v1.4.3","What Changed?
Fixed
We now correctly clean up the system temp directory we create during builds.
Changed
We reference the Discord channel instead of Slack.
[Internal] We enabled writing code for this addon itself in TypeScript.
Upgrading
ember install ember-cli-typescript@latest"
